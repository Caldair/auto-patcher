diff -Npru '--exclude=CdmaServiceStateTracker.smali' '--exclude=GsmServiceStateTracker.smali' stock-telephony/smali/android/privacy/surrogate/PrivacyCDMALTEPhone.smali pdroid-telephony/smali/android/privacy/surrogate/PrivacyCDMALTEPhone.smali
--- stock-telephony/smali/android/privacy/surrogate/PrivacyCDMALTEPhone.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-telephony/smali/android/privacy/surrogate/PrivacyCDMALTEPhone.smali	2013-07-07 13:29:39.466855658 -0500
@@ -0,0 +1,1696 @@
+.class public Landroid/privacy/surrogate/PrivacyCDMALTEPhone;
+.super Lcom/android/internal/telephony/cdma/CDMALTEPhone;
+.source "PrivacyCDMALTEPhone.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyCDMALTEPhone"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    .registers 7
+
+    invoke-direct {p0, p1, p2, p3}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 10
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 11
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getCellLocation()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5f
+
+    if-eqz v6, :cond_5f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_48
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5f
+
+    :cond_48
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v0}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    :goto_5e
+    return-object v0
+
+    :cond_5f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v0
+
+    goto :goto_5e
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceSvn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getDeviceSvn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getEsn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getEsn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getImei"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getImei()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1AlphaTag()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getLine1AlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1Number()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMeid()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getMeid()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getMsisdn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMsisdn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getMsisdn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getPhoneSubInfo()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_54
+
+    if-eqz v6, :cond_54
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_54
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_53
+    return-object v5
+
+    :cond_54
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+
+    move-result-object v5
+
+    goto :goto_53
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 10
+
+    :try_start_0
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " asked for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_61
+
+    if-eqz v6, :cond_61
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_61
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_60
+    return-object v8
+
+    :cond_61
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getServiceState()Landroid/telephony/ServiceState;
+    :try_end_74
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_74} :catch_76
+
+    move-result-object v8
+
+    goto :goto_60
+
+    :catch_76
+    move-exception v7
+
+    invoke-virtual {v7}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    const-string v1, "We got exception in getServiceState()-> give fake state"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto :goto_60
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getSubscriberId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v3
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailAlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailAlphaTag()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getVoiceMailAlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailNumber()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
diff -Npru '--exclude=CdmaServiceStateTracker.smali' '--exclude=GsmServiceStateTracker.smali' stock-telephony/smali/android/privacy/surrogate/PrivacyCDMAPhone.smali pdroid-telephony/smali/android/privacy/surrogate/PrivacyCDMAPhone.smali
--- stock-telephony/smali/android/privacy/surrogate/PrivacyCDMAPhone.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-telephony/smali/android/privacy/surrogate/PrivacyCDMAPhone.smali	2013-07-07 13:29:39.478855729 -0500
@@ -0,0 +1,1602 @@
+.class public Landroid/privacy/surrogate/PrivacyCDMAPhone;
+.super Lcom/android/internal/telephony/cdma/CDMAPhone;
+.source "PrivacyCDMAPhone.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyCDMAPhone"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    .registers 7
+
+    invoke-direct {p0, p1, p2, p3}, Lcom/android/internal/telephony/cdma/CDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 10
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/cdma/CDMAPhone;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 11
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/cdma/CDMAPhone;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getCellLocation()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5f
+
+    if-eqz v6, :cond_5f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_48
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5f
+
+    :cond_48
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v0}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    :goto_5e
+    return-object v0
+
+    :cond_5f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v0
+
+    goto :goto_5e
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceSvn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getDeviceSvn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getEsn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getEsn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getImei"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getImei()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1AlphaTag()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getLine1AlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1Number()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMeid()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getMeid()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getPhoneSubInfo()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_54
+
+    if-eqz v6, :cond_54
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_54
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_53
+    return-object v5
+
+    :cond_54
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+
+    move-result-object v5
+
+    goto :goto_53
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 10
+
+    :try_start_0
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " asked for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_61
+
+    if-eqz v6, :cond_61
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_61
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_60
+    return-object v8
+
+    :cond_61
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getServiceState()Landroid/telephony/ServiceState;
+    :try_end_74
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_74} :catch_76
+
+    move-result-object v8
+
+    goto :goto_60
+
+    :catch_76
+    move-exception v7
+
+    invoke-virtual {v7}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    const-string v1, "We got exception in getServiceState()-> give fake state"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto :goto_60
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getSubscriberId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v3
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailAlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailAlphaTag()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getVoiceMailAlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailNumber()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
diff -Npru '--exclude=CdmaServiceStateTracker.smali' '--exclude=GsmServiceStateTracker.smali' stock-telephony/smali/android/privacy/surrogate/PrivacyGSMPhone.smali pdroid-telephony/smali/android/privacy/surrogate/PrivacyGSMPhone.smali
--- stock-telephony/smali/android/privacy/surrogate/PrivacyGSMPhone.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-telephony/smali/android/privacy/surrogate/PrivacyGSMPhone.smali	2013-07-07 13:29:39.526855969 -0500
@@ -0,0 +1,1602 @@
+.class public Landroid/privacy/surrogate/PrivacyGSMPhone;
+.super Lcom/android/internal/telephony/gsm/GSMPhone;
+.source "PrivacyGSMPhone.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyGSMPhone"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    .registers 7
+
+    invoke-direct {p0, p1, p2, p3}, Lcom/android/internal/telephony/gsm/GSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 10
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/gsm/GSMPhone;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 11
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/gsm/GSMPhone;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getCellLocation()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5f
+
+    if-eqz v6, :cond_5f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_48
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5f
+
+    :cond_48
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v0}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    :goto_5e
+    return-object v0
+
+    :cond_5f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v0
+
+    goto :goto_5e
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceSvn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getDeviceSvn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getEsn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getEsn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getImei"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getImei()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1AlphaTag()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getLine1AlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1Number()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMeid()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getMeid()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getPhoneSubInfo()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_54
+
+    if-eqz v6, :cond_54
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_54
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_53
+    return-object v5
+
+    :cond_54
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+
+    move-result-object v5
+
+    goto :goto_53
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 10
+
+    :try_start_0
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " asked for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_61
+
+    if-eqz v6, :cond_61
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_61
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_60
+    return-object v8
+
+    :cond_61
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getServiceState()Landroid/telephony/ServiceState;
+    :try_end_74
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_74} :catch_76
+
+    move-result-object v8
+
+    goto :goto_60
+
+    :catch_76
+    move-exception v7
+
+    invoke-virtual {v7}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v0, "PrivacyGSMPhone"
+
+    const-string v1, "We got exception in getServiceState()-> give fake state"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto :goto_60
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getSubscriberId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v3
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailAlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailAlphaTag()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getVoiceMailAlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailNumber()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
diff -Npru '--exclude=CdmaServiceStateTracker.smali' '--exclude=GsmServiceStateTracker.smali' stock-telephony/smali/android/privacy/surrogate/PrivacyPhoneProxy.smali pdroid-telephony/smali/android/privacy/surrogate/PrivacyPhoneProxy.smali
--- stock-telephony/smali/android/privacy/surrogate/PrivacyPhoneProxy.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-telephony/smali/android/privacy/surrogate/PrivacyPhoneProxy.smali	2013-07-07 13:29:39.586856277 -0500
@@ -0,0 +1,3064 @@
+.class public Landroid/privacy/surrogate/PrivacyPhoneProxy;
+.super Lcom/android/internal/telephony/PhoneProxy;
+.source "PrivacyPhoneProxy.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyPhoneProxy"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private context_available:Z
+
+.field private mPm:Landroid/content/pm/IPackageManager;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Lcom/android/internal/telephony/PhoneBase;Landroid/content/Context;)V
+    .registers 6
+
+    invoke-direct {p0, p1}, Lcom/android/internal/telephony/PhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;)V
+
+    if-eqz p2, :cond_3d
+
+    iput-object p2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    const/4 v0, 0x1
+
+    iput-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    :goto_a
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    invoke-direct {p0, v0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->initiate(Z)V
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p2, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+
+    :cond_3d
+    const/4 v0, 0x0
+
+    iput-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    goto :goto_a
+.end method
+
+.method private getPackageName()[Ljava/lang/String;
+    .registers 6
+
+    :try_start_0
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    if-eqz v3, :cond_f
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-interface {v3, v2}, Landroid/content/pm/IPackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v1
+
+    :goto_e
+    return-object v1
+
+    :cond_f
+    const-string v3, "package"
+
+    invoke-static {v3}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v3
+
+    invoke-static {v3}, Landroid/content/pm/IPackageManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/content/pm/IPackageManager;
+
+    move-result-object v3
+
+    iput-object v3, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-interface {v3, v2}, Landroid/content/pm/IPackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+    :try_end_24
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_24} :catch_26
+
+    move-result-object v1
+
+    goto :goto_e
+
+    :catch_26
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v3, "PrivacyPhoneProxy"
+
+    const-string v4, "something went wrong with getting package name"
+
+    invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v1, 0x0
+
+    goto :goto_e
+.end method
+
+.method private initiate(Z)V
+    .registers 5
+
+    if-eqz p1, :cond_21
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Context is available for package:"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_20
+    return-void
+
+    :cond_21
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Context is not available for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const-string v0, "package"
+
+    invoke-static {v0}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v0
+
+    invoke-static {v0}, Landroid/content/pm/IPackageManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/content/pm/IPackageManager;
+
+    move-result-object v0
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    goto :goto_20
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 14
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v3, 0x1
+
+    const/4 v4, -0x1
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_48
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v11
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_34
+
+    if-eqz v11, :cond_34
+
+    invoke-virtual {v11}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_34
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_34
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    :goto_47
+    return-object v0
+
+    :cond_48
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v9
+
+    const/4 v7, 0x1
+
+    const/4 v11, 0x0
+
+    const/4 v10, 0x0
+
+    if-nez v9, :cond_56
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    goto :goto_47
+
+    :cond_56
+    const/4 v8, 0x0
+
+    :goto_57
+    array-length v0, v9
+
+    if-ge v8, v0, :cond_70
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v8
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v11
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_82
+
+    if-eqz v11, :cond_82
+
+    invoke-virtual {v11}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_82
+
+    const/4 v7, 0x0
+
+    move v10, v8
+
+    :cond_70
+    if-eqz v7, :cond_85
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    goto :goto_47
+
+    :cond_82
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_57
+
+    :cond_85
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 15
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v3, 0x1
+
+    const/4 v4, -0x1
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_48
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v11
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_34
+
+    if-eqz v11, :cond_34
+
+    invoke-virtual {v11}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_34
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_34
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    :goto_47
+    return-object v0
+
+    :cond_48
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v9
+
+    const/4 v7, 0x1
+
+    const/4 v11, 0x0
+
+    const/4 v10, 0x0
+
+    if-nez v9, :cond_56
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    goto :goto_47
+
+    :cond_56
+    const/4 v8, 0x0
+
+    :goto_57
+    array-length v0, v9
+
+    if-ge v8, v0, :cond_70
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v8
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v11
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_82
+
+    if-eqz v11, :cond_82
+
+    invoke-virtual {v11}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_82
+
+    const/4 v7, 0x0
+
+    move v10, v8
+
+    :cond_70
+    if-eqz v7, :cond_85
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    goto :goto_47
+
+    :cond_82
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_57
+
+    :cond_85
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 13
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getPhoneType()I
+
+    move-result v11
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_b5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_7c
+
+    if-eqz v6, :cond_7c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_2c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_7c
+
+    :cond_2c
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getCellLocation()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    packed-switch v11, :pswitch_data_16c
+
+    new-instance v5, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    :goto_69
+    :pswitch_69
+    return-object v5
+
+    :pswitch_6a
+    new-instance v5, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    goto :goto_69
+
+    :pswitch_70
+    new-instance v5, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    goto :goto_69
+
+    :pswitch_76
+    new-instance v5, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    goto :goto_69
+
+    :cond_7c
+    if-eqz v6, :cond_8c
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_8c
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getCellLocation()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v5
+
+    goto :goto_69
+
+    :cond_b5
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v9
+
+    const/4 v7, 0x1
+
+    const/4 v6, 0x0
+
+    const/4 v10, 0x0
+
+    if-nez v9, :cond_c3
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v5
+
+    goto :goto_69
+
+    :cond_c3
+    const/4 v8, 0x0
+
+    :goto_c4
+    array-length v0, v9
+
+    if-ge v8, v0, :cond_e7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v8
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_11b
+
+    if-eqz v6, :cond_11b
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_e5
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_11b
+
+    :cond_e5
+    const/4 v7, 0x0
+
+    move v10, v8
+
+    :cond_e7
+    if-eqz v7, :cond_11e
+
+    if-eqz v6, :cond_f5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_f5
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v9, v10
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getCellLocation()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v5
+
+    goto/16 :goto_69
+
+    :cond_11b
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_c4
+
+    :cond_11e
+    if-eqz v6, :cond_12d
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_12d
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v9, v10
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getCellLocation()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    packed-switch v11, :pswitch_data_178
+
+    new-instance v5, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    goto/16 :goto_69
+
+    :pswitch_157
+    new-instance v5, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    goto/16 :goto_69
+
+    :pswitch_15e
+    new-instance v5, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    goto/16 :goto_69
+
+    :pswitch_165
+    new-instance v5, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    goto/16 :goto_69
+
+    :pswitch_data_16c
+    .packed-switch 0x0
+        :pswitch_69
+        :pswitch_6a
+        :pswitch_70
+        :pswitch_76
+    .end packed-switch
+
+    :pswitch_data_178
+    .packed-switch 0x0
+        :pswitch_69
+        :pswitch_157
+        :pswitch_15e
+        :pswitch_165
+    .end packed-switch
+.end method
+
+.method public getDataConnectionState()Lcom/android/internal/telephony/PhoneConstants$DataState;
+    .registers 12
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_93
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5a
+
+    if-eqz v6, :cond_5a
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5a
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getDataConnection()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    sget-object v0, Lcom/android/internal/telephony/PhoneConstants$DataState;->CONNECTING:Lcom/android/internal/telephony/PhoneConstants$DataState;
+
+    :goto_59
+    return-object v0
+
+    :cond_5a
+    if-eqz v6, :cond_6a
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_6a
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getDataConnection()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getDataConnectionState()Lcom/android/internal/telephony/PhoneConstants$DataState;
+
+    move-result-object v0
+
+    goto :goto_59
+
+    :cond_93
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v9
+
+    const/4 v7, 0x1
+
+    const/4 v6, 0x0
+
+    const/4 v10, 0x0
+
+    if-nez v9, :cond_a1
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getDataConnectionState()Lcom/android/internal/telephony/PhoneConstants$DataState;
+
+    move-result-object v0
+
+    goto :goto_59
+
+    :cond_a1
+    const/4 v8, 0x0
+
+    :goto_a2
+    array-length v0, v9
+
+    if-ge v8, v0, :cond_bf
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v8
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_f3
+
+    if-eqz v6, :cond_f3
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_f3
+
+    const/4 v7, 0x0
+
+    move v10, v8
+
+    :cond_bf
+    if-eqz v7, :cond_f6
+
+    if-eqz v6, :cond_cd
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_cd
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v9, v10
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getDataConnection()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getDataConnectionState()Lcom/android/internal/telephony/PhoneConstants$DataState;
+
+    move-result-object v0
+
+    goto/16 :goto_59
+
+    :cond_f3
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_a2
+
+    :cond_f6
+    if-eqz v6, :cond_105
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_105
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v9, v10
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getDataConnection()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    sget-object v0, Lcom/android/internal/telephony/PhoneConstants$DataState;->CONNECTING:Lcom/android/internal/telephony/PhoneConstants$DataState;
+
+    goto/16 :goto_59
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 20
+
+    move-object/from16 v0, p0
+
+    iget-boolean v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v1, :cond_91
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    if-eqz v7, :cond_5c
+
+    if-eqz v7, :cond_5c
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_5c
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v4
+
+    const-string v5, "deviceID"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getDeviceId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_5b
+    return-object v6
+
+    :cond_5c
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "deviceID"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getDeviceId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_5b
+
+    :cond_91
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v17
+
+    const/4 v15, 0x1
+
+    const/4 v14, 0x0
+
+    const/16 v18, 0x0
+
+    if-nez v17, :cond_a0
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    goto :goto_5b
+
+    :cond_a0
+    const/16 v16, 0x0
+
+    :goto_a2
+    move-object/from16 v0, v17
+
+    array-length v1, v0
+
+    move/from16 v0, v16
+
+    if-ge v0, v1, :cond_c8
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v4, v17, v16
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v5
+
+    invoke-virtual {v1, v4, v5}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v14
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v1, :cond_103
+
+    if-eqz v14, :cond_103
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_103
+
+    const/4 v15, 0x0
+
+    move/from16 v18, v16
+
+    :cond_c8
+    if-eqz v15, :cond_106
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_e1
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    const/4 v11, 0x0
+
+    const-string v12, "deviceID"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_e1
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getDeviceId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5b
+
+    :cond_103
+    add-int/lit8 v16, v16, 0x1
+
+    goto :goto_a2
+
+    :cond_106
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_120
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v11
+
+    const-string v12, "deviceID"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_120
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getDeviceId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5b
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getIccSerialNumber()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 20
+
+    move-object/from16 v0, p0
+
+    iget-boolean v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v1, :cond_91
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    if-eqz v7, :cond_5c
+
+    if-eqz v7, :cond_5c
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_5c
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v4
+
+    const-string v5, "line1Number"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getLine1Number()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_5b
+    return-object v6
+
+    :cond_5c
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "line1Number"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getLine1Number()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_5b
+
+    :cond_91
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v17
+
+    const/4 v15, 0x1
+
+    const/4 v14, 0x0
+
+    const/16 v18, 0x0
+
+    if-nez v17, :cond_a0
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    goto :goto_5b
+
+    :cond_a0
+    const/16 v16, 0x0
+
+    :goto_a2
+    move-object/from16 v0, v17
+
+    array-length v1, v0
+
+    move/from16 v0, v16
+
+    if-ge v0, v1, :cond_c8
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v4, v17, v16
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v5
+
+    invoke-virtual {v1, v4, v5}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v14
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v1, :cond_103
+
+    if-eqz v14, :cond_103
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_103
+
+    const/4 v15, 0x0
+
+    move/from16 v18, v16
+
+    :cond_c8
+    if-eqz v15, :cond_106
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_e1
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    const/4 v11, 0x0
+
+    const-string v12, "line1Number"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_e1
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getLine1Number()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5b
+
+    :cond_103
+    add-int/lit8 v16, v16, 0x1
+
+    goto :goto_a2
+
+    :cond_106
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_120
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v11
+
+    const-string v12, "line1Number"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_120
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getLine1Number()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5b
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getMsisdn()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 2
+
+    new-instance v0, Lcom/android/internal/telephony/PhoneSubInfo;
+
+    invoke-direct {v0, p0}, Lcom/android/internal/telephony/PhoneSubInfo;-><init>(Lcom/android/internal/telephony/Phone;)V
+
+    return-object v0
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 13
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_9e
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_65
+
+    if-eqz v6, :cond_65
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_65
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v9, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_64
+    return-object v9
+
+    :cond_65
+    if-eqz v6, :cond_75
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_75
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    goto :goto_64
+
+    :cond_9e
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v10
+
+    const/4 v7, 0x1
+
+    const/4 v6, 0x0
+
+    const/4 v11, 0x0
+
+    if-nez v10, :cond_ac
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    goto :goto_64
+
+    :cond_ac
+    const/4 v8, 0x0
+
+    :goto_ad
+    array-length v0, v10
+
+    if-ge v8, v0, :cond_ca
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v8
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_fe
+
+    if-eqz v6, :cond_fe
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_fe
+
+    const/4 v7, 0x0
+
+    move v11, v8
+
+    :cond_ca
+    if-eqz v7, :cond_101
+
+    if-eqz v6, :cond_d8
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v11
+
+    const-string v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_d8
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v10, v11
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    goto/16 :goto_64
+
+    :cond_fe
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_ad
+
+    :cond_101
+    if-eqz v6, :cond_110
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v11
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_110
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v10, v11
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v9, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto/16 :goto_64
+.end method
+
+.method public getSignalStrength()Landroid/telephony/SignalStrength;
+    .registers 13
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    new-instance v9, Landroid/telephony/SignalStrength;
+
+    invoke-direct {v9}, Landroid/telephony/SignalStrength;-><init>()V
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_96
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5d
+
+    if-eqz v6, :cond_5d
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5d
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getSignalStrength()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_5c
+    return-object v9
+
+    :cond_5d
+    if-eqz v6, :cond_6d
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_6d
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getSignalStrength()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getSignalStrength()Landroid/telephony/SignalStrength;
+
+    move-result-object v9
+
+    goto :goto_5c
+
+    :cond_96
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v10
+
+    const/4 v7, 0x1
+
+    const/4 v6, 0x0
+
+    const/4 v11, 0x0
+
+    if-nez v10, :cond_a4
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getSignalStrength()Landroid/telephony/SignalStrength;
+
+    move-result-object v9
+
+    goto :goto_5c
+
+    :cond_a4
+    const/4 v8, 0x0
+
+    :goto_a5
+    array-length v0, v10
+
+    if-ge v8, v0, :cond_c2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v8
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_f6
+
+    if-eqz v6, :cond_f6
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_f6
+
+    const/4 v7, 0x0
+
+    move v11, v8
+
+    :cond_c2
+    if-eqz v7, :cond_f9
+
+    if-eqz v6, :cond_d0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v11
+
+    const-string v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_d0
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v10, v11
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getSignalStrength()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getSignalStrength()Landroid/telephony/SignalStrength;
+
+    move-result-object v9
+
+    goto/16 :goto_5c
+
+    :cond_f6
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_a5
+
+    :cond_f9
+    if-eqz v6, :cond_108
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v11
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_108
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v10, v11
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getSignalStrength()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5c
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 20
+
+    move-object/from16 v0, p0
+
+    iget-boolean v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v1, :cond_91
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    if-eqz v7, :cond_5c
+
+    if-eqz v7, :cond_5c
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_5c
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v4
+
+    const-string v5, "subscriberID"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getSubscriberId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_5b
+    return-object v6
+
+    :cond_5c
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "subscriberID"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getSubscriberId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_5b
+
+    :cond_91
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v17
+
+    const/4 v15, 0x1
+
+    const/4 v14, 0x0
+
+    const/16 v18, 0x0
+
+    if-nez v17, :cond_a0
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    goto :goto_5b
+
+    :cond_a0
+    const/16 v16, 0x0
+
+    :goto_a2
+    move-object/from16 v0, v17
+
+    array-length v1, v0
+
+    move/from16 v0, v16
+
+    if-ge v0, v1, :cond_c8
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v4, v17, v16
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v5
+
+    invoke-virtual {v1, v4, v5}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v14
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v1, :cond_103
+
+    if-eqz v14, :cond_103
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_103
+
+    const/4 v15, 0x0
+
+    move/from16 v18, v16
+
+    :cond_c8
+    if-eqz v15, :cond_106
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_e1
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    const/4 v11, 0x0
+
+    const-string v12, "subscriberID"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_e1
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getSubscriberId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5b
+
+    :cond_103
+    add-int/lit8 v16, v16, 0x1
+
+    goto :goto_a2
+
+    :cond_106
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_120
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v11
+
+    const-string v12, "subscriberID"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_120
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getSubscriberId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5b
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
diff -Npru '--exclude=CdmaServiceStateTracker.smali' '--exclude=GsmServiceStateTracker.smali' stock-telephony/smali/android/privacy/surrogate/PrivacySipPhone.smali pdroid-telephony/smali/android/privacy/surrogate/PrivacySipPhone.smali
--- stock-telephony/smali/android/privacy/surrogate/PrivacySipPhone.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-telephony/smali/android/privacy/surrogate/PrivacySipPhone.smali	2013-07-07 13:29:39.630856480 -0500
@@ -0,0 +1,1602 @@
+.class public Landroid/privacy/surrogate/PrivacySipPhone;
+.super Lcom/android/internal/telephony/sip/SipPhone;
+.source "PrivacySipPhone.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyGSMPhone"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
+    .registers 7
+
+    invoke-direct {p0, p1, p2, p3}, Lcom/android/internal/telephony/sip/SipPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 10
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/sip/SipPhone;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 11
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/sip/SipPhone;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getCellLocation()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5f
+
+    if-eqz v6, :cond_5f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_48
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5f
+
+    :cond_48
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v0}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    :goto_5e
+    return-object v0
+
+    :cond_5f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v0
+
+    goto :goto_5e
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceSvn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getEsn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getEsn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getImei"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getImei()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1AlphaTag()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getLine1AlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1Number()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMeid()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getMeid()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getPhoneSubInfo()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_54
+
+    if-eqz v6, :cond_54
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_54
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_53
+    return-object v5
+
+    :cond_54
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+
+    move-result-object v5
+
+    goto :goto_53
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 10
+
+    :try_start_0
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " asked for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_61
+
+    if-eqz v6, :cond_61
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_61
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_60
+    return-object v8
+
+    :cond_61
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getServiceState()Landroid/telephony/ServiceState;
+    :try_end_74
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_74} :catch_76
+
+    move-result-object v8
+
+    goto :goto_60
+
+    :catch_76
+    move-exception v7
+
+    invoke-virtual {v7}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v0, "PrivacyGSMPhone"
+
+    const-string v1, "We got exception in getServiceState()-> give fake state"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto :goto_60
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getSubscriberId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v3
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailAlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailAlphaTag()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getVoiceMailAlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailNumber()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
diff -Npru '--exclude=CdmaServiceStateTracker.smali' '--exclude=GsmServiceStateTracker.smali' stock-telephony/smali/com/android/internal/telephony/cdma/CDMAPhone.smali pdroid-telephony/smali/com/android/internal/telephony/cdma/CDMAPhone.smali
--- stock-telephony/smali/com/android/internal/telephony/cdma/CDMAPhone.smali	2013-07-07 13:30:02.598970365 -0500
+++ pdroid-telephony/smali/com/android/internal/telephony/cdma/CDMAPhone.smali	2013-07-07 13:29:39.442855556 -0500
@@ -3480,7 +3480,7 @@
     return-void
 .end method
 
-.method notifyLocationChanged()V
+.method public notifyLocationChanged()V
     .registers 2
 
     iget-object v0, p0, Lcom/android/internal/telephony/cdma/CDMAPhone;->mNotifier:Lcom/android/internal/telephony/PhoneNotifier;
diff -Npru '--exclude=CdmaServiceStateTracker.smali' '--exclude=GsmServiceStateTracker.smali' stock-telephony/smali/com/android/internal/telephony/cdma/CdmaSMSDispatcher$1.smali pdroid-telephony/smali/com/android/internal/telephony/cdma/CdmaSMSDispatcher$1.smali
--- stock-telephony/smali/com/android/internal/telephony/cdma/CdmaSMSDispatcher$1.smali	2013-07-07 13:30:02.746971103 -0500
+++ pdroid-telephony/smali/com/android/internal/telephony/cdma/CdmaSMSDispatcher$1.smali	2013-07-07 13:29:41.346865000 -0500
@@ -252,7 +252,7 @@
 
     invoke-interface {v11, v12, v13}, Lcom/android/internal/telephony/CommandsInterface;->sendCdmaSms([BLandroid/os/Message;)V
     :try_end_d1
-    .catchall {:try_start_79 .. :try_end_d1} :catchall_e6
+    .catchall {:try_start_79 .. :try_end_d1} :catchall_e9
     .catch Ljava/io/IOException; {:try_start_79 .. :try_end_d1} :catch_d9
 
     :try_start_d1
@@ -277,28 +277,33 @@
 
     invoke-static {v11, v12, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_e1
-    .catchall {:try_start_da .. :try_end_e1} :catchall_e6
+    .catchall {:try_start_da .. :try_end_e1} :catchall_e9
 
     :try_start_e1
     invoke-virtual {v3}, Ljava/io/DataOutputStream;->close()V
     :try_end_e4
-    .catch Ljava/io/IOException; {:try_start_e1 .. :try_end_e4} :catch_d6
+    .catch Ljava/io/IOException; {:try_start_e1 .. :try_end_e4} :catch_e6
 
     goto/16 :goto_25
 
-    :catchall_e6
+    :catch_e6
     move-exception v11
 
-    :try_start_e7
+    goto/16 :goto_25
+
+    :catchall_e9
+    move-exception v11
+
+    :try_start_ea
     invoke-virtual {v3}, Ljava/io/DataOutputStream;->close()V
-    :try_end_ea
-    .catch Ljava/io/IOException; {:try_start_e7 .. :try_end_ea} :catch_eb
+    :try_end_ed
+    .catch Ljava/io/IOException; {:try_start_ea .. :try_end_ed} :catch_ee
 
-    :goto_ea
+    :goto_ed
     throw v11
 
-    :catch_eb
+    :catch_ee
     move-exception v12
 
-    goto :goto_ea
+    goto :goto_ed
 .end method
diff -Npru '--exclude=CdmaServiceStateTracker.smali' '--exclude=GsmServiceStateTracker.smali' stock-telephony/smali/com/android/internal/telephony/cdma/RuimRecords.smali pdroid-telephony/smali/com/android/internal/telephony/cdma/RuimRecords.smali
--- stock-telephony/smali/com/android/internal/telephony/cdma/RuimRecords.smali	2013-07-07 13:30:02.798971358 -0500
+++ pdroid-telephony/smali/com/android/internal/telephony/cdma/RuimRecords.smali	2013-07-07 13:29:41.374865118 -0500
@@ -1187,18 +1187,17 @@
     :try_start_33
     iget v7, p1, Landroid/os/Message;->what:I
 
-    sparse-switch v7, :sswitch_data_1ae
+    sparse-switch v7, :sswitch_data_1b0
 
     invoke-super {p0, p1}, Lcom/android/internal/telephony/IccRecords;->handleMessage(Landroid/os/Message;)V
     :try_end_3b
-    .catchall {:try_start_33 .. :try_end_3b} :catchall_56
+    .catchall {:try_start_33 .. :try_end_3b} :catchall_59
     .catch Ljava/lang/RuntimeException; {:try_start_33 .. :try_end_3b} :catch_45
 
     :cond_3b
     :goto_3b
     if-eqz v4, :cond_32
 
-    :goto_3d
     invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/RuimRecords;->onRecordLoaded()V
 
     goto :goto_32
@@ -1207,7 +1206,7 @@
     :try_start_41
     invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/RuimRecords;->onReady()V
     :try_end_44
-    .catchall {:try_start_41 .. :try_end_44} :catchall_56
+    .catchall {:try_start_41 .. :try_end_44} :catchall_59
     .catch Ljava/lang/RuntimeException; {:try_start_41 .. :try_end_44} :catch_45
 
     goto :goto_3b
@@ -1222,44 +1221,46 @@
 
     invoke-static {v7, v8, v3}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_4d
-    .catchall {:try_start_46 .. :try_end_4d} :catchall_56
+    .catchall {:try_start_46 .. :try_end_4d} :catchall_59
 
     if-eqz v4, :cond_32
 
-    goto :goto_3d
+    invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/RuimRecords;->onRecordLoaded()V
+
+    goto :goto_32
 
-    :sswitch_50
-    :try_start_50
+    :sswitch_53
+    :try_start_53
     const-string v7, "Event EVENT_GET_DEVICE_IDENTITY_DONE Received"
 
     invoke-virtual {p0, v7}, Lcom/android/internal/telephony/cdma/RuimRecords;->log(Ljava/lang/String;)V
-    :try_end_55
-    .catchall {:try_start_50 .. :try_end_55} :catchall_56
-    .catch Ljava/lang/RuntimeException; {:try_start_50 .. :try_end_55} :catch_45
+    :try_end_58
+    .catchall {:try_start_53 .. :try_end_58} :catchall_59
+    .catch Ljava/lang/RuntimeException; {:try_start_53 .. :try_end_58} :catch_45
 
     goto :goto_3b
 
-    :catchall_56
+    :catchall_59
     move-exception v7
 
-    if-eqz v4, :cond_5c
+    if-eqz v4, :cond_5f
 
     invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/RuimRecords;->onRecordLoaded()V
 
-    :cond_5c
+    :cond_5f
     throw v7
 
-    :sswitch_5d
+    :sswitch_60
     const/4 v4, 0x1
 
-    :try_start_5e
+    :try_start_61
     iget-object v1, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
 
     check-cast v1, Landroid/os/AsyncResult;
 
     iget-object v7, v1, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    if-eqz v7, :cond_7f
+    if-eqz v7, :cond_82
 
     new-instance v7, Ljava/lang/StringBuilder;
 
@@ -1285,7 +1286,7 @@
 
     goto :goto_3b
 
-    :cond_7f
+    :cond_82
     iget-object v7, v1, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
     check-cast v7, Ljava/lang/String;
@@ -1294,7 +1295,7 @@
 
     iget-object v7, p0, Lcom/android/internal/telephony/cdma/RuimRecords;->mImsi:Ljava/lang/String;
 
-    if-eqz v7, :cond_b6
+    if-eqz v7, :cond_b9
 
     iget-object v7, p0, Lcom/android/internal/telephony/cdma/RuimRecords;->mImsi:Ljava/lang/String;
 
@@ -1302,7 +1303,7 @@
 
     move-result v7
 
-    if-lt v7, v11, :cond_9b
+    if-lt v7, v11, :cond_9e
 
     iget-object v7, p0, Lcom/android/internal/telephony/cdma/RuimRecords;->mImsi:Ljava/lang/String;
 
@@ -1312,9 +1313,9 @@
 
     const/16 v8, 0xf
 
-    if-le v7, v8, :cond_b6
+    if-le v7, v8, :cond_b9
 
-    :cond_9b
+    :cond_9e
     new-instance v7, Ljava/lang/StringBuilder;
 
     invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V
@@ -1341,7 +1342,7 @@
 
     iput-object v7, p0, Lcom/android/internal/telephony/cdma/RuimRecords;->mImsi:Ljava/lang/String;
 
-    :cond_b6
+    :cond_b9
     new-instance v7, Ljava/lang/StringBuilder;
 
     invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V
@@ -1396,7 +1397,7 @@
 
     goto/16 :goto_3b
 
-    :sswitch_ed
+    :sswitch_f0
     iget-object v1, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
 
     check-cast v1, Landroid/os/AsyncResult;
@@ -1469,7 +1470,7 @@
 
     goto/16 :goto_3b
 
-    :sswitch_132
+    :sswitch_135
     const/4 v4, 0x1
 
     iget-object v1, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -1524,7 +1525,7 @@
 
     goto/16 :goto_3b
 
-    :sswitch_165
+    :sswitch_168
     iget-object v1, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
 
     check-cast v1, Landroid/os/AsyncResult;
@@ -1543,7 +1544,7 @@
 
     goto/16 :goto_3b
 
-    :sswitch_178
+    :sswitch_17b
     const-string v7, "CDMA"
 
     new-instance v8, Ljava/lang/StringBuilder;
@@ -1570,14 +1571,14 @@
 
     goto/16 :goto_3b
 
-    :sswitch_194
+    :sswitch_197
     const-string v7, "Event EVENT_GET_SST_DONE Received"
 
     invoke-virtual {p0, v7}, Lcom/android/internal/telephony/cdma/RuimRecords;->log(Ljava/lang/String;)V
 
     goto/16 :goto_3b
 
-    :sswitch_19b
+    :sswitch_19e
     const/4 v4, 0x0
 
     iget-object v1, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -1593,28 +1594,26 @@
     check-cast v7, Lcom/android/internal/telephony/IccRefreshResponse;
 
     invoke-direct {p0, v7}, Lcom/android/internal/telephony/cdma/RuimRecords;->handleRuimRefresh(Lcom/android/internal/telephony/IccRefreshResponse;)V
-    :try_end_1ab
-    .catchall {:try_start_5e .. :try_end_1ab} :catchall_56
-    .catch Ljava/lang/RuntimeException; {:try_start_5e .. :try_end_1ab} :catch_45
+    :try_end_1ae
+    .catchall {:try_start_61 .. :try_end_1ae} :catchall_59
+    .catch Ljava/lang/RuntimeException; {:try_start_61 .. :try_end_1ae} :catch_45
 
     goto/16 :goto_3b
 
-    nop
-
-    :sswitch_data_1ae
+    :sswitch_data_1b0
     .sparse-switch
         0x1 -> :sswitch_41
-        0x3 -> :sswitch_5d
-        0x4 -> :sswitch_50
-        0x5 -> :sswitch_132
-        0xa -> :sswitch_ed
-        0xe -> :sswitch_165
-        0x11 -> :sswitch_194
-        0x12 -> :sswitch_178
-        0x13 -> :sswitch_178
-        0x15 -> :sswitch_178
-        0x16 -> :sswitch_178
-        0x1f -> :sswitch_19b
+        0x3 -> :sswitch_60
+        0x4 -> :sswitch_53
+        0x5 -> :sswitch_135
+        0xa -> :sswitch_f0
+        0xe -> :sswitch_168
+        0x11 -> :sswitch_197
+        0x12 -> :sswitch_17b
+        0x13 -> :sswitch_17b
+        0x15 -> :sswitch_17b
+        0x16 -> :sswitch_17b
+        0x1f -> :sswitch_19e
     .end sparse-switch
 .end method
 
diff -Npru '--exclude=CdmaServiceStateTracker.smali' '--exclude=GsmServiceStateTracker.smali' stock-telephony/smali/com/android/internal/telephony/cdma/RuimSmsInterfaceManager.smali pdroid-telephony/smali/com/android/internal/telephony/cdma/RuimSmsInterfaceManager.smali
--- stock-telephony/smali/com/android/internal/telephony/cdma/RuimSmsInterfaceManager.smali	2013-07-07 13:30:02.802971390 -0500
+++ pdroid-telephony/smali/com/android/internal/telephony/cdma/RuimSmsInterfaceManager.smali	2013-07-07 13:29:41.382865180 -0500
@@ -4,6 +4,10 @@
 
 
 # static fields
+.field protected static final ACCESS_TYPE_ICC:I = 0x1
+
+.field protected static final ACCESS_TYPE_SMS_MMS:I = 0x0
+
 .field static final DBG:Z = true
 
 .field private static final EVENT_LOAD_DONE:I = 0x1
@@ -12,6 +16,8 @@
 
 .field static final LOG_TAG:Ljava/lang/String; = "CDMA"
 
+.field protected static final P_TAG:Ljava/lang/String; = "PrivacySMSInterfaceManager"
+
 
 # instance fields
 .field mHandler:Landroid/os/Handler;
@@ -31,6 +37,8 @@
 
 .field private mSuccess:Z
 
+.field protected pSetMan:Landroid/privacy/PrivacySettingsManager;
+
 
 # direct methods
 .method public constructor <init>(Lcom/android/internal/telephony/cdma/CDMAPhone;Lcom/android/internal/telephony/SMSDispatcher;)V
@@ -102,52 +110,70 @@
 .method public copyMessageToIccEf(I[B[B)Z
     .registers 9
 
-    new-instance v2, Ljava/lang/StringBuilder;
+    const/4 v2, 0x0
 
-    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+    new-instance v3, Ljava/lang/StringBuilder;
 
-    const-string v3, "copyMessageToIccEf: status="
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, "copyMessageToIccEf: status="
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move-result-object v3
 
-    move-result-object v2
+    invoke-virtual {v3, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v3, " ==> "
+    move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, " ==> "
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
 
-    const-string v3, "pdu=("
+    const-string v4, "pdu=("
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v2
+    move-result-object v3
 
     invoke-static {p2}, Ljava/util/Arrays;->toString([B)Ljava/lang/String;
 
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
     move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, ")"
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    const-string v3, ")"
+    move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v2
+    move-result-object v3
 
-    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {p0, v3}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    move-result-object v2
+    invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
 
-    invoke-virtual {p0, v2}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
+    move-result-object v3
+
+    const/4 v4, 0x1
 
+    invoke-virtual {p0, v3, v4}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v3
+
+    if-nez v3, :cond_3d
+
+    :goto_3c
+    return v2
+
+    :cond_3d
     const-string v2, "Copying message to RUIM"
 
     invoke-virtual {p0, v2}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->enforceReceiveAndSend(Ljava/lang/String;)V
@@ -158,7 +184,7 @@
 
     const/4 v2, 0x0
 
-    :try_start_39
+    :try_start_46
     iput-boolean v2, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mSuccess:Z
 
     iget-object v2, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mHandler:Landroid/os/Handler;
@@ -178,43 +204,43 @@
     move-result-object v4
 
     invoke-interface {v2, p1, v4, v1}, Lcom/android/internal/telephony/CommandsInterface;->writeSmsToRuim(ILjava/lang/String;Landroid/os/Message;)V
-    :try_end_4d
-    .catchall {:try_start_39 .. :try_end_4d} :catchall_5d
+    :try_end_5a
+    .catchall {:try_start_46 .. :try_end_5a} :catchall_6a
 
-    :try_start_4d
+    :try_start_5a
     iget-object v2, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v2}, Ljava/lang/Object;->wait()V
-    :try_end_52
-    .catchall {:try_start_4d .. :try_end_52} :catchall_5d
-    .catch Ljava/lang/InterruptedException; {:try_start_4d .. :try_end_52} :catch_56
+    :try_end_5f
+    .catchall {:try_start_5a .. :try_end_5f} :catchall_6a
+    .catch Ljava/lang/InterruptedException; {:try_start_5a .. :try_end_5f} :catch_63
 
-    :goto_52
-    :try_start_52
+    :goto_5f
+    :try_start_5f
     monitor-exit v3
-    :try_end_53
-    .catchall {:try_start_52 .. :try_end_53} :catchall_5d
+    :try_end_60
+    .catchall {:try_start_5f .. :try_end_60} :catchall_6a
 
     iget-boolean v2, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mSuccess:Z
 
-    return v2
+    goto :goto_3c
 
-    :catch_56
+    :catch_63
     move-exception v0
 
-    :try_start_57
+    :try_start_64
     const-string v2, "interrupted while trying to update by index"
 
     invoke-virtual {p0, v2}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    goto :goto_52
+    goto :goto_5f
 
-    :catchall_5d
+    :catchall_6a
     move-exception v2
 
     monitor-exit v3
-    :try_end_5f
-    .catchall {:try_start_57 .. :try_end_5f} :catchall_5d
+    :try_end_6c
+    .catchall {:try_start_64 .. :try_end_6c} :catchall_6a
 
     throw v2
 .end method
@@ -322,10 +348,30 @@
         }
     .end annotation
 
+    const/4 v4, 0x1
+
     const-string v3, "getAllMessagesFromEF"
 
     invoke-virtual {p0, v3}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
+    invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {p0, v3, v4}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v3
+
+    if-nez v3, :cond_16
+
+    new-instance v3, Ljava/util/ArrayList;
+
+    invoke-direct {v3}, Ljava/util/ArrayList;-><init>()V
+
+    :goto_15
+    return-object v3
+
+    :cond_16
     iget-object v3, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mPhone:Lcom/android/internal/telephony/PhoneBase;
 
     invoke-virtual {v3}, Lcom/android/internal/telephony/PhoneBase;->getContext()Landroid/content/Context;
@@ -342,7 +388,7 @@
 
     monitor-enter v4
 
-    :try_start_15
+    :try_start_26
     iget-object v3, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mHandler:Landroid/os/Handler;
 
     const/4 v5, 0x1
@@ -360,47 +406,360 @@
     const/16 v5, 0x6f3c
 
     invoke-virtual {v3, v5, v2}, Lcom/android/internal/telephony/IccFileHandler;->loadEFLinearFixedAll(ILandroid/os/Message;)V
-    :try_end_27
-    .catchall {:try_start_15 .. :try_end_27} :catchall_37
+    :try_end_38
+    .catchall {:try_start_26 .. :try_end_38} :catchall_48
 
-    :try_start_27
+    :try_start_38
     iget-object v3, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v3}, Ljava/lang/Object;->wait()V
-    :try_end_2c
-    .catchall {:try_start_27 .. :try_end_2c} :catchall_37
-    .catch Ljava/lang/InterruptedException; {:try_start_27 .. :try_end_2c} :catch_30
+    :try_end_3d
+    .catchall {:try_start_38 .. :try_end_3d} :catchall_48
+    .catch Ljava/lang/InterruptedException; {:try_start_38 .. :try_end_3d} :catch_41
 
-    :goto_2c
-    :try_start_2c
+    :goto_3d
+    :try_start_3d
     monitor-exit v4
-    :try_end_2d
-    .catchall {:try_start_2c .. :try_end_2d} :catchall_37
+    :try_end_3e
+    .catchall {:try_start_3d .. :try_end_3e} :catchall_48
 
     iget-object v3, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mSms:Ljava/util/List;
 
-    return-object v3
+    goto :goto_15
 
-    :catch_30
+    :catch_41
     move-exception v1
 
-    :try_start_31
+    :try_start_42
     const-string v3, "interrupted while trying to load from the RUIM"
 
     invoke-virtual {p0, v3}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    goto :goto_2c
+    goto :goto_3d
 
-    :catchall_37
+    :catchall_48
     move-exception v3
 
     monitor-exit v4
-    :try_end_39
-    .catchall {:try_start_31 .. :try_end_39} :catchall_37
+    :try_end_4a
+    .catchall {:try_start_42 .. :try_end_4a} :catchall_48
 
     throw v3
 .end method
 
+.method protected getPackageName()[Ljava/lang/String;
+    .registers 4
+
+    iget-object v2, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mContext:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageManager()Landroid/content/pm/PackageManager;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    invoke-virtual {v1, v2}, Landroid/content/pm/PackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method protected isAllowed([Ljava/lang/String;I)Z
+    .registers 12
+
+    const/4 v8, -0x1
+
+    const/4 v4, 0x1
+
+    const/4 v3, 0x0
+
+    packed-switch p2, :pswitch_data_e6
+
+    const/4 v5, 0x0
+
+    :try_start_7
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    :goto_e
+    return v3
+
+    :pswitch_f
+    const/4 v2, 0x0
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_26
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_26
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_7e
+
+    if-eqz p1, :cond_7e
+
+    const/4 v1, 0x0
+
+    :goto_2d
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_75
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_71
+
+    if-eqz v2, :cond_71
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getSmsSendSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_71
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+    :try_end_4b
+    .catch Ljava/lang/Exception; {:try_start_7 .. :try_end_4b} :catch_4c
+
+    goto :goto_e
+
+    :catch_4c
+    move-exception v0
+
+    const-string v5, "PrivacySMSInterfaceManager"
+
+    const-string v6, "Got exception while checking for sms or ICC acess permission"
+
+    invoke-static {v5, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    if-eqz p1, :cond_6f
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_6f
+
+    array-length v5, p1
+
+    if-lez v5, :cond_6f
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v3
+
+    invoke-virtual {v5, v6, v8}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_6f
+
+    aget-object v5, p1, v3
+
+    invoke-virtual {p0, p2, v5, v3}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    :cond_6f
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_71
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_2d
+
+    :cond_75
+    const/4 v5, 0x0
+
+    :try_start_76
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_7e
+    if-eqz p1, :cond_8a
+
+    array-length v5, p1
+
+    if-lez v5, :cond_8a
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    :cond_8a
+    move v3, v4
+
+    goto :goto_e
+
+    :pswitch_8c
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_a2
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_a2
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_d7
+
+    if-eqz p1, :cond_d7
+
+    const/4 v1, 0x0
+
+    :goto_a9
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_cd
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_c9
+
+    if-eqz v2, :cond_c9
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getIccAccessSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_c9
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    goto/16 :goto_e
+
+    :cond_c9
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_a9
+
+    :cond_cd
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :cond_d7
+    if-eqz p1, :cond_e3
+
+    array-length v5, p1
+
+    if-lez v5, :cond_e3
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+    :try_end_e3
+    .catch Ljava/lang/Exception; {:try_start_76 .. :try_end_e3} :catch_4c
+
+    :cond_e3
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :pswitch_data_e6
+    .packed-switch 0x0
+        :pswitch_f
+        :pswitch_8c
+    .end packed-switch
+.end method
+
 .method protected log(Ljava/lang/String;)V
     .registers 5
 
@@ -429,61 +788,128 @@
     return-void
 .end method
 
+.method protected notify(ILjava/lang/String;B)V
+    .registers 11
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    packed-switch p1, :pswitch_data_1c
+
+    :goto_5
+    return-void
+
+    :pswitch_6
+    iget-object v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "SmsSend"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_11
+    iget-object v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "iccAccess"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_data_1c
+    .packed-switch 0x0
+        :pswitch_6
+        :pswitch_11
+    .end packed-switch
+.end method
+
 .method public updateMessageOnIccEf(II[B)Z
     .registers 12
 
-    new-instance v0, Ljava/lang/StringBuilder;
+    const/4 v0, 0x0
 
-    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V
+    new-instance v1, Ljava/lang/StringBuilder;
 
-    const-string v1, "updateMessageOnIccEf: index="
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, "updateMessageOnIccEf: index="
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move-result-object v1
 
-    move-result-object v0
+    invoke-virtual {v1, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v1, " status="
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, " status="
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move-result-object v1
 
-    move-result-object v0
+    invoke-virtual {v1, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v1, " ==> "
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, " ==> "
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    const-string v1, "("
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, "("
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    move-result-object v1
 
-    move-result-object v0
+    invoke-virtual {v1, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    const-string v1, ")"
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, ")"
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    move-result-object v1
 
-    move-result-object v0
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    invoke-virtual {p0, v0}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
+    move-result-object v1
+
+    invoke-virtual {p0, v1}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
+
+    invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v1
 
+    const/4 v2, 0x1
+
+    invoke-virtual {p0, v1, v2}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v1
+
+    if-nez v1, :cond_43
+
+    :goto_42
+    return v0
+
+    :cond_43
     const-string v0, "Updating message on RUIM"
 
     invoke-virtual {p0, v0}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->enforceReceiveAndSend(Ljava/lang/String;)V
@@ -494,7 +920,7 @@
 
     const/4 v0, 0x0
 
-    :try_start_3f
+    :try_start_4c
     iput-boolean v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mSuccess:Z
 
     iget-object v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mHandler:Landroid/os/Handler;
@@ -505,37 +931,37 @@
 
     move-result-object v5
 
-    if-nez p2, :cond_5a
+    if-nez p2, :cond_67
 
     iget-object v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mPhone:Lcom/android/internal/telephony/PhoneBase;
 
     iget-object v0, v0, Lcom/android/internal/telephony/PhoneBase;->mCM:Lcom/android/internal/telephony/CommandsInterface;
 
     invoke-interface {v0, p1, v5}, Lcom/android/internal/telephony/CommandsInterface;->deleteSmsOnRuim(ILandroid/os/Message;)V
-    :try_end_51
-    .catchall {:try_start_3f .. :try_end_51} :catchall_6c
+    :try_end_5e
+    .catchall {:try_start_4c .. :try_end_5e} :catchall_79
 
-    :goto_51
-    :try_start_51
+    :goto_5e
+    :try_start_5e
     iget-object v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v0}, Ljava/lang/Object;->wait()V
-    :try_end_56
-    .catchall {:try_start_51 .. :try_end_56} :catchall_6c
-    .catch Ljava/lang/InterruptedException; {:try_start_51 .. :try_end_56} :catch_6f
+    :try_end_63
+    .catchall {:try_start_5e .. :try_end_63} :catchall_79
+    .catch Ljava/lang/InterruptedException; {:try_start_5e .. :try_end_63} :catch_7c
 
-    :goto_56
-    :try_start_56
+    :goto_63
+    :try_start_63
     monitor-exit v7
-    :try_end_57
-    .catchall {:try_start_56 .. :try_end_57} :catchall_6c
+    :try_end_64
+    .catchall {:try_start_63 .. :try_end_64} :catchall_79
 
     iget-boolean v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mSuccess:Z
 
-    return v0
+    goto :goto_42
 
-    :cond_5a
-    :try_start_5a
+    :cond_67
+    :try_start_67
     invoke-virtual {p0, p2, p3}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->makeSmsRecordData(I[B)[B
 
     move-result-object v3
@@ -554,26 +980,26 @@
 
     invoke-virtual/range {v0 .. v5}, Lcom/android/internal/telephony/IccFileHandler;->updateEFLinearFixed(II[BLjava/lang/String;Landroid/os/Message;)V
 
-    goto :goto_51
+    goto :goto_5e
 
-    :catchall_6c
+    :catchall_79
     move-exception v0
 
     monitor-exit v7
-    :try_end_6e
-    .catchall {:try_start_5a .. :try_end_6e} :catchall_6c
+    :try_end_7b
+    .catchall {:try_start_67 .. :try_end_7b} :catchall_79
 
     throw v0
 
-    :catch_6f
+    :catch_7c
     move-exception v6
 
-    :try_start_70
+    :try_start_7d
     const-string v0, "interrupted while trying to update by index"
 
     invoke-virtual {p0, v0}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
-    :try_end_75
-    .catchall {:try_start_70 .. :try_end_75} :catchall_6c
+    :try_end_82
+    .catchall {:try_start_7d .. :try_end_82} :catchall_79
 
-    goto :goto_56
+    goto :goto_63
 .end method
diff -Npru '--exclude=CdmaServiceStateTracker.smali' '--exclude=GsmServiceStateTracker.smali' stock-telephony/smali/com/android/internal/telephony/gsm/GSMPhone.smali pdroid-telephony/smali/com/android/internal/telephony/gsm/GSMPhone.smali
--- stock-telephony/smali/com/android/internal/telephony/gsm/GSMPhone.smali	2013-07-07 13:30:03.022972481 -0500
+++ pdroid-telephony/smali/com/android/internal/telephony/gsm/GSMPhone.smali	2013-07-07 13:29:39.514855909 -0500
@@ -3300,7 +3300,7 @@
     return-void
 .end method
 
-.method notifyLocationChanged()V
+.method public notifyLocationChanged()V
     .registers 2
 
     iget-object v0, p0, Lcom/android/internal/telephony/gsm/GSMPhone;->mNotifier:Lcom/android/internal/telephony/PhoneNotifier;
@@ -3318,7 +3318,7 @@
     return-void
 .end method
 
-.method notifyPhoneStateChanged()V
+.method public notifyPhoneStateChanged()V
     .registers 2
 
     iget-object v0, p0, Lcom/android/internal/telephony/gsm/GSMPhone;->mNotifier:Lcom/android/internal/telephony/PhoneNotifier;
diff -Npru '--exclude=CdmaServiceStateTracker.smali' '--exclude=GsmServiceStateTracker.smali' stock-telephony/smali/com/android/internal/telephony/gsm/SimSmsInterfaceManager.smali pdroid-telephony/smali/com/android/internal/telephony/gsm/SimSmsInterfaceManager.smali
--- stock-telephony/smali/com/android/internal/telephony/gsm/SimSmsInterfaceManager.smali	2013-07-07 13:30:03.326973987 -0500
+++ pdroid-telephony/smali/com/android/internal/telephony/gsm/SimSmsInterfaceManager.smali	2013-07-07 13:29:41.666866571 -0500
@@ -12,6 +12,10 @@
 
 
 # static fields
+.field protected static final ACCESS_TYPE_ICC:I = 0x1
+
+.field protected static final ACCESS_TYPE_SMS_MMS:I = 0x0
+
 .field static final DBG:Z = true
 
 .field private static final EVENT_LOAD_DONE:I = 0x1
@@ -24,6 +28,8 @@
 
 .field static final LOG_TAG:Ljava/lang/String; = "GSM"
 
+.field protected static final P_TAG:Ljava/lang/String; = "PrivacySMSInterfaceManager"
+
 .field private static final SMS_CB_CODE_SCHEME_MAX:I = 0xff
 
 .field private static final SMS_CB_CODE_SCHEME_MIN:I
@@ -63,6 +69,8 @@
 
 .field private mSuccess:Z
 
+.field protected pSetMan:Landroid/privacy/PrivacySettingsManager;
+
 
 # direct methods
 .method public constructor <init>(Lcom/android/internal/telephony/gsm/GSMPhone;Lcom/android/internal/telephony/SMSDispatcher;)V
@@ -342,66 +350,84 @@
 .method public copyMessageToIccEf(I[B[B)Z
     .registers 10
 
-    new-instance v2, Ljava/lang/StringBuilder;
+    const/4 v2, 0x0
 
-    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+    new-instance v3, Ljava/lang/StringBuilder;
 
-    const-string v3, "copyMessageToIccEf: status="
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, "copyMessageToIccEf: status="
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move-result-object v3
 
-    move-result-object v2
+    invoke-virtual {v3, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v3, " ==> "
+    move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, " ==> "
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    const-string v3, "pdu=("
+    move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, "pdu=("
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
 
     invoke-static {p2}, Ljava/util/Arrays;->toString([B)Ljava/lang/String;
 
-    move-result-object v3
+    move-result-object v4
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v2
+    move-result-object v3
 
-    const-string v3, "), smsm=("
+    const-string v4, "), smsm=("
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v2
+    move-result-object v3
 
     invoke-static {p3}, Ljava/util/Arrays;->toString([B)Ljava/lang/String;
 
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
     move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, ")"
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    const-string v3, ")"
+    move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v2
+    move-result-object v3
 
-    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {p0, v3}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    move-result-object v2
+    invoke-virtual {p0}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
 
-    invoke-virtual {p0, v2}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
+    move-result-object v3
+
+    const/4 v4, 0x1
 
+    invoke-virtual {p0, v3, v4}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v3
+
+    if-nez v3, :cond_4b
+
+    :goto_4a
+    return v2
+
+    :cond_4b
     const-string v2, "Copying message to SIM"
 
     invoke-virtual {p0, v2}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->enforceReceiveAndSend(Ljava/lang/String;)V
@@ -412,7 +438,7 @@
 
     const/4 v2, 0x0
 
-    :try_start_47
+    :try_start_54
     iput-boolean v2, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mSuccess:Z
 
     iget-object v2, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mHandler:Landroid/os/Handler;
@@ -436,43 +462,43 @@
     move-result-object v5
 
     invoke-interface {v2, p1, v4, v5, v1}, Lcom/android/internal/telephony/CommandsInterface;->writeSmsToSim(ILjava/lang/String;Ljava/lang/String;Landroid/os/Message;)V
-    :try_end_5f
-    .catchall {:try_start_47 .. :try_end_5f} :catchall_6f
+    :try_end_6c
+    .catchall {:try_start_54 .. :try_end_6c} :catchall_7c
 
-    :try_start_5f
+    :try_start_6c
     iget-object v2, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v2}, Ljava/lang/Object;->wait()V
-    :try_end_64
-    .catchall {:try_start_5f .. :try_end_64} :catchall_6f
-    .catch Ljava/lang/InterruptedException; {:try_start_5f .. :try_end_64} :catch_68
+    :try_end_71
+    .catchall {:try_start_6c .. :try_end_71} :catchall_7c
+    .catch Ljava/lang/InterruptedException; {:try_start_6c .. :try_end_71} :catch_75
 
-    :goto_64
-    :try_start_64
+    :goto_71
+    :try_start_71
     monitor-exit v3
-    :try_end_65
-    .catchall {:try_start_64 .. :try_end_65} :catchall_6f
+    :try_end_72
+    .catchall {:try_start_71 .. :try_end_72} :catchall_7c
 
     iget-boolean v2, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mSuccess:Z
 
-    return v2
+    goto :goto_4a
 
-    :catch_68
+    :catch_75
     move-exception v0
 
-    :try_start_69
+    :try_start_76
     const-string v2, "interrupted while trying to update by index"
 
     invoke-virtual {p0, v2}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    goto :goto_64
+    goto :goto_71
 
-    :catchall_6f
+    :catchall_7c
     move-exception v2
 
     monitor-exit v3
-    :try_end_71
-    .catchall {:try_start_69 .. :try_end_71} :catchall_6f
+    :try_end_7e
+    .catchall {:try_start_76 .. :try_end_7e} :catchall_7c
 
     throw v2
 .end method
@@ -834,10 +860,30 @@
         }
     .end annotation
 
+    const/4 v4, 0x1
+
     const-string v3, "getAllMessagesFromEF"
 
     invoke-virtual {p0, v3}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
+    invoke-virtual {p0}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {p0, v3, v4}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v3
+
+    if-nez v3, :cond_16
+
+    new-instance v3, Ljava/util/ArrayList;
+
+    invoke-direct {v3}, Ljava/util/ArrayList;-><init>()V
+
+    :goto_15
+    return-object v3
+
+    :cond_16
     iget-object v3, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mPhone:Lcom/android/internal/telephony/PhoneBase;
 
     invoke-virtual {v3}, Lcom/android/internal/telephony/PhoneBase;->getContext()Landroid/content/Context;
@@ -854,7 +900,7 @@
 
     monitor-enter v4
 
-    :try_start_15
+    :try_start_26
     iget-object v3, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mHandler:Landroid/os/Handler;
 
     const/4 v5, 0x1
@@ -872,47 +918,360 @@
     const/16 v5, 0x6f3c
 
     invoke-virtual {v3, v5, v2}, Lcom/android/internal/telephony/IccFileHandler;->loadEFLinearFixedAll(ILandroid/os/Message;)V
-    :try_end_27
-    .catchall {:try_start_15 .. :try_end_27} :catchall_37
+    :try_end_38
+    .catchall {:try_start_26 .. :try_end_38} :catchall_48
 
-    :try_start_27
+    :try_start_38
     iget-object v3, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v3}, Ljava/lang/Object;->wait()V
-    :try_end_2c
-    .catchall {:try_start_27 .. :try_end_2c} :catchall_37
-    .catch Ljava/lang/InterruptedException; {:try_start_27 .. :try_end_2c} :catch_30
+    :try_end_3d
+    .catchall {:try_start_38 .. :try_end_3d} :catchall_48
+    .catch Ljava/lang/InterruptedException; {:try_start_38 .. :try_end_3d} :catch_41
 
-    :goto_2c
-    :try_start_2c
+    :goto_3d
+    :try_start_3d
     monitor-exit v4
-    :try_end_2d
-    .catchall {:try_start_2c .. :try_end_2d} :catchall_37
+    :try_end_3e
+    .catchall {:try_start_3d .. :try_end_3e} :catchall_48
 
     iget-object v3, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mSms:Ljava/util/List;
 
-    return-object v3
+    goto :goto_15
 
-    :catch_30
+    :catch_41
     move-exception v1
 
-    :try_start_31
+    :try_start_42
     const-string v3, "interrupted while trying to load from the SIM"
 
     invoke-virtual {p0, v3}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    goto :goto_2c
+    goto :goto_3d
 
-    :catchall_37
+    :catchall_48
     move-exception v3
 
     monitor-exit v4
-    :try_end_39
-    .catchall {:try_start_31 .. :try_end_39} :catchall_37
+    :try_end_4a
+    .catchall {:try_start_42 .. :try_end_4a} :catchall_48
 
     throw v3
 .end method
 
+.method protected getPackageName()[Ljava/lang/String;
+    .registers 4
+
+    iget-object v2, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mContext:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageManager()Landroid/content/pm/PackageManager;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    invoke-virtual {v1, v2}, Landroid/content/pm/PackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method protected isAllowed([Ljava/lang/String;I)Z
+    .registers 12
+
+    const/4 v8, -0x1
+
+    const/4 v4, 0x1
+
+    const/4 v3, 0x0
+
+    packed-switch p2, :pswitch_data_e6
+
+    const/4 v5, 0x0
+
+    :try_start_7
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    :goto_e
+    return v3
+
+    :pswitch_f
+    const/4 v2, 0x0
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_26
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_26
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_7e
+
+    if-eqz p1, :cond_7e
+
+    const/4 v1, 0x0
+
+    :goto_2d
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_75
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_71
+
+    if-eqz v2, :cond_71
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getSmsSendSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_71
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+    :try_end_4b
+    .catch Ljava/lang/Exception; {:try_start_7 .. :try_end_4b} :catch_4c
+
+    goto :goto_e
+
+    :catch_4c
+    move-exception v0
+
+    const-string v5, "PrivacySMSInterfaceManager"
+
+    const-string v6, "Got exception while checking for sms or ICC acess permission"
+
+    invoke-static {v5, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    if-eqz p1, :cond_6f
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_6f
+
+    array-length v5, p1
+
+    if-lez v5, :cond_6f
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v3
+
+    invoke-virtual {v5, v6, v8}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_6f
+
+    aget-object v5, p1, v3
+
+    invoke-virtual {p0, p2, v5, v3}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    :cond_6f
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_71
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_2d
+
+    :cond_75
+    const/4 v5, 0x0
+
+    :try_start_76
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_7e
+    if-eqz p1, :cond_8a
+
+    array-length v5, p1
+
+    if-lez v5, :cond_8a
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    :cond_8a
+    move v3, v4
+
+    goto :goto_e
+
+    :pswitch_8c
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_a2
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_a2
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_d7
+
+    if-eqz p1, :cond_d7
+
+    const/4 v1, 0x0
+
+    :goto_a9
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_cd
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_c9
+
+    if-eqz v2, :cond_c9
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getIccAccessSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_c9
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    goto/16 :goto_e
+
+    :cond_c9
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_a9
+
+    :cond_cd
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :cond_d7
+    if-eqz p1, :cond_e3
+
+    array-length v5, p1
+
+    if-lez v5, :cond_e3
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+    :try_end_e3
+    .catch Ljava/lang/Exception; {:try_start_76 .. :try_end_e3} :catch_4c
+
+    :cond_e3
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :pswitch_data_e6
+    .packed-switch 0x0
+        :pswitch_f
+        :pswitch_8c
+    .end packed-switch
+.end method
+
 .method protected log(Ljava/lang/String;)V
     .registers 5
 
@@ -941,65 +1300,132 @@
     return-void
 .end method
 
+.method protected notify(ILjava/lang/String;B)V
+    .registers 11
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    packed-switch p1, :pswitch_data_1c
+
+    :goto_5
+    return-void
+
+    :pswitch_6
+    iget-object v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "SmsSend"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_11
+    iget-object v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "iccAccess"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_data_1c
+    .packed-switch 0x0
+        :pswitch_6
+        :pswitch_11
+    .end packed-switch
+.end method
+
 .method public updateMessageOnIccEf(II[B)Z
     .registers 12
 
-    new-instance v0, Ljava/lang/StringBuilder;
+    const/4 v0, 0x0
 
-    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V
+    new-instance v1, Ljava/lang/StringBuilder;
 
-    const-string v1, "updateMessageOnIccEf: index="
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, "updateMessageOnIccEf: index="
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move-result-object v1
 
-    move-result-object v0
+    invoke-virtual {v1, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v1, " status="
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, " status="
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move-result-object v1
 
-    move-result-object v0
+    invoke-virtual {v1, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v1, " ==> "
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, " ==> "
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    const-string v1, "("
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, "("
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
 
     invoke-static {p3}, Ljava/util/Arrays;->toString([B)Ljava/lang/String;
 
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
     move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, ")"
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    const-string v1, ")"
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v0
+    move-result-object v1
 
-    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {p0, v1}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    move-result-object v0
+    invoke-virtual {p0}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
 
-    invoke-virtual {p0, v0}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
+    move-result-object v1
+
+    const/4 v2, 0x1
+
+    invoke-virtual {p0, v1, v2}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v1
+
+    if-nez v1, :cond_47
 
+    :goto_46
+    return v0
+
+    :cond_47
     const-string v0, "Updating message on SIM"
 
     invoke-virtual {p0, v0}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->enforceReceiveAndSend(Ljava/lang/String;)V
@@ -1010,7 +1436,7 @@
 
     const/4 v0, 0x0
 
-    :try_start_43
+    :try_start_50
     iput-boolean v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mSuccess:Z
 
     iget-object v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mHandler:Landroid/os/Handler;
@@ -1021,37 +1447,37 @@
 
     move-result-object v5
 
-    if-nez p2, :cond_5e
+    if-nez p2, :cond_6b
 
     iget-object v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mPhone:Lcom/android/internal/telephony/PhoneBase;
 
     iget-object v0, v0, Lcom/android/internal/telephony/PhoneBase;->mCM:Lcom/android/internal/telephony/CommandsInterface;
 
     invoke-interface {v0, p1, v5}, Lcom/android/internal/telephony/CommandsInterface;->deleteSmsOnSim(ILandroid/os/Message;)V
-    :try_end_55
-    .catchall {:try_start_43 .. :try_end_55} :catchall_70
+    :try_end_62
+    .catchall {:try_start_50 .. :try_end_62} :catchall_7d
 
-    :goto_55
-    :try_start_55
+    :goto_62
+    :try_start_62
     iget-object v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v0}, Ljava/lang/Object;->wait()V
-    :try_end_5a
-    .catchall {:try_start_55 .. :try_end_5a} :catchall_70
-    .catch Ljava/lang/InterruptedException; {:try_start_55 .. :try_end_5a} :catch_73
+    :try_end_67
+    .catchall {:try_start_62 .. :try_end_67} :catchall_7d
+    .catch Ljava/lang/InterruptedException; {:try_start_62 .. :try_end_67} :catch_80
 
-    :goto_5a
-    :try_start_5a
+    :goto_67
+    :try_start_67
     monitor-exit v7
-    :try_end_5b
-    .catchall {:try_start_5a .. :try_end_5b} :catchall_70
+    :try_end_68
+    .catchall {:try_start_67 .. :try_end_68} :catchall_7d
 
     iget-boolean v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mSuccess:Z
 
-    return v0
+    goto :goto_46
 
-    :cond_5e
-    :try_start_5e
+    :cond_6b
+    :try_start_6b
     invoke-virtual {p0, p2, p3}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->makeSmsRecordData(I[B)[B
 
     move-result-object v3
@@ -1070,26 +1496,26 @@
 
     invoke-virtual/range {v0 .. v5}, Lcom/android/internal/telephony/IccFileHandler;->updateEFLinearFixed(II[BLjava/lang/String;Landroid/os/Message;)V
 
-    goto :goto_55
+    goto :goto_62
 
-    :catchall_70
+    :catchall_7d
     move-exception v0
 
     monitor-exit v7
-    :try_end_72
-    .catchall {:try_start_5e .. :try_end_72} :catchall_70
+    :try_end_7f
+    .catchall {:try_start_6b .. :try_end_7f} :catchall_7d
 
     throw v0
 
-    :catch_73
+    :catch_80
     move-exception v6
 
-    :try_start_74
+    :try_start_81
     const-string v0, "interrupted while trying to update by index"
 
     invoke-virtual {p0, v0}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
-    :try_end_79
-    .catchall {:try_start_74 .. :try_end_79} :catchall_70
+    :try_end_86
+    .catchall {:try_start_81 .. :try_end_86} :catchall_7d
 
-    goto :goto_5a
+    goto :goto_67
 .end method
diff -Npru '--exclude=CdmaServiceStateTracker.smali' '--exclude=GsmServiceStateTracker.smali' stock-telephony/smali/com/android/internal/telephony/gsm/VoiceMailConstants.smali pdroid-telephony/smali/com/android/internal/telephony/gsm/VoiceMailConstants.smali
--- stock-telephony/smali/com/android/internal/telephony/gsm/VoiceMailConstants.smali	2013-07-07 13:30:03.354974115 -0500
+++ pdroid-telephony/smali/com/android/internal/telephony/gsm/VoiceMailConstants.smali	2013-07-07 13:29:41.714866810 -0500
@@ -91,7 +91,7 @@
 
     invoke-virtual {v7, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
     :try_end_28
-    .catchall {:try_start_10 .. :try_end_28} :catchall_ca
+    .catchall {:try_start_10 .. :try_end_28} :catchall_cd
     .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_10 .. :try_end_28} :catch_89
     .catch Ljava/io/IOException; {:try_start_10 .. :try_end_28} :catch_aa
 
@@ -104,7 +104,7 @@
     :try_start_2d
     invoke-virtual {v6}, Ljava/io/FileReader;->close()V
     :try_end_30
-    .catch Ljava/io/IOException; {:try_start_2d .. :try_end_30} :catch_a8
+    .catch Ljava/io/IOException; {:try_start_2d .. :try_end_30} :catch_d4
 
     :cond_30
     :goto_30
@@ -207,7 +207,7 @@
 
     invoke-virtual {v7, v3, v0}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     :try_end_88
-    .catchall {:try_start_5c .. :try_end_88} :catchall_ca
+    .catchall {:try_start_5c .. :try_end_88} :catchall_cd
     .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_5c .. :try_end_88} :catch_89
     .catch Ljava/io/IOException; {:try_start_5c .. :try_end_88} :catch_aa
 
@@ -239,7 +239,7 @@
 
     invoke-static {v7, v8}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
     :try_end_a2
-    .catchall {:try_start_8a .. :try_end_a2} :catchall_ca
+    .catchall {:try_start_8a .. :try_end_a2} :catchall_cd
 
     if-eqz v6, :cond_30
 
@@ -281,35 +281,45 @@
 
     invoke-static {v7, v8}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
     :try_end_c3
-    .catchall {:try_start_ab .. :try_end_c3} :catchall_ca
+    .catchall {:try_start_ab .. :try_end_c3} :catchall_cd
 
     if-eqz v6, :cond_30
 
     :try_start_c5
     invoke-virtual {v6}, Ljava/io/FileReader;->close()V
     :try_end_c8
-    .catch Ljava/io/IOException; {:try_start_c5 .. :try_end_c8} :catch_a8
+    .catch Ljava/io/IOException; {:try_start_c5 .. :try_end_c8} :catch_ca
 
     goto/16 :goto_30
 
-    :catchall_ca
+    :catch_ca
     move-exception v7
 
-    if-eqz v6, :cond_d0
+    goto/16 :goto_30
+
+    :catchall_cd
+    move-exception v7
+
+    if-eqz v6, :cond_d3
 
-    :try_start_cd
+    :try_start_d0
     invoke-virtual {v6}, Ljava/io/FileReader;->close()V
-    :try_end_d0
-    .catch Ljava/io/IOException; {:try_start_cd .. :try_end_d0} :catch_d1
+    :try_end_d3
+    .catch Ljava/io/IOException; {:try_start_d0 .. :try_end_d3} :catch_d7
 
-    :cond_d0
-    :goto_d0
+    :cond_d3
+    :goto_d3
     throw v7
 
-    :catch_d1
+    :catch_d4
+    move-exception v7
+
+    goto/16 :goto_30
+
+    :catch_d7
     move-exception v8
 
-    goto :goto_d0
+    goto :goto_d3
 .end method
 
 
diff -Npru '--exclude=CdmaServiceStateTracker.smali' '--exclude=GsmServiceStateTracker.smali' stock-telephony/smali/com/android/internal/telephony/PhoneFactory.smali pdroid-telephony/smali/com/android/internal/telephony/PhoneFactory.smali
--- stock-telephony/smali/com/android/internal/telephony/PhoneFactory.smali	2013-07-07 13:30:02.138968082 -0500
+++ pdroid-telephony/smali/com/android/internal/telephony/PhoneFactory.smali	2013-07-07 13:29:40.698861791 -0500
@@ -64,7 +64,7 @@
 
     packed-switch v1, :pswitch_data_26
 
-    new-instance v0, Lcom/android/internal/telephony/cdma/CDMAPhone;
+    new-instance v0, Landroid/privacy/surrogate/PrivacyCDMAPhone;
 
     sget-object v1, Lcom/android/internal/telephony/PhoneFactory;->sContext:Landroid/content/Context;
 
@@ -72,7 +72,7 @@
 
     sget-object v4, Lcom/android/internal/telephony/PhoneFactory;->sPhoneNotifier:Lcom/android/internal/telephony/PhoneNotifier;
 
-    invoke-direct {v0, v1, v3, v4}, Lcom/android/internal/telephony/cdma/CDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v3, v4}, Landroid/privacy/surrogate/PrivacyCDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     :goto_15
     monitor-exit v2
@@ -80,7 +80,7 @@
     return-object v0
 
     :pswitch_17
-    new-instance v0, Lcom/android/internal/telephony/cdma/CDMALTEPhone;
+    new-instance v0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;
 
     sget-object v1, Lcom/android/internal/telephony/PhoneFactory;->sContext:Landroid/content/Context;
 
@@ -88,7 +88,7 @@
 
     sget-object v4, Lcom/android/internal/telephony/PhoneFactory;->sPhoneNotifier:Lcom/android/internal/telephony/PhoneNotifier;
 
-    invoke-direct {v0, v1, v3, v4}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v3, v4}, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     goto :goto_15
 
@@ -153,7 +153,7 @@
     monitor-enter v2
 
     :try_start_3
-    new-instance v0, Lcom/android/internal/telephony/gsm/GSMPhone;
+    new-instance v0, Landroid/privacy/surrogate/PrivacyGSMPhone;
 
     sget-object v1, Lcom/android/internal/telephony/PhoneFactory;->sContext:Landroid/content/Context;
 
@@ -161,7 +161,7 @@
 
     sget-object v4, Lcom/android/internal/telephony/PhoneFactory;->sPhoneNotifier:Lcom/android/internal/telephony/PhoneNotifier;
 
-    invoke-direct {v0, v1, v3, v4}, Lcom/android/internal/telephony/gsm/GSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v3, v4}, Landroid/privacy/surrogate/PrivacyGSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     monitor-exit v2
 
@@ -187,7 +187,7 @@
     :try_start_3
     sget-boolean v15, Lcom/android/internal/telephony/PhoneFactory;->sMadeDefaults:Z
 
-    if-nez v15, :cond_14b
+    if-nez v15, :cond_14d
 
     invoke-static {}, Landroid/os/Looper;->myLooper()Landroid/os/Looper;
 
@@ -238,10 +238,10 @@
     invoke-direct {v15, v0}, Landroid/net/LocalServerSocket;-><init>(Ljava/lang/String;)V
     :try_end_2d
     .catchall {:try_start_24 .. :try_end_2d} :catchall_1d
-    .catch Ljava/io/IOException; {:try_start_24 .. :try_end_2d} :catch_14d
+    .catch Ljava/io/IOException; {:try_start_24 .. :try_end_2d} :catch_14f
 
     :goto_2d
-    if-nez v9, :cond_151
+    if-nez v9, :cond_153
 
     :try_start_2f
     new-instance v15, Lcom/android/internal/telephony/DefaultPhoneNotifier;
@@ -478,7 +478,7 @@
     sput-object v15, Lcom/android/internal/telephony/PhoneFactory;->sCommandsInterface:Lcom/android/internal/telephony/CommandsInterface;
     :try_end_117
     .catchall {:try_start_c6 .. :try_end_117} :catchall_1d
-    .catch Ljava/lang/Exception; {:try_start_c6 .. :try_end_117} :catch_168
+    .catch Ljava/lang/Exception; {:try_start_c6 .. :try_end_117} :catch_16a
 
     :try_start_117
     sget-object v15, Lcom/android/internal/telephony/PhoneFactory;->sCommandsInterface:Lcom/android/internal/telephony/CommandsInterface;
@@ -493,7 +493,7 @@
 
     const/4 v15, 0x1
 
-    if-ne v11, v15, :cond_178
+    if-ne v11, v15, :cond_17a
 
     const-string v15, "PHONE"
 
@@ -503,9 +503,9 @@
 
     invoke-static {v15, v0}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
 
-    new-instance v15, Lcom/android/internal/telephony/PhoneProxy;
+    new-instance v15, Landroid/privacy/surrogate/PrivacyPhoneProxy;
 
-    new-instance v17, Lcom/android/internal/telephony/gsm/GSMPhone;
+    new-instance v17, Landroid/privacy/surrogate/PrivacyGSMPhone;
 
     sget-object v18, Lcom/android/internal/telephony/PhoneFactory;->sCommandsInterface:Lcom/android/internal/telephony/CommandsInterface;
 
@@ -519,36 +519,38 @@
 
     move-object/from16 v3, v19
 
-    invoke-direct {v0, v1, v2, v3}, Lcom/android/internal/telephony/gsm/GSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v2, v3}, Landroid/privacy/surrogate/PrivacyGSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     move-object/from16 v0, v17
 
-    invoke-direct {v15, v0}, Lcom/android/internal/telephony/PhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;)V
+    move-object/from16 v1, p0
+
+    invoke-direct {v15, v0, v1}, Landroid/privacy/surrogate/PrivacyPhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;Landroid/content/Context;)V
 
     sput-object v15, Lcom/android/internal/telephony/PhoneFactory;->sProxyPhone:Lcom/android/internal/telephony/Phone;
 
-    :cond_148
-    :goto_148
+    :cond_14a
+    :goto_14a
     const/4 v15, 0x1
 
     sput-boolean v15, Lcom/android/internal/telephony/PhoneFactory;->sMadeDefaults:Z
 
-    :cond_14b
+    :cond_14d
     monitor-exit v16
 
     return-void
 
-    :catch_14d
+    :catch_14f
     move-exception v8
 
     const/4 v9, 0x1
 
     goto/16 :goto_2d
 
-    :cond_151
+    :cond_153
     const/4 v15, 0x3
 
-    if-le v13, v15, :cond_15e
+    if-le v13, v15, :cond_160
 
     new-instance v15, Ljava/lang/RuntimeException;
 
@@ -559,29 +561,29 @@
     invoke-direct {v15, v0}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
 
     throw v15
-    :try_end_15e
-    .catchall {:try_start_117 .. :try_end_15e} :catchall_1d
+    :try_end_160
+    .catchall {:try_start_117 .. :try_end_160} :catchall_1d
 
-    :cond_15e
+    :cond_160
     const-wide/16 v17, 0x7d0
 
-    :try_start_160
+    :try_start_162
     invoke-static/range {v17 .. v18}, Ljava/lang/Thread;->sleep(J)V
-    :try_end_163
-    .catchall {:try_start_160 .. :try_end_163} :catchall_1d
-    .catch Ljava/lang/InterruptedException; {:try_start_160 .. :try_end_163} :catch_165
+    :try_end_165
+    .catchall {:try_start_162 .. :try_end_165} :catchall_1d
+    .catch Ljava/lang/InterruptedException; {:try_start_162 .. :try_end_165} :catch_167
 
     goto/16 :goto_21
 
-    :catch_165
+    :catch_167
     move-exception v15
 
     goto/16 :goto_21
 
-    :catch_168
+    :catch_16a
     move-exception v7
 
-    :try_start_169
+    :try_start_16b
     const-string v15, "PHONE"
 
     const-string v17, "Unable to construct command interface"
@@ -596,16 +598,16 @@
 
     throw v15
 
-    :cond_178
+    :cond_17a
     const/4 v15, 0x2
 
-    if-ne v11, v15, :cond_148
+    if-ne v11, v15, :cond_14a
 
     invoke-static {}, Landroid/telephony/TelephonyManager;->getLteOnCdmaModeStatic()I
 
     move-result v15
 
-    packed-switch v15, :pswitch_data_1cc
+    packed-switch v15, :pswitch_data_1d2
 
     const-string v15, "PHONE"
 
@@ -615,9 +617,9 @@
 
     invoke-static {v15, v0}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
 
-    new-instance v15, Lcom/android/internal/telephony/PhoneProxy;
+    new-instance v15, Landroid/privacy/surrogate/PrivacyPhoneProxy;
 
-    new-instance v17, Lcom/android/internal/telephony/cdma/CDMAPhone;
+    new-instance v17, Landroid/privacy/surrogate/PrivacyCDMAPhone;
 
     sget-object v18, Lcom/android/internal/telephony/PhoneFactory;->sCommandsInterface:Lcom/android/internal/telephony/CommandsInterface;
 
@@ -631,17 +633,19 @@
 
     move-object/from16 v3, v19
 
-    invoke-direct {v0, v1, v2, v3}, Lcom/android/internal/telephony/cdma/CDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v2, v3}, Landroid/privacy/surrogate/PrivacyCDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     move-object/from16 v0, v17
 
-    invoke-direct {v15, v0}, Lcom/android/internal/telephony/PhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;)V
+    move-object/from16 v1, p0
+
+    invoke-direct {v15, v0, v1}, Landroid/privacy/surrogate/PrivacyPhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;Landroid/content/Context;)V
 
     sput-object v15, Lcom/android/internal/telephony/PhoneFactory;->sProxyPhone:Lcom/android/internal/telephony/Phone;
 
-    goto :goto_148
+    goto :goto_14a
 
-    :pswitch_1a6
+    :pswitch_1aa
     const-string v15, "PHONE"
 
     const-string v17, "Creating CDMALTEPhone"
@@ -650,9 +654,9 @@
 
     invoke-static {v15, v0}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
 
-    new-instance v15, Lcom/android/internal/telephony/PhoneProxy;
+    new-instance v15, Landroid/privacy/surrogate/PrivacyPhoneProxy;
 
-    new-instance v17, Lcom/android/internal/telephony/cdma/CDMALTEPhone;
+    new-instance v17, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;
 
     sget-object v18, Lcom/android/internal/telephony/PhoneFactory;->sCommandsInterface:Lcom/android/internal/telephony/CommandsInterface;
 
@@ -666,23 +670,25 @@
 
     move-object/from16 v3, v19
 
-    invoke-direct {v0, v1, v2, v3}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v2, v3}, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     move-object/from16 v0, v17
 
-    invoke-direct {v15, v0}, Lcom/android/internal/telephony/PhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;)V
+    move-object/from16 v1, p0
+
+    invoke-direct {v15, v0, v1}, Landroid/privacy/surrogate/PrivacyPhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;Landroid/content/Context;)V
 
     sput-object v15, Lcom/android/internal/telephony/PhoneFactory;->sProxyPhone:Lcom/android/internal/telephony/Phone;
-    :try_end_1c9
-    .catchall {:try_start_169 .. :try_end_1c9} :catchall_1d
+    :try_end_1cf
+    .catchall {:try_start_16b .. :try_end_1cf} :catchall_1d
 
-    goto/16 :goto_148
+    goto/16 :goto_14a
 
     nop
 
-    :pswitch_data_1cc
+    :pswitch_data_1d2
     .packed-switch 0x1
-        :pswitch_1a6
+        :pswitch_1aa
     .end packed-switch
 .end method
 
diff -Npru '--exclude=CdmaServiceStateTracker.smali' '--exclude=GsmServiceStateTracker.smali' stock-telephony/smali/com/android/internal/telephony/RIL$RILSender.smali pdroid-telephony/smali/com/android/internal/telephony/RIL$RILSender.smali
--- stock-telephony/smali/com/android/internal/telephony/RIL$RILSender.smali	2013-07-07 13:30:02.190968346 -0500
+++ pdroid-telephony/smali/com/android/internal/telephony/RIL$RILSender.smali	2013-07-07 13:29:40.726861911 -0500
@@ -61,7 +61,7 @@
 
     iget v10, v0, Landroid/os/Message;->what:I
 
-    packed-switch v10, :pswitch_data_1fa
+    packed-switch v10, :pswitch_data_200
 
     :cond_11
     :goto_11
@@ -99,7 +99,7 @@
 
     iput v11, v10, Lcom/android/internal/telephony/RIL;->mRequestMessagesPending:I
     :try_end_2f
-    .catchall {:try_start_13 .. :try_end_2f} :catchall_10e
+    .catchall {:try_start_13 .. :try_end_2f} :catchall_114
     .catch Ljava/io/IOException; {:try_start_13 .. :try_end_2f} :catch_87
     .catch Ljava/lang/RuntimeException; {:try_start_13 .. :try_end_2f} :catch_bd
 
@@ -121,7 +121,7 @@
 
     monitor-enter v11
     :try_end_3b
-    .catchall {:try_start_36 .. :try_end_3b} :catchall_10e
+    .catchall {:try_start_36 .. :try_end_3b} :catchall_114
     .catch Ljava/io/IOException; {:try_start_36 .. :try_end_3b} :catch_87
     .catch Ljava/lang/RuntimeException; {:try_start_36 .. :try_end_3b} :catch_bd
 
@@ -180,7 +180,7 @@
 
     const/16 v11, 0x2000
 
-    if-le v10, v11, :cond_dc
+    if-le v10, v11, :cond_df
 
     new-instance v10, Ljava/lang/RuntimeException;
 
@@ -208,7 +208,7 @@
 
     throw v10
     :try_end_87
-    .catchall {:try_start_4b .. :try_end_87} :catchall_10e
+    .catchall {:try_start_4b .. :try_end_87} :catchall_114
     .catch Ljava/io/IOException; {:try_start_4b .. :try_end_87} :catch_87
     .catch Ljava/lang/RuntimeException; {:try_start_4b .. :try_end_87} :catch_bd
 
@@ -243,15 +243,15 @@
 
     invoke-virtual {v8}, Lcom/android/internal/telephony/RILRequest;->release()V
     :try_end_a3
-    .catchall {:try_start_88 .. :try_end_a3} :catchall_10e
+    .catchall {:try_start_88 .. :try_end_a3} :catchall_114
 
     :cond_a3
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
-    :goto_a5
     #calls: Lcom/android/internal/telephony/RIL;->releaseWakeLockIfDone()V
     invoke-static {v10}, Lcom/android/internal/telephony/RIL;->access$000(Lcom/android/internal/telephony/RIL;)V
 
+    :goto_a8
     if-nez v1, :cond_11
 
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
@@ -281,7 +281,7 @@
     :try_start_bc
     throw v10
     :try_end_bd
-    .catchall {:try_start_bc .. :try_end_bd} :catchall_10e
+    .catchall {:try_start_bc .. :try_end_bd} :catchall_114
     .catch Ljava/io/IOException; {:try_start_bc .. :try_end_bd} :catch_87
     .catch Ljava/lang/RuntimeException; {:try_start_bc .. :try_end_bd} :catch_bd
 
@@ -316,15 +316,18 @@
 
     invoke-virtual {v8}, Lcom/android/internal/telephony/RILRequest;->release()V
     :try_end_d9
-    .catchall {:try_start_be .. :try_end_d9} :catchall_10e
+    .catchall {:try_start_be .. :try_end_d9} :catchall_114
 
     :cond_d9
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
-    goto :goto_a5
+    #calls: Lcom/android/internal/telephony/RIL;->releaseWakeLockIfDone()V
+    invoke-static {v10}, Lcom/android/internal/telephony/RIL;->access$000(Lcom/android/internal/telephony/RIL;)V
+
+    goto :goto_a8
 
-    :cond_dc
-    :try_start_dc
+    :cond_df
+    :try_start_df
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->dataLength:[B
 
     const/4 v11, 0x0
@@ -378,16 +381,19 @@
     move-result-object v10
 
     invoke-virtual {v10, v3}, Ljava/io/OutputStream;->write([B)V
-    :try_end_10b
-    .catchall {:try_start_dc .. :try_end_10b} :catchall_10e
-    .catch Ljava/io/IOException; {:try_start_dc .. :try_end_10b} :catch_87
-    .catch Ljava/lang/RuntimeException; {:try_start_dc .. :try_end_10b} :catch_bd
+    :try_end_10e
+    .catchall {:try_start_df .. :try_end_10e} :catchall_114
+    .catch Ljava/io/IOException; {:try_start_df .. :try_end_10e} :catch_87
+    .catch Ljava/lang/RuntimeException; {:try_start_df .. :try_end_10e} :catch_bd
 
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
-    goto :goto_a5
+    #calls: Lcom/android/internal/telephony/RIL;->releaseWakeLockIfDone()V
+    invoke-static {v10}, Lcom/android/internal/telephony/RIL;->access$000(Lcom/android/internal/telephony/RIL;)V
+
+    goto :goto_a8
 
-    :catchall_10e
+    :catchall_114
     move-exception v10
 
     iget-object v11, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
@@ -397,14 +403,14 @@
 
     throw v10
 
-    :pswitch_115
+    :pswitch_11b
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
     iget-object v11, v10, Lcom/android/internal/telephony/RIL;->mWakeLock:Landroid/os/PowerManager$WakeLock;
 
     monitor-enter v11
 
-    :try_start_11a
+    :try_start_120
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
     iget-object v10, v10, Lcom/android/internal/telephony/RIL;->mWakeLock:Landroid/os/PowerManager$WakeLock;
@@ -413,13 +419,13 @@
 
     move-result v10
 
-    if-eqz v10, :cond_1f1
+    if-eqz v10, :cond_1f7
 
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
     iget v10, v10, Lcom/android/internal/telephony/RIL;->mRequestMessagesWaiting:I
 
-    if-eqz v10, :cond_1bd
+    if-eqz v10, :cond_1c3
 
     const-string v10, "RILJ"
 
@@ -470,10 +476,10 @@
     iget-object v12, v10, Lcom/android/internal/telephony/RIL;->mRequestsList:Ljava/util/ArrayList;
 
     monitor-enter v12
-    :try_end_15c
-    .catchall {:try_start_11a .. :try_end_15c} :catchall_1f4
+    :try_end_162
+    .catchall {:try_start_120 .. :try_end_162} :catchall_1fa
 
-    :try_start_15c
+    :try_start_162
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
     iget-object v10, v10, Lcom/android/internal/telephony/RIL;->mRequestsList:Ljava/util/ArrayList;
@@ -506,8 +512,8 @@
 
     const/4 v6, 0x0
 
-    :goto_17d
-    if-ge v6, v2, :cond_1bc
+    :goto_183
+    if-ge v6, v2, :cond_1c2
 
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
@@ -569,20 +575,20 @@
 
     add-int/lit8 v6, v6, 0x1
 
-    goto :goto_17d
+    goto :goto_183
 
-    :cond_1bc
+    :cond_1c2
     monitor-exit v12
-    :try_end_1bd
-    .catchall {:try_start_15c .. :try_end_1bd} :catchall_1f7
+    :try_end_1c3
+    .catchall {:try_start_162 .. :try_end_1c3} :catchall_1fd
 
-    :cond_1bd
-    :try_start_1bd
+    :cond_1c3
+    :try_start_1c3
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
     iget v10, v10, Lcom/android/internal/telephony/RIL;->mRequestMessagesPending:I
 
-    if-eqz v10, :cond_1ea
+    if-eqz v10, :cond_1f0
 
     const-string v10, "RILJ"
 
@@ -622,44 +628,44 @@
 
     iput v12, v10, Lcom/android/internal/telephony/RIL;->mRequestMessagesPending:I
 
-    :cond_1ea
+    :cond_1f0
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
     iget-object v10, v10, Lcom/android/internal/telephony/RIL;->mWakeLock:Landroid/os/PowerManager$WakeLock;
 
     invoke-virtual {v10}, Landroid/os/PowerManager$WakeLock;->release()V
 
-    :cond_1f1
+    :cond_1f7
     monitor-exit v11
 
     goto/16 :goto_11
 
-    :catchall_1f4
+    :catchall_1fa
     move-exception v10
 
     monitor-exit v11
-    :try_end_1f6
-    .catchall {:try_start_1bd .. :try_end_1f6} :catchall_1f4
+    :try_end_1fc
+    .catchall {:try_start_1c3 .. :try_end_1fc} :catchall_1fa
 
     throw v10
 
-    :catchall_1f7
+    :catchall_1fd
     move-exception v10
 
-    :try_start_1f8
+    :try_start_1fe
     monitor-exit v12
-    :try_end_1f9
-    .catchall {:try_start_1f8 .. :try_end_1f9} :catchall_1f7
+    :try_end_1ff
+    .catchall {:try_start_1fe .. :try_end_1ff} :catchall_1fd
 
-    :try_start_1f9
+    :try_start_1ff
     throw v10
-    :try_end_1fa
-    .catchall {:try_start_1f9 .. :try_end_1fa} :catchall_1f4
+    :try_end_200
+    .catchall {:try_start_1ff .. :try_end_200} :catchall_1fa
 
-    :pswitch_data_1fa
+    :pswitch_data_200
     .packed-switch 0x1
         :pswitch_12
-        :pswitch_115
+        :pswitch_11b
     .end packed-switch
 .end method
 
diff -Npru '--exclude=CdmaServiceStateTracker.smali' '--exclude=GsmServiceStateTracker.smali' stock-telephony/smali/com/android/internal/telephony/sip/SipPhoneFactory.smali pdroid-telephony/smali/com/android/internal/telephony/sip/SipPhoneFactory.smali
--- stock-telephony/smali/com/android/internal/telephony/sip/SipPhoneFactory.smali	2013-07-07 13:30:03.402974355 -0500
+++ pdroid-telephony/smali/com/android/internal/telephony/sip/SipPhoneFactory.smali	2013-07-07 13:29:41.750866990 -0500
@@ -24,9 +24,9 @@
 
     move-result-object v1
 
-    new-instance v2, Lcom/android/internal/telephony/sip/SipPhone;
+    new-instance v2, Landroid/privacy/surrogate/PrivacySipPhone;
 
-    invoke-direct {v2, p1, p2, v1}, Lcom/android/internal/telephony/sip/SipPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
+    invoke-direct {v2, p1, p2, v1}, Landroid/privacy/surrogate/PrivacySipPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
     :try_end_e
     .catch Ljava/text/ParseException; {:try_start_0 .. :try_end_e} :catch_f
 
diff -Npru '--exclude=CdmaServiceStateTracker.smali' '--exclude=GsmServiceStateTracker.smali' stock-telephony/smali/com/android/internal/telephony/sip/SipPhone.smali pdroid-telephony/smali/com/android/internal/telephony/sip/SipPhone.smali
--- stock-telephony/smali/com/android/internal/telephony/sip/SipPhone.smali	2013-07-07 13:30:03.402974355 -0500
+++ pdroid-telephony/smali/com/android/internal/telephony/sip/SipPhone.smali	2013-07-07 13:29:39.618856426 -0500
@@ -39,7 +39,7 @@
 
 
 # direct methods
-.method constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
     .registers 8
 
     const/4 v3, 0x0
diff -Npru '--exclude=CdmaServiceStateTracker.smali' '--exclude=GsmServiceStateTracker.smali' stock-telephony/smali/com/android/internal/telephony/SMSDispatcher.smali pdroid-telephony/smali/com/android/internal/telephony/SMSDispatcher.smali
--- stock-telephony/smali/com/android/internal/telephony/SMSDispatcher.smali	2013-07-07 13:30:02.226968536 -0500
+++ pdroid-telephony/smali/com/android/internal/telephony/SMSDispatcher.smali	2013-07-07 13:29:40.806862305 -0500
@@ -14,6 +14,10 @@
 
 
 # static fields
+.field protected static final ACCESS_TYPE_ICC:I = 0x1
+
+.field protected static final ACCESS_TYPE_SMS_MMS:I = 0x0
+
 .field private static final DESTINATION_PORT_COLUMN:I = 0x2
 
 .field private static final EVENT_CONFIRM_SEND_TO_POSSIBLE_PREMIUM_SHORT_CODE:I = 0x8
@@ -48,6 +52,8 @@
 
 .field private static final PREMIUM_RULE_USE_SIM:I = 0x1
 
+.field protected static final P_TAG:Ljava/lang/String; = "PrivacySMSDispatcher"
+
 .field public static final RECEIVE_EMERGENCY_BROADCAST_PERMISSION:Ljava/lang/String; = "android.permission.RECEIVE_EMERGENCY_BROADCAST"
 
 .field public static final RECEIVE_SMS_PERMISSION:Ljava/lang/String; = "android.permission.RECEIVE_SMS"
@@ -119,6 +125,8 @@
 
 .field protected final mWapPush:Lcom/android/internal/telephony/WapPushOverSms;
 
+.field protected pSetMan:Landroid/privacy/PrivacySettingsManager;
+
 
 # direct methods
 .method static constructor <clinit>()V
@@ -284,6 +292,27 @@
 
     invoke-direct {p0}, Lcom/android/internal/telephony/SMSDispatcher;->createWakelock()V
 
+    iget-object v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v0, :cond_7d
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "privacy"
+
+    invoke-static {v4}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v4
+
+    invoke-static {v4}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v4
+
+    invoke-direct {v0, v3, v4}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    :cond_7d
     iget-object v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->mContext:Landroid/content/Context;
 
     invoke-virtual {v0}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
@@ -306,11 +335,11 @@
 
     move-result v0
 
-    if-nez v0, :cond_da
+    if-nez v0, :cond_ee
 
     move v0, v1
 
-    :goto_83
+    :goto_97
     iput-boolean v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->mSmsReceiveDisabled:Z
 
     const-string v0, "telephony.sms.send"
@@ -321,9 +350,9 @@
 
     move-result v0
 
-    if-nez v0, :cond_dc
+    if-nez v0, :cond_f0
 
-    :goto_8f
+    :goto_a3
     iput-boolean v1, p0, Lcom/android/internal/telephony/SMSDispatcher;->mSmsSendDisabled:Z
 
     const-string v0, "telephony.sms.pseudo_multipart"
@@ -398,15 +427,15 @@
 
     return-void
 
-    :cond_da
+    :cond_ee
     move v0, v2
 
-    goto :goto_83
+    goto :goto_97
 
-    :cond_dc
+    :cond_f0
     move v1, v2
 
-    goto :goto_8f
+    goto :goto_a3
 .end method
 
 .method private createWakelock()V
@@ -1339,6 +1368,26 @@
 .method protected abstract getFormat()Ljava/lang/String;
 .end method
 
+.method protected getPackageName()[Ljava/lang/String;
+    .registers 4
+
+    iget-object v2, p0, Lcom/android/internal/telephony/SMSDispatcher;->mContext:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageManager()Landroid/content/pm/PackageManager;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    invoke-virtual {v1, v2}, Landroid/content/pm/PackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
 .method public getPremiumSmsPermission(Ljava/lang/String;)I
     .registers 3
 
@@ -2149,6 +2198,348 @@
     goto/16 :goto_42
 .end method
 
+.method protected isAllowed([Ljava/lang/String;I)Z
+    .registers 12
+
+    const/4 v8, -0x1
+
+    const/4 v4, 0x1
+
+    const/4 v3, 0x0
+
+    packed-switch p2, :pswitch_data_e6
+
+    const/4 v5, 0x0
+
+    :try_start_7
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    :goto_e
+    return v3
+
+    :pswitch_f
+    const/4 v2, 0x0
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_26
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_26
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_7e
+
+    if-eqz p1, :cond_7e
+
+    const/4 v1, 0x0
+
+    :goto_2d
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_75
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_71
+
+    if-eqz v2, :cond_71
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getSmsSendSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_71
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+    :try_end_4b
+    .catch Ljava/lang/Exception; {:try_start_7 .. :try_end_4b} :catch_4c
+
+    goto :goto_e
+
+    :catch_4c
+    move-exception v0
+
+    const-string v5, "PrivacySMSDispatcher"
+
+    const-string v6, "Got exception while checking for sms or ICC acess permission"
+
+    invoke-static {v5, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    if-eqz p1, :cond_6f
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_6f
+
+    array-length v5, p1
+
+    if-lez v5, :cond_6f
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v3
+
+    invoke-virtual {v5, v6, v8}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_6f
+
+    aget-object v5, p1, v3
+
+    invoke-virtual {p0, p2, v5, v3}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    :cond_6f
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_71
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_2d
+
+    :cond_75
+    const/4 v5, 0x0
+
+    :try_start_76
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_7e
+    if-eqz p1, :cond_8a
+
+    array-length v5, p1
+
+    if-lez v5, :cond_8a
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    :cond_8a
+    move v3, v4
+
+    goto :goto_e
+
+    :pswitch_8c
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_a2
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_a2
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_d7
+
+    if-eqz p1, :cond_d7
+
+    const/4 v1, 0x0
+
+    :goto_a9
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_cd
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_c9
+
+    if-eqz v2, :cond_c9
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getIccAccessSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_c9
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    goto/16 :goto_e
+
+    :cond_c9
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_a9
+
+    :cond_cd
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :cond_d7
+    if-eqz p1, :cond_e3
+
+    array-length v5, p1
+
+    if-lez v5, :cond_e3
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+    :try_end_e3
+    .catch Ljava/lang/Exception; {:try_start_76 .. :try_end_e3} :catch_4c
+
+    :cond_e3
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :pswitch_data_e6
+    .packed-switch 0x0
+        :pswitch_f
+        :pswitch_8c
+    .end packed-switch
+.end method
+
+.method protected notify(ILjava/lang/String;B)V
+    .registers 11
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    packed-switch p1, :pswitch_data_1c
+
+    :goto_5
+    return-void
+
+    :pswitch_6
+    iget-object v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "SmsSend"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_11
+    iget-object v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "iccAccess"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_data_1c
+    .packed-switch 0x0
+        :pswitch_6
+        :pswitch_11
+    .end packed-switch
+.end method
+
 .method protected processMessagePart([BLjava/lang/String;IIIJIZ)I
     .registers 34
 
@@ -2980,7 +3371,7 @@
     :try_start_7
     invoke-virtual {p3, v2}, Landroid/app/PendingIntent;->send(I)V
     :try_end_a
-    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_7 .. :try_end_a} :catch_b7
+    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_7 .. :try_end_a} :catch_d3
 
     :cond_a
     :goto_a
@@ -3014,6 +3405,41 @@
     goto :goto_11
 
     :cond_1d
+    invoke-virtual {p0}, Lcom/android/internal/telephony/SMSDispatcher;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v2
+
+    const/4 v3, 0x0
+
+    invoke-virtual {p0, v2, v3}, Lcom/android/internal/telephony/SMSDispatcher;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v2
+
+    if-nez v2, :cond_38
+
+    if-eqz p3, :cond_11
+
+    const/4 v2, 0x1
+
+    :try_start_2b
+    invoke-virtual {p3, v2}, Landroid/app/PendingIntent;->send(I)V
+
+    const-string v2, "SMS"
+
+    const-string v3, "fake also delivery state to radio off!"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_35
+    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_2b .. :try_end_35} :catch_36
+
+    goto :goto_11
+
+    :catch_36
+    move-exception v2
+
+    goto :goto_11
+
+    :cond_38
     new-instance v1, Ljava/util/HashMap;
 
     invoke-direct {v1}, Ljava/util/HashMap;-><init>()V
@@ -3040,13 +3466,13 @@
 
     move-result-object v8
 
-    if-eqz v8, :cond_3f
+    if-eqz v8, :cond_5a
 
     array-length v2, v8
 
-    if-nez v2, :cond_56
+    if-nez v2, :cond_71
 
-    :cond_3f
+    :cond_5a
     const-string v2, "SMS"
 
     const-string v3, "Can\'t get calling app package name: refusing to send SMS"
@@ -3057,14 +3483,14 @@
 
     const/4 v2, 0x1
 
-    :try_start_49
+    :try_start_64
     invoke-virtual {p3, v2}, Landroid/app/PendingIntent;->send(I)V
-    :try_end_4c
-    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_49 .. :try_end_4c} :catch_4d
+    :try_end_67
+    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_64 .. :try_end_67} :catch_68
 
     goto :goto_11
 
-    :catch_4d
+    :catch_68
     move-exception v7
 
     const-string v2, "SMS"
@@ -3075,19 +3501,19 @@
 
     goto :goto_11
 
-    :cond_56
+    :cond_71
     const/4 v4, 0x0
 
     const/4 v2, 0x0
 
-    :try_start_58
+    :try_start_73
     aget-object v2, v8, v2
 
     const/16 v3, 0x40
 
     invoke-virtual {v9, v2, v3}, Landroid/content/pm/PackageManager;->getPackageInfo(Ljava/lang/String;I)Landroid/content/pm/PackageInfo;
-    :try_end_5f
-    .catch Landroid/content/pm/PackageManager$NameNotFoundException; {:try_start_58 .. :try_end_5f} :catch_85
+    :try_end_7a
+    .catch Landroid/content/pm/PackageManager$NameNotFoundException; {:try_start_73 .. :try_end_7a} :catch_a1
 
     move-result-object v4
 
@@ -3119,7 +3545,7 @@
 
     move-result v2
 
-    if-nez v2, :cond_9f
+    if-nez v2, :cond_bb
 
     const/4 v2, 0x4
 
@@ -3129,9 +3555,9 @@
 
     invoke-virtual {p0, v2}, Lcom/android/internal/telephony/SMSDispatcher;->sendMessage(Landroid/os/Message;)Z
 
-    goto :goto_11
+    goto/16 :goto_11
 
-    :catch_85
+    :catch_a1
     move-exception v6
 
     const-string v2, "SMS"
@@ -3144,14 +3570,14 @@
 
     const/4 v2, 0x1
 
-    :try_start_90
+    :try_start_ac
     invoke-virtual {p3, v2}, Landroid/app/PendingIntent;->send(I)V
-    :try_end_93
-    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_90 .. :try_end_93} :catch_95
+    :try_end_af
+    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_ac .. :try_end_af} :catch_b1
 
     goto/16 :goto_11
 
-    :catch_95
+    :catch_b1
     move-exception v7
 
     const-string v2, "SMS"
@@ -3162,7 +3588,7 @@
 
     goto/16 :goto_11
 
-    :cond_9f
+    :cond_bb
     iget-object v2, p0, Lcom/android/internal/telephony/SMSDispatcher;->mPhone:Lcom/android/internal/telephony/Phone;
 
     invoke-interface {v2}, Lcom/android/internal/telephony/Phone;->getServiceState()Landroid/telephony/ServiceState;
@@ -3173,7 +3599,7 @@
 
     move-result v10
 
-    if-eqz v10, :cond_b2
+    if-eqz v10, :cond_ce
 
     iget-object v2, v0, Lcom/android/internal/telephony/SMSDispatcher$SmsTracker;->mSentIntent:Landroid/app/PendingIntent;
 
@@ -3181,12 +3607,12 @@
 
     goto/16 :goto_11
 
-    :cond_b2
+    :cond_ce
     invoke-virtual {p0, v0}, Lcom/android/internal/telephony/SMSDispatcher;->sendSms(Lcom/android/internal/telephony/SMSDispatcher$SmsTracker;)V
 
     goto/16 :goto_11
 
-    :catch_b7
+    :catch_d3
     move-exception v2
 
     goto/16 :goto_a
