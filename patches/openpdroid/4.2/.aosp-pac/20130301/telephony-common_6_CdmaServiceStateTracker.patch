diff -Npru stock-telephony/smali/com/android/internal/telephony/cdma/CdmaServiceStateTracker.smali opd-telephony/smali/com/android/internal/telephony/cdma/CdmaServiceStateTracker.smali
--- stock-telephony/smali/com/android/internal/telephony/cdma/CdmaServiceStateTracker.smali	2013-03-01 15:22:50.375938922 -0600
+++ opd-telephony/smali/com/android/internal/telephony/cdma/CdmaServiceStateTracker.smali	2013-03-01 15:23:01.387993528 -0600
@@ -46,6 +46,8 @@
 
 .field private mCdmaSSM:Lcom/android/internal/telephony/cdma/CdmaSubscriptionSourceManager;
 
+.field private mContext:Landroid/content/Context;
+
 .field protected mCurPlmn:Ljava/lang/String;
 
 .field mCurrentOtaspMode:I
@@ -102,6 +104,8 @@
 
 .field newCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
 .field phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
 
@@ -259,7 +263,7 @@
 
     move-result v2
 
-    if-nez v2, :cond_f9
+    if-nez v2, :cond_112
 
     move v2, v3
 
@@ -359,12 +363,36 @@
 
     invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->setSignalStrengthDefaultValues()V
 
+    invoke-virtual {p1}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getContext()Landroid/content/Context;
+
+    move-result-object v2
+
+    iput-object v2, p0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
+
+    new-instance v2, Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v3, p0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
+
+    const-string v4, "privacy"
+
+    invoke-static {v4}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v4
+
+    invoke-static {v4}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v4
+
+    invoke-direct {v2, v3, v4}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v2, p0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
     return-void
 
-    :cond_f9
+    :cond_112
     move v2, v4
 
-    goto :goto_92
+    goto/16 :goto_92
 .end method
 
 .method static synthetic access$000(Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;)V
@@ -3875,7 +3903,7 @@
 .end method
 
 .method public handleMessage(Landroid/os/Message;)V
-    .registers 22
+    .registers 24
 
     move-object/from16 v0, p0
 
@@ -3889,9 +3917,9 @@
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v18, "Received message "
+    const-string v20, "Received message "
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -3903,9 +3931,9 @@
 
     move-result-object v3
 
-    const-string v18, "["
+    const-string v20, "["
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -3915,25 +3943,25 @@
 
     iget v0, v0, Landroid/os/Message;->what:I
 
-    move/from16 v18, v0
+    move/from16 v20, v0
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    const-string v18, "]"
+    const-string v20, "]"
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    const-string v18, " while being destroyed. Ignoring."
+    const-string v20, " while being destroyed. Ignoring."
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -3956,7 +3984,7 @@
 
     iget v3, v0, Landroid/os/Message;->what:I
 
-    packed-switch v3, :pswitch_data_320
+    packed-switch v3, :pswitch_data_384
 
     :pswitch_50
     invoke-super/range {p0 .. p1}, Lcom/android/internal/telephony/ServiceStateTracker;->handleMessage(Landroid/os/Message;)V
@@ -3993,9 +4021,9 @@
 
     move-result v3
 
-    const/16 v18, 0x1
+    const/16 v20, 0x1
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
     if-ne v3, v0, :cond_88
 
@@ -4041,9 +4069,9 @@
 
     move-result-object v3
 
-    sget-object v18, Lcom/android/internal/telephony/CommandsInterface$RadioState;->RADIO_ON:Lcom/android/internal/telephony/CommandsInterface$RadioState;
+    sget-object v20, Lcom/android/internal/telephony/CommandsInterface$RadioState;->RADIO_ON:Lcom/android/internal/telephony/CommandsInterface$RadioState;
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     if-ne v3, v0, :cond_b5
 
@@ -4113,15 +4141,15 @@
 
     iget-object v3, v9, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    if-nez v3, :cond_15b
+    if-nez v3, :cond_185
 
     iget-object v3, v9, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
     check-cast v3, [Ljava/lang/String;
 
-    move-object/from16 v17, v3
+    move-object/from16 v18, v3
 
-    check-cast v17, [Ljava/lang/String;
+    check-cast v18, [Ljava/lang/String;
 
     const/4 v4, -0x1
 
@@ -4133,26 +4161,26 @@
 
     const/4 v8, -0x1
 
-    move-object/from16 v0, v17
+    move-object/from16 v0, v18
 
     array-length v3, v0
 
-    const/16 v18, 0x9
+    const/16 v20, 0x9
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
     if-le v3, v0, :cond_14d
 
     const/4 v3, 0x4
 
     :try_start_104
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_10f
 
     const/4 v3, 0x4
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
@@ -4161,13 +4189,13 @@
     :cond_10f
     const/4 v3, 0x5
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_11b
 
     const/4 v3, 0x5
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
@@ -4176,13 +4204,13 @@
     :cond_11b
     const/4 v3, 0x6
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_127
 
     const/4 v3, 0x6
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
@@ -4200,13 +4228,13 @@
     :cond_131
     const/16 v3, 0x8
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_13f
 
     const/16 v3, 0x8
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
@@ -4215,17 +4243,17 @@
     :cond_13f
     const/16 v3, 0x9
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_14d
 
     const/16 v3, 0x9
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
     :try_end_14c
-    .catch Ljava/lang/NumberFormatException; {:try_start_104 .. :try_end_14c} :catch_160
+    .catch Ljava/lang/NumberFormatException; {:try_start_104 .. :try_end_14c} :catch_18a
 
     move-result v8
 
@@ -4233,31 +4261,74 @@
     :goto_14d
     move-object/from16 v0, p0
 
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
+
+    move-object/from16 v20, v0
+
+    invoke-virtual/range {v20 .. v20}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v20
+
+    const/16 v21, 0x0
+
+    move-object/from16 v0, v20
+
+    move/from16 v1, v21
+
+    invoke-virtual {v3, v0, v1}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v17
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_1a6
+
+    if-eqz v17, :cond_1a6
+
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const/16 v20, 0x1
+
+    move/from16 v0, v20
+
+    if-ne v3, v0, :cond_1a6
+
+    move-object/from16 v0, p0
+
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
+    invoke-virtual {v3}, Landroid/telephony/cdma/CdmaCellLocation;->setStateInvalid()V
 
+    :goto_17e
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
     invoke-virtual {v3}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyLocationChanged()V
 
-    :cond_15b
+    :cond_185
     invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->disableSingleLocationUpdate()V
 
     goto/16 :goto_48
 
-    :catch_160
+    :catch_18a
     move-exception v11
 
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v18, "error parsing cell location data: "
+    const-string v20, "error parsing cell location data: "
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -4277,7 +4348,67 @@
 
     goto :goto_14d
 
-    :pswitch_17c
+    :cond_1a6
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_1d9
+
+    if-eqz v17, :cond_1d9
+
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const/16 v20, 0x3
+
+    move/from16 v0, v20
+
+    if-ne v3, v0, :cond_1d9
+
+    new-instance v19, Ljava/util/Random;
+
+    invoke-direct/range {v19 .. v19}, Ljava/util/Random;-><init>()V
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cellLoc:Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v4
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v5
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v6
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v7
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v8
+
+    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
+
+    goto :goto_17e
+
+    :cond_1d9
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cellLoc:Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
+
+    goto :goto_17e
+
+    :pswitch_1e1
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4294,7 +4425,7 @@
 
     goto/16 :goto_48
 
-    :pswitch_18d
+    :pswitch_1f2
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4313,15 +4444,15 @@
 
     check-cast v10, [Ljava/lang/String;
 
-    if-eqz v10, :cond_21f
+    if-eqz v10, :cond_284
 
     array-length v3, v10
 
-    const/16 v18, 0x5
+    const/16 v20, 0x5
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
-    if-lt v3, v0, :cond_21f
+    if-lt v3, v0, :cond_284
 
     const/4 v3, 0x0
 
@@ -4335,13 +4466,13 @@
 
     aget-object v3, v10, v3
 
-    const/16 v18, 0x2
+    const/16 v20, 0x2
 
-    aget-object v18, v10, v18
+    aget-object v20, v10, v20
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v18
+    move-object/from16 v1, v20
 
     invoke-virtual {v0, v3, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->parseSidNid(Ljava/lang/String;Ljava/lang/String;)V
 
@@ -4365,9 +4496,9 @@
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v18, "GET_CDMA_SUBSCRIPTION: MDN="
+    const-string v20, "GET_CDMA_SUBSCRIPTION: MDN="
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -4377,9 +4508,9 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mMdn:Ljava/lang/String;
 
-    move-object/from16 v18, v0
+    move-object/from16 v20, v0
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -4405,13 +4536,13 @@
 
     iget-boolean v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->isSubscriptionFromRuim:Z
 
-    if-nez v3, :cond_216
+    if-nez v3, :cond_27b
 
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mIccRecords:Lcom/android/internal/telephony/IccRecords;
 
-    if-eqz v3, :cond_216
+    if-eqz v3, :cond_27b
 
     const-string v3, "GET_CDMA_SUBSCRIPTION set imsi in mIccRecords"
 
@@ -4425,15 +4556,15 @@
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->getImsi()Ljava/lang/String;
 
-    move-result-object v18
+    move-result-object v20
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Lcom/android/internal/telephony/IccRecords;->setImsi(Ljava/lang/String;)V
 
     goto/16 :goto_48
 
-    :cond_216
+    :cond_27b
     const-string v3, "GET_CDMA_SUBSCRIPTION either mIccRecords is null  or NV type device - not setting Imsi in mIccRecords"
 
     move-object/from16 v0, p0
@@ -4442,14 +4573,14 @@
 
     goto/16 :goto_48
 
-    :cond_21f
+    :cond_284
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v18, "GET_CDMA_SUBSCRIPTION: error parsing cdmaSubscription params num="
+    const-string v20, "GET_CDMA_SUBSCRIPTION: error parsing cdmaSubscription params num="
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -4457,9 +4588,9 @@
 
     array-length v0, v10
 
-    move/from16 v18, v0
+    move/from16 v20, v0
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
@@ -4475,28 +4606,28 @@
 
     goto/16 :goto_48
 
-    :pswitch_240
+    :pswitch_2a5
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    const/16 v18, 0x3
+    const/16 v20, 0x3
 
     move-object/from16 v0, p0
 
-    move/from16 v1, v18
+    move/from16 v1, v20
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->obtainMessage(I)Landroid/os/Message;
 
-    move-result-object v18
+    move-result-object v20
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-interface {v3, v0}, Lcom/android/internal/telephony/CommandsInterface;->getSignalStrength(Landroid/os/Message;)V
 
     goto/16 :goto_48
 
-    :pswitch_255
+    :pswitch_2ba
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4509,9 +4640,9 @@
 
     check-cast v3, [Ljava/lang/Object;
 
-    const/16 v18, 0x0
+    const/16 v20, 0x0
 
-    aget-object v15, v3, v18
+    aget-object v15, v3, v20
 
     check-cast v15, Ljava/lang/String;
 
@@ -4521,9 +4652,9 @@
 
     check-cast v3, [Ljava/lang/Object;
 
-    const/16 v18, 0x1
+    const/16 v20, 0x1
 
-    aget-object v3, v3, v18
+    aget-object v3, v3, v20
 
     check-cast v3, Ljava/lang/Long;
 
@@ -4537,7 +4668,7 @@
 
     goto/16 :goto_48
 
-    :pswitch_27e
+    :pswitch_2e3
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4558,12 +4689,12 @@
 
     goto/16 :goto_48
 
-    :pswitch_291
+    :pswitch_2f6
     invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->updateSpnDisplay()V
 
     goto/16 :goto_48
 
-    :pswitch_296
+    :pswitch_2fb
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4578,27 +4709,27 @@
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    const/16 v18, 0x1f
+    const/16 v20, 0x1f
 
-    const/16 v19, 0x0
+    const/16 v21, 0x0
 
     move-object/from16 v0, p0
 
-    move/from16 v1, v18
+    move/from16 v1, v20
 
-    move-object/from16 v2, v19
+    move-object/from16 v2, v21
 
     invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
 
-    move-result-object v18
+    move-result-object v20
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-interface {v3, v0}, Lcom/android/internal/telephony/CommandsInterface;->getVoiceRegistrationState(Landroid/os/Message;)V
 
     goto/16 :goto_48
 
-    :pswitch_2b9
+    :pswitch_31e
     const-string v3, "[CdmaServiceStateTracker] ERI file has been loaded, repolling."
 
     move-object/from16 v0, p0
@@ -4609,7 +4740,7 @@
 
     goto/16 :goto_48
 
-    :pswitch_2c5
+    :pswitch_32a
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4636,7 +4767,7 @@
 
     move/from16 v0, v16
 
-    if-eq v0, v3, :cond_2e5
+    if-eq v0, v3, :cond_34a
 
     const/16 v3, 0xa
 
@@ -4644,7 +4775,7 @@
 
     if-ne v0, v3, :cond_48
 
-    :cond_2e5
+    :cond_34a
     const-string v3, "EVENT_OTA_PROVISION_STATUS_CHANGE: Complete, Reload MDN"
 
     move-object/from16 v0, p0
@@ -4655,23 +4786,23 @@
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    const/16 v18, 0x22
+    const/16 v20, 0x22
 
     move-object/from16 v0, p0
 
-    move/from16 v1, v18
+    move/from16 v1, v20
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->obtainMessage(I)Landroid/os/Message;
 
-    move-result-object v18
+    move-result-object v20
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-interface {v3, v0}, Lcom/android/internal/telephony/CommandsInterface;->getCDMASubscription(Landroid/os/Message;)V
 
     goto/16 :goto_48
 
-    :pswitch_301
+    :pswitch_366
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4704,9 +4835,7 @@
 
     goto/16 :goto_48
 
-    nop
-
-    :pswitch_data_320
+    :pswitch_data_384
     .packed-switch 0x1
         :pswitch_97
         :pswitch_50
@@ -4717,37 +4846,37 @@
         :pswitch_50
         :pswitch_50
         :pswitch_50
-        :pswitch_240
-        :pswitch_255
-        :pswitch_27e
+        :pswitch_2a5
+        :pswitch_2ba
+        :pswitch_2e3
         :pswitch_50
         :pswitch_50
         :pswitch_50
         :pswitch_50
         :pswitch_50
-        :pswitch_296
+        :pswitch_2fb
         :pswitch_50
         :pswitch_50
         :pswitch_50
         :pswitch_50
         :pswitch_50
-        :pswitch_17c
-        :pswitch_17c
+        :pswitch_1e1
+        :pswitch_1e1
         :pswitch_62
-        :pswitch_291
+        :pswitch_2f6
         :pswitch_50
         :pswitch_50
         :pswitch_bc
         :pswitch_df
         :pswitch_50
         :pswitch_50
-        :pswitch_18d
+        :pswitch_1f2
         :pswitch_93
-        :pswitch_2b9
-        :pswitch_2c5
+        :pswitch_31e
+        :pswitch_32a
         :pswitch_50
         :pswitch_54
-        :pswitch_301
+        :pswitch_366
     .end packed-switch
 .end method
 
@@ -5180,9 +5309,33 @@
 .end method
 
 .method protected handlePollStateResultMessage(ILandroid/os/AsyncResult;)V
-    .registers 25
+    .registers 27
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
 
-    packed-switch p1, :pswitch_data_26e
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
+
+    move-object/from16 v21, v0
+
+    invoke-virtual/range {v21 .. v21}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v21
+
+    const/16 v22, 0x0
+
+    move-object/from16 v0, v21
+
+    move/from16 v1, v22
+
+    invoke-virtual {v3, v0, v1}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v17
+
+    packed-switch p1, :pswitch_data_31c
 
     const-string v3, "handlePollStateResultMessage: RIL response handle in wrong phone! Expected CDMA RIL request and get GSM RIL request."
 
@@ -5190,20 +5343,20 @@
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    :cond_a
-    :goto_a
+    :cond_22
+    :goto_22
     return-void
 
-    :pswitch_b
+    :pswitch_23
     move-object/from16 v0, p2
 
     iget-object v3, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
     check-cast v3, [Ljava/lang/String;
 
-    move-object/from16 v17, v3
+    move-object/from16 v18, v3
 
-    check-cast v17, [Ljava/lang/String;
+    check-cast v18, [Ljava/lang/String;
 
     const/4 v15, 0x4
 
@@ -5223,215 +5376,215 @@
 
     const/16 v16, -0x1
 
-    const/16 v18, 0x0
+    const/16 v19, 0x0
 
     const/4 v10, 0x0
 
     const/4 v14, 0x0
 
-    move-object/from16 v0, v17
+    move-object/from16 v0, v18
 
     array-length v3, v0
 
-    const/16 v19, 0xe
+    const/16 v21, 0xe
 
-    move/from16 v0, v19
+    move/from16 v0, v21
 
-    if-lt v3, v0, :cond_180
+    if-lt v3, v0, :cond_1aa
 
     const/4 v3, 0x0
 
-    :try_start_31
-    aget-object v3, v17, v3
+    :try_start_49
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_3c
+    if-eqz v3, :cond_54
 
     const/4 v3, 0x0
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v15
 
-    :cond_3c
+    :cond_54
     const/4 v3, 0x3
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_48
+    if-eqz v3, :cond_60
 
     const/4 v3, 0x3
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v13
 
-    :cond_48
+    :cond_60
     const/4 v3, 0x4
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_54
+    if-eqz v3, :cond_6c
 
     const/4 v3, 0x4
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v4
 
-    :cond_54
+    :cond_6c
     const/4 v3, 0x5
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_60
+    if-eqz v3, :cond_78
 
     const/4 v3, 0x5
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v5
 
-    :cond_60
+    :cond_78
     const/4 v3, 0x6
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_6c
+    if-eqz v3, :cond_84
 
     const/4 v3, 0x6
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v6
 
-    :cond_6c
-    if-nez v5, :cond_76
+    :cond_84
+    if-nez v5, :cond_8e
 
-    if-nez v6, :cond_76
+    if-nez v6, :cond_8e
 
     const v5, 0x7fffffff
 
     const v6, 0x7fffffff
 
-    :cond_76
+    :cond_8e
     const/4 v3, 0x7
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_82
+    if-eqz v3, :cond_9a
 
     const/4 v3, 0x7
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v9
 
-    :cond_82
+    :cond_9a
     const/16 v3, 0x8
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_90
+    if-eqz v3, :cond_a8
 
     const/16 v3, 0x8
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v7
 
-    :cond_90
+    :cond_a8
     const/16 v3, 0x9
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_9e
+    if-eqz v3, :cond_b6
 
     const/16 v3, 0x9
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v8
 
-    :cond_9e
+    :cond_b6
     const/16 v3, 0xa
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_ac
+    if-eqz v3, :cond_c4
 
     const/16 v3, 0xa
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v16
 
-    :cond_ac
+    :cond_c4
     const/16 v3, 0xb
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_ba
+    if-eqz v3, :cond_d2
 
     const/16 v3, 0xb
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
-    move-result v18
+    move-result v19
 
-    :cond_ba
+    :cond_d2
     const/16 v3, 0xc
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_c8
+    if-eqz v3, :cond_e0
 
     const/16 v3, 0xc
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v10
 
-    :cond_c8
+    :cond_e0
     const/16 v3, 0xd
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_d6
+    if-eqz v3, :cond_ee
 
     const/16 v3, 0xd
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
-    :try_end_d5
-    .catch Ljava/lang/NumberFormatException; {:try_start_31 .. :try_end_d5} :catch_163
+    :try_end_ed
+    .catch Ljava/lang/NumberFormatException; {:try_start_49 .. :try_end_ed} :catch_18d
 
     move-result v14
 
-    :cond_d6
-    :goto_d6
+    :cond_ee
+    :goto_ee
     move-object/from16 v0, p0
 
     iput v15, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationState:I
@@ -5442,11 +5595,11 @@
 
     move-result v3
 
-    if-eqz v3, :cond_1a6
+    if-eqz v3, :cond_1d0
 
     const/16 v3, 0xa
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     move-object/from16 v0, p0
 
@@ -5454,11 +5607,11 @@
 
     move-result v3
 
-    if-nez v3, :cond_1a6
+    if-nez v3, :cond_1d0
 
     const/4 v3, 0x1
 
-    :goto_ef
+    :goto_107
     move-object/from16 v0, p0
 
     iput-boolean v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mCdmaRoaming:Z
@@ -5471,9 +5624,9 @@
 
     invoke-virtual {v0, v15}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->regCodeToServiceState(I)I
 
-    move-result v19
+    move-result v21
 
-    move/from16 v0, v19
+    move/from16 v0, v21
 
     invoke-virtual {v3, v0}, Landroid/telephony/ServiceState;->setState(I)V
 
@@ -5499,11 +5652,11 @@
 
     iput v0, v1, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRoamingIndicator:I
 
-    if-nez v18, :cond_1a9
+    if-nez v19, :cond_1d3
 
     const/4 v3, 0x0
 
-    :goto_11e
+    :goto_136
     move-object/from16 v0, p0
 
     iput-boolean v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mIsInPrl:Z
@@ -5514,11 +5667,30 @@
 
     move-object/from16 v0, p0
 
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_1d6
+
+    if-eqz v17, :cond_1d6
+
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const/16 v21, 0x1
+
+    move/from16 v0, v21
+
+    if-ne v3, v0, :cond_1d6
+
+    move-object/from16 v0, p0
+
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
+    invoke-virtual {v3}, Landroid/telephony/cdma/CdmaCellLocation;->setStateInvalid()V
 
-    if-nez v14, :cond_1ac
+    :goto_157
+    if-nez v14, :cond_213
 
     const-string v3, "General"
 
@@ -5526,24 +5698,24 @@
 
     iput-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
 
-    :goto_135
+    :goto_15f
     move-object/from16 v0, p0
 
     iget v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationState:I
 
-    const/16 v19, 0x3
+    const/16 v21, 0x3
 
-    move/from16 v0, v19
+    move/from16 v0, v21
 
-    if-ne v3, v0, :cond_a
+    if-ne v3, v0, :cond_22
 
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v19, "Registration denied, "
+    const-string v21, "Registration denied, "
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5553,9 +5725,9 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
 
-    move-object/from16 v19, v0
+    move-object/from16 v21, v0
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5569,18 +5741,18 @@
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
-    goto/16 :goto_a
+    goto/16 :goto_22
 
-    :catch_163
+    :catch_18d
     move-exception v11
 
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v19, "EVENT_POLL_STATE_REGISTRATION_CDMA: error parsing: "
+    const-string v21, "EVENT_POLL_STATE_REGISTRATION_CDMA: error parsing: "
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5598,180 +5770,240 @@
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    goto/16 :goto_d6
+    goto/16 :goto_ee
 
-    :cond_180
+    :cond_1aa
     new-instance v3, Ljava/lang/RuntimeException;
 
-    new-instance v19, Ljava/lang/StringBuilder;
+    new-instance v21, Ljava/lang/StringBuilder;
 
-    invoke-direct/range {v19 .. v19}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct/range {v21 .. v21}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v20, "Warning! Wrong number of parameters returned from RIL_REQUEST_REGISTRATION_STATE: expected 14 or more strings and got "
+    const-string v22, "Warning! Wrong number of parameters returned from RIL_REQUEST_REGISTRATION_STATE: expected 14 or more strings and got "
 
-    invoke-virtual/range {v19 .. v20}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v19
+    move-result-object v21
 
-    move-object/from16 v0, v17
+    move-object/from16 v0, v18
 
     array-length v0, v0
 
-    move/from16 v20, v0
+    move/from16 v22, v0
 
-    invoke-virtual/range {v19 .. v20}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    move-result-object v19
+    move-result-object v21
 
-    const-string v20, " strings"
+    const-string v22, " strings"
 
-    invoke-virtual/range {v19 .. v20}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v19
+    move-result-object v21
 
-    invoke-virtual/range {v19 .. v19}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual/range {v21 .. v21}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v19
+    move-result-object v21
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-direct {v3, v0}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
 
     throw v3
 
-    :cond_1a6
+    :cond_1d0
     const/4 v3, 0x0
 
-    goto/16 :goto_ef
+    goto/16 :goto_107
 
-    :cond_1a9
+    :cond_1d3
     const/4 v3, 0x1
 
-    goto/16 :goto_11e
+    goto/16 :goto_136
 
-    :cond_1ac
-    const/4 v3, 0x1
+    :cond_1d6
+    move-object/from16 v0, p0
 
-    if-ne v14, v3, :cond_1b6
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    const-string v3, "Authentication Failure"
+    if-eqz v3, :cond_20a
 
-    move-object/from16 v0, p0
+    if-eqz v17, :cond_20a
 
-    iput-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
 
-    goto :goto_135
+    move-result v3
 
-    :cond_1b6
-    const-string v3, ""
+    const/16 v21, 0x3
 
-    move-object/from16 v0, p0
+    move/from16 v0, v21
 
-    iput-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
+    if-ne v3, v0, :cond_20a
 
-    goto/16 :goto_135
+    new-instance v20, Ljava/util/Random;
 
-    :pswitch_1be
-    move-object/from16 v0, p2
+    invoke-direct/range {v20 .. v20}, Ljava/util/Random;-><init>()V
 
-    iget-object v3, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    move-object/from16 v0, p0
 
-    check-cast v3, [Ljava/lang/String;
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object v12, v3
+    invoke-virtual/range {v20 .. v20}, Ljava/util/Random;->nextInt()I
 
-    check-cast v12, [Ljava/lang/String;
+    move-result v4
 
-    if-eqz v12, :cond_265
+    invoke-virtual/range {v20 .. v20}, Ljava/util/Random;->nextInt()I
 
-    array-length v3, v12
+    move-result v5
 
-    const/16 v19, 0x3
+    invoke-virtual/range {v20 .. v20}, Ljava/util/Random;->nextInt()I
 
-    move/from16 v0, v19
+    move-result v6
 
-    if-lt v3, v0, :cond_265
+    invoke-virtual/range {v20 .. v20}, Ljava/util/Random;->nextInt()I
 
-    const/4 v3, 0x2
+    move-result v7
 
-    aget-object v3, v12, v3
+    invoke-virtual/range {v20 .. v20}, Ljava/util/Random;->nextInt()I
 
-    if-eqz v3, :cond_1f0
+    move-result v8
 
-    const/4 v3, 0x2
+    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
 
-    aget-object v3, v12, v3
+    goto/16 :goto_157
 
-    invoke-virtual {v3}, Ljava/lang/String;->length()I
+    :cond_20a
+    move-object/from16 v0, p0
 
-    move-result v3
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    const/16 v19, 0x5
+    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
 
-    move/from16 v0, v19
+    goto/16 :goto_157
 
-    if-lt v3, v0, :cond_1f0
+    :cond_213
+    const/4 v3, 0x1
 
-    const-string v3, "00000"
+    if-ne v14, v3, :cond_21e
 
-    const/16 v19, 0x2
+    const-string v3, "Authentication Failure"
 
-    aget-object v19, v12, v19
+    move-object/from16 v0, p0
 
-    move-object/from16 v0, v19
+    iput-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
 
-    invoke-virtual {v3, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+    goto/16 :goto_15f
 
-    move-result v3
+    :cond_21e
+    const-string v3, ""
 
-    if-eqz v3, :cond_22b
+    move-object/from16 v0, p0
+
+    iput-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
+
+    goto/16 :goto_15f
+
+    :pswitch_226
+    move-object/from16 v0, p2
+
+    iget-object v3, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+
+    check-cast v3, [Ljava/lang/String;
+
+    move-object v12, v3
+
+    check-cast v12, [Ljava/lang/String;
+
+    if-eqz v12, :cond_313
+
+    array-length v3, v12
+
+    const/16 v21, 0x3
+
+    move/from16 v0, v21
+
+    if-lt v3, v0, :cond_313
 
-    :cond_1f0
     const/4 v3, 0x2
 
-    sget-object v19, Lcom/android/internal/telephony/cdma/CDMAPhone;->PROPERTY_CDMA_HOME_OPERATOR_NUMERIC:Ljava/lang/String;
+    aget-object v3, v12, v3
 
-    const-string v20, "00000"
+    if-eqz v3, :cond_258
 
-    invoke-static/range {v19 .. v20}, Landroid/os/SystemProperties;->get(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
+    const/4 v3, 0x2
 
-    move-result-object v19
+    aget-object v3, v12, v3
 
-    aput-object v19, v12, v3
+    invoke-virtual {v3}, Ljava/lang/String;->length()I
+
+    move-result v3
+
+    const/16 v21, 0x5
+
+    move/from16 v0, v21
+
+    if-lt v3, v0, :cond_258
+
+    const-string v3, "00000"
+
+    const/16 v21, 0x2
+
+    aget-object v21, v12, v21
+
+    move-object/from16 v0, v21
+
+    invoke-virtual {v3, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v3
+
+    if-eqz v3, :cond_293
+
+    :cond_258
+    const/4 v3, 0x2
+
+    sget-object v21, Lcom/android/internal/telephony/cdma/CDMAPhone;->PROPERTY_CDMA_HOME_OPERATOR_NUMERIC:Ljava/lang/String;
+
+    const-string v22, "00000"
+
+    invoke-static/range {v21 .. v22}, Landroid/os/SystemProperties;->get(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
+
+    move-result-object v21
+
+    aput-object v21, v12, v3
 
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v19, "RIL_REQUEST_OPERATOR.response[2], the numeric,  is bad. Using SystemProperties \'"
+    const-string v21, "RIL_REQUEST_OPERATOR.response[2], the numeric,  is bad. Using SystemProperties \'"
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    sget-object v19, Lcom/android/internal/telephony/cdma/CDMAPhone;->PROPERTY_CDMA_HOME_OPERATOR_NUMERIC:Ljava/lang/String;
+    sget-object v21, Lcom/android/internal/telephony/cdma/CDMAPhone;->PROPERTY_CDMA_HOME_OPERATOR_NUMERIC:Ljava/lang/String;
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    const-string v19, "\'= "
+    const-string v21, "\'= "
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    const/16 v19, 0x2
+    const/16 v21, 0x2
 
-    aget-object v19, v12, v19
+    aget-object v21, v12, v21
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5785,77 +6017,147 @@
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
-    :cond_22b
+    :cond_293
     move-object/from16 v0, p0
 
     iget-boolean v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->isSubscriptionFromRuim:Z
 
-    if-nez v3, :cond_24a
+    if-nez v3, :cond_2d5
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_2bc
+
+    if-eqz v17, :cond_2bc
+
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    if-eqz v3, :cond_2bc
 
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    const/16 v19, 0x0
+    const/16 v21, 0x0
 
-    const/16 v20, 0x1
+    const-string v22, ""
 
-    aget-object v20, v12, v20
+    const-string v23, ""
 
-    const/16 v21, 0x2
+    move-object/from16 v0, v21
 
-    aget-object v21, v12, v21
+    move-object/from16 v1, v22
 
-    move-object/from16 v0, v19
+    move-object/from16 v2, v23
 
-    move-object/from16 v1, v20
+    invoke-virtual {v3, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
 
-    move-object/from16 v2, v21
+    goto/16 :goto_22
+
+    :cond_2bc
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+
+    const/16 v21, 0x0
+
+    const/16 v22, 0x1
+
+    aget-object v22, v12, v22
+
+    const/16 v23, 0x2
+
+    aget-object v23, v12, v23
+
+    move-object/from16 v0, v21
+
+    move-object/from16 v1, v22
+
+    move-object/from16 v2, v23
 
     invoke-virtual {v3, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
 
-    goto/16 :goto_a
+    goto/16 :goto_22
+
+    :cond_2d5
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_2f8
+
+    if-eqz v17, :cond_2f8
+
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    if-eqz v3, :cond_2f8
 
-    :cond_24a
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    const/16 v19, 0x0
+    const-string v21, ""
 
-    aget-object v19, v12, v19
+    const-string v22, ""
 
-    const/16 v20, 0x1
+    const-string v23, ""
+
+    move-object/from16 v0, v21
 
-    aget-object v20, v12, v20
+    move-object/from16 v1, v22
 
-    const/16 v21, 0x2
+    move-object/from16 v2, v23
+
+    invoke-virtual {v3, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto/16 :goto_22
+
+    :cond_2f8
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+
+    const/16 v21, 0x0
 
     aget-object v21, v12, v21
 
-    move-object/from16 v0, v19
+    const/16 v22, 0x1
 
-    move-object/from16 v1, v20
+    aget-object v22, v12, v22
 
-    move-object/from16 v2, v21
+    const/16 v23, 0x2
+
+    aget-object v23, v12, v23
+
+    move-object/from16 v0, v21
+
+    move-object/from16 v1, v22
+
+    move-object/from16 v2, v23
 
     invoke-virtual {v3, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
 
-    goto/16 :goto_a
+    goto/16 :goto_22
 
-    :cond_265
+    :cond_313
     const-string v3, "EVENT_POLL_STATE_OPERATOR_CDMA: error parsing opNames"
 
     move-object/from16 v0, p0
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
-    goto/16 :goto_a
+    goto/16 :goto_22
 
-    :pswitch_data_26e
+    :pswitch_data_31c
     .packed-switch 0x18
-        :pswitch_b
-        :pswitch_1be
+        :pswitch_23
+        :pswitch_226
     .end packed-switch
 .end method
 
@@ -6390,57 +6692,57 @@
 .end method
 
 .method protected pollStateDone()V
-    .registers 28
+    .registers 29
 
-    new-instance v23, Ljava/lang/StringBuilder;
+    new-instance v24, Ljava/lang/StringBuilder;
 
-    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct/range {v24 .. v24}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v24, "pollStateDone: oldSS=["
+    const-string v25, "pollStateDone: oldSS=["
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    const-string v24, "] newSS=["
+    const-string v25, "] newSS=["
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    const-string v24, "]"
+    const-string v25, "]"
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
@@ -6448,25 +6750,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_312
+    if-eqz v24, :cond_330
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_312
+    if-nez v24, :cond_330
 
     const/4 v14, 0x1
 
@@ -6475,25 +6777,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_315
+    if-nez v24, :cond_333
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_315
+    if-eqz v24, :cond_333
 
     const/4 v11, 0x1
 
@@ -6502,17 +6804,17 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    if-eqz v23, :cond_318
+    if-eqz v24, :cond_336
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    if-nez v23, :cond_318
+    if-nez v24, :cond_336
 
     const/4 v7, 0x1
 
@@ -6521,17 +6823,17 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    if-nez v23, :cond_31b
+    if-nez v24, :cond_339
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    if-eqz v23, :cond_31b
+    if-eqz v24, :cond_339
 
     const/4 v9, 0x1
 
@@ -6540,19 +6842,19 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewDataConnectionState:I
 
-    move/from16 v24, v0
+    move/from16 v25, v0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
-    move/from16 v1, v24
+    move/from16 v1, v25
 
-    if-eq v0, v1, :cond_31e
+    if-eq v0, v1, :cond_33c
 
     const/4 v8, 0x1
 
@@ -6561,19 +6863,19 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRilRadioTechnology:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewRilRadioTechnology:I
 
-    move/from16 v24, v0
+    move/from16 v25, v0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
-    move/from16 v1, v24
+    move/from16 v1, v25
 
-    if-eq v0, v1, :cond_321
+    if-eq v0, v1, :cond_33f
 
     const/4 v13, 0x1
 
@@ -6582,19 +6884,19 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Landroid/telephony/ServiceState;->equals(Ljava/lang/Object;)Z
+    invoke-virtual/range {v24 .. v25}, Landroid/telephony/ServiceState;->equals(Ljava/lang/Object;)Z
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_324
+    if-nez v24, :cond_342
 
     const/4 v10, 0x1
 
@@ -6603,25 +6905,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_327
+    if-nez v24, :cond_345
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_327
+    if-eqz v24, :cond_345
 
     const/16 v16, 0x1
 
@@ -6630,25 +6932,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_32b
+    if-eqz v24, :cond_349
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_32b
+    if-nez v24, :cond_349
 
     const/4 v15, 0x1
 
@@ -6657,19 +6959,19 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Landroid/telephony/cdma/CdmaCellLocation;->equals(Ljava/lang/Object;)Z
+    invoke-virtual/range {v24 .. v25}, Landroid/telephony/cdma/CdmaCellLocation;->equals(Ljava/lang/Object;)Z
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_32e
+    if-nez v24, :cond_34c
 
     const/4 v12, 0x1
 
@@ -6678,25 +6980,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v23
+    move-result v24
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v25 .. v25}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v24
+    move-result v25
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
-    move/from16 v1, v24
+    move/from16 v1, v25
 
     if-ne v0, v1, :cond_135
 
@@ -6704,117 +7006,117 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewDataConnectionState:I
 
-    move/from16 v24, v0
+    move/from16 v25, v0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
-    move/from16 v1, v24
+    move/from16 v1, v25
 
     if-eq v0, v1, :cond_183
 
     :cond_135
-    const v23, 0xc3c4
+    const v24, 0xc3c4
 
-    const/16 v24, 0x4
+    const/16 v25, 0x4
 
-    move/from16 v0, v24
+    move/from16 v0, v25
 
     new-array v0, v0, [Ljava/lang/Object;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    const/16 v25, 0x0
+    const/16 v26, 0x0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v26, v0
+    move-object/from16 v27, v0
 
-    invoke-virtual/range {v26 .. v26}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v27 .. v27}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v26
+    move-result v27
 
-    invoke-static/range {v26 .. v26}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    invoke-static/range {v27 .. v27}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    move-result-object v26
+    move-result-object v27
 
-    aput-object v26, v24, v25
+    aput-object v27, v25, v26
 
-    const/16 v25, 0x1
+    const/16 v26, 0x1
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mDataConnectionState:I
 
-    move/from16 v26, v0
+    move/from16 v27, v0
 
-    invoke-static/range {v26 .. v26}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    invoke-static/range {v27 .. v27}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    move-result-object v26
+    move-result-object v27
 
-    aput-object v26, v24, v25
+    aput-object v27, v25, v26
 
-    const/16 v25, 0x2
+    const/16 v26, 0x2
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v26, v0
+    move-object/from16 v27, v0
 
-    invoke-virtual/range {v26 .. v26}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v27 .. v27}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v26
+    move-result v27
 
-    invoke-static/range {v26 .. v26}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    invoke-static/range {v27 .. v27}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    move-result-object v26
+    move-result-object v27
 
-    aput-object v26, v24, v25
+    aput-object v27, v25, v26
 
-    const/16 v25, 0x3
+    const/16 v26, 0x3
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewDataConnectionState:I
 
-    move/from16 v26, v0
+    move/from16 v27, v0
 
-    invoke-static/range {v26 .. v26}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    invoke-static/range {v27 .. v27}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    move-result-object v26
+    move-result-object v27
 
-    aput-object v26, v24, v25
+    aput-object v27, v25, v26
 
-    invoke-static/range {v23 .. v24}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
+    invoke-static/range {v24 .. v25}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
 
     :cond_183
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v22, v0
+    move-object/from16 v23, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
     move-object/from16 v1, p0
 
     iput-object v0, v1, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v0, v22
+    move-object/from16 v0, v23
 
     move-object/from16 v1, p0
 
@@ -6824,29 +7126,29 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->setStateOutOfService()V
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->setStateOutOfService()V
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v21, v0
+    move-object/from16 v22, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
     move-object/from16 v1, p0
 
     iput-object v0, v1, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v0, v21
+    move-object/from16 v0, v22
 
     move-object/from16 v1, p0
 
@@ -6856,9 +7158,9 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
     move-object/from16 v1, p0
 
@@ -6868,17 +7170,17 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewRilRadioTechnology:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
     move-object/from16 v1, p0
 
     iput v0, v1, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRilRadioTechnology:I
 
-    const/16 v23, 0x0
+    const/16 v24, 0x0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
     move-object/from16 v1, p0
 
@@ -6888,9 +7190,9 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->setStateOutOfService()V
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->setStateOutOfService()V
 
     if-eqz v13, :cond_1fc
 
@@ -6898,21 +7200,21 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.network.type"
+    const-string v25, "gsm.network.type"
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRilRadioTechnology:I
 
-    move/from16 v25, v0
+    move/from16 v26, v0
 
-    invoke-static/range {v25 .. v25}, Landroid/telephony/ServiceState;->rilRadioTechnologyToString(I)Ljava/lang/String;
+    invoke-static/range {v26 .. v26}, Landroid/telephony/ServiceState;->rilRadioTechnologyToString(I)Ljava/lang/String;
 
-    move-result-object v25
+    move-result-object v26
 
-    invoke-virtual/range {v23 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-virtual/range {v24 .. v26}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
     :cond_1fc
     if-eqz v14, :cond_207
@@ -6921,96 +7223,126 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNetworkAttachedRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
     :cond_207
-    if-eqz v10, :cond_2cb
+    if-eqz v10, :cond_2e9
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-interface/range {v23 .. v23}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
+    invoke-interface/range {v24 .. v24}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-virtual/range {v23 .. v23}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_242
+    if-eqz v24, :cond_260
 
     move-object/from16 v0, p0
 
     iget-boolean v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->isSubscriptionFromRuim:Z
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    if-nez v23, :cond_242
+    if-nez v24, :cond_260
 
     move-object/from16 v0, p0
 
-    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getState()I
+    move-object/from16 v0, p0
 
-    move-result v23
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
 
-    if-nez v23, :cond_331
+    move-object/from16 v25, v0
+
+    invoke-virtual/range {v25 .. v25}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v25
+
+    const/16 v26, 0x0
+
+    invoke-virtual/range {v24 .. v26}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v21
 
     move-object/from16 v0, p0
 
-    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getCdmaEriText()Ljava/lang/String;
+    if-eqz v24, :cond_366
 
-    move-result-object v5
+    if-eqz v21, :cond_366
+
+    invoke-virtual/range {v21 .. v21}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v24
+
+    if-eqz v24, :cond_366
 
-    :goto_237
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    move-object/from16 v0, v23
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
+
+    move-result v24
+
+    if-nez v24, :cond_34f
+
+    const-string v5, ""
+
+    :goto_255
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
+
+    move-object/from16 v24, v0
+
+    move-object/from16 v0, v24
 
     invoke-virtual {v0, v5}, Landroid/telephony/ServiceState;->setOperatorAlphaLong(Ljava/lang/String;)V
 
-    :cond_242
+    :cond_260
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.operator.alpha"
+    const-string v25, "gsm.operator.alpha"
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v25, v0
+    move-object/from16 v26, v0
 
-    invoke-virtual/range {v25 .. v25}, Landroid/telephony/ServiceState;->getOperatorAlphaLong()Ljava/lang/String;
+    invoke-virtual/range {v26 .. v26}, Landroid/telephony/ServiceState;->getOperatorAlphaLong()Ljava/lang/String;
 
-    move-result-object v25
+    move-result-object v26
 
-    invoke-virtual/range {v23 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-virtual/range {v24 .. v26}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
-    const-string v23, "gsm.operator.numeric"
+    const-string v24, "gsm.operator.numeric"
 
-    const-string v24, ""
+    const-string v25, ""
 
-    invoke-static/range {v23 .. v24}, Landroid/os/SystemProperties;->get(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
+    invoke-static/range {v24 .. v25}, Landroid/os/SystemProperties;->get(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
 
     move-result-object v20
 
@@ -7018,9 +7350,9 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getOperatorNumeric()Ljava/lang/String;
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getOperatorNumeric()Ljava/lang/String;
 
     move-result-object v19
 
@@ -7028,25 +7360,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.operator.numeric"
+    const-string v25, "gsm.operator.numeric"
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
-    move-object/from16 v1, v24
+    move-object/from16 v1, v25
 
     move-object/from16 v2, v19
 
     invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
-    if-nez v19, :cond_348
+    if-nez v19, :cond_395
 
-    const-string v23, "operatorNumeric is null"
+    const-string v24, "operatorNumeric is null"
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
@@ -7054,52 +7386,52 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.operator.iso-country"
+    const-string v25, "gsm.operator.iso-country"
 
-    const-string v25, ""
+    const-string v26, ""
 
-    invoke-virtual/range {v23 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-virtual/range {v24 .. v26}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
-    const/16 v23, 0x0
+    const/16 v24, 0x0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
     move-object/from16 v1, p0
 
     iput-boolean v0, v1, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mGotCountryCode:Z
 
-    :cond_29a
-    :goto_29a
+    :cond_2b8
+    :goto_2b8
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    const-string v25, "gsm.operator.isroaming"
+    const-string v26, "gsm.operator.isroaming"
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_3e8
+    if-eqz v24, :cond_435
 
-    const-string v23, "true"
+    const-string v24, "true"
 
-    :goto_2b0
-    move-object/from16 v0, v24
+    :goto_2ce
+    move-object/from16 v0, v25
 
-    move-object/from16 v1, v25
+    move-object/from16 v1, v26
 
-    move-object/from16 v2, v23
+    move-object/from16 v2, v24
 
     invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
@@ -7109,226 +7441,274 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyServiceStateChanged(Landroid/telephony/ServiceState;)V
+    invoke-virtual/range {v24 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyServiceStateChanged(Landroid/telephony/ServiceState;)V
 
-    :cond_2cb
-    if-eqz v7, :cond_2d6
+    :cond_2e9
+    if-eqz v7, :cond_2f4
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mAttachedRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
-    :cond_2d6
-    if-eqz v9, :cond_2e1
+    :cond_2f4
+    if-eqz v9, :cond_2ff
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mDetachedRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
-    :cond_2e1
-    if-nez v8, :cond_2e5
+    :cond_2ff
+    if-nez v8, :cond_303
 
-    if-eqz v13, :cond_2f0
+    if-eqz v13, :cond_30e
 
-    :cond_2e5
+    :cond_303
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const/16 v24, 0x0
+    const/16 v25, 0x0
 
-    invoke-virtual/range {v23 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyDataConnection(Ljava/lang/String;)V
+    invoke-virtual/range {v24 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyDataConnection(Ljava/lang/String;)V
 
-    :cond_2f0
-    if-eqz v16, :cond_2fb
+    :cond_30e
+    if-eqz v16, :cond_319
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRoamingOnRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
-    :cond_2fb
-    if-eqz v15, :cond_306
+    :cond_319
+    if-eqz v15, :cond_324
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRoamingOffRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
-    :cond_306
-    if-eqz v12, :cond_311
+    :cond_324
+    if-eqz v12, :cond_32f
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyLocationChanged()V
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyLocationChanged()V
 
-    :cond_311
+    :cond_32f
     return-void
 
-    :cond_312
+    :cond_330
     const/4 v14, 0x0
 
     goto/16 :goto_4f
 
-    :cond_315
+    :cond_333
     const/4 v11, 0x0
 
     goto/16 :goto_68
 
-    :cond_318
+    :cond_336
     const/4 v7, 0x0
 
     goto/16 :goto_79
 
-    :cond_31b
+    :cond_339
     const/4 v9, 0x0
 
     goto/16 :goto_8a
 
-    :cond_31e
+    :cond_33c
     const/4 v8, 0x0
 
     goto/16 :goto_9d
 
-    :cond_321
+    :cond_33f
     const/4 v13, 0x0
 
     goto/16 :goto_b0
 
-    :cond_324
+    :cond_342
     const/4 v10, 0x0
 
     goto/16 :goto_c3
 
-    :cond_327
+    :cond_345
     const/16 v16, 0x0
 
     goto/16 :goto_dd
 
-    :cond_32b
+    :cond_349
     const/4 v15, 0x0
 
     goto/16 :goto_f6
 
-    :cond_32e
+    :cond_34c
     const/4 v12, 0x0
 
     goto/16 :goto_109
 
-    :cond_331
+    :cond_34f
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
+
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getContext()Landroid/content/Context;
+
+    move-result-object v24
+
+    const v25, 0x10400c8
+
+    invoke-virtual/range {v24 .. v25}, Landroid/content/Context;->getText(I)Ljava/lang/CharSequence;
+
+    move-result-object v24
+
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/Object;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto/16 :goto_255
+
+    :cond_366
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
+
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getContext()Landroid/content/Context;
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
+
+    move-result v24
+
+    if-nez v24, :cond_37e
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
+
+    move-object/from16 v24, v0
+
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getCdmaEriText()Ljava/lang/String;
+
+    move-result-object v5
 
-    move-result-object v23
+    goto/16 :goto_255
 
-    const v24, 0x10400c8
+    :cond_37e
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
+
+    move-object/from16 v24, v0
+
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getContext()Landroid/content/Context;
+
+    move-result-object v24
 
-    invoke-virtual/range {v23 .. v24}, Landroid/content/Context;->getText(I)Ljava/lang/CharSequence;
+    const v25, 0x10400c8
 
-    move-result-object v23
+    invoke-virtual/range {v24 .. v25}, Landroid/content/Context;->getText(I)Ljava/lang/CharSequence;
 
-    invoke-virtual/range {v23 .. v23}, Ljava/lang/Object;->toString()Ljava/lang/String;
+    move-result-object v24
+
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/Object;->toString()Ljava/lang/String;
 
     move-result-object v5
 
-    goto/16 :goto_237
+    goto/16 :goto_255
 
-    :cond_348
+    :cond_395
     const-string v17, ""
 
-    const/16 v23, 0x0
+    const/16 v24, 0x0
 
-    const/16 v24, 0x3
+    const/16 v25, 0x3
 
     move-object/from16 v0, v19
 
-    move/from16 v1, v23
+    move/from16 v1, v24
 
-    move/from16 v2, v24
+    move/from16 v2, v25
 
     invoke-virtual {v0, v1, v2}, Ljava/lang/String;->substring(II)Ljava/lang/String;
 
     move-result-object v18
 
-    const/16 v23, 0x0
+    const/16 v24, 0x0
 
-    const/16 v24, 0x3
+    const/16 v25, 0x3
 
-    :try_start_35c
+    :try_start_3a9
     move-object/from16 v0, v19
 
-    move/from16 v1, v23
+    move/from16 v1, v24
 
-    move/from16 v2, v24
+    move/from16 v2, v25
 
     invoke-virtual {v0, v1, v2}, Ljava/lang/String;->substring(II)Ljava/lang/String;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-static/range {v23 .. v23}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    invoke-static/range {v24 .. v24}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
-    move-result v23
+    move-result v24
 
-    invoke-static/range {v23 .. v23}, Lcom/android/internal/telephony/MccTable;->countryCodeForMcc(I)Ljava/lang/String;
-    :try_end_36d
-    .catch Ljava/lang/NumberFormatException; {:try_start_35c .. :try_end_36d} :catch_3ac
-    .catch Ljava/lang/StringIndexOutOfBoundsException; {:try_start_35c .. :try_end_36d} :catch_3ca
+    invoke-static/range {v24 .. v24}, Lcom/android/internal/telephony/MccTable;->countryCodeForMcc(I)Ljava/lang/String;
+    :try_end_3ba
+    .catch Ljava/lang/NumberFormatException; {:try_start_3a9 .. :try_end_3ba} :catch_3f9
+    .catch Ljava/lang/StringIndexOutOfBoundsException; {:try_start_3a9 .. :try_end_3ba} :catch_417
 
     move-result-object v17
 
-    :goto_36e
+    :goto_3bb
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.operator.iso-country"
+    const-string v25, "gsm.operator.iso-country"
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
-    move-object/from16 v1, v24
+    move-object/from16 v1, v25
 
     move-object/from16 v2, v17
 
     invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
-    const/16 v23, 0x1
+    const/16 v24, 0x1
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
     move-object/from16 v1, p0
 
@@ -7338,29 +7718,29 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget-boolean v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNeedFixZone:Z
 
-    move/from16 v24, v0
+    move/from16 v25, v0
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     move-object/from16 v2, v19
 
     move-object/from16 v3, v20
 
-    move/from16 v4, v24
+    move/from16 v4, v25
 
     invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->shouldFixTimeZoneNow(Lcom/android/internal/telephony/PhoneBase;Ljava/lang/String;Ljava/lang/String;Z)Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_29a
+    if-eqz v24, :cond_2b8
 
     move-object/from16 v0, p0
 
@@ -7368,74 +7748,74 @@
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->fixTimeZone(Ljava/lang/String;)V
 
-    goto/16 :goto_29a
+    goto/16 :goto_2b8
 
-    :catch_3ac
+    :catch_3f9
     move-exception v6
 
-    new-instance v23, Ljava/lang/StringBuilder;
+    new-instance v24, Ljava/lang/StringBuilder;
 
-    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct/range {v24 .. v24}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v24, "pollStateDone: countryCodeForMcc error"
+    const-string v25, "pollStateDone: countryCodeForMcc error"
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
     invoke-virtual {v0, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    goto :goto_36e
+    goto :goto_3bb
 
-    :catch_3ca
+    :catch_417
     move-exception v6
 
-    new-instance v23, Ljava/lang/StringBuilder;
+    new-instance v24, Ljava/lang/StringBuilder;
 
-    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct/range {v24 .. v24}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v24, "pollStateDone: countryCodeForMcc error"
+    const-string v25, "pollStateDone: countryCodeForMcc error"
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
     invoke-virtual {v0, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    goto :goto_36e
+    goto :goto_3bb
 
-    :cond_3e8
-    const-string v23, "false"
+    :cond_435
+    const-string v24, "false"
 
-    goto/16 :goto_2b0
+    goto/16 :goto_2ce
 .end method
 
 .method protected radioTechnologyToDataServiceState(I)I
