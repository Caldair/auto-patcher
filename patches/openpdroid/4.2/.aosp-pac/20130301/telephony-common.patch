diff -Npru stock-telephony/smali/android/privacy/surrogate/PrivacyCDMALTEPhone.smali opd-telephony/smali/android/privacy/surrogate/PrivacyCDMALTEPhone.smali
--- stock-telephony/smali/android/privacy/surrogate/PrivacyCDMALTEPhone.smali	1969-12-31 18:00:00.000000000 -0600
+++ opd-telephony/smali/android/privacy/surrogate/PrivacyCDMALTEPhone.smali	2013-03-01 15:22:59.487984114 -0600
@@ -0,0 +1,1696 @@
+.class public Landroid/privacy/surrogate/PrivacyCDMALTEPhone;
+.super Lcom/android/internal/telephony/cdma/CDMALTEPhone;
+.source "PrivacyCDMALTEPhone.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyCDMALTEPhone"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    .registers 7
+
+    invoke-direct {p0, p1, p2, p3}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 10
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 11
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getCellLocation()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5f
+
+    if-eqz v6, :cond_5f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_48
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5f
+
+    :cond_48
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v0}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    :goto_5e
+    return-object v0
+
+    :cond_5f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v0
+
+    goto :goto_5e
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceSvn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getDeviceSvn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getEsn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getEsn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getImei"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getImei()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1AlphaTag()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getLine1AlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1Number()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMeid()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getMeid()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getMsisdn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMsisdn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getMsisdn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getPhoneSubInfo()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_54
+
+    if-eqz v6, :cond_54
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_54
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_53
+    return-object v5
+
+    :cond_54
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+
+    move-result-object v5
+
+    goto :goto_53
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 10
+
+    :try_start_0
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " asked for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_61
+
+    if-eqz v6, :cond_61
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_61
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_60
+    return-object v8
+
+    :cond_61
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getServiceState()Landroid/telephony/ServiceState;
+    :try_end_74
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_74} :catch_76
+
+    move-result-object v8
+
+    goto :goto_60
+
+    :catch_76
+    move-exception v7
+
+    invoke-virtual {v7}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    const-string v1, "We got exception in getServiceState()-> give fake state"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto :goto_60
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getSubscriberId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v3
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailAlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailAlphaTag()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getVoiceMailAlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailNumber()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
diff -Npru stock-telephony/smali/android/privacy/surrogate/PrivacyCDMAPhone.smali opd-telephony/smali/android/privacy/surrogate/PrivacyCDMAPhone.smali
--- stock-telephony/smali/android/privacy/surrogate/PrivacyCDMAPhone.smali	1969-12-31 18:00:00.000000000 -0600
+++ opd-telephony/smali/android/privacy/surrogate/PrivacyCDMAPhone.smali	2013-03-01 15:22:59.499984165 -0600
@@ -0,0 +1,1602 @@
+.class public Landroid/privacy/surrogate/PrivacyCDMAPhone;
+.super Lcom/android/internal/telephony/cdma/CDMAPhone;
+.source "PrivacyCDMAPhone.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyCDMAPhone"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    .registers 7
+
+    invoke-direct {p0, p1, p2, p3}, Lcom/android/internal/telephony/cdma/CDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 10
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/cdma/CDMAPhone;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 11
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/cdma/CDMAPhone;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getCellLocation()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5f
+
+    if-eqz v6, :cond_5f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_48
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5f
+
+    :cond_48
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v0}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    :goto_5e
+    return-object v0
+
+    :cond_5f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v0
+
+    goto :goto_5e
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceSvn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getDeviceSvn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getEsn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getEsn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getImei"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getImei()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1AlphaTag()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getLine1AlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1Number()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMeid()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getMeid()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getPhoneSubInfo()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_54
+
+    if-eqz v6, :cond_54
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_54
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_53
+    return-object v5
+
+    :cond_54
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+
+    move-result-object v5
+
+    goto :goto_53
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 10
+
+    :try_start_0
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " asked for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_61
+
+    if-eqz v6, :cond_61
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_61
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_60
+    return-object v8
+
+    :cond_61
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getServiceState()Landroid/telephony/ServiceState;
+    :try_end_74
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_74} :catch_76
+
+    move-result-object v8
+
+    goto :goto_60
+
+    :catch_76
+    move-exception v7
+
+    invoke-virtual {v7}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    const-string v1, "We got exception in getServiceState()-> give fake state"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto :goto_60
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getSubscriberId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v3
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailAlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailAlphaTag()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getVoiceMailAlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailNumber()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
diff -Npru stock-telephony/smali/android/privacy/surrogate/PrivacyGSMPhone.smali opd-telephony/smali/android/privacy/surrogate/PrivacyGSMPhone.smali
--- stock-telephony/smali/android/privacy/surrogate/PrivacyGSMPhone.smali	1969-12-31 18:00:00.000000000 -0600
+++ opd-telephony/smali/android/privacy/surrogate/PrivacyGSMPhone.smali	2013-03-01 15:22:59.547984405 -0600
@@ -0,0 +1,1602 @@
+.class public Landroid/privacy/surrogate/PrivacyGSMPhone;
+.super Lcom/android/internal/telephony/gsm/GSMPhone;
+.source "PrivacyGSMPhone.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyGSMPhone"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    .registers 7
+
+    invoke-direct {p0, p1, p2, p3}, Lcom/android/internal/telephony/gsm/GSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 10
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/gsm/GSMPhone;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 11
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/gsm/GSMPhone;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getCellLocation()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5f
+
+    if-eqz v6, :cond_5f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_48
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5f
+
+    :cond_48
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v0}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    :goto_5e
+    return-object v0
+
+    :cond_5f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v0
+
+    goto :goto_5e
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceSvn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getDeviceSvn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getEsn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getEsn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getImei"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getImei()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1AlphaTag()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getLine1AlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1Number()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMeid()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getMeid()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getPhoneSubInfo()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_54
+
+    if-eqz v6, :cond_54
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_54
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_53
+    return-object v5
+
+    :cond_54
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+
+    move-result-object v5
+
+    goto :goto_53
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 10
+
+    :try_start_0
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " asked for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_61
+
+    if-eqz v6, :cond_61
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_61
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_60
+    return-object v8
+
+    :cond_61
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getServiceState()Landroid/telephony/ServiceState;
+    :try_end_74
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_74} :catch_76
+
+    move-result-object v8
+
+    goto :goto_60
+
+    :catch_76
+    move-exception v7
+
+    invoke-virtual {v7}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v0, "PrivacyGSMPhone"
+
+    const-string v1, "We got exception in getServiceState()-> give fake state"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto :goto_60
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getSubscriberId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v3
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailAlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailAlphaTag()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getVoiceMailAlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailNumber()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
diff -Npru stock-telephony/smali/android/privacy/surrogate/PrivacyPhoneProxy.smali opd-telephony/smali/android/privacy/surrogate/PrivacyPhoneProxy.smali
--- stock-telephony/smali/android/privacy/surrogate/PrivacyPhoneProxy.smali	1969-12-31 18:00:00.000000000 -0600
+++ opd-telephony/smali/android/privacy/surrogate/PrivacyPhoneProxy.smali	2013-03-01 15:22:59.603984674 -0600
@@ -0,0 +1,3064 @@
+.class public Landroid/privacy/surrogate/PrivacyPhoneProxy;
+.super Lcom/android/internal/telephony/PhoneProxy;
+.source "PrivacyPhoneProxy.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyPhoneProxy"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private context_available:Z
+
+.field private mPm:Landroid/content/pm/IPackageManager;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Lcom/android/internal/telephony/PhoneBase;Landroid/content/Context;)V
+    .registers 6
+
+    invoke-direct {p0, p1}, Lcom/android/internal/telephony/PhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;)V
+
+    if-eqz p2, :cond_3d
+
+    iput-object p2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    const/4 v0, 0x1
+
+    iput-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    :goto_a
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    invoke-direct {p0, v0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->initiate(Z)V
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p2, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+
+    :cond_3d
+    const/4 v0, 0x0
+
+    iput-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    goto :goto_a
+.end method
+
+.method private getPackageName()[Ljava/lang/String;
+    .registers 6
+
+    :try_start_0
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    if-eqz v3, :cond_f
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-interface {v3, v2}, Landroid/content/pm/IPackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v1
+
+    :goto_e
+    return-object v1
+
+    :cond_f
+    const-string v3, "package"
+
+    invoke-static {v3}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v3
+
+    invoke-static {v3}, Landroid/content/pm/IPackageManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/content/pm/IPackageManager;
+
+    move-result-object v3
+
+    iput-object v3, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-interface {v3, v2}, Landroid/content/pm/IPackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+    :try_end_24
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_24} :catch_26
+
+    move-result-object v1
+
+    goto :goto_e
+
+    :catch_26
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v3, "PrivacyPhoneProxy"
+
+    const-string v4, "something went wrong with getting package name"
+
+    invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v1, 0x0
+
+    goto :goto_e
+.end method
+
+.method private initiate(Z)V
+    .registers 5
+
+    if-eqz p1, :cond_21
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Context is available for package:"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_20
+    return-void
+
+    :cond_21
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Context is not available for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const-string v0, "package"
+
+    invoke-static {v0}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v0
+
+    invoke-static {v0}, Landroid/content/pm/IPackageManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/content/pm/IPackageManager;
+
+    move-result-object v0
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    goto :goto_20
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 14
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v3, 0x1
+
+    const/4 v4, -0x1
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_48
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v11
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_34
+
+    if-eqz v11, :cond_34
+
+    invoke-virtual {v11}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_34
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_34
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    :goto_47
+    return-object v0
+
+    :cond_48
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v9
+
+    const/4 v7, 0x1
+
+    const/4 v11, 0x0
+
+    const/4 v10, 0x0
+
+    if-nez v9, :cond_56
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    goto :goto_47
+
+    :cond_56
+    const/4 v8, 0x0
+
+    :goto_57
+    array-length v0, v9
+
+    if-ge v8, v0, :cond_70
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v8
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v11
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_82
+
+    if-eqz v11, :cond_82
+
+    invoke-virtual {v11}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_82
+
+    const/4 v7, 0x0
+
+    move v10, v8
+
+    :cond_70
+    if-eqz v7, :cond_85
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    goto :goto_47
+
+    :cond_82
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_57
+
+    :cond_85
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 15
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v3, 0x1
+
+    const/4 v4, -0x1
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_48
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v11
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_34
+
+    if-eqz v11, :cond_34
+
+    invoke-virtual {v11}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_34
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_34
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    :goto_47
+    return-object v0
+
+    :cond_48
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v9
+
+    const/4 v7, 0x1
+
+    const/4 v11, 0x0
+
+    const/4 v10, 0x0
+
+    if-nez v9, :cond_56
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    goto :goto_47
+
+    :cond_56
+    const/4 v8, 0x0
+
+    :goto_57
+    array-length v0, v9
+
+    if-ge v8, v0, :cond_70
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v8
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v11
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_82
+
+    if-eqz v11, :cond_82
+
+    invoke-virtual {v11}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_82
+
+    const/4 v7, 0x0
+
+    move v10, v8
+
+    :cond_70
+    if-eqz v7, :cond_85
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    goto :goto_47
+
+    :cond_82
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_57
+
+    :cond_85
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 13
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getPhoneType()I
+
+    move-result v11
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_b5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_7c
+
+    if-eqz v6, :cond_7c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_2c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_7c
+
+    :cond_2c
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getCellLocation()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    packed-switch v11, :pswitch_data_16c
+
+    new-instance v5, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    :goto_69
+    :pswitch_69
+    return-object v5
+
+    :pswitch_6a
+    new-instance v5, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    goto :goto_69
+
+    :pswitch_70
+    new-instance v5, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    goto :goto_69
+
+    :pswitch_76
+    new-instance v5, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    goto :goto_69
+
+    :cond_7c
+    if-eqz v6, :cond_8c
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_8c
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getCellLocation()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v5
+
+    goto :goto_69
+
+    :cond_b5
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v9
+
+    const/4 v7, 0x1
+
+    const/4 v6, 0x0
+
+    const/4 v10, 0x0
+
+    if-nez v9, :cond_c3
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v5
+
+    goto :goto_69
+
+    :cond_c3
+    const/4 v8, 0x0
+
+    :goto_c4
+    array-length v0, v9
+
+    if-ge v8, v0, :cond_e7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v8
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_11b
+
+    if-eqz v6, :cond_11b
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_e5
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_11b
+
+    :cond_e5
+    const/4 v7, 0x0
+
+    move v10, v8
+
+    :cond_e7
+    if-eqz v7, :cond_11e
+
+    if-eqz v6, :cond_f5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_f5
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v9, v10
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getCellLocation()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v5
+
+    goto/16 :goto_69
+
+    :cond_11b
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_c4
+
+    :cond_11e
+    if-eqz v6, :cond_12d
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_12d
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v9, v10
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getCellLocation()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    packed-switch v11, :pswitch_data_178
+
+    new-instance v5, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    goto/16 :goto_69
+
+    :pswitch_157
+    new-instance v5, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    goto/16 :goto_69
+
+    :pswitch_15e
+    new-instance v5, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    goto/16 :goto_69
+
+    :pswitch_165
+    new-instance v5, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    goto/16 :goto_69
+
+    :pswitch_data_16c
+    .packed-switch 0x0
+        :pswitch_69
+        :pswitch_6a
+        :pswitch_70
+        :pswitch_76
+    .end packed-switch
+
+    :pswitch_data_178
+    .packed-switch 0x0
+        :pswitch_69
+        :pswitch_157
+        :pswitch_15e
+        :pswitch_165
+    .end packed-switch
+.end method
+
+.method public getDataConnectionState()Lcom/android/internal/telephony/PhoneConstants$DataState;
+    .registers 12
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_93
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5a
+
+    if-eqz v6, :cond_5a
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5a
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getDataConnection()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    sget-object v0, Lcom/android/internal/telephony/PhoneConstants$DataState;->CONNECTING:Lcom/android/internal/telephony/PhoneConstants$DataState;
+
+    :goto_59
+    return-object v0
+
+    :cond_5a
+    if-eqz v6, :cond_6a
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_6a
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getDataConnection()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getDataConnectionState()Lcom/android/internal/telephony/PhoneConstants$DataState;
+
+    move-result-object v0
+
+    goto :goto_59
+
+    :cond_93
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v9
+
+    const/4 v7, 0x1
+
+    const/4 v6, 0x0
+
+    const/4 v10, 0x0
+
+    if-nez v9, :cond_a1
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getDataConnectionState()Lcom/android/internal/telephony/PhoneConstants$DataState;
+
+    move-result-object v0
+
+    goto :goto_59
+
+    :cond_a1
+    const/4 v8, 0x0
+
+    :goto_a2
+    array-length v0, v9
+
+    if-ge v8, v0, :cond_bf
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v8
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_f3
+
+    if-eqz v6, :cond_f3
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_f3
+
+    const/4 v7, 0x0
+
+    move v10, v8
+
+    :cond_bf
+    if-eqz v7, :cond_f6
+
+    if-eqz v6, :cond_cd
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_cd
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v9, v10
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getDataConnection()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getDataConnectionState()Lcom/android/internal/telephony/PhoneConstants$DataState;
+
+    move-result-object v0
+
+    goto/16 :goto_59
+
+    :cond_f3
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_a2
+
+    :cond_f6
+    if-eqz v6, :cond_105
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_105
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v9, v10
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getDataConnection()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    sget-object v0, Lcom/android/internal/telephony/PhoneConstants$DataState;->CONNECTING:Lcom/android/internal/telephony/PhoneConstants$DataState;
+
+    goto/16 :goto_59
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 20
+
+    move-object/from16 v0, p0
+
+    iget-boolean v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v1, :cond_91
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    if-eqz v7, :cond_5c
+
+    if-eqz v7, :cond_5c
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_5c
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v4
+
+    const-string v5, "deviceID"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getDeviceId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_5b
+    return-object v6
+
+    :cond_5c
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "deviceID"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getDeviceId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_5b
+
+    :cond_91
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v17
+
+    const/4 v15, 0x1
+
+    const/4 v14, 0x0
+
+    const/16 v18, 0x0
+
+    if-nez v17, :cond_a0
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    goto :goto_5b
+
+    :cond_a0
+    const/16 v16, 0x0
+
+    :goto_a2
+    move-object/from16 v0, v17
+
+    array-length v1, v0
+
+    move/from16 v0, v16
+
+    if-ge v0, v1, :cond_c8
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v4, v17, v16
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v5
+
+    invoke-virtual {v1, v4, v5}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v14
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v1, :cond_103
+
+    if-eqz v14, :cond_103
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_103
+
+    const/4 v15, 0x0
+
+    move/from16 v18, v16
+
+    :cond_c8
+    if-eqz v15, :cond_106
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_e1
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    const/4 v11, 0x0
+
+    const-string v12, "deviceID"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_e1
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getDeviceId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5b
+
+    :cond_103
+    add-int/lit8 v16, v16, 0x1
+
+    goto :goto_a2
+
+    :cond_106
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_120
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v11
+
+    const-string v12, "deviceID"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_120
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getDeviceId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5b
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getIccSerialNumber()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 20
+
+    move-object/from16 v0, p0
+
+    iget-boolean v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v1, :cond_91
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    if-eqz v7, :cond_5c
+
+    if-eqz v7, :cond_5c
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_5c
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v4
+
+    const-string v5, "line1Number"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getLine1Number()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_5b
+    return-object v6
+
+    :cond_5c
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "line1Number"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getLine1Number()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_5b
+
+    :cond_91
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v17
+
+    const/4 v15, 0x1
+
+    const/4 v14, 0x0
+
+    const/16 v18, 0x0
+
+    if-nez v17, :cond_a0
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    goto :goto_5b
+
+    :cond_a0
+    const/16 v16, 0x0
+
+    :goto_a2
+    move-object/from16 v0, v17
+
+    array-length v1, v0
+
+    move/from16 v0, v16
+
+    if-ge v0, v1, :cond_c8
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v4, v17, v16
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v5
+
+    invoke-virtual {v1, v4, v5}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v14
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v1, :cond_103
+
+    if-eqz v14, :cond_103
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_103
+
+    const/4 v15, 0x0
+
+    move/from16 v18, v16
+
+    :cond_c8
+    if-eqz v15, :cond_106
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_e1
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    const/4 v11, 0x0
+
+    const-string v12, "line1Number"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_e1
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getLine1Number()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5b
+
+    :cond_103
+    add-int/lit8 v16, v16, 0x1
+
+    goto :goto_a2
+
+    :cond_106
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_120
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v11
+
+    const-string v12, "line1Number"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_120
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getLine1Number()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5b
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getMsisdn()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 2
+
+    new-instance v0, Lcom/android/internal/telephony/PhoneSubInfo;
+
+    invoke-direct {v0, p0}, Lcom/android/internal/telephony/PhoneSubInfo;-><init>(Lcom/android/internal/telephony/Phone;)V
+
+    return-object v0
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 13
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_9e
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_65
+
+    if-eqz v6, :cond_65
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_65
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v9, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_64
+    return-object v9
+
+    :cond_65
+    if-eqz v6, :cond_75
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_75
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    goto :goto_64
+
+    :cond_9e
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v10
+
+    const/4 v7, 0x1
+
+    const/4 v6, 0x0
+
+    const/4 v11, 0x0
+
+    if-nez v10, :cond_ac
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    goto :goto_64
+
+    :cond_ac
+    const/4 v8, 0x0
+
+    :goto_ad
+    array-length v0, v10
+
+    if-ge v8, v0, :cond_ca
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v8
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_fe
+
+    if-eqz v6, :cond_fe
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_fe
+
+    const/4 v7, 0x0
+
+    move v11, v8
+
+    :cond_ca
+    if-eqz v7, :cond_101
+
+    if-eqz v6, :cond_d8
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v11
+
+    const-string v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_d8
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v10, v11
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    goto/16 :goto_64
+
+    :cond_fe
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_ad
+
+    :cond_101
+    if-eqz v6, :cond_110
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v11
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_110
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v10, v11
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v9, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto/16 :goto_64
+.end method
+
+.method public getSignalStrength()Landroid/telephony/SignalStrength;
+    .registers 13
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    new-instance v9, Landroid/telephony/SignalStrength;
+
+    invoke-direct {v9}, Landroid/telephony/SignalStrength;-><init>()V
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_96
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5d
+
+    if-eqz v6, :cond_5d
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5d
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getSignalStrength()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_5c
+    return-object v9
+
+    :cond_5d
+    if-eqz v6, :cond_6d
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_6d
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getSignalStrength()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getSignalStrength()Landroid/telephony/SignalStrength;
+
+    move-result-object v9
+
+    goto :goto_5c
+
+    :cond_96
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v10
+
+    const/4 v7, 0x1
+
+    const/4 v6, 0x0
+
+    const/4 v11, 0x0
+
+    if-nez v10, :cond_a4
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getSignalStrength()Landroid/telephony/SignalStrength;
+
+    move-result-object v9
+
+    goto :goto_5c
+
+    :cond_a4
+    const/4 v8, 0x0
+
+    :goto_a5
+    array-length v0, v10
+
+    if-ge v8, v0, :cond_c2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v8
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_f6
+
+    if-eqz v6, :cond_f6
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_f6
+
+    const/4 v7, 0x0
+
+    move v11, v8
+
+    :cond_c2
+    if-eqz v7, :cond_f9
+
+    if-eqz v6, :cond_d0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v11
+
+    const-string v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_d0
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v10, v11
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getSignalStrength()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getSignalStrength()Landroid/telephony/SignalStrength;
+
+    move-result-object v9
+
+    goto/16 :goto_5c
+
+    :cond_f6
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_a5
+
+    :cond_f9
+    if-eqz v6, :cond_108
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v11
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_108
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v10, v11
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getSignalStrength()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5c
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 20
+
+    move-object/from16 v0, p0
+
+    iget-boolean v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v1, :cond_91
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    if-eqz v7, :cond_5c
+
+    if-eqz v7, :cond_5c
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_5c
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v4
+
+    const-string v5, "subscriberID"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getSubscriberId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_5b
+    return-object v6
+
+    :cond_5c
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "subscriberID"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getSubscriberId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_5b
+
+    :cond_91
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v17
+
+    const/4 v15, 0x1
+
+    const/4 v14, 0x0
+
+    const/16 v18, 0x0
+
+    if-nez v17, :cond_a0
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    goto :goto_5b
+
+    :cond_a0
+    const/16 v16, 0x0
+
+    :goto_a2
+    move-object/from16 v0, v17
+
+    array-length v1, v0
+
+    move/from16 v0, v16
+
+    if-ge v0, v1, :cond_c8
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v4, v17, v16
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v5
+
+    invoke-virtual {v1, v4, v5}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v14
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v1, :cond_103
+
+    if-eqz v14, :cond_103
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_103
+
+    const/4 v15, 0x0
+
+    move/from16 v18, v16
+
+    :cond_c8
+    if-eqz v15, :cond_106
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_e1
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    const/4 v11, 0x0
+
+    const-string v12, "subscriberID"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_e1
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getSubscriberId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5b
+
+    :cond_103
+    add-int/lit8 v16, v16, 0x1
+
+    goto :goto_a2
+
+    :cond_106
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_120
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v11
+
+    const-string v12, "subscriberID"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_120
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getSubscriberId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5b
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
diff -Npru stock-telephony/smali/android/privacy/surrogate/PrivacySipPhone.smali opd-telephony/smali/android/privacy/surrogate/PrivacySipPhone.smali
--- stock-telephony/smali/android/privacy/surrogate/PrivacySipPhone.smali	1969-12-31 18:00:00.000000000 -0600
+++ opd-telephony/smali/android/privacy/surrogate/PrivacySipPhone.smali	2013-03-01 15:22:59.651984912 -0600
@@ -0,0 +1,1602 @@
+.class public Landroid/privacy/surrogate/PrivacySipPhone;
+.super Lcom/android/internal/telephony/sip/SipPhone;
+.source "PrivacySipPhone.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyGSMPhone"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
+    .registers 7
+
+    invoke-direct {p0, p1, p2, p3}, Lcom/android/internal/telephony/sip/SipPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 10
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/sip/SipPhone;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 11
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/sip/SipPhone;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getCellLocation()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5f
+
+    if-eqz v6, :cond_5f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_48
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5f
+
+    :cond_48
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v0}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    :goto_5e
+    return-object v0
+
+    :cond_5f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v0
+
+    goto :goto_5e
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceSvn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getEsn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getEsn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getImei"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getImei()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1AlphaTag()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getLine1AlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1Number()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMeid()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getMeid()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getPhoneSubInfo()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_54
+
+    if-eqz v6, :cond_54
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_54
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_53
+    return-object v5
+
+    :cond_54
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+
+    move-result-object v5
+
+    goto :goto_53
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 10
+
+    :try_start_0
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " asked for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_61
+
+    if-eqz v6, :cond_61
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_61
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_60
+    return-object v8
+
+    :cond_61
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getServiceState()Landroid/telephony/ServiceState;
+    :try_end_74
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_74} :catch_76
+
+    move-result-object v8
+
+    goto :goto_60
+
+    :catch_76
+    move-exception v7
+
+    invoke-virtual {v7}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v0, "PrivacyGSMPhone"
+
+    const-string v1, "We got exception in getServiceState()-> give fake state"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto :goto_60
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getSubscriberId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v3
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailAlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailAlphaTag()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getVoiceMailAlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailNumber()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
diff -Npru stock-telephony/smali/com/android/internal/telephony/cdma/CDMAPhone.smali opd-telephony/smali/com/android/internal/telephony/cdma/CDMAPhone.smali
--- stock-telephony/smali/com/android/internal/telephony/cdma/CDMAPhone.smali	2013-03-01 15:22:50.223938176 -0600
+++ opd-telephony/smali/com/android/internal/telephony/cdma/CDMAPhone.smali	2013-03-01 15:22:59.467984005 -0600
@@ -3480,7 +3480,7 @@
     return-void
 .end method
 
-.method notifyLocationChanged()V
+.method public notifyLocationChanged()V
     .registers 2
 
     iget-object v0, p0, Lcom/android/internal/telephony/cdma/CDMAPhone;->mNotifier:Lcom/android/internal/telephony/PhoneNotifier;
diff -Npru stock-telephony/smali/com/android/internal/telephony/cdma/CdmaServiceStateTracker.smali opd-telephony/smali/com/android/internal/telephony/cdma/CdmaServiceStateTracker.smali
--- stock-telephony/smali/com/android/internal/telephony/cdma/CdmaServiceStateTracker.smali	2013-03-01 15:22:50.375938922 -0600
+++ opd-telephony/smali/com/android/internal/telephony/cdma/CdmaServiceStateTracker.smali	2013-03-01 15:23:01.387993528 -0600
@@ -46,6 +46,8 @@
 
 .field private mCdmaSSM:Lcom/android/internal/telephony/cdma/CdmaSubscriptionSourceManager;
 
+.field private mContext:Landroid/content/Context;
+
 .field protected mCurPlmn:Ljava/lang/String;
 
 .field mCurrentOtaspMode:I
@@ -102,6 +104,8 @@
 
 .field newCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
 .field phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
 
@@ -259,7 +263,7 @@
 
     move-result v2
 
-    if-nez v2, :cond_f9
+    if-nez v2, :cond_112
 
     move v2, v3
 
@@ -359,12 +363,36 @@
 
     invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->setSignalStrengthDefaultValues()V
 
+    invoke-virtual {p1}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getContext()Landroid/content/Context;
+
+    move-result-object v2
+
+    iput-object v2, p0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
+
+    new-instance v2, Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v3, p0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
+
+    const-string v4, "privacy"
+
+    invoke-static {v4}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v4
+
+    invoke-static {v4}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v4
+
+    invoke-direct {v2, v3, v4}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v2, p0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
     return-void
 
-    :cond_f9
+    :cond_112
     move v2, v4
 
-    goto :goto_92
+    goto/16 :goto_92
 .end method
 
 .method static synthetic access$000(Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;)V
@@ -3875,7 +3903,7 @@
 .end method
 
 .method public handleMessage(Landroid/os/Message;)V
-    .registers 22
+    .registers 24
 
     move-object/from16 v0, p0
 
@@ -3889,9 +3917,9 @@
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v18, "Received message "
+    const-string v20, "Received message "
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -3903,9 +3931,9 @@
 
     move-result-object v3
 
-    const-string v18, "["
+    const-string v20, "["
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -3915,25 +3943,25 @@
 
     iget v0, v0, Landroid/os/Message;->what:I
 
-    move/from16 v18, v0
+    move/from16 v20, v0
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    const-string v18, "]"
+    const-string v20, "]"
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    const-string v18, " while being destroyed. Ignoring."
+    const-string v20, " while being destroyed. Ignoring."
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -3956,7 +3984,7 @@
 
     iget v3, v0, Landroid/os/Message;->what:I
 
-    packed-switch v3, :pswitch_data_320
+    packed-switch v3, :pswitch_data_384
 
     :pswitch_50
     invoke-super/range {p0 .. p1}, Lcom/android/internal/telephony/ServiceStateTracker;->handleMessage(Landroid/os/Message;)V
@@ -3993,9 +4021,9 @@
 
     move-result v3
 
-    const/16 v18, 0x1
+    const/16 v20, 0x1
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
     if-ne v3, v0, :cond_88
 
@@ -4041,9 +4069,9 @@
 
     move-result-object v3
 
-    sget-object v18, Lcom/android/internal/telephony/CommandsInterface$RadioState;->RADIO_ON:Lcom/android/internal/telephony/CommandsInterface$RadioState;
+    sget-object v20, Lcom/android/internal/telephony/CommandsInterface$RadioState;->RADIO_ON:Lcom/android/internal/telephony/CommandsInterface$RadioState;
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     if-ne v3, v0, :cond_b5
 
@@ -4113,15 +4141,15 @@
 
     iget-object v3, v9, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    if-nez v3, :cond_15b
+    if-nez v3, :cond_185
 
     iget-object v3, v9, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
     check-cast v3, [Ljava/lang/String;
 
-    move-object/from16 v17, v3
+    move-object/from16 v18, v3
 
-    check-cast v17, [Ljava/lang/String;
+    check-cast v18, [Ljava/lang/String;
 
     const/4 v4, -0x1
 
@@ -4133,26 +4161,26 @@
 
     const/4 v8, -0x1
 
-    move-object/from16 v0, v17
+    move-object/from16 v0, v18
 
     array-length v3, v0
 
-    const/16 v18, 0x9
+    const/16 v20, 0x9
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
     if-le v3, v0, :cond_14d
 
     const/4 v3, 0x4
 
     :try_start_104
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_10f
 
     const/4 v3, 0x4
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
@@ -4161,13 +4189,13 @@
     :cond_10f
     const/4 v3, 0x5
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_11b
 
     const/4 v3, 0x5
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
@@ -4176,13 +4204,13 @@
     :cond_11b
     const/4 v3, 0x6
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_127
 
     const/4 v3, 0x6
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
@@ -4200,13 +4228,13 @@
     :cond_131
     const/16 v3, 0x8
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_13f
 
     const/16 v3, 0x8
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
@@ -4215,17 +4243,17 @@
     :cond_13f
     const/16 v3, 0x9
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_14d
 
     const/16 v3, 0x9
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
     :try_end_14c
-    .catch Ljava/lang/NumberFormatException; {:try_start_104 .. :try_end_14c} :catch_160
+    .catch Ljava/lang/NumberFormatException; {:try_start_104 .. :try_end_14c} :catch_18a
 
     move-result v8
 
@@ -4233,31 +4261,74 @@
     :goto_14d
     move-object/from16 v0, p0
 
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
+
+    move-object/from16 v20, v0
+
+    invoke-virtual/range {v20 .. v20}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v20
+
+    const/16 v21, 0x0
+
+    move-object/from16 v0, v20
+
+    move/from16 v1, v21
+
+    invoke-virtual {v3, v0, v1}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v17
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_1a6
+
+    if-eqz v17, :cond_1a6
+
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const/16 v20, 0x1
+
+    move/from16 v0, v20
+
+    if-ne v3, v0, :cond_1a6
+
+    move-object/from16 v0, p0
+
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
+    invoke-virtual {v3}, Landroid/telephony/cdma/CdmaCellLocation;->setStateInvalid()V
 
+    :goto_17e
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
     invoke-virtual {v3}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyLocationChanged()V
 
-    :cond_15b
+    :cond_185
     invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->disableSingleLocationUpdate()V
 
     goto/16 :goto_48
 
-    :catch_160
+    :catch_18a
     move-exception v11
 
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v18, "error parsing cell location data: "
+    const-string v20, "error parsing cell location data: "
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -4277,7 +4348,67 @@
 
     goto :goto_14d
 
-    :pswitch_17c
+    :cond_1a6
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_1d9
+
+    if-eqz v17, :cond_1d9
+
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const/16 v20, 0x3
+
+    move/from16 v0, v20
+
+    if-ne v3, v0, :cond_1d9
+
+    new-instance v19, Ljava/util/Random;
+
+    invoke-direct/range {v19 .. v19}, Ljava/util/Random;-><init>()V
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cellLoc:Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v4
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v5
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v6
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v7
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v8
+
+    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
+
+    goto :goto_17e
+
+    :cond_1d9
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cellLoc:Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
+
+    goto :goto_17e
+
+    :pswitch_1e1
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4294,7 +4425,7 @@
 
     goto/16 :goto_48
 
-    :pswitch_18d
+    :pswitch_1f2
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4313,15 +4444,15 @@
 
     check-cast v10, [Ljava/lang/String;
 
-    if-eqz v10, :cond_21f
+    if-eqz v10, :cond_284
 
     array-length v3, v10
 
-    const/16 v18, 0x5
+    const/16 v20, 0x5
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
-    if-lt v3, v0, :cond_21f
+    if-lt v3, v0, :cond_284
 
     const/4 v3, 0x0
 
@@ -4335,13 +4466,13 @@
 
     aget-object v3, v10, v3
 
-    const/16 v18, 0x2
+    const/16 v20, 0x2
 
-    aget-object v18, v10, v18
+    aget-object v20, v10, v20
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v18
+    move-object/from16 v1, v20
 
     invoke-virtual {v0, v3, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->parseSidNid(Ljava/lang/String;Ljava/lang/String;)V
 
@@ -4365,9 +4496,9 @@
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v18, "GET_CDMA_SUBSCRIPTION: MDN="
+    const-string v20, "GET_CDMA_SUBSCRIPTION: MDN="
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -4377,9 +4508,9 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mMdn:Ljava/lang/String;
 
-    move-object/from16 v18, v0
+    move-object/from16 v20, v0
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -4405,13 +4536,13 @@
 
     iget-boolean v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->isSubscriptionFromRuim:Z
 
-    if-nez v3, :cond_216
+    if-nez v3, :cond_27b
 
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mIccRecords:Lcom/android/internal/telephony/IccRecords;
 
-    if-eqz v3, :cond_216
+    if-eqz v3, :cond_27b
 
     const-string v3, "GET_CDMA_SUBSCRIPTION set imsi in mIccRecords"
 
@@ -4425,15 +4556,15 @@
 
     invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->getImsi()Ljava/lang/String;
 
-    move-result-object v18
+    move-result-object v20
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Lcom/android/internal/telephony/IccRecords;->setImsi(Ljava/lang/String;)V
 
     goto/16 :goto_48
 
-    :cond_216
+    :cond_27b
     const-string v3, "GET_CDMA_SUBSCRIPTION either mIccRecords is null  or NV type device - not setting Imsi in mIccRecords"
 
     move-object/from16 v0, p0
@@ -4442,14 +4573,14 @@
 
     goto/16 :goto_48
 
-    :cond_21f
+    :cond_284
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v18, "GET_CDMA_SUBSCRIPTION: error parsing cdmaSubscription params num="
+    const-string v20, "GET_CDMA_SUBSCRIPTION: error parsing cdmaSubscription params num="
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -4457,9 +4588,9 @@
 
     array-length v0, v10
 
-    move/from16 v18, v0
+    move/from16 v20, v0
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
@@ -4475,28 +4606,28 @@
 
     goto/16 :goto_48
 
-    :pswitch_240
+    :pswitch_2a5
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    const/16 v18, 0x3
+    const/16 v20, 0x3
 
     move-object/from16 v0, p0
 
-    move/from16 v1, v18
+    move/from16 v1, v20
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->obtainMessage(I)Landroid/os/Message;
 
-    move-result-object v18
+    move-result-object v20
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-interface {v3, v0}, Lcom/android/internal/telephony/CommandsInterface;->getSignalStrength(Landroid/os/Message;)V
 
     goto/16 :goto_48
 
-    :pswitch_255
+    :pswitch_2ba
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4509,9 +4640,9 @@
 
     check-cast v3, [Ljava/lang/Object;
 
-    const/16 v18, 0x0
+    const/16 v20, 0x0
 
-    aget-object v15, v3, v18
+    aget-object v15, v3, v20
 
     check-cast v15, Ljava/lang/String;
 
@@ -4521,9 +4652,9 @@
 
     check-cast v3, [Ljava/lang/Object;
 
-    const/16 v18, 0x1
+    const/16 v20, 0x1
 
-    aget-object v3, v3, v18
+    aget-object v3, v3, v20
 
     check-cast v3, Ljava/lang/Long;
 
@@ -4537,7 +4668,7 @@
 
     goto/16 :goto_48
 
-    :pswitch_27e
+    :pswitch_2e3
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4558,12 +4689,12 @@
 
     goto/16 :goto_48
 
-    :pswitch_291
+    :pswitch_2f6
     invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->updateSpnDisplay()V
 
     goto/16 :goto_48
 
-    :pswitch_296
+    :pswitch_2fb
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4578,27 +4709,27 @@
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    const/16 v18, 0x1f
+    const/16 v20, 0x1f
 
-    const/16 v19, 0x0
+    const/16 v21, 0x0
 
     move-object/from16 v0, p0
 
-    move/from16 v1, v18
+    move/from16 v1, v20
 
-    move-object/from16 v2, v19
+    move-object/from16 v2, v21
 
     invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
 
-    move-result-object v18
+    move-result-object v20
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-interface {v3, v0}, Lcom/android/internal/telephony/CommandsInterface;->getVoiceRegistrationState(Landroid/os/Message;)V
 
     goto/16 :goto_48
 
-    :pswitch_2b9
+    :pswitch_31e
     const-string v3, "[CdmaServiceStateTracker] ERI file has been loaded, repolling."
 
     move-object/from16 v0, p0
@@ -4609,7 +4740,7 @@
 
     goto/16 :goto_48
 
-    :pswitch_2c5
+    :pswitch_32a
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4636,7 +4767,7 @@
 
     move/from16 v0, v16
 
-    if-eq v0, v3, :cond_2e5
+    if-eq v0, v3, :cond_34a
 
     const/16 v3, 0xa
 
@@ -4644,7 +4775,7 @@
 
     if-ne v0, v3, :cond_48
 
-    :cond_2e5
+    :cond_34a
     const-string v3, "EVENT_OTA_PROVISION_STATUS_CHANGE: Complete, Reload MDN"
 
     move-object/from16 v0, p0
@@ -4655,23 +4786,23 @@
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    const/16 v18, 0x22
+    const/16 v20, 0x22
 
     move-object/from16 v0, p0
 
-    move/from16 v1, v18
+    move/from16 v1, v20
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->obtainMessage(I)Landroid/os/Message;
 
-    move-result-object v18
+    move-result-object v20
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-interface {v3, v0}, Lcom/android/internal/telephony/CommandsInterface;->getCDMASubscription(Landroid/os/Message;)V
 
     goto/16 :goto_48
 
-    :pswitch_301
+    :pswitch_366
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4704,9 +4835,7 @@
 
     goto/16 :goto_48
 
-    nop
-
-    :pswitch_data_320
+    :pswitch_data_384
     .packed-switch 0x1
         :pswitch_97
         :pswitch_50
@@ -4717,37 +4846,37 @@
         :pswitch_50
         :pswitch_50
         :pswitch_50
-        :pswitch_240
-        :pswitch_255
-        :pswitch_27e
+        :pswitch_2a5
+        :pswitch_2ba
+        :pswitch_2e3
         :pswitch_50
         :pswitch_50
         :pswitch_50
         :pswitch_50
         :pswitch_50
-        :pswitch_296
+        :pswitch_2fb
         :pswitch_50
         :pswitch_50
         :pswitch_50
         :pswitch_50
         :pswitch_50
-        :pswitch_17c
-        :pswitch_17c
+        :pswitch_1e1
+        :pswitch_1e1
         :pswitch_62
-        :pswitch_291
+        :pswitch_2f6
         :pswitch_50
         :pswitch_50
         :pswitch_bc
         :pswitch_df
         :pswitch_50
         :pswitch_50
-        :pswitch_18d
+        :pswitch_1f2
         :pswitch_93
-        :pswitch_2b9
-        :pswitch_2c5
+        :pswitch_31e
+        :pswitch_32a
         :pswitch_50
         :pswitch_54
-        :pswitch_301
+        :pswitch_366
     .end packed-switch
 .end method
 
@@ -5180,9 +5309,33 @@
 .end method
 
 .method protected handlePollStateResultMessage(ILandroid/os/AsyncResult;)V
-    .registers 25
+    .registers 27
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
 
-    packed-switch p1, :pswitch_data_26e
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
+
+    move-object/from16 v21, v0
+
+    invoke-virtual/range {v21 .. v21}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v21
+
+    const/16 v22, 0x0
+
+    move-object/from16 v0, v21
+
+    move/from16 v1, v22
+
+    invoke-virtual {v3, v0, v1}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v17
+
+    packed-switch p1, :pswitch_data_31c
 
     const-string v3, "handlePollStateResultMessage: RIL response handle in wrong phone! Expected CDMA RIL request and get GSM RIL request."
 
@@ -5190,20 +5343,20 @@
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    :cond_a
-    :goto_a
+    :cond_22
+    :goto_22
     return-void
 
-    :pswitch_b
+    :pswitch_23
     move-object/from16 v0, p2
 
     iget-object v3, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
     check-cast v3, [Ljava/lang/String;
 
-    move-object/from16 v17, v3
+    move-object/from16 v18, v3
 
-    check-cast v17, [Ljava/lang/String;
+    check-cast v18, [Ljava/lang/String;
 
     const/4 v15, 0x4
 
@@ -5223,215 +5376,215 @@
 
     const/16 v16, -0x1
 
-    const/16 v18, 0x0
+    const/16 v19, 0x0
 
     const/4 v10, 0x0
 
     const/4 v14, 0x0
 
-    move-object/from16 v0, v17
+    move-object/from16 v0, v18
 
     array-length v3, v0
 
-    const/16 v19, 0xe
+    const/16 v21, 0xe
 
-    move/from16 v0, v19
+    move/from16 v0, v21
 
-    if-lt v3, v0, :cond_180
+    if-lt v3, v0, :cond_1aa
 
     const/4 v3, 0x0
 
-    :try_start_31
-    aget-object v3, v17, v3
+    :try_start_49
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_3c
+    if-eqz v3, :cond_54
 
     const/4 v3, 0x0
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v15
 
-    :cond_3c
+    :cond_54
     const/4 v3, 0x3
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_48
+    if-eqz v3, :cond_60
 
     const/4 v3, 0x3
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v13
 
-    :cond_48
+    :cond_60
     const/4 v3, 0x4
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_54
+    if-eqz v3, :cond_6c
 
     const/4 v3, 0x4
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v4
 
-    :cond_54
+    :cond_6c
     const/4 v3, 0x5
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_60
+    if-eqz v3, :cond_78
 
     const/4 v3, 0x5
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v5
 
-    :cond_60
+    :cond_78
     const/4 v3, 0x6
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_6c
+    if-eqz v3, :cond_84
 
     const/4 v3, 0x6
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v6
 
-    :cond_6c
-    if-nez v5, :cond_76
+    :cond_84
+    if-nez v5, :cond_8e
 
-    if-nez v6, :cond_76
+    if-nez v6, :cond_8e
 
     const v5, 0x7fffffff
 
     const v6, 0x7fffffff
 
-    :cond_76
+    :cond_8e
     const/4 v3, 0x7
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_82
+    if-eqz v3, :cond_9a
 
     const/4 v3, 0x7
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v9
 
-    :cond_82
+    :cond_9a
     const/16 v3, 0x8
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_90
+    if-eqz v3, :cond_a8
 
     const/16 v3, 0x8
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v7
 
-    :cond_90
+    :cond_a8
     const/16 v3, 0x9
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_9e
+    if-eqz v3, :cond_b6
 
     const/16 v3, 0x9
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v8
 
-    :cond_9e
+    :cond_b6
     const/16 v3, 0xa
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_ac
+    if-eqz v3, :cond_c4
 
     const/16 v3, 0xa
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v16
 
-    :cond_ac
+    :cond_c4
     const/16 v3, 0xb
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_ba
+    if-eqz v3, :cond_d2
 
     const/16 v3, 0xb
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
-    move-result v18
+    move-result v19
 
-    :cond_ba
+    :cond_d2
     const/16 v3, 0xc
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_c8
+    if-eqz v3, :cond_e0
 
     const/16 v3, 0xc
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v10
 
-    :cond_c8
+    :cond_e0
     const/16 v3, 0xd
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_d6
+    if-eqz v3, :cond_ee
 
     const/16 v3, 0xd
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
-    :try_end_d5
-    .catch Ljava/lang/NumberFormatException; {:try_start_31 .. :try_end_d5} :catch_163
+    :try_end_ed
+    .catch Ljava/lang/NumberFormatException; {:try_start_49 .. :try_end_ed} :catch_18d
 
     move-result v14
 
-    :cond_d6
-    :goto_d6
+    :cond_ee
+    :goto_ee
     move-object/from16 v0, p0
 
     iput v15, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationState:I
@@ -5442,11 +5595,11 @@
 
     move-result v3
 
-    if-eqz v3, :cond_1a6
+    if-eqz v3, :cond_1d0
 
     const/16 v3, 0xa
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     move-object/from16 v0, p0
 
@@ -5454,11 +5607,11 @@
 
     move-result v3
 
-    if-nez v3, :cond_1a6
+    if-nez v3, :cond_1d0
 
     const/4 v3, 0x1
 
-    :goto_ef
+    :goto_107
     move-object/from16 v0, p0
 
     iput-boolean v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mCdmaRoaming:Z
@@ -5471,9 +5624,9 @@
 
     invoke-virtual {v0, v15}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->regCodeToServiceState(I)I
 
-    move-result v19
+    move-result v21
 
-    move/from16 v0, v19
+    move/from16 v0, v21
 
     invoke-virtual {v3, v0}, Landroid/telephony/ServiceState;->setState(I)V
 
@@ -5499,11 +5652,11 @@
 
     iput v0, v1, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRoamingIndicator:I
 
-    if-nez v18, :cond_1a9
+    if-nez v19, :cond_1d3
 
     const/4 v3, 0x0
 
-    :goto_11e
+    :goto_136
     move-object/from16 v0, p0
 
     iput-boolean v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mIsInPrl:Z
@@ -5514,11 +5667,30 @@
 
     move-object/from16 v0, p0
 
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_1d6
+
+    if-eqz v17, :cond_1d6
+
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const/16 v21, 0x1
+
+    move/from16 v0, v21
+
+    if-ne v3, v0, :cond_1d6
+
+    move-object/from16 v0, p0
+
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
+    invoke-virtual {v3}, Landroid/telephony/cdma/CdmaCellLocation;->setStateInvalid()V
 
-    if-nez v14, :cond_1ac
+    :goto_157
+    if-nez v14, :cond_213
 
     const-string v3, "General"
 
@@ -5526,24 +5698,24 @@
 
     iput-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
 
-    :goto_135
+    :goto_15f
     move-object/from16 v0, p0
 
     iget v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationState:I
 
-    const/16 v19, 0x3
+    const/16 v21, 0x3
 
-    move/from16 v0, v19
+    move/from16 v0, v21
 
-    if-ne v3, v0, :cond_a
+    if-ne v3, v0, :cond_22
 
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v19, "Registration denied, "
+    const-string v21, "Registration denied, "
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5553,9 +5725,9 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
 
-    move-object/from16 v19, v0
+    move-object/from16 v21, v0
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5569,18 +5741,18 @@
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
-    goto/16 :goto_a
+    goto/16 :goto_22
 
-    :catch_163
+    :catch_18d
     move-exception v11
 
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v19, "EVENT_POLL_STATE_REGISTRATION_CDMA: error parsing: "
+    const-string v21, "EVENT_POLL_STATE_REGISTRATION_CDMA: error parsing: "
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5598,180 +5770,240 @@
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    goto/16 :goto_d6
+    goto/16 :goto_ee
 
-    :cond_180
+    :cond_1aa
     new-instance v3, Ljava/lang/RuntimeException;
 
-    new-instance v19, Ljava/lang/StringBuilder;
+    new-instance v21, Ljava/lang/StringBuilder;
 
-    invoke-direct/range {v19 .. v19}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct/range {v21 .. v21}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v20, "Warning! Wrong number of parameters returned from RIL_REQUEST_REGISTRATION_STATE: expected 14 or more strings and got "
+    const-string v22, "Warning! Wrong number of parameters returned from RIL_REQUEST_REGISTRATION_STATE: expected 14 or more strings and got "
 
-    invoke-virtual/range {v19 .. v20}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v19
+    move-result-object v21
 
-    move-object/from16 v0, v17
+    move-object/from16 v0, v18
 
     array-length v0, v0
 
-    move/from16 v20, v0
+    move/from16 v22, v0
 
-    invoke-virtual/range {v19 .. v20}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    move-result-object v19
+    move-result-object v21
 
-    const-string v20, " strings"
+    const-string v22, " strings"
 
-    invoke-virtual/range {v19 .. v20}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v19
+    move-result-object v21
 
-    invoke-virtual/range {v19 .. v19}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual/range {v21 .. v21}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v19
+    move-result-object v21
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-direct {v3, v0}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
 
     throw v3
 
-    :cond_1a6
+    :cond_1d0
     const/4 v3, 0x0
 
-    goto/16 :goto_ef
+    goto/16 :goto_107
 
-    :cond_1a9
+    :cond_1d3
     const/4 v3, 0x1
 
-    goto/16 :goto_11e
+    goto/16 :goto_136
 
-    :cond_1ac
-    const/4 v3, 0x1
+    :cond_1d6
+    move-object/from16 v0, p0
 
-    if-ne v14, v3, :cond_1b6
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    const-string v3, "Authentication Failure"
+    if-eqz v3, :cond_20a
 
-    move-object/from16 v0, p0
+    if-eqz v17, :cond_20a
 
-    iput-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
 
-    goto :goto_135
+    move-result v3
 
-    :cond_1b6
-    const-string v3, ""
+    const/16 v21, 0x3
 
-    move-object/from16 v0, p0
+    move/from16 v0, v21
 
-    iput-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
+    if-ne v3, v0, :cond_20a
 
-    goto/16 :goto_135
+    new-instance v20, Ljava/util/Random;
 
-    :pswitch_1be
-    move-object/from16 v0, p2
+    invoke-direct/range {v20 .. v20}, Ljava/util/Random;-><init>()V
 
-    iget-object v3, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    move-object/from16 v0, p0
 
-    check-cast v3, [Ljava/lang/String;
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object v12, v3
+    invoke-virtual/range {v20 .. v20}, Ljava/util/Random;->nextInt()I
 
-    check-cast v12, [Ljava/lang/String;
+    move-result v4
 
-    if-eqz v12, :cond_265
+    invoke-virtual/range {v20 .. v20}, Ljava/util/Random;->nextInt()I
 
-    array-length v3, v12
+    move-result v5
 
-    const/16 v19, 0x3
+    invoke-virtual/range {v20 .. v20}, Ljava/util/Random;->nextInt()I
 
-    move/from16 v0, v19
+    move-result v6
 
-    if-lt v3, v0, :cond_265
+    invoke-virtual/range {v20 .. v20}, Ljava/util/Random;->nextInt()I
 
-    const/4 v3, 0x2
+    move-result v7
 
-    aget-object v3, v12, v3
+    invoke-virtual/range {v20 .. v20}, Ljava/util/Random;->nextInt()I
 
-    if-eqz v3, :cond_1f0
+    move-result v8
 
-    const/4 v3, 0x2
+    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
 
-    aget-object v3, v12, v3
+    goto/16 :goto_157
 
-    invoke-virtual {v3}, Ljava/lang/String;->length()I
+    :cond_20a
+    move-object/from16 v0, p0
 
-    move-result v3
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    const/16 v19, 0x5
+    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
 
-    move/from16 v0, v19
+    goto/16 :goto_157
 
-    if-lt v3, v0, :cond_1f0
+    :cond_213
+    const/4 v3, 0x1
 
-    const-string v3, "00000"
+    if-ne v14, v3, :cond_21e
 
-    const/16 v19, 0x2
+    const-string v3, "Authentication Failure"
 
-    aget-object v19, v12, v19
+    move-object/from16 v0, p0
 
-    move-object/from16 v0, v19
+    iput-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
 
-    invoke-virtual {v3, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+    goto/16 :goto_15f
 
-    move-result v3
+    :cond_21e
+    const-string v3, ""
 
-    if-eqz v3, :cond_22b
+    move-object/from16 v0, p0
+
+    iput-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
+
+    goto/16 :goto_15f
+
+    :pswitch_226
+    move-object/from16 v0, p2
+
+    iget-object v3, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+
+    check-cast v3, [Ljava/lang/String;
+
+    move-object v12, v3
+
+    check-cast v12, [Ljava/lang/String;
+
+    if-eqz v12, :cond_313
+
+    array-length v3, v12
+
+    const/16 v21, 0x3
+
+    move/from16 v0, v21
+
+    if-lt v3, v0, :cond_313
 
-    :cond_1f0
     const/4 v3, 0x2
 
-    sget-object v19, Lcom/android/internal/telephony/cdma/CDMAPhone;->PROPERTY_CDMA_HOME_OPERATOR_NUMERIC:Ljava/lang/String;
+    aget-object v3, v12, v3
 
-    const-string v20, "00000"
+    if-eqz v3, :cond_258
 
-    invoke-static/range {v19 .. v20}, Landroid/os/SystemProperties;->get(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
+    const/4 v3, 0x2
 
-    move-result-object v19
+    aget-object v3, v12, v3
 
-    aput-object v19, v12, v3
+    invoke-virtual {v3}, Ljava/lang/String;->length()I
+
+    move-result v3
+
+    const/16 v21, 0x5
+
+    move/from16 v0, v21
+
+    if-lt v3, v0, :cond_258
+
+    const-string v3, "00000"
+
+    const/16 v21, 0x2
+
+    aget-object v21, v12, v21
+
+    move-object/from16 v0, v21
+
+    invoke-virtual {v3, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v3
+
+    if-eqz v3, :cond_293
+
+    :cond_258
+    const/4 v3, 0x2
+
+    sget-object v21, Lcom/android/internal/telephony/cdma/CDMAPhone;->PROPERTY_CDMA_HOME_OPERATOR_NUMERIC:Ljava/lang/String;
+
+    const-string v22, "00000"
+
+    invoke-static/range {v21 .. v22}, Landroid/os/SystemProperties;->get(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
+
+    move-result-object v21
+
+    aput-object v21, v12, v3
 
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v19, "RIL_REQUEST_OPERATOR.response[2], the numeric,  is bad. Using SystemProperties \'"
+    const-string v21, "RIL_REQUEST_OPERATOR.response[2], the numeric,  is bad. Using SystemProperties \'"
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    sget-object v19, Lcom/android/internal/telephony/cdma/CDMAPhone;->PROPERTY_CDMA_HOME_OPERATOR_NUMERIC:Ljava/lang/String;
+    sget-object v21, Lcom/android/internal/telephony/cdma/CDMAPhone;->PROPERTY_CDMA_HOME_OPERATOR_NUMERIC:Ljava/lang/String;
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    const-string v19, "\'= "
+    const-string v21, "\'= "
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    const/16 v19, 0x2
+    const/16 v21, 0x2
 
-    aget-object v19, v12, v19
+    aget-object v21, v12, v21
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5785,77 +6017,147 @@
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
-    :cond_22b
+    :cond_293
     move-object/from16 v0, p0
 
     iget-boolean v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->isSubscriptionFromRuim:Z
 
-    if-nez v3, :cond_24a
+    if-nez v3, :cond_2d5
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_2bc
+
+    if-eqz v17, :cond_2bc
+
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    if-eqz v3, :cond_2bc
 
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    const/16 v19, 0x0
+    const/16 v21, 0x0
 
-    const/16 v20, 0x1
+    const-string v22, ""
 
-    aget-object v20, v12, v20
+    const-string v23, ""
 
-    const/16 v21, 0x2
+    move-object/from16 v0, v21
 
-    aget-object v21, v12, v21
+    move-object/from16 v1, v22
 
-    move-object/from16 v0, v19
+    move-object/from16 v2, v23
 
-    move-object/from16 v1, v20
+    invoke-virtual {v3, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
 
-    move-object/from16 v2, v21
+    goto/16 :goto_22
+
+    :cond_2bc
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+
+    const/16 v21, 0x0
+
+    const/16 v22, 0x1
+
+    aget-object v22, v12, v22
+
+    const/16 v23, 0x2
+
+    aget-object v23, v12, v23
+
+    move-object/from16 v0, v21
+
+    move-object/from16 v1, v22
+
+    move-object/from16 v2, v23
 
     invoke-virtual {v3, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
 
-    goto/16 :goto_a
+    goto/16 :goto_22
+
+    :cond_2d5
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_2f8
+
+    if-eqz v17, :cond_2f8
+
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    if-eqz v3, :cond_2f8
 
-    :cond_24a
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    const/16 v19, 0x0
+    const-string v21, ""
 
-    aget-object v19, v12, v19
+    const-string v22, ""
 
-    const/16 v20, 0x1
+    const-string v23, ""
+
+    move-object/from16 v0, v21
 
-    aget-object v20, v12, v20
+    move-object/from16 v1, v22
 
-    const/16 v21, 0x2
+    move-object/from16 v2, v23
+
+    invoke-virtual {v3, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto/16 :goto_22
+
+    :cond_2f8
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+
+    const/16 v21, 0x0
 
     aget-object v21, v12, v21
 
-    move-object/from16 v0, v19
+    const/16 v22, 0x1
 
-    move-object/from16 v1, v20
+    aget-object v22, v12, v22
 
-    move-object/from16 v2, v21
+    const/16 v23, 0x2
+
+    aget-object v23, v12, v23
+
+    move-object/from16 v0, v21
+
+    move-object/from16 v1, v22
+
+    move-object/from16 v2, v23
 
     invoke-virtual {v3, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
 
-    goto/16 :goto_a
+    goto/16 :goto_22
 
-    :cond_265
+    :cond_313
     const-string v3, "EVENT_POLL_STATE_OPERATOR_CDMA: error parsing opNames"
 
     move-object/from16 v0, p0
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
-    goto/16 :goto_a
+    goto/16 :goto_22
 
-    :pswitch_data_26e
+    :pswitch_data_31c
     .packed-switch 0x18
-        :pswitch_b
-        :pswitch_1be
+        :pswitch_23
+        :pswitch_226
     .end packed-switch
 .end method
 
@@ -6390,57 +6692,57 @@
 .end method
 
 .method protected pollStateDone()V
-    .registers 28
+    .registers 29
 
-    new-instance v23, Ljava/lang/StringBuilder;
+    new-instance v24, Ljava/lang/StringBuilder;
 
-    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct/range {v24 .. v24}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v24, "pollStateDone: oldSS=["
+    const-string v25, "pollStateDone: oldSS=["
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    const-string v24, "] newSS=["
+    const-string v25, "] newSS=["
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    const-string v24, "]"
+    const-string v25, "]"
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
@@ -6448,25 +6750,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_312
+    if-eqz v24, :cond_330
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_312
+    if-nez v24, :cond_330
 
     const/4 v14, 0x1
 
@@ -6475,25 +6777,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_315
+    if-nez v24, :cond_333
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_315
+    if-eqz v24, :cond_333
 
     const/4 v11, 0x1
 
@@ -6502,17 +6804,17 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    if-eqz v23, :cond_318
+    if-eqz v24, :cond_336
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    if-nez v23, :cond_318
+    if-nez v24, :cond_336
 
     const/4 v7, 0x1
 
@@ -6521,17 +6823,17 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    if-nez v23, :cond_31b
+    if-nez v24, :cond_339
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    if-eqz v23, :cond_31b
+    if-eqz v24, :cond_339
 
     const/4 v9, 0x1
 
@@ -6540,19 +6842,19 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewDataConnectionState:I
 
-    move/from16 v24, v0
+    move/from16 v25, v0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
-    move/from16 v1, v24
+    move/from16 v1, v25
 
-    if-eq v0, v1, :cond_31e
+    if-eq v0, v1, :cond_33c
 
     const/4 v8, 0x1
 
@@ -6561,19 +6863,19 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRilRadioTechnology:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewRilRadioTechnology:I
 
-    move/from16 v24, v0
+    move/from16 v25, v0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
-    move/from16 v1, v24
+    move/from16 v1, v25
 
-    if-eq v0, v1, :cond_321
+    if-eq v0, v1, :cond_33f
 
     const/4 v13, 0x1
 
@@ -6582,19 +6884,19 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Landroid/telephony/ServiceState;->equals(Ljava/lang/Object;)Z
+    invoke-virtual/range {v24 .. v25}, Landroid/telephony/ServiceState;->equals(Ljava/lang/Object;)Z
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_324
+    if-nez v24, :cond_342
 
     const/4 v10, 0x1
 
@@ -6603,25 +6905,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_327
+    if-nez v24, :cond_345
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_327
+    if-eqz v24, :cond_345
 
     const/16 v16, 0x1
 
@@ -6630,25 +6932,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_32b
+    if-eqz v24, :cond_349
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_32b
+    if-nez v24, :cond_349
 
     const/4 v15, 0x1
 
@@ -6657,19 +6959,19 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Landroid/telephony/cdma/CdmaCellLocation;->equals(Ljava/lang/Object;)Z
+    invoke-virtual/range {v24 .. v25}, Landroid/telephony/cdma/CdmaCellLocation;->equals(Ljava/lang/Object;)Z
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_32e
+    if-nez v24, :cond_34c
 
     const/4 v12, 0x1
 
@@ -6678,25 +6980,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v23
+    move-result v24
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v25 .. v25}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v24
+    move-result v25
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
-    move/from16 v1, v24
+    move/from16 v1, v25
 
     if-ne v0, v1, :cond_135
 
@@ -6704,117 +7006,117 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewDataConnectionState:I
 
-    move/from16 v24, v0
+    move/from16 v25, v0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
-    move/from16 v1, v24
+    move/from16 v1, v25
 
     if-eq v0, v1, :cond_183
 
     :cond_135
-    const v23, 0xc3c4
+    const v24, 0xc3c4
 
-    const/16 v24, 0x4
+    const/16 v25, 0x4
 
-    move/from16 v0, v24
+    move/from16 v0, v25
 
     new-array v0, v0, [Ljava/lang/Object;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    const/16 v25, 0x0
+    const/16 v26, 0x0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v26, v0
+    move-object/from16 v27, v0
 
-    invoke-virtual/range {v26 .. v26}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v27 .. v27}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v26
+    move-result v27
 
-    invoke-static/range {v26 .. v26}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    invoke-static/range {v27 .. v27}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    move-result-object v26
+    move-result-object v27
 
-    aput-object v26, v24, v25
+    aput-object v27, v25, v26
 
-    const/16 v25, 0x1
+    const/16 v26, 0x1
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mDataConnectionState:I
 
-    move/from16 v26, v0
+    move/from16 v27, v0
 
-    invoke-static/range {v26 .. v26}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    invoke-static/range {v27 .. v27}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    move-result-object v26
+    move-result-object v27
 
-    aput-object v26, v24, v25
+    aput-object v27, v25, v26
 
-    const/16 v25, 0x2
+    const/16 v26, 0x2
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v26, v0
+    move-object/from16 v27, v0
 
-    invoke-virtual/range {v26 .. v26}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v27 .. v27}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v26
+    move-result v27
 
-    invoke-static/range {v26 .. v26}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    invoke-static/range {v27 .. v27}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    move-result-object v26
+    move-result-object v27
 
-    aput-object v26, v24, v25
+    aput-object v27, v25, v26
 
-    const/16 v25, 0x3
+    const/16 v26, 0x3
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewDataConnectionState:I
 
-    move/from16 v26, v0
+    move/from16 v27, v0
 
-    invoke-static/range {v26 .. v26}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    invoke-static/range {v27 .. v27}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    move-result-object v26
+    move-result-object v27
 
-    aput-object v26, v24, v25
+    aput-object v27, v25, v26
 
-    invoke-static/range {v23 .. v24}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
+    invoke-static/range {v24 .. v25}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
 
     :cond_183
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v22, v0
+    move-object/from16 v23, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
     move-object/from16 v1, p0
 
     iput-object v0, v1, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v0, v22
+    move-object/from16 v0, v23
 
     move-object/from16 v1, p0
 
@@ -6824,29 +7126,29 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->setStateOutOfService()V
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->setStateOutOfService()V
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v21, v0
+    move-object/from16 v22, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
     move-object/from16 v1, p0
 
     iput-object v0, v1, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v0, v21
+    move-object/from16 v0, v22
 
     move-object/from16 v1, p0
 
@@ -6856,9 +7158,9 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
     move-object/from16 v1, p0
 
@@ -6868,17 +7170,17 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewRilRadioTechnology:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
     move-object/from16 v1, p0
 
     iput v0, v1, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRilRadioTechnology:I
 
-    const/16 v23, 0x0
+    const/16 v24, 0x0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
     move-object/from16 v1, p0
 
@@ -6888,9 +7190,9 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->setStateOutOfService()V
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->setStateOutOfService()V
 
     if-eqz v13, :cond_1fc
 
@@ -6898,21 +7200,21 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.network.type"
+    const-string v25, "gsm.network.type"
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRilRadioTechnology:I
 
-    move/from16 v25, v0
+    move/from16 v26, v0
 
-    invoke-static/range {v25 .. v25}, Landroid/telephony/ServiceState;->rilRadioTechnologyToString(I)Ljava/lang/String;
+    invoke-static/range {v26 .. v26}, Landroid/telephony/ServiceState;->rilRadioTechnologyToString(I)Ljava/lang/String;
 
-    move-result-object v25
+    move-result-object v26
 
-    invoke-virtual/range {v23 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-virtual/range {v24 .. v26}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
     :cond_1fc
     if-eqz v14, :cond_207
@@ -6921,96 +7223,126 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNetworkAttachedRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
     :cond_207
-    if-eqz v10, :cond_2cb
+    if-eqz v10, :cond_2e9
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-interface/range {v23 .. v23}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
+    invoke-interface/range {v24 .. v24}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-virtual/range {v23 .. v23}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_242
+    if-eqz v24, :cond_260
 
     move-object/from16 v0, p0
 
     iget-boolean v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->isSubscriptionFromRuim:Z
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    if-nez v23, :cond_242
+    if-nez v24, :cond_260
 
     move-object/from16 v0, p0
 
-    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getState()I
+    move-object/from16 v0, p0
 
-    move-result v23
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
 
-    if-nez v23, :cond_331
+    move-object/from16 v25, v0
+
+    invoke-virtual/range {v25 .. v25}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v25
+
+    const/16 v26, 0x0
+
+    invoke-virtual/range {v24 .. v26}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v21
 
     move-object/from16 v0, p0
 
-    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getCdmaEriText()Ljava/lang/String;
+    if-eqz v24, :cond_366
 
-    move-result-object v5
+    if-eqz v21, :cond_366
+
+    invoke-virtual/range {v21 .. v21}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v24
+
+    if-eqz v24, :cond_366
 
-    :goto_237
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    move-object/from16 v0, v23
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
+
+    move-result v24
+
+    if-nez v24, :cond_34f
+
+    const-string v5, ""
+
+    :goto_255
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
+
+    move-object/from16 v24, v0
+
+    move-object/from16 v0, v24
 
     invoke-virtual {v0, v5}, Landroid/telephony/ServiceState;->setOperatorAlphaLong(Ljava/lang/String;)V
 
-    :cond_242
+    :cond_260
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.operator.alpha"
+    const-string v25, "gsm.operator.alpha"
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v25, v0
+    move-object/from16 v26, v0
 
-    invoke-virtual/range {v25 .. v25}, Landroid/telephony/ServiceState;->getOperatorAlphaLong()Ljava/lang/String;
+    invoke-virtual/range {v26 .. v26}, Landroid/telephony/ServiceState;->getOperatorAlphaLong()Ljava/lang/String;
 
-    move-result-object v25
+    move-result-object v26
 
-    invoke-virtual/range {v23 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-virtual/range {v24 .. v26}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
-    const-string v23, "gsm.operator.numeric"
+    const-string v24, "gsm.operator.numeric"
 
-    const-string v24, ""
+    const-string v25, ""
 
-    invoke-static/range {v23 .. v24}, Landroid/os/SystemProperties;->get(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
+    invoke-static/range {v24 .. v25}, Landroid/os/SystemProperties;->get(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
 
     move-result-object v20
 
@@ -7018,9 +7350,9 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getOperatorNumeric()Ljava/lang/String;
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getOperatorNumeric()Ljava/lang/String;
 
     move-result-object v19
 
@@ -7028,25 +7360,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.operator.numeric"
+    const-string v25, "gsm.operator.numeric"
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
-    move-object/from16 v1, v24
+    move-object/from16 v1, v25
 
     move-object/from16 v2, v19
 
     invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
-    if-nez v19, :cond_348
+    if-nez v19, :cond_395
 
-    const-string v23, "operatorNumeric is null"
+    const-string v24, "operatorNumeric is null"
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
@@ -7054,52 +7386,52 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.operator.iso-country"
+    const-string v25, "gsm.operator.iso-country"
 
-    const-string v25, ""
+    const-string v26, ""
 
-    invoke-virtual/range {v23 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-virtual/range {v24 .. v26}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
-    const/16 v23, 0x0
+    const/16 v24, 0x0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
     move-object/from16 v1, p0
 
     iput-boolean v0, v1, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mGotCountryCode:Z
 
-    :cond_29a
-    :goto_29a
+    :cond_2b8
+    :goto_2b8
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    const-string v25, "gsm.operator.isroaming"
+    const-string v26, "gsm.operator.isroaming"
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_3e8
+    if-eqz v24, :cond_435
 
-    const-string v23, "true"
+    const-string v24, "true"
 
-    :goto_2b0
-    move-object/from16 v0, v24
+    :goto_2ce
+    move-object/from16 v0, v25
 
-    move-object/from16 v1, v25
+    move-object/from16 v1, v26
 
-    move-object/from16 v2, v23
+    move-object/from16 v2, v24
 
     invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
@@ -7109,226 +7441,274 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyServiceStateChanged(Landroid/telephony/ServiceState;)V
+    invoke-virtual/range {v24 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyServiceStateChanged(Landroid/telephony/ServiceState;)V
 
-    :cond_2cb
-    if-eqz v7, :cond_2d6
+    :cond_2e9
+    if-eqz v7, :cond_2f4
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mAttachedRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
-    :cond_2d6
-    if-eqz v9, :cond_2e1
+    :cond_2f4
+    if-eqz v9, :cond_2ff
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mDetachedRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
-    :cond_2e1
-    if-nez v8, :cond_2e5
+    :cond_2ff
+    if-nez v8, :cond_303
 
-    if-eqz v13, :cond_2f0
+    if-eqz v13, :cond_30e
 
-    :cond_2e5
+    :cond_303
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const/16 v24, 0x0
+    const/16 v25, 0x0
 
-    invoke-virtual/range {v23 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyDataConnection(Ljava/lang/String;)V
+    invoke-virtual/range {v24 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyDataConnection(Ljava/lang/String;)V
 
-    :cond_2f0
-    if-eqz v16, :cond_2fb
+    :cond_30e
+    if-eqz v16, :cond_319
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRoamingOnRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
-    :cond_2fb
-    if-eqz v15, :cond_306
+    :cond_319
+    if-eqz v15, :cond_324
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRoamingOffRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
-    :cond_306
-    if-eqz v12, :cond_311
+    :cond_324
+    if-eqz v12, :cond_32f
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyLocationChanged()V
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyLocationChanged()V
 
-    :cond_311
+    :cond_32f
     return-void
 
-    :cond_312
+    :cond_330
     const/4 v14, 0x0
 
     goto/16 :goto_4f
 
-    :cond_315
+    :cond_333
     const/4 v11, 0x0
 
     goto/16 :goto_68
 
-    :cond_318
+    :cond_336
     const/4 v7, 0x0
 
     goto/16 :goto_79
 
-    :cond_31b
+    :cond_339
     const/4 v9, 0x0
 
     goto/16 :goto_8a
 
-    :cond_31e
+    :cond_33c
     const/4 v8, 0x0
 
     goto/16 :goto_9d
 
-    :cond_321
+    :cond_33f
     const/4 v13, 0x0
 
     goto/16 :goto_b0
 
-    :cond_324
+    :cond_342
     const/4 v10, 0x0
 
     goto/16 :goto_c3
 
-    :cond_327
+    :cond_345
     const/16 v16, 0x0
 
     goto/16 :goto_dd
 
-    :cond_32b
+    :cond_349
     const/4 v15, 0x0
 
     goto/16 :goto_f6
 
-    :cond_32e
+    :cond_34c
     const/4 v12, 0x0
 
     goto/16 :goto_109
 
-    :cond_331
+    :cond_34f
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
+
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getContext()Landroid/content/Context;
+
+    move-result-object v24
+
+    const v25, 0x10400c8
+
+    invoke-virtual/range {v24 .. v25}, Landroid/content/Context;->getText(I)Ljava/lang/CharSequence;
+
+    move-result-object v24
+
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/Object;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto/16 :goto_255
+
+    :cond_366
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
+
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getContext()Landroid/content/Context;
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
+
+    move-result v24
+
+    if-nez v24, :cond_37e
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
+
+    move-object/from16 v24, v0
+
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getCdmaEriText()Ljava/lang/String;
+
+    move-result-object v5
 
-    move-result-object v23
+    goto/16 :goto_255
 
-    const v24, 0x10400c8
+    :cond_37e
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
+
+    move-object/from16 v24, v0
+
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getContext()Landroid/content/Context;
+
+    move-result-object v24
 
-    invoke-virtual/range {v23 .. v24}, Landroid/content/Context;->getText(I)Ljava/lang/CharSequence;
+    const v25, 0x10400c8
 
-    move-result-object v23
+    invoke-virtual/range {v24 .. v25}, Landroid/content/Context;->getText(I)Ljava/lang/CharSequence;
 
-    invoke-virtual/range {v23 .. v23}, Ljava/lang/Object;->toString()Ljava/lang/String;
+    move-result-object v24
+
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/Object;->toString()Ljava/lang/String;
 
     move-result-object v5
 
-    goto/16 :goto_237
+    goto/16 :goto_255
 
-    :cond_348
+    :cond_395
     const-string v17, ""
 
-    const/16 v23, 0x0
+    const/16 v24, 0x0
 
-    const/16 v24, 0x3
+    const/16 v25, 0x3
 
     move-object/from16 v0, v19
 
-    move/from16 v1, v23
+    move/from16 v1, v24
 
-    move/from16 v2, v24
+    move/from16 v2, v25
 
     invoke-virtual {v0, v1, v2}, Ljava/lang/String;->substring(II)Ljava/lang/String;
 
     move-result-object v18
 
-    const/16 v23, 0x0
+    const/16 v24, 0x0
 
-    const/16 v24, 0x3
+    const/16 v25, 0x3
 
-    :try_start_35c
+    :try_start_3a9
     move-object/from16 v0, v19
 
-    move/from16 v1, v23
+    move/from16 v1, v24
 
-    move/from16 v2, v24
+    move/from16 v2, v25
 
     invoke-virtual {v0, v1, v2}, Ljava/lang/String;->substring(II)Ljava/lang/String;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-static/range {v23 .. v23}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    invoke-static/range {v24 .. v24}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
-    move-result v23
+    move-result v24
 
-    invoke-static/range {v23 .. v23}, Lcom/android/internal/telephony/MccTable;->countryCodeForMcc(I)Ljava/lang/String;
-    :try_end_36d
-    .catch Ljava/lang/NumberFormatException; {:try_start_35c .. :try_end_36d} :catch_3ac
-    .catch Ljava/lang/StringIndexOutOfBoundsException; {:try_start_35c .. :try_end_36d} :catch_3ca
+    invoke-static/range {v24 .. v24}, Lcom/android/internal/telephony/MccTable;->countryCodeForMcc(I)Ljava/lang/String;
+    :try_end_3ba
+    .catch Ljava/lang/NumberFormatException; {:try_start_3a9 .. :try_end_3ba} :catch_3f9
+    .catch Ljava/lang/StringIndexOutOfBoundsException; {:try_start_3a9 .. :try_end_3ba} :catch_417
 
     move-result-object v17
 
-    :goto_36e
+    :goto_3bb
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.operator.iso-country"
+    const-string v25, "gsm.operator.iso-country"
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
-    move-object/from16 v1, v24
+    move-object/from16 v1, v25
 
     move-object/from16 v2, v17
 
     invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
-    const/16 v23, 0x1
+    const/16 v24, 0x1
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
     move-object/from16 v1, p0
 
@@ -7338,29 +7718,29 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget-boolean v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNeedFixZone:Z
 
-    move/from16 v24, v0
+    move/from16 v25, v0
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     move-object/from16 v2, v19
 
     move-object/from16 v3, v20
 
-    move/from16 v4, v24
+    move/from16 v4, v25
 
     invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->shouldFixTimeZoneNow(Lcom/android/internal/telephony/PhoneBase;Ljava/lang/String;Ljava/lang/String;Z)Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_29a
+    if-eqz v24, :cond_2b8
 
     move-object/from16 v0, p0
 
@@ -7368,74 +7748,74 @@
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->fixTimeZone(Ljava/lang/String;)V
 
-    goto/16 :goto_29a
+    goto/16 :goto_2b8
 
-    :catch_3ac
+    :catch_3f9
     move-exception v6
 
-    new-instance v23, Ljava/lang/StringBuilder;
+    new-instance v24, Ljava/lang/StringBuilder;
 
-    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct/range {v24 .. v24}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v24, "pollStateDone: countryCodeForMcc error"
+    const-string v25, "pollStateDone: countryCodeForMcc error"
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
     invoke-virtual {v0, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    goto :goto_36e
+    goto :goto_3bb
 
-    :catch_3ca
+    :catch_417
     move-exception v6
 
-    new-instance v23, Ljava/lang/StringBuilder;
+    new-instance v24, Ljava/lang/StringBuilder;
 
-    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct/range {v24 .. v24}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v24, "pollStateDone: countryCodeForMcc error"
+    const-string v25, "pollStateDone: countryCodeForMcc error"
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
     invoke-virtual {v0, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    goto :goto_36e
+    goto :goto_3bb
 
-    :cond_3e8
-    const-string v23, "false"
+    :cond_435
+    const-string v24, "false"
 
-    goto/16 :goto_2b0
+    goto/16 :goto_2ce
 .end method
 
 .method protected radioTechnologyToDataServiceState(I)I
diff -Npru stock-telephony/smali/com/android/internal/telephony/cdma/CdmaSMSDispatcher$1.smali opd-telephony/smali/com/android/internal/telephony/cdma/CdmaSMSDispatcher$1.smali
--- stock-telephony/smali/com/android/internal/telephony/cdma/CdmaSMSDispatcher$1.smali	2013-03-01 15:22:50.391938997 -0600
+++ opd-telephony/smali/com/android/internal/telephony/cdma/CdmaSMSDispatcher$1.smali	2013-03-01 15:23:01.415993667 -0600
@@ -252,7 +252,7 @@
 
     invoke-interface {v11, v12, v13}, Lcom/android/internal/telephony/CommandsInterface;->sendCdmaSms([BLandroid/os/Message;)V
     :try_end_d1
-    .catchall {:try_start_79 .. :try_end_d1} :catchall_e6
+    .catchall {:try_start_79 .. :try_end_d1} :catchall_e9
     .catch Ljava/io/IOException; {:try_start_79 .. :try_end_d1} :catch_d9
 
     :try_start_d1
@@ -277,28 +277,33 @@
 
     invoke-static {v11, v12, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_e1
-    .catchall {:try_start_da .. :try_end_e1} :catchall_e6
+    .catchall {:try_start_da .. :try_end_e1} :catchall_e9
 
     :try_start_e1
     invoke-virtual {v3}, Ljava/io/DataOutputStream;->close()V
     :try_end_e4
-    .catch Ljava/io/IOException; {:try_start_e1 .. :try_end_e4} :catch_d6
+    .catch Ljava/io/IOException; {:try_start_e1 .. :try_end_e4} :catch_e6
 
     goto/16 :goto_25
 
-    :catchall_e6
+    :catch_e6
     move-exception v11
 
-    :try_start_e7
+    goto/16 :goto_25
+
+    :catchall_e9
+    move-exception v11
+
+    :try_start_ea
     invoke-virtual {v3}, Ljava/io/DataOutputStream;->close()V
-    :try_end_ea
-    .catch Ljava/io/IOException; {:try_start_e7 .. :try_end_ea} :catch_eb
+    :try_end_ed
+    .catch Ljava/io/IOException; {:try_start_ea .. :try_end_ed} :catch_ee
 
-    :goto_ea
+    :goto_ed
     throw v11
 
-    :catch_eb
+    :catch_ee
     move-exception v12
 
-    goto :goto_ea
+    goto :goto_ed
 .end method
diff -Npru stock-telephony/smali/com/android/internal/telephony/cdma/RuimRecords.smali opd-telephony/smali/com/android/internal/telephony/cdma/RuimRecords.smali
--- stock-telephony/smali/com/android/internal/telephony/cdma/RuimRecords.smali	2013-03-01 15:22:50.427939176 -0600
+++ opd-telephony/smali/com/android/internal/telephony/cdma/RuimRecords.smali	2013-03-01 15:23:01.467993922 -0600
@@ -1187,18 +1187,17 @@
     :try_start_33
     iget v7, p1, Landroid/os/Message;->what:I
 
-    sparse-switch v7, :sswitch_data_1ae
+    sparse-switch v7, :sswitch_data_1b0
 
     invoke-super {p0, p1}, Lcom/android/internal/telephony/IccRecords;->handleMessage(Landroid/os/Message;)V
     :try_end_3b
-    .catchall {:try_start_33 .. :try_end_3b} :catchall_56
+    .catchall {:try_start_33 .. :try_end_3b} :catchall_59
     .catch Ljava/lang/RuntimeException; {:try_start_33 .. :try_end_3b} :catch_45
 
     :cond_3b
     :goto_3b
     if-eqz v4, :cond_32
 
-    :goto_3d
     invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/RuimRecords;->onRecordLoaded()V
 
     goto :goto_32
@@ -1207,7 +1206,7 @@
     :try_start_41
     invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/RuimRecords;->onReady()V
     :try_end_44
-    .catchall {:try_start_41 .. :try_end_44} :catchall_56
+    .catchall {:try_start_41 .. :try_end_44} :catchall_59
     .catch Ljava/lang/RuntimeException; {:try_start_41 .. :try_end_44} :catch_45
 
     goto :goto_3b
@@ -1222,44 +1221,46 @@
 
     invoke-static {v7, v8, v3}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_4d
-    .catchall {:try_start_46 .. :try_end_4d} :catchall_56
+    .catchall {:try_start_46 .. :try_end_4d} :catchall_59
 
     if-eqz v4, :cond_32
 
-    goto :goto_3d
+    invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/RuimRecords;->onRecordLoaded()V
+
+    goto :goto_32
 
-    :sswitch_50
-    :try_start_50
+    :sswitch_53
+    :try_start_53
     const-string v7, "Event EVENT_GET_DEVICE_IDENTITY_DONE Received"
 
     invoke-virtual {p0, v7}, Lcom/android/internal/telephony/cdma/RuimRecords;->log(Ljava/lang/String;)V
-    :try_end_55
-    .catchall {:try_start_50 .. :try_end_55} :catchall_56
-    .catch Ljava/lang/RuntimeException; {:try_start_50 .. :try_end_55} :catch_45
+    :try_end_58
+    .catchall {:try_start_53 .. :try_end_58} :catchall_59
+    .catch Ljava/lang/RuntimeException; {:try_start_53 .. :try_end_58} :catch_45
 
     goto :goto_3b
 
-    :catchall_56
+    :catchall_59
     move-exception v7
 
-    if-eqz v4, :cond_5c
+    if-eqz v4, :cond_5f
 
     invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/RuimRecords;->onRecordLoaded()V
 
-    :cond_5c
+    :cond_5f
     throw v7
 
-    :sswitch_5d
+    :sswitch_60
     const/4 v4, 0x1
 
-    :try_start_5e
+    :try_start_61
     iget-object v1, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
 
     check-cast v1, Landroid/os/AsyncResult;
 
     iget-object v7, v1, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    if-eqz v7, :cond_7f
+    if-eqz v7, :cond_82
 
     new-instance v7, Ljava/lang/StringBuilder;
 
@@ -1285,7 +1286,7 @@
 
     goto :goto_3b
 
-    :cond_7f
+    :cond_82
     iget-object v7, v1, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
     check-cast v7, Ljava/lang/String;
@@ -1294,7 +1295,7 @@
 
     iget-object v7, p0, Lcom/android/internal/telephony/cdma/RuimRecords;->mImsi:Ljava/lang/String;
 
-    if-eqz v7, :cond_b6
+    if-eqz v7, :cond_b9
 
     iget-object v7, p0, Lcom/android/internal/telephony/cdma/RuimRecords;->mImsi:Ljava/lang/String;
 
@@ -1302,7 +1303,7 @@
 
     move-result v7
 
-    if-lt v7, v11, :cond_9b
+    if-lt v7, v11, :cond_9e
 
     iget-object v7, p0, Lcom/android/internal/telephony/cdma/RuimRecords;->mImsi:Ljava/lang/String;
 
@@ -1312,9 +1313,9 @@
 
     const/16 v8, 0xf
 
-    if-le v7, v8, :cond_b6
+    if-le v7, v8, :cond_b9
 
-    :cond_9b
+    :cond_9e
     new-instance v7, Ljava/lang/StringBuilder;
 
     invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V
@@ -1341,7 +1342,7 @@
 
     iput-object v7, p0, Lcom/android/internal/telephony/cdma/RuimRecords;->mImsi:Ljava/lang/String;
 
-    :cond_b6
+    :cond_b9
     new-instance v7, Ljava/lang/StringBuilder;
 
     invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V
@@ -1396,7 +1397,7 @@
 
     goto/16 :goto_3b
 
-    :sswitch_ed
+    :sswitch_f0
     iget-object v1, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
 
     check-cast v1, Landroid/os/AsyncResult;
@@ -1469,7 +1470,7 @@
 
     goto/16 :goto_3b
 
-    :sswitch_132
+    :sswitch_135
     const/4 v4, 0x1
 
     iget-object v1, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -1524,7 +1525,7 @@
 
     goto/16 :goto_3b
 
-    :sswitch_165
+    :sswitch_168
     iget-object v1, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
 
     check-cast v1, Landroid/os/AsyncResult;
@@ -1543,7 +1544,7 @@
 
     goto/16 :goto_3b
 
-    :sswitch_178
+    :sswitch_17b
     const-string v7, "CDMA"
 
     new-instance v8, Ljava/lang/StringBuilder;
@@ -1570,14 +1571,14 @@
 
     goto/16 :goto_3b
 
-    :sswitch_194
+    :sswitch_197
     const-string v7, "Event EVENT_GET_SST_DONE Received"
 
     invoke-virtual {p0, v7}, Lcom/android/internal/telephony/cdma/RuimRecords;->log(Ljava/lang/String;)V
 
     goto/16 :goto_3b
 
-    :sswitch_19b
+    :sswitch_19e
     const/4 v4, 0x0
 
     iget-object v1, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -1593,28 +1594,26 @@
     check-cast v7, Lcom/android/internal/telephony/IccRefreshResponse;
 
     invoke-direct {p0, v7}, Lcom/android/internal/telephony/cdma/RuimRecords;->handleRuimRefresh(Lcom/android/internal/telephony/IccRefreshResponse;)V
-    :try_end_1ab
-    .catchall {:try_start_5e .. :try_end_1ab} :catchall_56
-    .catch Ljava/lang/RuntimeException; {:try_start_5e .. :try_end_1ab} :catch_45
+    :try_end_1ae
+    .catchall {:try_start_61 .. :try_end_1ae} :catchall_59
+    .catch Ljava/lang/RuntimeException; {:try_start_61 .. :try_end_1ae} :catch_45
 
     goto/16 :goto_3b
 
-    nop
-
-    :sswitch_data_1ae
+    :sswitch_data_1b0
     .sparse-switch
         0x1 -> :sswitch_41
-        0x3 -> :sswitch_5d
-        0x4 -> :sswitch_50
-        0x5 -> :sswitch_132
-        0xa -> :sswitch_ed
-        0xe -> :sswitch_165
-        0x11 -> :sswitch_194
-        0x12 -> :sswitch_178
-        0x13 -> :sswitch_178
-        0x15 -> :sswitch_178
-        0x16 -> :sswitch_178
-        0x1f -> :sswitch_19b
+        0x3 -> :sswitch_60
+        0x4 -> :sswitch_53
+        0x5 -> :sswitch_135
+        0xa -> :sswitch_f0
+        0xe -> :sswitch_168
+        0x11 -> :sswitch_197
+        0x12 -> :sswitch_17b
+        0x13 -> :sswitch_17b
+        0x15 -> :sswitch_17b
+        0x16 -> :sswitch_17b
+        0x1f -> :sswitch_19e
     .end sparse-switch
 .end method
 
diff -Npru stock-telephony/smali/com/android/internal/telephony/cdma/RuimSmsInterfaceManager.smali opd-telephony/smali/com/android/internal/telephony/cdma/RuimSmsInterfaceManager.smali
--- stock-telephony/smali/com/android/internal/telephony/cdma/RuimSmsInterfaceManager.smali	2013-03-01 15:22:50.431939205 -0600
+++ opd-telephony/smali/com/android/internal/telephony/cdma/RuimSmsInterfaceManager.smali	2013-03-01 15:23:01.471993943 -0600
@@ -4,6 +4,10 @@
 
 
 # static fields
+.field protected static final ACCESS_TYPE_ICC:I = 0x1
+
+.field protected static final ACCESS_TYPE_SMS_MMS:I = 0x0
+
 .field static final DBG:Z = true
 
 .field private static final EVENT_LOAD_DONE:I = 0x1
@@ -12,6 +16,8 @@
 
 .field static final LOG_TAG:Ljava/lang/String; = "CDMA"
 
+.field protected static final P_TAG:Ljava/lang/String; = "PrivacySMSInterfaceManager"
+
 
 # instance fields
 .field mHandler:Landroid/os/Handler;
@@ -31,6 +37,8 @@
 
 .field private mSuccess:Z
 
+.field protected pSetMan:Landroid/privacy/PrivacySettingsManager;
+
 
 # direct methods
 .method public constructor <init>(Lcom/android/internal/telephony/cdma/CDMAPhone;Lcom/android/internal/telephony/SMSDispatcher;)V
@@ -102,52 +110,70 @@
 .method public copyMessageToIccEf(I[B[B)Z
     .registers 9
 
-    new-instance v2, Ljava/lang/StringBuilder;
+    const/4 v2, 0x0
 
-    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+    new-instance v3, Ljava/lang/StringBuilder;
 
-    const-string v3, "copyMessageToIccEf: status="
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, "copyMessageToIccEf: status="
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move-result-object v3
 
-    move-result-object v2
+    invoke-virtual {v3, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v3, " ==> "
+    move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, " ==> "
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
 
-    const-string v3, "pdu=("
+    const-string v4, "pdu=("
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v2
+    move-result-object v3
 
     invoke-static {p2}, Ljava/util/Arrays;->toString([B)Ljava/lang/String;
 
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
     move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, ")"
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    const-string v3, ")"
+    move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v2
+    move-result-object v3
 
-    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {p0, v3}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    move-result-object v2
+    invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
 
-    invoke-virtual {p0, v2}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
+    move-result-object v3
+
+    const/4 v4, 0x1
 
+    invoke-virtual {p0, v3, v4}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v3
+
+    if-nez v3, :cond_3d
+
+    :goto_3c
+    return v2
+
+    :cond_3d
     const-string v2, "Copying message to RUIM"
 
     invoke-virtual {p0, v2}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->enforceReceiveAndSend(Ljava/lang/String;)V
@@ -158,7 +184,7 @@
 
     const/4 v2, 0x0
 
-    :try_start_39
+    :try_start_46
     iput-boolean v2, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mSuccess:Z
 
     iget-object v2, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mHandler:Landroid/os/Handler;
@@ -178,43 +204,43 @@
     move-result-object v4
 
     invoke-interface {v2, p1, v4, v1}, Lcom/android/internal/telephony/CommandsInterface;->writeSmsToRuim(ILjava/lang/String;Landroid/os/Message;)V
-    :try_end_4d
-    .catchall {:try_start_39 .. :try_end_4d} :catchall_5d
+    :try_end_5a
+    .catchall {:try_start_46 .. :try_end_5a} :catchall_6a
 
-    :try_start_4d
+    :try_start_5a
     iget-object v2, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v2}, Ljava/lang/Object;->wait()V
-    :try_end_52
-    .catchall {:try_start_4d .. :try_end_52} :catchall_5d
-    .catch Ljava/lang/InterruptedException; {:try_start_4d .. :try_end_52} :catch_56
+    :try_end_5f
+    .catchall {:try_start_5a .. :try_end_5f} :catchall_6a
+    .catch Ljava/lang/InterruptedException; {:try_start_5a .. :try_end_5f} :catch_63
 
-    :goto_52
-    :try_start_52
+    :goto_5f
+    :try_start_5f
     monitor-exit v3
-    :try_end_53
-    .catchall {:try_start_52 .. :try_end_53} :catchall_5d
+    :try_end_60
+    .catchall {:try_start_5f .. :try_end_60} :catchall_6a
 
     iget-boolean v2, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mSuccess:Z
 
-    return v2
+    goto :goto_3c
 
-    :catch_56
+    :catch_63
     move-exception v0
 
-    :try_start_57
+    :try_start_64
     const-string v2, "interrupted while trying to update by index"
 
     invoke-virtual {p0, v2}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    goto :goto_52
+    goto :goto_5f
 
-    :catchall_5d
+    :catchall_6a
     move-exception v2
 
     monitor-exit v3
-    :try_end_5f
-    .catchall {:try_start_57 .. :try_end_5f} :catchall_5d
+    :try_end_6c
+    .catchall {:try_start_64 .. :try_end_6c} :catchall_6a
 
     throw v2
 .end method
@@ -322,10 +348,30 @@
         }
     .end annotation
 
+    const/4 v4, 0x1
+
     const-string v3, "getAllMessagesFromEF"
 
     invoke-virtual {p0, v3}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
+    invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {p0, v3, v4}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v3
+
+    if-nez v3, :cond_16
+
+    new-instance v3, Ljava/util/ArrayList;
+
+    invoke-direct {v3}, Ljava/util/ArrayList;-><init>()V
+
+    :goto_15
+    return-object v3
+
+    :cond_16
     iget-object v3, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mPhone:Lcom/android/internal/telephony/PhoneBase;
 
     invoke-virtual {v3}, Lcom/android/internal/telephony/PhoneBase;->getContext()Landroid/content/Context;
@@ -342,7 +388,7 @@
 
     monitor-enter v4
 
-    :try_start_15
+    :try_start_26
     iget-object v3, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mHandler:Landroid/os/Handler;
 
     const/4 v5, 0x1
@@ -360,47 +406,360 @@
     const/16 v5, 0x6f3c
 
     invoke-virtual {v3, v5, v2}, Lcom/android/internal/telephony/IccFileHandler;->loadEFLinearFixedAll(ILandroid/os/Message;)V
-    :try_end_27
-    .catchall {:try_start_15 .. :try_end_27} :catchall_37
+    :try_end_38
+    .catchall {:try_start_26 .. :try_end_38} :catchall_48
 
-    :try_start_27
+    :try_start_38
     iget-object v3, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v3}, Ljava/lang/Object;->wait()V
-    :try_end_2c
-    .catchall {:try_start_27 .. :try_end_2c} :catchall_37
-    .catch Ljava/lang/InterruptedException; {:try_start_27 .. :try_end_2c} :catch_30
+    :try_end_3d
+    .catchall {:try_start_38 .. :try_end_3d} :catchall_48
+    .catch Ljava/lang/InterruptedException; {:try_start_38 .. :try_end_3d} :catch_41
 
-    :goto_2c
-    :try_start_2c
+    :goto_3d
+    :try_start_3d
     monitor-exit v4
-    :try_end_2d
-    .catchall {:try_start_2c .. :try_end_2d} :catchall_37
+    :try_end_3e
+    .catchall {:try_start_3d .. :try_end_3e} :catchall_48
 
     iget-object v3, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mSms:Ljava/util/List;
 
-    return-object v3
+    goto :goto_15
 
-    :catch_30
+    :catch_41
     move-exception v1
 
-    :try_start_31
+    :try_start_42
     const-string v3, "interrupted while trying to load from the RUIM"
 
     invoke-virtual {p0, v3}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    goto :goto_2c
+    goto :goto_3d
 
-    :catchall_37
+    :catchall_48
     move-exception v3
 
     monitor-exit v4
-    :try_end_39
-    .catchall {:try_start_31 .. :try_end_39} :catchall_37
+    :try_end_4a
+    .catchall {:try_start_42 .. :try_end_4a} :catchall_48
 
     throw v3
 .end method
 
+.method protected getPackageName()[Ljava/lang/String;
+    .registers 4
+
+    iget-object v2, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mContext:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageManager()Landroid/content/pm/PackageManager;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    invoke-virtual {v1, v2}, Landroid/content/pm/PackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method protected isAllowed([Ljava/lang/String;I)Z
+    .registers 12
+
+    const/4 v8, -0x1
+
+    const/4 v4, 0x1
+
+    const/4 v3, 0x0
+
+    packed-switch p2, :pswitch_data_e6
+
+    const/4 v5, 0x0
+
+    :try_start_7
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    :goto_e
+    return v3
+
+    :pswitch_f
+    const/4 v2, 0x0
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_26
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_26
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_7e
+
+    if-eqz p1, :cond_7e
+
+    const/4 v1, 0x0
+
+    :goto_2d
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_75
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_71
+
+    if-eqz v2, :cond_71
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getSmsSendSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_71
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+    :try_end_4b
+    .catch Ljava/lang/Exception; {:try_start_7 .. :try_end_4b} :catch_4c
+
+    goto :goto_e
+
+    :catch_4c
+    move-exception v0
+
+    const-string v5, "PrivacySMSInterfaceManager"
+
+    const-string v6, "Got exception while checking for sms or ICC acess permission"
+
+    invoke-static {v5, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    if-eqz p1, :cond_6f
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_6f
+
+    array-length v5, p1
+
+    if-lez v5, :cond_6f
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v3
+
+    invoke-virtual {v5, v6, v8}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_6f
+
+    aget-object v5, p1, v3
+
+    invoke-virtual {p0, p2, v5, v3}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    :cond_6f
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_71
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_2d
+
+    :cond_75
+    const/4 v5, 0x0
+
+    :try_start_76
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_7e
+    if-eqz p1, :cond_8a
+
+    array-length v5, p1
+
+    if-lez v5, :cond_8a
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    :cond_8a
+    move v3, v4
+
+    goto :goto_e
+
+    :pswitch_8c
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_a2
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_a2
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_d7
+
+    if-eqz p1, :cond_d7
+
+    const/4 v1, 0x0
+
+    :goto_a9
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_cd
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_c9
+
+    if-eqz v2, :cond_c9
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getIccAccessSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_c9
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    goto/16 :goto_e
+
+    :cond_c9
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_a9
+
+    :cond_cd
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :cond_d7
+    if-eqz p1, :cond_e3
+
+    array-length v5, p1
+
+    if-lez v5, :cond_e3
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+    :try_end_e3
+    .catch Ljava/lang/Exception; {:try_start_76 .. :try_end_e3} :catch_4c
+
+    :cond_e3
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :pswitch_data_e6
+    .packed-switch 0x0
+        :pswitch_f
+        :pswitch_8c
+    .end packed-switch
+.end method
+
 .method protected log(Ljava/lang/String;)V
     .registers 5
 
@@ -429,61 +788,128 @@
     return-void
 .end method
 
+.method protected notify(ILjava/lang/String;B)V
+    .registers 11
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    packed-switch p1, :pswitch_data_1c
+
+    :goto_5
+    return-void
+
+    :pswitch_6
+    iget-object v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "SmsSend"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_11
+    iget-object v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "iccAccess"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_data_1c
+    .packed-switch 0x0
+        :pswitch_6
+        :pswitch_11
+    .end packed-switch
+.end method
+
 .method public updateMessageOnIccEf(II[B)Z
     .registers 12
 
-    new-instance v0, Ljava/lang/StringBuilder;
+    const/4 v0, 0x0
 
-    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V
+    new-instance v1, Ljava/lang/StringBuilder;
 
-    const-string v1, "updateMessageOnIccEf: index="
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, "updateMessageOnIccEf: index="
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move-result-object v1
 
-    move-result-object v0
+    invoke-virtual {v1, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v1, " status="
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, " status="
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move-result-object v1
 
-    move-result-object v0
+    invoke-virtual {v1, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v1, " ==> "
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, " ==> "
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    const-string v1, "("
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, "("
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    move-result-object v1
 
-    move-result-object v0
+    invoke-virtual {v1, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    const-string v1, ")"
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, ")"
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    move-result-object v1
 
-    move-result-object v0
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    invoke-virtual {p0, v0}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
+    move-result-object v1
+
+    invoke-virtual {p0, v1}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
+
+    invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v1
 
+    const/4 v2, 0x1
+
+    invoke-virtual {p0, v1, v2}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v1
+
+    if-nez v1, :cond_43
+
+    :goto_42
+    return v0
+
+    :cond_43
     const-string v0, "Updating message on RUIM"
 
     invoke-virtual {p0, v0}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->enforceReceiveAndSend(Ljava/lang/String;)V
@@ -494,7 +920,7 @@
 
     const/4 v0, 0x0
 
-    :try_start_3f
+    :try_start_4c
     iput-boolean v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mSuccess:Z
 
     iget-object v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mHandler:Landroid/os/Handler;
@@ -505,37 +931,37 @@
 
     move-result-object v5
 
-    if-nez p2, :cond_5a
+    if-nez p2, :cond_67
 
     iget-object v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mPhone:Lcom/android/internal/telephony/PhoneBase;
 
     iget-object v0, v0, Lcom/android/internal/telephony/PhoneBase;->mCM:Lcom/android/internal/telephony/CommandsInterface;
 
     invoke-interface {v0, p1, v5}, Lcom/android/internal/telephony/CommandsInterface;->deleteSmsOnRuim(ILandroid/os/Message;)V
-    :try_end_51
-    .catchall {:try_start_3f .. :try_end_51} :catchall_6c
+    :try_end_5e
+    .catchall {:try_start_4c .. :try_end_5e} :catchall_79
 
-    :goto_51
-    :try_start_51
+    :goto_5e
+    :try_start_5e
     iget-object v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v0}, Ljava/lang/Object;->wait()V
-    :try_end_56
-    .catchall {:try_start_51 .. :try_end_56} :catchall_6c
-    .catch Ljava/lang/InterruptedException; {:try_start_51 .. :try_end_56} :catch_6f
+    :try_end_63
+    .catchall {:try_start_5e .. :try_end_63} :catchall_79
+    .catch Ljava/lang/InterruptedException; {:try_start_5e .. :try_end_63} :catch_7c
 
-    :goto_56
-    :try_start_56
+    :goto_63
+    :try_start_63
     monitor-exit v7
-    :try_end_57
-    .catchall {:try_start_56 .. :try_end_57} :catchall_6c
+    :try_end_64
+    .catchall {:try_start_63 .. :try_end_64} :catchall_79
 
     iget-boolean v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mSuccess:Z
 
-    return v0
+    goto :goto_42
 
-    :cond_5a
-    :try_start_5a
+    :cond_67
+    :try_start_67
     invoke-virtual {p0, p2, p3}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->makeSmsRecordData(I[B)[B
 
     move-result-object v3
@@ -554,26 +980,26 @@
 
     invoke-virtual/range {v0 .. v5}, Lcom/android/internal/telephony/IccFileHandler;->updateEFLinearFixed(II[BLjava/lang/String;Landroid/os/Message;)V
 
-    goto :goto_51
+    goto :goto_5e
 
-    :catchall_6c
+    :catchall_79
     move-exception v0
 
     monitor-exit v7
-    :try_end_6e
-    .catchall {:try_start_5a .. :try_end_6e} :catchall_6c
+    :try_end_7b
+    .catchall {:try_start_67 .. :try_end_7b} :catchall_79
 
     throw v0
 
-    :catch_6f
+    :catch_7c
     move-exception v6
 
-    :try_start_70
+    :try_start_7d
     const-string v0, "interrupted while trying to update by index"
 
     invoke-virtual {p0, v0}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
-    :try_end_75
-    .catchall {:try_start_70 .. :try_end_75} :catchall_6c
+    :try_end_82
+    .catchall {:try_start_7d .. :try_end_82} :catchall_79
 
-    goto :goto_56
+    goto :goto_63
 .end method
diff -Npru stock-telephony/smali/com/android/internal/telephony/gsm/GSMPhone.smali opd-telephony/smali/com/android/internal/telephony/gsm/GSMPhone.smali
--- stock-telephony/smali/com/android/internal/telephony/gsm/GSMPhone.smali	2013-03-01 15:22:50.503939563 -0600
+++ opd-telephony/smali/com/android/internal/telephony/gsm/GSMPhone.smali	2013-03-01 15:22:59.535984351 -0600
@@ -3300,7 +3300,7 @@
     return-void
 .end method
 
-.method notifyLocationChanged()V
+.method public notifyLocationChanged()V
     .registers 2
 
     iget-object v0, p0, Lcom/android/internal/telephony/gsm/GSMPhone;->mNotifier:Lcom/android/internal/telephony/PhoneNotifier;
@@ -3318,7 +3318,7 @@
     return-void
 .end method
 
-.method notifyPhoneStateChanged()V
+.method public notifyPhoneStateChanged()V
     .registers 2
 
     iget-object v0, p0, Lcom/android/internal/telephony/gsm/GSMPhone;->mNotifier:Lcom/android/internal/telephony/PhoneNotifier;
diff -Npru stock-telephony/smali/com/android/internal/telephony/gsm/GsmServiceStateTracker.smali opd-telephony/smali/com/android/internal/telephony/gsm/GsmServiceStateTracker.smali
--- stock-telephony/smali/com/android/internal/telephony/gsm/GsmServiceStateTracker.smali	2013-03-01 15:22:50.627940174 -0600
+++ opd-telephony/smali/com/android/internal/telephony/gsm/GsmServiceStateTracker.smali	2013-03-01 15:23:01.659994884 -0600
@@ -56,6 +56,8 @@
 
 .field private mAutoTimeZoneObserver:Landroid/database/ContentObserver;
 
+.field private mContext:Landroid/content/Context;
+
 .field private mDataRoaming:Z
 
 .field private mEmergencyOnly:Z
@@ -104,6 +106,8 @@
 
 .field private newGPRSState:I
 
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
 .field phone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
 
@@ -324,6 +328,30 @@
 
     invoke-virtual {v3, v4, v1}, Landroid/content/Context;->registerReceiver(Landroid/content/BroadcastReceiver;Landroid/content/IntentFilter;)Landroid/content/Intent;
 
+    invoke-virtual {p1}, Lcom/android/internal/telephony/gsm/GSMPhone;->getContext()Landroid/content/Context;
+
+    move-result-object v3
+
+    iput-object v3, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mContext:Landroid/content/Context;
+
+    new-instance v3, Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v4, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mContext:Landroid/content/Context;
+
+    const-string v5, "privacy"
+
+    invoke-static {v5}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v5
+
+    invoke-static {v5}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v5
+
+    invoke-direct {v3, v4, v5}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v3, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
     const/4 v3, 0x3
 
     invoke-virtual {p1, v3}, Lcom/android/internal/telephony/gsm/GSMPhone;->notifyOtaspChanged(I)V
@@ -5795,1440 +5823,2014 @@
 .end method
 
 .method public handleMessage(Landroid/os/Message;)V
-    .registers 19
+    .registers 23
 
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    iget-boolean v13, v13, Lcom/android/internal/telephony/gsm/GSMPhone;->mIsTheCurrentActivePhone:Z
+    move-object/from16 v17, v0
 
-    if-nez v13, :cond_37
+    move-object/from16 v0, v17
 
-    const-string v13, "GSM"
+    iget-boolean v0, v0, Lcom/android/internal/telephony/gsm/GSMPhone;->mIsTheCurrentActivePhone:Z
 
-    new-instance v14, Ljava/lang/StringBuilder;
+    move/from16 v17, v0
 
-    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V
+    if-nez v17, :cond_41
 
-    const-string v15, "Received message "
+    const-string v17, "GSM"
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    new-instance v18, Ljava/lang/StringBuilder;
 
-    move-result-object v14
+    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V
 
-    move-object/from16 v0, p1
+    const-string v19, "Received message "
+
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v18
+
+    move-object/from16 v0, v18
+
+    move-object/from16 v1, p1
 
-    invoke-virtual {v14, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    move-result-object v14
+    move-result-object v18
 
-    const-string v15, "["
+    const-string v19, "["
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v14
+    move-result-object v18
 
     move-object/from16 v0, p1
 
-    iget v15, v0, Landroid/os/Message;->what:I
+    iget v0, v0, Landroid/os/Message;->what:I
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move/from16 v19, v0
 
-    move-result-object v14
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v15, "] while being destroyed. Ignoring."
+    move-result-object v18
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v19, "] while being destroyed. Ignoring."
 
-    move-result-object v14
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    move-result-object v18
 
-    move-result-object v14
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    invoke-static {v13, v14}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    move-result-object v18
 
-    :cond_36
-    :goto_36
-    :pswitch_36
+    invoke-static/range {v17 .. v18}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    :cond_40
+    :goto_40
+    :pswitch_40
     return-void
 
-    :cond_37
+    :cond_41
     move-object/from16 v0, p1
 
-    iget v13, v0, Landroid/os/Message;->what:I
+    iget v0, v0, Landroid/os/Message;->what:I
 
-    packed-switch v13, :pswitch_data_25c
+    move/from16 v17, v0
 
-    :pswitch_3e
+    packed-switch v17, :pswitch_data_36a
+
+    :pswitch_4a
     invoke-super/range {p0 .. p1}, Lcom/android/internal/telephony/ServiceStateTracker;->handleMessage(Landroid/os/Message;)V
 
-    goto :goto_36
+    goto :goto_40
 
-    :pswitch_42
+    :pswitch_4e
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
+
+    move-object/from16 v17, v0
 
-    invoke-interface {v13}, Lcom/android/internal/telephony/CommandsInterface;->setCurrentPreferredNetworkType()V
+    invoke-interface/range {v17 .. v17}, Lcom/android/internal/telephony/CommandsInterface;->setCurrentPreferredNetworkType()V
 
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    invoke-virtual {v13}, Lcom/android/internal/telephony/gsm/GSMPhone;->getContext()Landroid/content/Context;
+    move-object/from16 v17, v0
 
-    move-result-object v13
+    invoke-virtual/range {v17 .. v17}, Lcom/android/internal/telephony/gsm/GSMPhone;->getContext()Landroid/content/Context;
 
-    invoke-virtual {v13}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
+    move-result-object v17
 
-    move-result-object v13
+    invoke-virtual/range {v17 .. v17}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
+
+    move-result-object v17
 
-    const v14, 0x1110038
+    const v18, 0x1110038
 
-    invoke-virtual {v13, v14}, Landroid/content/res/Resources;->getBoolean(I)Z
+    invoke-virtual/range {v17 .. v18}, Landroid/content/res/Resources;->getBoolean(I)Z
 
-    move-result v10
+    move-result v13
 
-    if-nez v10, :cond_66
+    if-nez v13, :cond_79
 
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
+
+    move-object/from16 v17, v0
 
-    const/4 v14, 0x0
+    const/16 v18, 0x0
 
-    invoke-virtual {v13, v14}, Lcom/android/internal/telephony/gsm/GSMPhone;->restoreSavedNetworkSelection(Landroid/os/Message;)V
+    invoke-virtual/range {v17 .. v18}, Lcom/android/internal/telephony/gsm/GSMPhone;->restoreSavedNetworkSelection(Landroid/os/Message;)V
 
-    :cond_66
+    :cond_79
     invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollState()V
 
     invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->queueNextSignalStrengthPoll()V
 
-    goto :goto_36
+    goto :goto_40
 
-    :pswitch_6d
+    :pswitch_80
     invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->setPowerStateToDesired()V
 
     invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollState()V
 
-    goto :goto_36
+    goto :goto_40
 
-    :pswitch_74
+    :pswitch_87
     invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollState()V
 
-    goto :goto_36
+    goto :goto_40
 
-    :pswitch_78
+    :pswitch_8b
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    invoke-interface {v13}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
+    move-object/from16 v17, v0
 
-    move-result-object v13
+    invoke-interface/range {v17 .. v17}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
 
-    invoke-virtual {v13}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
+    move-result-object v17
 
-    move-result v13
+    invoke-virtual/range {v17 .. v17}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
+
+    move-result v17
 
-    if-eqz v13, :cond_36
+    if-eqz v17, :cond_40
 
     move-object/from16 v0, p1
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    check-cast v1, Landroid/os/AsyncResult;
+    check-cast v3, Landroid/os/AsyncResult;
 
-    const/4 v13, 0x1
+    const/16 v17, 0x1
 
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v1, v13}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->onSignalStrengthResult(Landroid/os/AsyncResult;Z)Z
+    move/from16 v1, v17
+
+    invoke-virtual {v0, v3, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->onSignalStrengthResult(Landroid/os/AsyncResult;Z)Z
 
     invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->queueNextSignalStrengthPoll()V
 
-    goto :goto_36
+    goto :goto_40
 
-    :pswitch_96
+    :pswitch_ae
     move-object/from16 v0, p1
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    check-cast v1, Landroid/os/AsyncResult;
+    check-cast v3, Landroid/os/AsyncResult;
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    iget-object v0, v3, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    if-nez v13, :cond_e9
+    move-object/from16 v17, v0
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    if-nez v17, :cond_143
 
-    check-cast v13, [Ljava/lang/String;
+    iget-object v0, v3, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
-    move-object v11, v13
+    move-object/from16 v17, v0
 
-    check-cast v11, [Ljava/lang/String;
+    check-cast v17, [Ljava/lang/String;
 
-    const/4 v4, -0x1
+    move-object/from16 v14, v17
 
-    const/4 v2, -0x1
+    check-cast v14, [Ljava/lang/String;
 
-    array-length v13, v11
+    const/4 v6, -0x1
 
-    const/4 v14, 0x3
+    const/4 v4, -0x1
 
-    if-lt v13, v14, :cond_db
+    array-length v0, v14
 
-    const/4 v13, 0x1
+    move/from16 v17, v0
 
-    :try_start_ae
-    aget-object v13, v11, v13
+    const/16 v18, 0x3
 
-    if-eqz v13, :cond_c4
+    move/from16 v0, v17
 
-    const/4 v13, 0x1
+    move/from16 v1, v18
 
-    aget-object v13, v11, v13
+    if-lt v0, v1, :cond_105
 
-    invoke-virtual {v13}, Ljava/lang/String;->length()I
+    const/16 v17, 0x1
 
-    move-result v13
+    :try_start_d3
+    aget-object v17, v14, v17
 
-    if-lez v13, :cond_c4
+    if-eqz v17, :cond_eb
 
-    const/4 v13, 0x1
+    const/16 v17, 0x1
 
-    aget-object v13, v11, v13
+    aget-object v17, v14, v17
 
-    const/16 v14, 0x10
+    invoke-virtual/range {v17 .. v17}, Ljava/lang/String;->length()I
 
-    invoke-static {v13, v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+    move-result v17
 
-    move-result v4
+    if-lez v17, :cond_eb
 
-    :cond_c4
-    const/4 v13, 0x2
+    const/16 v17, 0x1
 
-    aget-object v13, v11, v13
+    aget-object v17, v14, v17
 
-    if-eqz v13, :cond_db
+    const/16 v18, 0x10
 
-    const/4 v13, 0x2
+    invoke-static/range {v17 .. v18}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
 
-    aget-object v13, v11, v13
+    move-result v6
 
-    invoke-virtual {v13}, Ljava/lang/String;->length()I
+    :cond_eb
+    const/16 v17, 0x2
 
-    move-result v13
+    aget-object v17, v14, v17
 
-    if-lez v13, :cond_db
+    if-eqz v17, :cond_105
 
-    const/4 v13, 0x2
+    const/16 v17, 0x2
 
-    aget-object v13, v11, v13
+    aget-object v17, v14, v17
 
-    const/16 v14, 0x10
+    invoke-virtual/range {v17 .. v17}, Ljava/lang/String;->length()I
 
-    invoke-static {v13, v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
-    :try_end_da
-    .catch Ljava/lang/NumberFormatException; {:try_start_ae .. :try_end_da} :catch_ee
+    move-result v17
 
-    move-result v2
+    if-lez v17, :cond_105
 
-    :cond_db
-    :goto_db
-    move-object/from16 v0, p0
+    const/16 v17, 0x2
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cellLoc:Landroid/telephony/gsm/GsmCellLocation;
+    aget-object v17, v14, v17
 
-    invoke-virtual {v13, v4, v2}, Landroid/telephony/gsm/GsmCellLocation;->setLacAndCid(II)V
+    const/16 v18, 0x10
 
-    move-object/from16 v0, p0
+    invoke-static/range {v17 .. v18}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+    :try_end_104
+    .catch Ljava/lang/NumberFormatException; {:try_start_d3 .. :try_end_104} :catch_148
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
+    move-result v4
 
-    invoke-virtual {v13}, Lcom/android/internal/telephony/gsm/GSMPhone;->notifyLocationChanged()V
+    :cond_105
+    :goto_105
+    move-object/from16 v0, p0
 
-    :cond_e9
-    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->disableSingleLocationUpdate()V
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    goto/16 :goto_36
+    move-object/from16 v17, v0
 
-    :catch_ee
-    move-exception v3
+    move-object/from16 v0, p0
 
-    const-string v13, "GSM"
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mContext:Landroid/content/Context;
 
-    new-instance v14, Ljava/lang/StringBuilder;
+    move-object/from16 v18, v0
 
-    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-virtual/range {v18 .. v18}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
 
-    const-string v15, "error parsing location: "
+    move-result-object v18
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const/16 v19, 0x0
 
-    move-result-object v14
+    invoke-virtual/range {v17 .. v19}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
 
-    invoke-virtual {v14, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    move-result-object v12
 
-    move-result-object v14
+    move-object/from16 v0, p0
 
-    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    move-result-object v14
+    move-object/from16 v17, v0
 
-    invoke-static {v13, v14}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
+    if-eqz v17, :cond_164
 
-    goto :goto_db
+    if-eqz v12, :cond_164
 
-    :pswitch_108
-    move-object/from16 v0, p1
+    invoke-virtual {v12}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    move-result v17
 
-    check-cast v1, Landroid/os/AsyncResult;
+    const/16 v18, 0x1
 
-    move-object/from16 v0, p1
+    move/from16 v0, v17
 
-    iget v13, v0, Landroid/os/Message;->what:I
+    move/from16 v1, v18
+
+    if-ne v0, v1, :cond_164
 
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v13, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->handlePollStateResult(ILandroid/os/AsyncResult;)V
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cellLoc:Landroid/telephony/gsm/GsmCellLocation;
+
+    move-object/from16 v17, v0
 
-    goto/16 :goto_36
+    invoke-virtual/range {v17 .. v17}, Landroid/telephony/gsm/GsmCellLocation;->setStateInvalid()V
 
-    :pswitch_119
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    const/4 v14, 0x3
+    move-object/from16 v17, v0
 
-    move-object/from16 v0, p0
+    invoke-virtual/range {v17 .. v17}, Lcom/android/internal/telephony/gsm/GSMPhone;->notifyLocationChanged()V
 
-    invoke-virtual {v0, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(I)Landroid/os/Message;
+    :cond_143
+    :goto_143
+    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->disableSingleLocationUpdate()V
 
-    move-result-object v14
+    goto/16 :goto_40
 
-    invoke-interface {v13, v14}, Lcom/android/internal/telephony/CommandsInterface;->getSignalStrength(Landroid/os/Message;)V
+    :catch_148
+    move-exception v5
 
-    goto/16 :goto_36
+    const-string v17, "GSM"
 
-    :pswitch_129
-    move-object/from16 v0, p1
+    new-instance v18, Ljava/lang/StringBuilder;
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V
 
-    check-cast v1, Landroid/os/AsyncResult;
+    const-string v19, "error parsing location: "
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    check-cast v13, [Ljava/lang/Object;
+    move-result-object v18
 
-    check-cast v13, [Ljava/lang/Object;
+    move-object/from16 v0, v18
 
-    const/4 v14, 0x0
+    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    aget-object v9, v13, v14
+    move-result-object v18
 
-    check-cast v9, Ljava/lang/String;
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    move-result-object v18
 
-    check-cast v13, [Ljava/lang/Object;
+    invoke-static/range {v17 .. v18}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
 
-    check-cast v13, [Ljava/lang/Object;
+    goto :goto_105
 
-    const/4 v14, 0x1
+    :cond_164
+    move-object/from16 v0, p0
 
-    aget-object v13, v13, v14
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    check-cast v13, Ljava/lang/Long;
+    move-object/from16 v17, v0
 
-    invoke-virtual {v13}, Ljava/lang/Long;->longValue()J
+    if-eqz v17, :cond_19a
 
-    move-result-wide v7
+    if-eqz v12, :cond_19a
 
-    move-object/from16 v0, p0
+    invoke-virtual {v12}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
 
-    invoke-direct {v0, v9, v7, v8}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->setTimeFromNITZString(Ljava/lang/String;J)V
+    move-result v17
 
-    goto/16 :goto_36
+    const/16 v18, 0x3
 
-    :pswitch_150
-    move-object/from16 v0, p1
+    move/from16 v0, v17
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    move/from16 v1, v18
 
-    check-cast v1, Landroid/os/AsyncResult;
+    if-ne v0, v1, :cond_19a
 
-    const/4 v13, 0x1
+    new-instance v16, Ljava/util/Random;
+
+    invoke-direct/range {v16 .. v16}, Ljava/util/Random;-><init>()V
 
     move-object/from16 v0, p0
 
-    iput-boolean v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->dontPollSignalStrength:Z
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cellLoc:Landroid/telephony/gsm/GsmCellLocation;
 
-    const/4 v13, 0x1
+    move-object/from16 v17, v0
 
-    move-object/from16 v0, p0
+    invoke-virtual/range {v16 .. v16}, Ljava/util/Random;->nextInt()I
 
-    invoke-virtual {v0, v1, v13}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->onSignalStrengthResult(Landroid/os/AsyncResult;Z)Z
+    move-result v18
 
-    goto/16 :goto_36
+    invoke-virtual/range {v16 .. v16}, Ljava/util/Random;->nextInt()I
 
-    :pswitch_163
-    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->updateSpnDisplay()V
+    move-result v19
 
-    goto/16 :goto_36
+    invoke-virtual/range {v17 .. v19}, Landroid/telephony/gsm/GsmCellLocation;->setLacAndCid(II)V
 
-    :pswitch_168
-    move-object/from16 v0, p1
+    move-object/from16 v0, p0
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    check-cast v1, Landroid/os/AsyncResult;
+    move-object/from16 v17, v0
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    invoke-virtual/range {v17 .. v17}, Lcom/android/internal/telephony/gsm/GSMPhone;->notifyLocationChanged()V
 
-    if-nez v13, :cond_36
+    goto :goto_143
 
+    :cond_19a
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cellLoc:Landroid/telephony/gsm/GsmCellLocation;
 
-    const/16 v14, 0xf
+    move-object/from16 v17, v0
 
-    const/4 v15, 0x0
+    move-object/from16 v0, v17
+
+    invoke-virtual {v0, v6, v4}, Landroid/telephony/gsm/GsmCellLocation;->setLacAndCid(II)V
 
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v14, v15}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    move-result-object v14
+    move-object/from16 v17, v0
 
-    invoke-interface {v13, v14}, Lcom/android/internal/telephony/CommandsInterface;->getVoiceRegistrationState(Landroid/os/Message;)V
+    invoke-virtual/range {v17 .. v17}, Lcom/android/internal/telephony/gsm/GSMPhone;->notifyLocationChanged()V
 
-    goto/16 :goto_36
+    goto :goto_143
 
-    :pswitch_184
+    :pswitch_1af
     move-object/from16 v0, p1
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+
+    check-cast v3, Landroid/os/AsyncResult;
 
-    check-cast v1, Landroid/os/AsyncResult;
+    move-object/from16 v0, p1
 
-    const/16 v13, 0x15
+    iget v0, v0, Landroid/os/Message;->what:I
 
-    iget-object v14, v1, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
+    move/from16 v17, v0
 
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v13, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
-
-    move-result-object v6
+    move/from16 v1, v17
 
-    move-object/from16 v0, p0
+    invoke-virtual {v0, v1, v3}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->handlePollStateResult(ILandroid/os/AsyncResult;)V
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
+    goto/16 :goto_40
 
+    :pswitch_1c4
     move-object/from16 v0, p0
 
-    iget v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPreferredNetworkType:I
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    invoke-interface {v13, v14, v6}, Lcom/android/internal/telephony/CommandsInterface;->setPreferredNetworkType(ILandroid/os/Message;)V
+    move-object/from16 v17, v0
 
-    goto/16 :goto_36
+    const/16 v18, 0x3
 
-    :pswitch_1a1
-    move-object/from16 v0, p1
+    move-object/from16 v0, p0
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    move/from16 v1, v18
 
-    check-cast v1, Landroid/os/AsyncResult;
+    invoke-virtual {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(I)Landroid/os/Message;
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
+    move-result-object v18
 
-    if-eqz v13, :cond_36
+    invoke-interface/range {v17 .. v18}, Lcom/android/internal/telephony/CommandsInterface;->getSignalStrength(Landroid/os/Message;)V
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
+    goto/16 :goto_40
 
-    check-cast v13, Landroid/os/Message;
+    :pswitch_1d9
+    move-object/from16 v0, p1
 
-    invoke-static {v13}, Landroid/os/AsyncResult;->forMessage(Landroid/os/Message;)Landroid/os/AsyncResult;
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    move-result-object v13
+    check-cast v3, Landroid/os/AsyncResult;
 
-    iget-object v14, v1, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    iget-object v0, v3, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
-    iput-object v14, v13, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    move-object/from16 v17, v0
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
+    check-cast v17, [Ljava/lang/Object;
 
-    check-cast v13, Landroid/os/Message;
+    check-cast v17, [Ljava/lang/Object;
 
-    invoke-virtual {v13}, Landroid/os/Message;->sendToTarget()V
+    const/16 v18, 0x0
 
-    goto/16 :goto_36
+    aget-object v11, v17, v18
 
-    :pswitch_1c0
-    move-object/from16 v0, p1
+    check-cast v11, Ljava/lang/String;
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    iget-object v0, v3, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
-    check-cast v1, Landroid/os/AsyncResult;
+    move-object/from16 v17, v0
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    check-cast v17, [Ljava/lang/Object;
 
-    if-nez v13, :cond_1eb
+    check-cast v17, [Ljava/lang/Object;
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    const/16 v18, 0x1
 
-    check-cast v13, [I
+    aget-object v17, v17, v18
 
-    check-cast v13, [I
+    check-cast v17, Ljava/lang/Long;
 
-    const/4 v14, 0x0
+    invoke-virtual/range {v17 .. v17}, Ljava/lang/Long;->longValue()J
 
-    aget v13, v13, v14
+    move-result-wide v9
 
     move-object/from16 v0, p0
 
-    iput v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPreferredNetworkType:I
-
-    :goto_1d7
-    const/16 v13, 0x14
+    invoke-direct {v0, v11, v9, v10}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->setTimeFromNITZString(Ljava/lang/String;J)V
 
-    iget-object v14, v1, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
+    goto/16 :goto_40
 
-    move-object/from16 v0, p0
-
-    invoke-virtual {v0, v13, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
+    :pswitch_206
+    move-object/from16 v0, p1
 
-    move-result-object v6
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    const/4 v12, 0x7
+    check-cast v3, Landroid/os/AsyncResult;
 
-    move-object/from16 v0, p0
+    const/16 v17, 0x1
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
+    move/from16 v0, v17
 
-    invoke-interface {v13, v12, v6}, Lcom/android/internal/telephony/CommandsInterface;->setPreferredNetworkType(ILandroid/os/Message;)V
+    move-object/from16 v1, p0
 
-    goto/16 :goto_36
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->dontPollSignalStrength:Z
 
-    :cond_1eb
-    const/4 v13, 0x7
+    const/16 v17, 0x1
 
     move-object/from16 v0, p0
 
-    iput v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPreferredNetworkType:I
+    move/from16 v1, v17
 
-    goto :goto_1d7
+    invoke-virtual {v0, v3, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->onSignalStrengthResult(Landroid/os/AsyncResult;Z)Z
 
-    :pswitch_1f1
-    move-object/from16 v0, p0
+    goto/16 :goto_40
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->ss:Landroid/telephony/ServiceState;
+    :pswitch_21f
+    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->updateSpnDisplay()V
 
-    if-eqz v13, :cond_23e
+    goto/16 :goto_40
 
-    move-object/from16 v0, p0
+    :pswitch_224
+    move-object/from16 v0, p1
 
-    iget v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->gprsState:I
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    move-object/from16 v0, p0
+    check-cast v3, Landroid/os/AsyncResult;
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->ss:Landroid/telephony/ServiceState;
+    iget-object v0, v3, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    invoke-virtual {v14}, Landroid/telephony/ServiceState;->getState()I
+    move-object/from16 v17, v0
 
-    move-result v14
+    if-nez v17, :cond_40
 
     move-object/from16 v0, p0
 
-    invoke-direct {v0, v13, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->isGprsConsistent(II)Z
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    move-result v13
+    move-object/from16 v17, v0
 
-    if-nez v13, :cond_23e
+    const/16 v18, 0xf
 
-    move-object/from16 v0, p0
+    const/16 v19, 0x0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
+    move-object/from16 v0, p0
 
-    invoke-virtual {v13}, Lcom/android/internal/telephony/gsm/GSMPhone;->getCellLocation()Landroid/telephony/CellLocation;
+    move/from16 v1, v18
 
-    move-result-object v5
+    move-object/from16 v2, v19
 
-    check-cast v5, Landroid/telephony/gsm/GsmCellLocation;
+    invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
 
-    const v14, 0xc3bb
+    move-result-object v18
 
-    const/4 v13, 0x2
+    invoke-interface/range {v17 .. v18}, Lcom/android/internal/telephony/CommandsInterface;->getVoiceRegistrationState(Landroid/os/Message;)V
 
-    new-array v15, v13, [Ljava/lang/Object;
+    goto/16 :goto_40
 
-    const/4 v13, 0x0
+    :pswitch_249
+    move-object/from16 v0, p1
 
-    move-object/from16 v0, p0
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->ss:Landroid/telephony/ServiceState;
+    check-cast v3, Landroid/os/AsyncResult;
 
-    move-object/from16 v16, v0
+    const/16 v17, 0x15
 
-    invoke-virtual/range {v16 .. v16}, Landroid/telephony/ServiceState;->getOperatorNumeric()Ljava/lang/String;
+    iget-object v0, v3, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
 
-    move-result-object v16
+    move-object/from16 v18, v0
 
-    aput-object v16, v15, v13
+    move-object/from16 v0, p0
 
-    const/16 v16, 0x1
+    move/from16 v1, v17
 
-    if-eqz v5, :cond_245
+    move-object/from16 v2, v18
 
-    invoke-virtual {v5}, Landroid/telephony/gsm/GsmCellLocation;->getCid()I
+    invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
 
-    move-result v13
+    move-result-object v8
 
-    :goto_230
-    invoke-static {v13}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    move-object/from16 v0, p0
 
-    move-result-object v13
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    aput-object v13, v15, v16
+    move-object/from16 v17, v0
 
-    invoke-static {v14, v15}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
+    move-object/from16 v0, p0
 
-    const/4 v13, 0x1
+    iget v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPreferredNetworkType:I
 
-    move-object/from16 v0, p0
+    move/from16 v18, v0
 
-    iput-boolean v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mReportedGprsNoReg:Z
+    move-object/from16 v0, v17
 
-    :cond_23e
-    const/4 v13, 0x0
+    move/from16 v1, v18
 
-    move-object/from16 v0, p0
+    invoke-interface {v0, v1, v8}, Lcom/android/internal/telephony/CommandsInterface;->setPreferredNetworkType(ILandroid/os/Message;)V
 
-    iput-boolean v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mStartedGprsRegCheck:Z
+    goto/16 :goto_40
 
-    goto/16 :goto_36
+    :pswitch_274
+    move-object/from16 v0, p1
 
-    :cond_245
-    const/4 v13, -0x1
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    goto :goto_230
+    check-cast v3, Landroid/os/AsyncResult;
 
-    :pswitch_247
-    const-string v13, "EVENT_RESTRICTED_STATE_CHANGED"
+    iget-object v0, v3, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
 
-    move-object/from16 v0, p0
+    move-object/from16 v17, v0
 
-    invoke-virtual {v0, v13}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->log(Ljava/lang/String;)V
+    if-eqz v17, :cond_40
 
-    move-object/from16 v0, p1
+    iget-object v0, v3, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    move-object/from16 v17, v0
 
-    check-cast v1, Landroid/os/AsyncResult;
+    check-cast v17, Landroid/os/Message;
 
-    move-object/from16 v0, p0
+    invoke-static/range {v17 .. v17}, Landroid/os/AsyncResult;->forMessage(Landroid/os/Message;)Landroid/os/AsyncResult;
 
-    invoke-direct {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->onRestrictedStateChanged(Landroid/os/AsyncResult;)V
+    move-result-object v17
 
-    goto/16 :goto_36
+    iget-object v0, v3, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    nop
+    move-object/from16 v18, v0
 
-    :pswitch_data_25c
-    .packed-switch 0x1
-        :pswitch_6d
-        :pswitch_74
-        :pswitch_78
-        :pswitch_108
-        :pswitch_108
-        :pswitch_108
-        :pswitch_3e
-        :pswitch_3e
-        :pswitch_3e
-        :pswitch_119
-        :pswitch_129
-        :pswitch_150
-        :pswitch_36
-        :pswitch_108
-        :pswitch_96
-        :pswitch_163
-        :pswitch_42
-        :pswitch_168
-        :pswitch_1c0
-        :pswitch_184
-        :pswitch_1a1
-        :pswitch_1f1
-        :pswitch_247
-    .end packed-switch
-.end method
+    move-object/from16 v0, v18
 
-.method protected handlePollStateResult(ILandroid/os/AsyncResult;)V
-    .registers 21
+    move-object/from16 v1, v17
 
-    move-object/from16 v0, p2
+    iput-object v0, v1, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    iget-object v14, v0, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
+    iget-object v0, v3, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
 
-    move-object/from16 v0, p0
+    move-object/from16 v17, v0
 
-    iget-object v15, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollingContext:[I
+    check-cast v17, Landroid/os/Message;
 
-    if-eq v14, v15, :cond_b
+    invoke-virtual/range {v17 .. v17}, Landroid/os/Message;->sendToTarget()V
 
-    :cond_a
-    :goto_a
-    return-void
+    goto/16 :goto_40
 
-    :cond_b
-    move-object/from16 v0, p2
+    :pswitch_29f
+    move-object/from16 v0, p1
 
-    iget-object v14, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    if-eqz v14, :cond_d5
+    check-cast v3, Landroid/os/AsyncResult;
 
-    const/4 v2, 0x0
+    iget-object v0, v3, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    move-object/from16 v0, p2
+    move-object/from16 v17, v0
 
-    iget-object v14, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    if-nez v17, :cond_2db
 
-    instance-of v14, v14, Lcom/android/internal/telephony/CommandException;
+    iget-object v0, v3, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
-    if-eqz v14, :cond_26
+    move-object/from16 v17, v0
 
-    move-object/from16 v0, p2
+    check-cast v17, [I
 
-    iget-object v14, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    check-cast v17, [I
 
-    check-cast v14, Lcom/android/internal/telephony/CommandException;
+    const/16 v18, 0x0
 
-    check-cast v14, Lcom/android/internal/telephony/CommandException;
+    aget v17, v17, v18
 
-    invoke-virtual {v14}, Lcom/android/internal/telephony/CommandException;->getCommandError()Lcom/android/internal/telephony/CommandException$Error;
+    move/from16 v0, v17
 
-    move-result-object v2
+    move-object/from16 v1, p0
 
-    :cond_26
-    sget-object v14, Lcom/android/internal/telephony/CommandException$Error;->RADIO_NOT_AVAILABLE:Lcom/android/internal/telephony/CommandException$Error;
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPreferredNetworkType:I
 
-    if-ne v2, v14, :cond_2e
+    :goto_2bd
+    const/16 v17, 0x14
 
-    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cancelPollState()V
+    iget-object v0, v3, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
 
-    goto :goto_a
+    move-object/from16 v18, v0
 
-    :cond_2e
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
-
-    invoke-interface {v14}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
+    move/from16 v1, v17
 
-    move-result-object v14
+    move-object/from16 v2, v18
 
-    invoke-virtual {v14}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
+    invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
 
-    move-result v14
+    move-result-object v8
 
-    if-nez v14, :cond_40
+    const/4 v15, 0x7
 
-    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cancelPollState()V
+    move-object/from16 v0, p0
 
-    goto :goto_a
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    :cond_40
-    sget-object v14, Lcom/android/internal/telephony/CommandException$Error;->OP_NOT_ALLOWED_BEFORE_REG_NW:Lcom/android/internal/telephony/CommandException$Error;
+    move-object/from16 v17, v0
 
-    if-eq v2, v14, :cond_60
+    move-object/from16 v0, v17
 
-    new-instance v14, Ljava/lang/StringBuilder;
+    invoke-interface {v0, v15, v8}, Lcom/android/internal/telephony/CommandsInterface;->setPreferredNetworkType(ILandroid/os/Message;)V
 
-    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V
+    goto/16 :goto_40
 
-    const-string v15, "RIL implementation has returned an error where it must succeed"
+    :cond_2db
+    const/16 v17, 0x7
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    move/from16 v0, v17
 
-    move-result-object v14
+    move-object/from16 v1, p0
 
-    move-object/from16 v0, p2
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPreferredNetworkType:I
 
-    iget-object v15, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    goto :goto_2bd
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    :pswitch_2e4
+    move-object/from16 v0, p0
 
-    move-result-object v14
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    move-object/from16 v17, v0
 
-    move-result-object v14
+    if-eqz v17, :cond_346
 
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
+    iget v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->gprsState:I
+
+    move/from16 v17, v0
 
-    :cond_60
-    :goto_60
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->ss:Landroid/telephony/ServiceState;
+
+    move-object/from16 v18, v0
 
-    invoke-virtual {v14}, Lcom/android/internal/telephony/gsm/GSMPhone;->getContext()Landroid/content/Context;
+    invoke-virtual/range {v18 .. v18}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result-object v14
+    move-result v18
 
-    invoke-virtual {v14}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
+    move-object/from16 v0, p0
 
-    move-result-object v14
+    move/from16 v1, v17
 
-    const v15, 0x1110033
+    move/from16 v2, v18
 
-    invoke-virtual {v14, v15}, Landroid/content/res/Resources;->getBoolean(I)Z
+    invoke-direct {v0, v1, v2}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->isGprsConsistent(II)Z
 
-    move-result v13
+    move-result v17
 
-    if-nez v13, :cond_86
+    if-nez v17, :cond_346
 
     move-object/from16 v0, p0
 
-    iget v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newGPRSState:I
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    if-nez v14, :cond_86
+    move-object/from16 v17, v0
 
-    move-object/from16 v0, p0
+    invoke-virtual/range {v17 .. v17}, Lcom/android/internal/telephony/gsm/GSMPhone;->getCellLocation()Landroid/telephony/CellLocation;
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+    move-result-object v7
 
-    move-object/from16 v0, p0
+    check-cast v7, Landroid/telephony/gsm/GsmCellLocation;
 
-    iget v15, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newGPRSState:I
+    const v18, 0xc3bb
 
-    invoke-virtual {v14, v15}, Landroid/telephony/ServiceState;->setState(I)V
+    const/16 v17, 0x2
 
-    :cond_86
-    move-object/from16 v0, p0
+    move/from16 v0, v17
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollingContext:[I
+    new-array v0, v0, [Ljava/lang/Object;
 
-    const/4 v15, 0x0
+    move-object/from16 v19, v0
 
-    aget v16, v14, v15
+    const/16 v17, 0x0
 
-    add-int/lit8 v16, v16, -0x1
+    move-object/from16 v0, p0
 
-    aput v16, v14, v15
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v0, p0
+    move-object/from16 v20, v0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollingContext:[I
+    invoke-virtual/range {v20 .. v20}, Landroid/telephony/ServiceState;->getOperatorNumeric()Ljava/lang/String;
 
-    const/4 v15, 0x0
+    move-result-object v20
 
-    aget v14, v14, v15
+    aput-object v20, v19, v17
 
-    if-nez v14, :cond_a
+    const/16 v20, 0x1
 
-    move-object/from16 v0, p0
+    if-eqz v7, :cond_350
 
-    iget-boolean v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
+    invoke-virtual {v7}, Landroid/telephony/gsm/GsmCellLocation;->getCid()I
 
-    if-nez v14, :cond_a6
+    move-result v17
 
-    move-object/from16 v0, p0
+    :goto_335
+    invoke-static/range {v17 .. v17}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    iget-boolean v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mDataRoaming:Z
+    move-result-object v17
 
-    if-eqz v14, :cond_289
+    aput-object v17, v19, v20
 
-    :cond_a6
-    const/4 v10, 0x1
+    invoke-static/range {v18 .. v19}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
 
-    :goto_a7
-    move-object/from16 v0, p0
+    const/16 v17, 0x1
 
-    iget-boolean v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
+    move/from16 v0, v17
 
-    if-eqz v14, :cond_be
+    move-object/from16 v1, p0
 
-    move-object/from16 v0, p0
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mReportedGprsNoReg:Z
 
-    iget-boolean v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
+    :cond_346
+    const/16 v17, 0x0
 
-    move-object/from16 v0, p0
+    move/from16 v0, v17
 
-    iget-object v15, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+    move-object/from16 v1, p0
 
-    move-object/from16 v0, p0
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mStartedGprsRegCheck:Z
 
-    invoke-direct {v0, v14, v15}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->isRoamingBetweenOperators(ZLandroid/telephony/ServiceState;)Z
+    goto/16 :goto_40
 
-    move-result v14
+    :cond_350
+    const/16 v17, -0x1
 
-    if-nez v14, :cond_be
+    goto :goto_335
 
-    const/4 v10, 0x0
+    :pswitch_353
+    const-string v17, "EVENT_RESTRICTED_STATE_CHANGED"
 
-    :cond_be
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+    move-object/from16 v1, v17
+
+    invoke-virtual {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->log(Ljava/lang/String;)V
 
-    invoke-virtual {v14, v10}, Landroid/telephony/ServiceState;->setRoaming(Z)V
+    move-object/from16 v0, p1
 
-    move-object/from16 v0, p0
+    iget-object v3, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+    check-cast v3, Landroid/os/AsyncResult;
 
     move-object/from16 v0, p0
 
-    iget-boolean v15, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
-
-    invoke-virtual {v14, v15}, Landroid/telephony/ServiceState;->setEmergencyOnly(Z)V
+    invoke-direct {v0, v3}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->onRestrictedStateChanged(Landroid/os/AsyncResult;)V
 
-    invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollStateDone()V
+    goto/16 :goto_40
 
-    goto/16 :goto_a
+    nop
 
-    :cond_d5
-    sparse-switch p1, :sswitch_data_28c
+    :pswitch_data_36a
+    .packed-switch 0x1
+        :pswitch_80
+        :pswitch_87
+        :pswitch_8b
+        :pswitch_1af
+        :pswitch_1af
+        :pswitch_1af
+        :pswitch_4a
+        :pswitch_4a
+        :pswitch_4a
+        :pswitch_1c4
+        :pswitch_1d9
+        :pswitch_206
+        :pswitch_40
+        :pswitch_1af
+        :pswitch_ae
+        :pswitch_21f
+        :pswitch_4e
+        :pswitch_224
+        :pswitch_29f
+        :pswitch_249
+        :pswitch_274
+        :pswitch_2e4
+        :pswitch_353
+    .end packed-switch
+.end method
 
-    goto :goto_60
+.method protected handlePollStateResult(ILandroid/os/AsyncResult;)V
+    .registers 25
 
-    :sswitch_d9
-    :try_start_d9
     move-object/from16 v0, p2
 
-    iget-object v14, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    iget-object v0, v0, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
 
-    check-cast v14, [Ljava/lang/String;
+    move-object/from16 v18, v0
 
-    move-object v0, v14
+    move-object/from16 v0, p0
 
-    check-cast v0, [Ljava/lang/String;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollingContext:[I
 
-    move-object v11, v0
+    move-object/from16 v19, v0
 
-    const/4 v5, -0x1
+    move-object/from16 v0, v18
 
-    const/4 v1, -0x1
+    move-object/from16 v1, v19
 
-    const/4 v9, -0x1
+    if-eq v0, v1, :cond_13
 
-    const/4 v8, -0x1
+    :cond_12
+    :goto_12
+    return-void
 
-    const/4 v7, -0x1
+    :cond_13
+    move-object/from16 v0, p2
 
-    array-length v14, v11
-    :try_end_e9
-    .catch Ljava/lang/RuntimeException; {:try_start_d9 .. :try_end_e9} :catch_17f
+    iget-object v0, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    if-lez v14, :cond_143
+    move-object/from16 v18, v0
 
-    const/4 v14, 0x0
+    if-eqz v18, :cond_115
 
-    :try_start_ec
-    aget-object v14, v11, v14
+    const/4 v4, 0x0
 
-    invoke-static {v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    move-object/from16 v0, p2
 
-    move-result v9
+    iget-object v0, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    array-length v14, v11
+    move-object/from16 v18, v0
 
-    const/4 v15, 0x3
+    move-object/from16 v0, v18
 
-    if-lt v14, v15, :cond_124
+    instance-of v0, v0, Lcom/android/internal/telephony/CommandException;
 
-    const/4 v14, 0x1
+    move/from16 v18, v0
 
-    aget-object v14, v11, v14
+    if-eqz v18, :cond_38
 
-    if-eqz v14, :cond_10d
+    move-object/from16 v0, p2
 
-    const/4 v14, 0x1
+    iget-object v0, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    aget-object v14, v11, v14
+    move-object/from16 v18, v0
 
-    invoke-virtual {v14}, Ljava/lang/String;->length()I
+    check-cast v18, Lcom/android/internal/telephony/CommandException;
 
-    move-result v14
+    check-cast v18, Lcom/android/internal/telephony/CommandException;
 
-    if-lez v14, :cond_10d
+    invoke-virtual/range {v18 .. v18}, Lcom/android/internal/telephony/CommandException;->getCommandError()Lcom/android/internal/telephony/CommandException$Error;
 
-    const/4 v14, 0x1
+    move-result-object v4
 
-    aget-object v14, v11, v14
+    :cond_38
+    sget-object v18, Lcom/android/internal/telephony/CommandException$Error;->RADIO_NOT_AVAILABLE:Lcom/android/internal/telephony/CommandException$Error;
 
-    const/16 v15, 0x10
+    move-object/from16 v0, v18
 
-    invoke-static {v14, v15}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+    if-ne v4, v0, :cond_42
 
-    move-result v5
+    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cancelPollState()V
 
-    :cond_10d
-    const/4 v14, 0x2
+    goto :goto_12
 
-    aget-object v14, v11, v14
+    :cond_42
+    move-object/from16 v0, p0
 
-    if-eqz v14, :cond_124
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    const/4 v14, 0x2
+    move-object/from16 v18, v0
 
-    aget-object v14, v11, v14
+    invoke-interface/range {v18 .. v18}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
 
-    invoke-virtual {v14}, Ljava/lang/String;->length()I
+    move-result-object v18
 
-    move-result v14
+    invoke-virtual/range {v18 .. v18}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
 
-    if-lez v14, :cond_124
+    move-result v18
 
-    const/4 v14, 0x2
+    if-nez v18, :cond_56
 
-    aget-object v14, v11, v14
+    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cancelPollState()V
 
-    const/16 v15, 0x10
+    goto :goto_12
 
-    invoke-static {v14, v15}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+    :cond_56
+    sget-object v18, Lcom/android/internal/telephony/CommandException$Error;->OP_NOT_ALLOWED_BEFORE_REG_NW:Lcom/android/internal/telephony/CommandException$Error;
 
-    move-result v1
+    move-object/from16 v0, v18
 
-    :cond_124
-    array-length v14, v11
+    if-eq v4, v0, :cond_7c
 
-    const/16 v15, 0xe
+    new-instance v18, Ljava/lang/StringBuilder;
 
-    if-le v14, v15, :cond_143
+    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V
 
-    const/16 v14, 0xe
+    const-string v19, "RIL implementation has returned an error where it must succeed"
 
-    aget-object v14, v11, v14
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    if-eqz v14, :cond_143
+    move-result-object v18
 
-    const/16 v14, 0xe
+    move-object/from16 v0, p2
 
-    aget-object v14, v11, v14
+    iget-object v0, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    invoke-virtual {v14}, Ljava/lang/String;->length()I
+    move-object/from16 v19, v0
 
-    move-result v14
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    if-lez v14, :cond_143
+    move-result-object v18
 
-    const/16 v14, 0xe
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    aget-object v14, v11, v14
+    move-result-object v18
 
-    const/16 v15, 0x10
+    move-object/from16 v0, p0
 
-    invoke-static {v14, v15}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
-    :try_end_142
-    .catch Ljava/lang/NumberFormatException; {:try_start_ec .. :try_end_142} :catch_19a
-    .catch Ljava/lang/RuntimeException; {:try_start_ec .. :try_end_142} :catch_17f
+    move-object/from16 v1, v18
 
-    move-result v7
+    invoke-virtual {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    :cond_143
-    :goto_143
-    :try_start_143
+    :cond_7c
+    :goto_7c
     move-object/from16 v0, p0
 
-    invoke-direct {v0, v9}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeIsRoaming(I)Z
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    move-result v14
+    move-object/from16 v18, v0
 
-    move-object/from16 v0, p0
+    invoke-virtual/range {v18 .. v18}, Lcom/android/internal/telephony/gsm/GSMPhone;->getContext()Landroid/content/Context;
+
+    move-result-object v18
+
+    invoke-virtual/range {v18 .. v18}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
 
-    iput-boolean v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
+    move-result-object v18
+
+    const v19, 0x1110033
+
+    invoke-virtual/range {v18 .. v19}, Landroid/content/res/Resources;->getBoolean(I)Z
+
+    move-result v17
+
+    if-nez v17, :cond_aa
 
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+    iget v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newGPRSState:I
+
+    move/from16 v18, v0
+
+    if-nez v18, :cond_aa
 
     move-object/from16 v0, p0
 
-    invoke-direct {v0, v9}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeToServiceState(I)I
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-result v15
+    move-object/from16 v18, v0
 
-    invoke-virtual {v14, v15}, Landroid/telephony/ServiceState;->setState(I)V
+    move-object/from16 v0, p0
 
-    const/16 v14, 0xa
+    iget v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newGPRSState:I
 
-    if-eq v9, v14, :cond_16a
+    move/from16 v19, v0
 
-    const/16 v14, 0xc
+    invoke-virtual/range {v18 .. v19}, Landroid/telephony/ServiceState;->setState(I)V
 
-    if-eq v9, v14, :cond_16a
+    :cond_aa
+    move-object/from16 v0, p0
 
-    const/16 v14, 0xd
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollingContext:[I
 
-    if-eq v9, v14, :cond_16a
+    move-object/from16 v18, v0
 
-    const/16 v14, 0xe
+    const/16 v19, 0x0
 
-    if-ne v9, v14, :cond_1b4
+    aget v20, v18, v19
 
-    :cond_16a
-    const/4 v14, 0x1
+    add-int/lit8 v20, v20, -0x1
+
+    aput v20, v18, v19
 
     move-object/from16 v0, p0
 
-    iput-boolean v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollingContext:[I
+
+    move-object/from16 v18, v0
+
+    const/16 v19, 0x0
+
+    aget v18, v18, v19
+
+    if-nez v18, :cond_12
 
-    :goto_16f
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newCellLoc:Landroid/telephony/gsm/GsmCellLocation;
+    iget-boolean v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
 
-    invoke-virtual {v14, v5, v1}, Landroid/telephony/gsm/GsmCellLocation;->setLacAndCid(II)V
+    move/from16 v18, v0
+
+    if-nez v18, :cond_d4
 
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newCellLoc:Landroid/telephony/gsm/GsmCellLocation;
+    iget-boolean v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mDataRoaming:Z
 
-    invoke-virtual {v14, v7}, Landroid/telephony/gsm/GsmCellLocation;->setPsc(I)V
-    :try_end_17d
-    .catch Ljava/lang/RuntimeException; {:try_start_143 .. :try_end_17d} :catch_17f
+    move/from16 v18, v0
 
-    goto/16 :goto_60
+    if-eqz v18, :cond_3f5
 
-    :catch_17f
-    move-exception v3
+    :cond_d4
+    const/4 v12, 0x1
 
-    new-instance v14, Ljava/lang/StringBuilder;
+    :goto_d5
+    move-object/from16 v0, p0
 
-    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V
+    iget-boolean v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
 
-    const-string v15, "Exception while polling service state. Probably malformed RIL response."
+    move/from16 v18, v0
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    if-eqz v18, :cond_f6
 
-    move-result-object v14
+    move-object/from16 v0, p0
 
-    invoke-virtual {v14, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    iget-boolean v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
 
-    move-result-object v14
+    move/from16 v18, v0
 
-    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-result-object v14
+    move-object/from16 v19, v0
 
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
+    move/from16 v1, v18
 
-    goto/16 :goto_60
+    move-object/from16 v2, v19
 
-    :catch_19a
-    move-exception v3
+    invoke-direct {v0, v1, v2}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->isRoamingBetweenOperators(ZLandroid/telephony/ServiceState;)Z
 
-    :try_start_19b
-    new-instance v14, Ljava/lang/StringBuilder;
+    move-result v18
 
-    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V
+    if-nez v18, :cond_f6
 
-    const-string v15, "error parsing RegistrationState: "
+    const/4 v12, 0x0
+
+    :cond_f6
+    move-object/from16 v0, p0
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-result-object v14
+    move-object/from16 v18, v0
 
-    invoke-virtual {v14, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    move-object/from16 v0, v18
 
-    move-result-object v14
+    invoke-virtual {v0, v12}, Landroid/telephony/ServiceState;->setRoaming(Z)V
 
-    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    move-object/from16 v0, p0
 
-    move-result-object v14
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+
+    move-object/from16 v18, v0
 
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
+    iget-boolean v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
 
-    goto :goto_143
+    move/from16 v19, v0
 
-    :cond_1b4
-    const/4 v14, 0x0
+    invoke-virtual/range {v18 .. v19}, Landroid/telephony/ServiceState;->setEmergencyOnly(Z)V
+
+    invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollStateDone()V
+
+    goto/16 :goto_12
 
+    :cond_115
+    :try_start_115
     move-object/from16 v0, p0
 
-    iput-boolean v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v18, v0
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mContext:Landroid/content/Context;
+
+    move-object/from16 v19, v0
+
+    invoke-virtual/range {v19 .. v19}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
 
-    goto :goto_16f
+    move-result-object v19
 
-    :sswitch_1ba
+    const/16 v20, 0x0
+
+    invoke-virtual/range {v18 .. v20}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v13
+
+    sparse-switch p1, :sswitch_data_3f8
+
+    goto/16 :goto_7c
+
+    :sswitch_130
     move-object/from16 v0, p2
 
-    iget-object v14, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    iget-object v0, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
-    check-cast v14, [Ljava/lang/String;
+    move-object/from16 v18, v0
+
+    check-cast v18, [Ljava/lang/String;
 
-    move-object v0, v14
+    move-object/from16 v0, v18
 
     check-cast v0, [Ljava/lang/String;
 
-    move-object v11, v0
+    move-object v14, v0
 
-    const/4 v12, 0x0
+    const/4 v7, -0x1
+
+    const/4 v3, -0x1
+
+    const/4 v11, -0x1
+
+    const/4 v10, -0x1
 
     const/4 v9, -0x1
 
-    const/4 v14, -0x1
+    array-length v0, v14
+
+    move/from16 v18, v0
+    :try_end_145
+    .catch Ljava/lang/RuntimeException; {:try_start_115 .. :try_end_145} :catch_21a
+
+    if-lez v18, :cond_1b3
+
+    const/16 v18, 0x0
+
+    :try_start_149
+    aget-object v18, v14, v18
+
+    invoke-static/range {v18 .. v18}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+
+    move-result v11
+
+    array-length v0, v14
+
+    move/from16 v18, v0
+
+    const/16 v19, 0x3
+
+    move/from16 v0, v18
 
+    move/from16 v1, v19
+
+    if-lt v0, v1, :cond_18e
+
+    const/16 v18, 0x1
+
+    aget-object v18, v14, v18
+
+    if-eqz v18, :cond_174
+
+    const/16 v18, 0x1
+
+    aget-object v18, v14, v18
+
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/String;->length()I
+
+    move-result v18
+
+    if-lez v18, :cond_174
+
+    const/16 v18, 0x1
+
+    aget-object v18, v14, v18
+
+    const/16 v19, 0x10
+
+    invoke-static/range {v18 .. v19}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+
+    move-result v7
+
+    :cond_174
+    const/16 v18, 0x2
+
+    aget-object v18, v14, v18
+
+    if-eqz v18, :cond_18e
+
+    const/16 v18, 0x2
+
+    aget-object v18, v14, v18
+
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/String;->length()I
+
+    move-result v18
+
+    if-lez v18, :cond_18e
+
+    const/16 v18, 0x2
+
+    aget-object v18, v14, v18
+
+    const/16 v19, 0x10
+
+    invoke-static/range {v18 .. v19}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+
+    move-result v3
+
+    :cond_18e
+    array-length v0, v14
+
+    move/from16 v18, v0
+
+    const/16 v19, 0xe
+
+    move/from16 v0, v18
+
+    move/from16 v1, v19
+
+    if-le v0, v1, :cond_1b3
+
+    const/16 v18, 0xe
+
+    aget-object v18, v14, v18
+
+    if-eqz v18, :cond_1b3
+
+    const/16 v18, 0xe
+
+    aget-object v18, v14, v18
+
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/String;->length()I
+
+    move-result v18
+
+    if-lez v18, :cond_1b3
+
+    const/16 v18, 0xe
+
+    aget-object v18, v14, v18
+
+    const/16 v19, 0x10
+
+    invoke-static/range {v18 .. v19}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+    :try_end_1b2
+    .catch Ljava/lang/NumberFormatException; {:try_start_149 .. :try_end_1b2} :catch_239
+    .catch Ljava/lang/RuntimeException; {:try_start_149 .. :try_end_1b2} :catch_21a
+
+    move-result v9
+
+    :cond_1b3
+    :goto_1b3
+    :try_start_1b3
     move-object/from16 v0, p0
 
-    iput v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewReasonDataDenied:I
+    invoke-direct {v0, v11}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeIsRoaming(I)Z
 
-    const/4 v14, 0x1
+    move-result v18
+
+    move/from16 v0, v18
+
+    move-object/from16 v1, p0
+
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
 
     move-object/from16 v0, p0
 
-    iput v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewMaxDataCalls:I
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    array-length v14, v11
-    :try_end_1d1
-    .catch Ljava/lang/RuntimeException; {:try_start_19b .. :try_end_1d1} :catch_17f
+    move-object/from16 v18, v0
 
-    if-lez v14, :cond_20b
+    move-object/from16 v0, p0
 
-    const/4 v14, 0x0
+    invoke-direct {v0, v11}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeToServiceState(I)I
 
-    :try_start_1d4
-    aget-object v14, v11, v14
+    move-result v19
 
-    invoke-static {v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    invoke-virtual/range {v18 .. v19}, Landroid/telephony/ServiceState;->setState(I)V
 
-    move-result v9
+    const/16 v18, 0xa
 
-    array-length v14, v11
+    move/from16 v0, v18
 
-    const/4 v15, 0x4
+    if-eq v11, v0, :cond_1e6
 
-    if-lt v14, v15, :cond_1ea
+    const/16 v18, 0xc
 
-    const/4 v14, 0x3
+    move/from16 v0, v18
 
-    aget-object v14, v11, v14
+    if-eq v11, v0, :cond_1e6
 
-    if-eqz v14, :cond_1ea
+    const/16 v18, 0xd
 
-    const/4 v14, 0x3
+    move/from16 v0, v18
 
-    aget-object v14, v11, v14
+    if-eq v11, v0, :cond_1e6
 
-    invoke-static {v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    const/16 v18, 0xe
 
-    move-result v12
+    move/from16 v0, v18
 
-    :cond_1ea
-    array-length v14, v11
+    if-ne v11, v0, :cond_258
 
-    const/4 v15, 0x5
+    :cond_1e6
+    const/16 v18, 0x1
 
-    if-lt v14, v15, :cond_1fc
+    move/from16 v0, v18
 
-    const/4 v14, 0x3
+    move-object/from16 v1, p0
 
-    if-ne v9, v14, :cond_1fc
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
 
-    const/4 v14, 0x4
+    :goto_1ee
+    move-object/from16 v0, p0
 
-    aget-object v14, v11, v14
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    invoke-static {v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    move-object/from16 v18, v0
 
-    move-result v14
+    if-eqz v18, :cond_261
+
+    if-eqz v13, :cond_261
+
+    invoke-virtual {v13}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v18
+
+    const/16 v19, 0x1
+
+    move/from16 v0, v18
+
+    move/from16 v1, v19
+
+    if-ne v0, v1, :cond_261
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newCellLoc:Landroid/telephony/gsm/GsmCellLocation;
+
+    move-object/from16 v18, v0
+
+    invoke-virtual/range {v18 .. v18}, Landroid/telephony/gsm/GsmCellLocation;->setStateInvalid()V
 
     move-object/from16 v0, p0
 
-    iput v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewReasonDataDenied:I
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newCellLoc:Landroid/telephony/gsm/GsmCellLocation;
 
-    :cond_1fc
-    array-length v14, v11
+    move-object/from16 v18, v0
 
-    const/4 v15, 0x6
+    move-object/from16 v0, v18
 
-    if-lt v14, v15, :cond_20b
+    invoke-virtual {v0, v9}, Landroid/telephony/gsm/GsmCellLocation;->setPsc(I)V
+    :try_end_218
+    .catch Ljava/lang/RuntimeException; {:try_start_1b3 .. :try_end_218} :catch_21a
 
-    const/4 v14, 0x5
+    goto/16 :goto_7c
 
-    aget-object v14, v11, v14
+    :catch_21a
+    move-exception v5
 
-    invoke-static {v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    new-instance v18, Ljava/lang/StringBuilder;
 
-    move-result v14
+    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v19, "Exception while polling service state. Probably malformed RIL response."
+
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v18
+
+    move-object/from16 v0, v18
+
+    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v18
+
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v18
+
+    move-object/from16 v0, p0
+
+    move-object/from16 v1, v18
+
+    invoke-virtual {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
+
+    goto/16 :goto_7c
+
+    :catch_239
+    move-exception v5
+
+    :try_start_23a
+    new-instance v18, Ljava/lang/StringBuilder;
+
+    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v19, "error parsing RegistrationState: "
+
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v18
+
+    move-object/from16 v0, v18
+
+    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v18
+
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v18
 
     move-object/from16 v0, p0
 
-    iput v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewMaxDataCalls:I
-    :try_end_20b
-    .catch Ljava/lang/NumberFormatException; {:try_start_1d4 .. :try_end_20b} :catch_22c
-    .catch Ljava/lang/RuntimeException; {:try_start_1d4 .. :try_end_20b} :catch_17f
+    move-object/from16 v1, v18
+
+    invoke-virtual {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
+
+    goto/16 :goto_1b3
+
+    :cond_258
+    const/16 v18, 0x0
+
+    move/from16 v0, v18
 
-    :cond_20b
-    :goto_20b
-    :try_start_20b
+    move-object/from16 v1, p0
+
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
+
+    goto :goto_1ee
+
+    :cond_261
     move-object/from16 v0, p0
 
-    invoke-direct {v0, v9}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeToServiceState(I)I
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    move-result v14
+    move-object/from16 v18, v0
+
+    if-eqz v18, :cond_29a
+
+    if-eqz v13, :cond_29a
+
+    invoke-virtual {v13}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v18
+
+    const/16 v19, 0x3
+
+    move/from16 v0, v18
+
+    move/from16 v1, v19
+
+    if-ne v0, v1, :cond_29a
+
+    new-instance v16, Ljava/util/Random;
+
+    invoke-direct/range {v16 .. v16}, Ljava/util/Random;-><init>()V
 
     move-object/from16 v0, p0
 
-    iput v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newGPRSState:I
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newCellLoc:Landroid/telephony/gsm/GsmCellLocation;
+
+    move-object/from16 v18, v0
+
+    invoke-virtual/range {v16 .. v16}, Ljava/util/Random;->nextInt()I
+
+    move-result v19
+
+    invoke-virtual/range {v16 .. v16}, Ljava/util/Random;->nextInt()I
+
+    move-result v20
+
+    invoke-virtual/range {v18 .. v20}, Landroid/telephony/gsm/GsmCellLocation;->setLacAndCid(II)V
 
     move-object/from16 v0, p0
 
-    invoke-direct {v0, v9}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeIsRoaming(I)Z
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newCellLoc:Landroid/telephony/gsm/GsmCellLocation;
+
+    move-object/from16 v18, v0
 
-    move-result v14
+    move-object/from16 v0, v18
+
+    invoke-virtual {v0, v9}, Landroid/telephony/gsm/GsmCellLocation;->setPsc(I)V
 
+    goto/16 :goto_7c
+
+    :cond_29a
     move-object/from16 v0, p0
 
-    iput-boolean v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mDataRoaming:Z
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newCellLoc:Landroid/telephony/gsm/GsmCellLocation;
+
+    move-object/from16 v18, v0
+
+    move-object/from16 v0, v18
+
+    invoke-virtual {v0, v7, v3}, Landroid/telephony/gsm/GsmCellLocation;->setLacAndCid(II)V
 
     move-object/from16 v0, p0
 
-    iput v12, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewRilRadioTechnology:I
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newCellLoc:Landroid/telephony/gsm/GsmCellLocation;
+
+    move-object/from16 v18, v0
+
+    move-object/from16 v0, v18
+
+    invoke-virtual {v0, v9}, Landroid/telephony/gsm/GsmCellLocation;->setPsc(I)V
+
+    goto/16 :goto_7c
+
+    :sswitch_2b2
+    move-object/from16 v0, p2
+
+    iget-object v0, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+
+    move-object/from16 v18, v0
+
+    check-cast v18, [Ljava/lang/String;
+
+    move-object/from16 v0, v18
+
+    check-cast v0, [Ljava/lang/String;
+
+    move-object v14, v0
+
+    const/4 v15, 0x0
+
+    const/4 v11, -0x1
+
+    const/16 v18, -0x1
+
+    move/from16 v0, v18
+
+    move-object/from16 v1, p0
+
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewReasonDataDenied:I
+
+    const/16 v18, 0x1
+
+    move/from16 v0, v18
+
+    move-object/from16 v1, p0
+
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewMaxDataCalls:I
+
+    array-length v0, v14
+
+    move/from16 v18, v0
+    :try_end_2d4
+    .catch Ljava/lang/RuntimeException; {:try_start_23a .. :try_end_2d4} :catch_21a
+
+    if-lez v18, :cond_32f
+
+    const/16 v18, 0x0
+
+    :try_start_2d8
+    aget-object v18, v14, v18
+
+    invoke-static/range {v18 .. v18}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+
+    move-result v11
+
+    array-length v0, v14
+
+    move/from16 v18, v0
+
+    const/16 v19, 0x4
+
+    move/from16 v0, v18
+
+    move/from16 v1, v19
+
+    if-lt v0, v1, :cond_2f7
+
+    const/16 v18, 0x3
+
+    aget-object v18, v14, v18
+
+    if-eqz v18, :cond_2f7
+
+    const/16 v18, 0x3
+
+    aget-object v18, v14, v18
+
+    invoke-static/range {v18 .. v18}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+
+    move-result v15
+
+    :cond_2f7
+    array-length v0, v14
+
+    move/from16 v18, v0
+
+    const/16 v19, 0x5
+
+    move/from16 v0, v18
+
+    move/from16 v1, v19
+
+    if-lt v0, v1, :cond_316
+
+    const/16 v18, 0x3
 
+    move/from16 v0, v18
+
+    if-ne v11, v0, :cond_316
+
+    const/16 v18, 0x4
+
+    aget-object v18, v14, v18
+
+    invoke-static/range {v18 .. v18}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+
+    move-result v18
+
+    move/from16 v0, v18
+
+    move-object/from16 v1, p0
+
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewReasonDataDenied:I
+
+    :cond_316
+    array-length v0, v14
+
+    move/from16 v18, v0
+
+    const/16 v19, 0x6
+
+    move/from16 v0, v18
+
+    move/from16 v1, v19
+
+    if-lt v0, v1, :cond_32f
+
+    const/16 v18, 0x5
+
+    aget-object v18, v14, v18
+
+    invoke-static/range {v18 .. v18}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+
+    move-result v18
+
+    move/from16 v0, v18
+
+    move-object/from16 v1, p0
+
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewMaxDataCalls:I
+    :try_end_32f
+    .catch Ljava/lang/NumberFormatException; {:try_start_2d8 .. :try_end_32f} :catch_358
+    .catch Ljava/lang/RuntimeException; {:try_start_2d8 .. :try_end_32f} :catch_21a
+
+    :cond_32f
+    :goto_32f
+    :try_start_32f
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+    invoke-direct {v0, v11}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeToServiceState(I)I
 
-    invoke-virtual {v14, v12}, Landroid/telephony/ServiceState;->setRadioTechnology(I)V
+    move-result v18
 
-    goto/16 :goto_60
+    move/from16 v0, v18
 
-    :catch_22c
-    move-exception v3
+    move-object/from16 v1, p0
 
-    new-instance v14, Ljava/lang/StringBuilder;
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newGPRSState:I
 
-    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V
+    move-object/from16 v0, p0
 
-    const-string v15, "error parsing GprsRegistrationState: "
+    invoke-direct {v0, v11}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeIsRoaming(I)Z
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    move-result v18
 
-    move-result-object v14
+    move/from16 v0, v18
 
-    invoke-virtual {v14, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    move-object/from16 v1, p0
 
-    move-result-object v14
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mDataRoaming:Z
 
-    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    move-object/from16 v0, p0
 
-    move-result-object v14
+    iput v15, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewRilRadioTechnology:I
 
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+
+    move-object/from16 v18, v0
+
+    move-object/from16 v0, v18
+
+    invoke-virtual {v0, v15}, Landroid/telephony/ServiceState;->setRadioTechnology(I)V
+
+    goto/16 :goto_7c
+
+    :catch_358
+    move-exception v5
+
+    new-instance v18, Ljava/lang/StringBuilder;
+
+    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v19, "error parsing GprsRegistrationState: "
+
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v18
+
+    move-object/from16 v0, v18
+
+    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v18
+
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v18
+
+    move-object/from16 v0, p0
+
+    move-object/from16 v1, v18
+
+    invoke-virtual {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    goto :goto_20b
+    goto :goto_32f
 
-    :sswitch_246
+    :sswitch_376
     move-object/from16 v0, p2
 
-    iget-object v14, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    iget-object v0, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
-    check-cast v14, [Ljava/lang/String;
+    move-object/from16 v18, v0
+
+    check-cast v18, [Ljava/lang/String;
 
-    move-object v0, v14
+    move-object/from16 v0, v18
 
     check-cast v0, [Ljava/lang/String;
 
-    move-object v6, v0
+    move-object v8, v0
+
+    if-eqz v8, :cond_7c
 
-    if-eqz v6, :cond_60
+    array-length v0, v8
 
-    array-length v14, v6
+    move/from16 v18, v0
 
-    const/4 v15, 0x3
+    const/16 v19, 0x3
 
-    if-lt v14, v15, :cond_60
+    move/from16 v0, v18
+
+    move/from16 v1, v19
+
+    if-lt v0, v1, :cond_7c
 
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    const/4 v15, 0x0
+    move-object/from16 v18, v0
 
-    aget-object v15, v6, v15
+    if-eqz v18, :cond_3b1
 
-    const/16 v16, 0x1
+    if-eqz v13, :cond_3b1
 
-    aget-object v16, v6, v16
+    invoke-virtual {v13}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
 
-    const/16 v17, 0x2
+    move-result v18
+
+    if-eqz v18, :cond_3b1
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+
+    move-object/from16 v18, v0
+
+    const-string v19, ""
+
+    const-string v20, ""
+
+    const-string v21, ""
+
+    invoke-virtual/range {v18 .. v21}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto/16 :goto_7c
+
+    :cond_3b1
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    aget-object v17, v6, v17
+    move-object/from16 v18, v0
 
-    invoke-virtual/range {v14 .. v17}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+    const/16 v19, 0x0
+
+    aget-object v19, v8, v19
+
+    const/16 v20, 0x1
+
+    aget-object v20, v8, v20
+
+    const/16 v21, 0x2
+
+    aget-object v21, v8, v21
 
-    goto/16 :goto_60
+    invoke-virtual/range {v18 .. v21}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
 
-    :sswitch_26a
+    goto/16 :goto_7c
+
+    :sswitch_3c8
     move-object/from16 v0, p2
 
-    iget-object v14, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    iget-object v0, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+
+    move-object/from16 v18, v0
 
-    check-cast v14, [I
+    check-cast v18, [I
 
-    move-object v0, v14
+    move-object/from16 v0, v18
 
     check-cast v0, [I
 
-    move-object v4, v0
+    move-object v6, v0
 
     move-object/from16 v0, p0
 
-    iget-object v15, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    const/4 v14, 0x0
+    move-object/from16 v19, v0
 
-    aget v14, v4, v14
+    const/16 v18, 0x0
 
-    const/16 v16, 0x1
+    aget v18, v6, v18
 
-    move/from16 v0, v16
+    const/16 v20, 0x1
 
-    if-ne v14, v0, :cond_287
+    move/from16 v0, v18
 
-    const/4 v14, 0x1
+    move/from16 v1, v20
 
-    :goto_282
-    invoke-virtual {v15, v14}, Landroid/telephony/ServiceState;->setIsManualSelection(Z)V
-    :try_end_285
-    .catch Ljava/lang/RuntimeException; {:try_start_20b .. :try_end_285} :catch_17f
+    if-ne v0, v1, :cond_3f2
 
-    goto/16 :goto_60
+    const/16 v18, 0x1
 
-    :cond_287
-    const/4 v14, 0x0
+    :goto_3e9
+    move-object/from16 v0, v19
 
-    goto :goto_282
+    move/from16 v1, v18
 
-    :cond_289
-    const/4 v10, 0x0
+    invoke-virtual {v0, v1}, Landroid/telephony/ServiceState;->setIsManualSelection(Z)V
+    :try_end_3f0
+    .catch Ljava/lang/RuntimeException; {:try_start_32f .. :try_end_3f0} :catch_21a
+
+    goto/16 :goto_7c
+
+    :cond_3f2
+    const/16 v18, 0x0
+
+    goto :goto_3e9
+
+    :cond_3f5
+    const/4 v12, 0x0
 
-    goto/16 :goto_a7
+    goto/16 :goto_d5
 
-    :sswitch_data_28c
+    :sswitch_data_3f8
     .sparse-switch
-        0x4 -> :sswitch_d9
-        0x5 -> :sswitch_1ba
-        0x6 -> :sswitch_246
-        0xe -> :sswitch_26a
+        0x4 -> :sswitch_130
+        0x5 -> :sswitch_2b2
+        0x6 -> :sswitch_376
+        0xe -> :sswitch_3c8
     .end sparse-switch
 .end method
 
diff -Npru stock-telephony/smali/com/android/internal/telephony/gsm/SimSmsInterfaceManager.smali opd-telephony/smali/com/android/internal/telephony/gsm/SimSmsInterfaceManager.smali
--- stock-telephony/smali/com/android/internal/telephony/gsm/SimSmsInterfaceManager.smali	2013-03-01 15:22:50.707940575 -0600
+++ opd-telephony/smali/com/android/internal/telephony/gsm/SimSmsInterfaceManager.smali	2013-03-01 15:23:01.699995076 -0600
@@ -12,6 +12,10 @@
 
 
 # static fields
+.field protected static final ACCESS_TYPE_ICC:I = 0x1
+
+.field protected static final ACCESS_TYPE_SMS_MMS:I = 0x0
+
 .field static final DBG:Z = true
 
 .field private static final EVENT_LOAD_DONE:I = 0x1
@@ -24,6 +28,8 @@
 
 .field static final LOG_TAG:Ljava/lang/String; = "GSM"
 
+.field protected static final P_TAG:Ljava/lang/String; = "PrivacySMSInterfaceManager"
+
 .field private static final SMS_CB_CODE_SCHEME_MAX:I = 0xff
 
 .field private static final SMS_CB_CODE_SCHEME_MIN:I
@@ -63,6 +69,8 @@
 
 .field private mSuccess:Z
 
+.field protected pSetMan:Landroid/privacy/PrivacySettingsManager;
+
 
 # direct methods
 .method public constructor <init>(Lcom/android/internal/telephony/gsm/GSMPhone;Lcom/android/internal/telephony/SMSDispatcher;)V
@@ -342,66 +350,84 @@
 .method public copyMessageToIccEf(I[B[B)Z
     .registers 10
 
-    new-instance v2, Ljava/lang/StringBuilder;
+    const/4 v2, 0x0
 
-    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+    new-instance v3, Ljava/lang/StringBuilder;
 
-    const-string v3, "copyMessageToIccEf: status="
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, "copyMessageToIccEf: status="
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move-result-object v3
 
-    move-result-object v2
+    invoke-virtual {v3, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v3, " ==> "
+    move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, " ==> "
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    const-string v3, "pdu=("
+    move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, "pdu=("
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
 
     invoke-static {p2}, Ljava/util/Arrays;->toString([B)Ljava/lang/String;
 
-    move-result-object v3
+    move-result-object v4
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v2
+    move-result-object v3
 
-    const-string v3, "), smsm=("
+    const-string v4, "), smsm=("
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v2
+    move-result-object v3
 
     invoke-static {p3}, Ljava/util/Arrays;->toString([B)Ljava/lang/String;
 
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
     move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, ")"
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    const-string v3, ")"
+    move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v2
+    move-result-object v3
 
-    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {p0, v3}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    move-result-object v2
+    invoke-virtual {p0}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
 
-    invoke-virtual {p0, v2}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
+    move-result-object v3
+
+    const/4 v4, 0x1
 
+    invoke-virtual {p0, v3, v4}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v3
+
+    if-nez v3, :cond_4b
+
+    :goto_4a
+    return v2
+
+    :cond_4b
     const-string v2, "Copying message to SIM"
 
     invoke-virtual {p0, v2}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->enforceReceiveAndSend(Ljava/lang/String;)V
@@ -412,7 +438,7 @@
 
     const/4 v2, 0x0
 
-    :try_start_47
+    :try_start_54
     iput-boolean v2, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mSuccess:Z
 
     iget-object v2, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mHandler:Landroid/os/Handler;
@@ -436,43 +462,43 @@
     move-result-object v5
 
     invoke-interface {v2, p1, v4, v5, v1}, Lcom/android/internal/telephony/CommandsInterface;->writeSmsToSim(ILjava/lang/String;Ljava/lang/String;Landroid/os/Message;)V
-    :try_end_5f
-    .catchall {:try_start_47 .. :try_end_5f} :catchall_6f
+    :try_end_6c
+    .catchall {:try_start_54 .. :try_end_6c} :catchall_7c
 
-    :try_start_5f
+    :try_start_6c
     iget-object v2, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v2}, Ljava/lang/Object;->wait()V
-    :try_end_64
-    .catchall {:try_start_5f .. :try_end_64} :catchall_6f
-    .catch Ljava/lang/InterruptedException; {:try_start_5f .. :try_end_64} :catch_68
+    :try_end_71
+    .catchall {:try_start_6c .. :try_end_71} :catchall_7c
+    .catch Ljava/lang/InterruptedException; {:try_start_6c .. :try_end_71} :catch_75
 
-    :goto_64
-    :try_start_64
+    :goto_71
+    :try_start_71
     monitor-exit v3
-    :try_end_65
-    .catchall {:try_start_64 .. :try_end_65} :catchall_6f
+    :try_end_72
+    .catchall {:try_start_71 .. :try_end_72} :catchall_7c
 
     iget-boolean v2, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mSuccess:Z
 
-    return v2
+    goto :goto_4a
 
-    :catch_68
+    :catch_75
     move-exception v0
 
-    :try_start_69
+    :try_start_76
     const-string v2, "interrupted while trying to update by index"
 
     invoke-virtual {p0, v2}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    goto :goto_64
+    goto :goto_71
 
-    :catchall_6f
+    :catchall_7c
     move-exception v2
 
     monitor-exit v3
-    :try_end_71
-    .catchall {:try_start_69 .. :try_end_71} :catchall_6f
+    :try_end_7e
+    .catchall {:try_start_76 .. :try_end_7e} :catchall_7c
 
     throw v2
 .end method
@@ -834,10 +860,30 @@
         }
     .end annotation
 
+    const/4 v4, 0x1
+
     const-string v3, "getAllMessagesFromEF"
 
     invoke-virtual {p0, v3}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
+    invoke-virtual {p0}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {p0, v3, v4}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v3
+
+    if-nez v3, :cond_16
+
+    new-instance v3, Ljava/util/ArrayList;
+
+    invoke-direct {v3}, Ljava/util/ArrayList;-><init>()V
+
+    :goto_15
+    return-object v3
+
+    :cond_16
     iget-object v3, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mPhone:Lcom/android/internal/telephony/PhoneBase;
 
     invoke-virtual {v3}, Lcom/android/internal/telephony/PhoneBase;->getContext()Landroid/content/Context;
@@ -854,7 +900,7 @@
 
     monitor-enter v4
 
-    :try_start_15
+    :try_start_26
     iget-object v3, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mHandler:Landroid/os/Handler;
 
     const/4 v5, 0x1
@@ -872,47 +918,360 @@
     const/16 v5, 0x6f3c
 
     invoke-virtual {v3, v5, v2}, Lcom/android/internal/telephony/IccFileHandler;->loadEFLinearFixedAll(ILandroid/os/Message;)V
-    :try_end_27
-    .catchall {:try_start_15 .. :try_end_27} :catchall_37
+    :try_end_38
+    .catchall {:try_start_26 .. :try_end_38} :catchall_48
 
-    :try_start_27
+    :try_start_38
     iget-object v3, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v3}, Ljava/lang/Object;->wait()V
-    :try_end_2c
-    .catchall {:try_start_27 .. :try_end_2c} :catchall_37
-    .catch Ljava/lang/InterruptedException; {:try_start_27 .. :try_end_2c} :catch_30
+    :try_end_3d
+    .catchall {:try_start_38 .. :try_end_3d} :catchall_48
+    .catch Ljava/lang/InterruptedException; {:try_start_38 .. :try_end_3d} :catch_41
 
-    :goto_2c
-    :try_start_2c
+    :goto_3d
+    :try_start_3d
     monitor-exit v4
-    :try_end_2d
-    .catchall {:try_start_2c .. :try_end_2d} :catchall_37
+    :try_end_3e
+    .catchall {:try_start_3d .. :try_end_3e} :catchall_48
 
     iget-object v3, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mSms:Ljava/util/List;
 
-    return-object v3
+    goto :goto_15
 
-    :catch_30
+    :catch_41
     move-exception v1
 
-    :try_start_31
+    :try_start_42
     const-string v3, "interrupted while trying to load from the SIM"
 
     invoke-virtual {p0, v3}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    goto :goto_2c
+    goto :goto_3d
 
-    :catchall_37
+    :catchall_48
     move-exception v3
 
     monitor-exit v4
-    :try_end_39
-    .catchall {:try_start_31 .. :try_end_39} :catchall_37
+    :try_end_4a
+    .catchall {:try_start_42 .. :try_end_4a} :catchall_48
 
     throw v3
 .end method
 
+.method protected getPackageName()[Ljava/lang/String;
+    .registers 4
+
+    iget-object v2, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mContext:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageManager()Landroid/content/pm/PackageManager;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    invoke-virtual {v1, v2}, Landroid/content/pm/PackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method protected isAllowed([Ljava/lang/String;I)Z
+    .registers 12
+
+    const/4 v8, -0x1
+
+    const/4 v4, 0x1
+
+    const/4 v3, 0x0
+
+    packed-switch p2, :pswitch_data_e6
+
+    const/4 v5, 0x0
+
+    :try_start_7
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    :goto_e
+    return v3
+
+    :pswitch_f
+    const/4 v2, 0x0
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_26
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_26
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_7e
+
+    if-eqz p1, :cond_7e
+
+    const/4 v1, 0x0
+
+    :goto_2d
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_75
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_71
+
+    if-eqz v2, :cond_71
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getSmsSendSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_71
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+    :try_end_4b
+    .catch Ljava/lang/Exception; {:try_start_7 .. :try_end_4b} :catch_4c
+
+    goto :goto_e
+
+    :catch_4c
+    move-exception v0
+
+    const-string v5, "PrivacySMSInterfaceManager"
+
+    const-string v6, "Got exception while checking for sms or ICC acess permission"
+
+    invoke-static {v5, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    if-eqz p1, :cond_6f
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_6f
+
+    array-length v5, p1
+
+    if-lez v5, :cond_6f
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v3
+
+    invoke-virtual {v5, v6, v8}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_6f
+
+    aget-object v5, p1, v3
+
+    invoke-virtual {p0, p2, v5, v3}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    :cond_6f
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_71
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_2d
+
+    :cond_75
+    const/4 v5, 0x0
+
+    :try_start_76
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_7e
+    if-eqz p1, :cond_8a
+
+    array-length v5, p1
+
+    if-lez v5, :cond_8a
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    :cond_8a
+    move v3, v4
+
+    goto :goto_e
+
+    :pswitch_8c
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_a2
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_a2
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_d7
+
+    if-eqz p1, :cond_d7
+
+    const/4 v1, 0x0
+
+    :goto_a9
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_cd
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_c9
+
+    if-eqz v2, :cond_c9
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getIccAccessSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_c9
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    goto/16 :goto_e
+
+    :cond_c9
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_a9
+
+    :cond_cd
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :cond_d7
+    if-eqz p1, :cond_e3
+
+    array-length v5, p1
+
+    if-lez v5, :cond_e3
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+    :try_end_e3
+    .catch Ljava/lang/Exception; {:try_start_76 .. :try_end_e3} :catch_4c
+
+    :cond_e3
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :pswitch_data_e6
+    .packed-switch 0x0
+        :pswitch_f
+        :pswitch_8c
+    .end packed-switch
+.end method
+
 .method protected log(Ljava/lang/String;)V
     .registers 5
 
@@ -941,65 +1300,132 @@
     return-void
 .end method
 
+.method protected notify(ILjava/lang/String;B)V
+    .registers 11
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    packed-switch p1, :pswitch_data_1c
+
+    :goto_5
+    return-void
+
+    :pswitch_6
+    iget-object v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "SmsSend"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_11
+    iget-object v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "iccAccess"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_data_1c
+    .packed-switch 0x0
+        :pswitch_6
+        :pswitch_11
+    .end packed-switch
+.end method
+
 .method public updateMessageOnIccEf(II[B)Z
     .registers 12
 
-    new-instance v0, Ljava/lang/StringBuilder;
+    const/4 v0, 0x0
 
-    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V
+    new-instance v1, Ljava/lang/StringBuilder;
 
-    const-string v1, "updateMessageOnIccEf: index="
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, "updateMessageOnIccEf: index="
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move-result-object v1
 
-    move-result-object v0
+    invoke-virtual {v1, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v1, " status="
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, " status="
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move-result-object v1
 
-    move-result-object v0
+    invoke-virtual {v1, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v1, " ==> "
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, " ==> "
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    const-string v1, "("
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, "("
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
 
     invoke-static {p3}, Ljava/util/Arrays;->toString([B)Ljava/lang/String;
 
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
     move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, ")"
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    const-string v1, ")"
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v0
+    move-result-object v1
 
-    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {p0, v1}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    move-result-object v0
+    invoke-virtual {p0}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
 
-    invoke-virtual {p0, v0}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
+    move-result-object v1
+
+    const/4 v2, 0x1
+
+    invoke-virtual {p0, v1, v2}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v1
+
+    if-nez v1, :cond_47
 
+    :goto_46
+    return v0
+
+    :cond_47
     const-string v0, "Updating message on SIM"
 
     invoke-virtual {p0, v0}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->enforceReceiveAndSend(Ljava/lang/String;)V
@@ -1010,7 +1436,7 @@
 
     const/4 v0, 0x0
 
-    :try_start_43
+    :try_start_50
     iput-boolean v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mSuccess:Z
 
     iget-object v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mHandler:Landroid/os/Handler;
@@ -1021,37 +1447,37 @@
 
     move-result-object v5
 
-    if-nez p2, :cond_5e
+    if-nez p2, :cond_6b
 
     iget-object v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mPhone:Lcom/android/internal/telephony/PhoneBase;
 
     iget-object v0, v0, Lcom/android/internal/telephony/PhoneBase;->mCM:Lcom/android/internal/telephony/CommandsInterface;
 
     invoke-interface {v0, p1, v5}, Lcom/android/internal/telephony/CommandsInterface;->deleteSmsOnSim(ILandroid/os/Message;)V
-    :try_end_55
-    .catchall {:try_start_43 .. :try_end_55} :catchall_70
+    :try_end_62
+    .catchall {:try_start_50 .. :try_end_62} :catchall_7d
 
-    :goto_55
-    :try_start_55
+    :goto_62
+    :try_start_62
     iget-object v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v0}, Ljava/lang/Object;->wait()V
-    :try_end_5a
-    .catchall {:try_start_55 .. :try_end_5a} :catchall_70
-    .catch Ljava/lang/InterruptedException; {:try_start_55 .. :try_end_5a} :catch_73
+    :try_end_67
+    .catchall {:try_start_62 .. :try_end_67} :catchall_7d
+    .catch Ljava/lang/InterruptedException; {:try_start_62 .. :try_end_67} :catch_80
 
-    :goto_5a
-    :try_start_5a
+    :goto_67
+    :try_start_67
     monitor-exit v7
-    :try_end_5b
-    .catchall {:try_start_5a .. :try_end_5b} :catchall_70
+    :try_end_68
+    .catchall {:try_start_67 .. :try_end_68} :catchall_7d
 
     iget-boolean v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mSuccess:Z
 
-    return v0
+    goto :goto_46
 
-    :cond_5e
-    :try_start_5e
+    :cond_6b
+    :try_start_6b
     invoke-virtual {p0, p2, p3}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->makeSmsRecordData(I[B)[B
 
     move-result-object v3
@@ -1070,26 +1496,26 @@
 
     invoke-virtual/range {v0 .. v5}, Lcom/android/internal/telephony/IccFileHandler;->updateEFLinearFixed(II[BLjava/lang/String;Landroid/os/Message;)V
 
-    goto :goto_55
+    goto :goto_62
 
-    :catchall_70
+    :catchall_7d
     move-exception v0
 
     monitor-exit v7
-    :try_end_72
-    .catchall {:try_start_5e .. :try_end_72} :catchall_70
+    :try_end_7f
+    .catchall {:try_start_6b .. :try_end_7f} :catchall_7d
 
     throw v0
 
-    :catch_73
+    :catch_80
     move-exception v6
 
-    :try_start_74
+    :try_start_81
     const-string v0, "interrupted while trying to update by index"
 
     invoke-virtual {p0, v0}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
-    :try_end_79
-    .catchall {:try_start_74 .. :try_end_79} :catchall_70
+    :try_end_86
+    .catchall {:try_start_81 .. :try_end_86} :catchall_7d
 
-    goto :goto_5a
+    goto :goto_67
 .end method
diff -Npru stock-telephony/smali/com/android/internal/telephony/gsm/VoiceMailConstants.smali opd-telephony/smali/com/android/internal/telephony/gsm/VoiceMailConstants.smali
--- stock-telephony/smali/com/android/internal/telephony/gsm/VoiceMailConstants.smali	2013-03-01 15:22:50.751940787 -0600
+++ opd-telephony/smali/com/android/internal/telephony/gsm/VoiceMailConstants.smali	2013-03-01 15:23:01.735995261 -0600
@@ -91,7 +91,7 @@
 
     invoke-virtual {v7, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
     :try_end_28
-    .catchall {:try_start_10 .. :try_end_28} :catchall_ca
+    .catchall {:try_start_10 .. :try_end_28} :catchall_cd
     .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_10 .. :try_end_28} :catch_89
     .catch Ljava/io/IOException; {:try_start_10 .. :try_end_28} :catch_aa
 
@@ -104,7 +104,7 @@
     :try_start_2d
     invoke-virtual {v6}, Ljava/io/FileReader;->close()V
     :try_end_30
-    .catch Ljava/io/IOException; {:try_start_2d .. :try_end_30} :catch_a8
+    .catch Ljava/io/IOException; {:try_start_2d .. :try_end_30} :catch_d4
 
     :cond_30
     :goto_30
@@ -207,7 +207,7 @@
 
     invoke-virtual {v7, v3, v0}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     :try_end_88
-    .catchall {:try_start_5c .. :try_end_88} :catchall_ca
+    .catchall {:try_start_5c .. :try_end_88} :catchall_cd
     .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_5c .. :try_end_88} :catch_89
     .catch Ljava/io/IOException; {:try_start_5c .. :try_end_88} :catch_aa
 
@@ -239,7 +239,7 @@
 
     invoke-static {v7, v8}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
     :try_end_a2
-    .catchall {:try_start_8a .. :try_end_a2} :catchall_ca
+    .catchall {:try_start_8a .. :try_end_a2} :catchall_cd
 
     if-eqz v6, :cond_30
 
@@ -281,35 +281,45 @@
 
     invoke-static {v7, v8}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
     :try_end_c3
-    .catchall {:try_start_ab .. :try_end_c3} :catchall_ca
+    .catchall {:try_start_ab .. :try_end_c3} :catchall_cd
 
     if-eqz v6, :cond_30
 
     :try_start_c5
     invoke-virtual {v6}, Ljava/io/FileReader;->close()V
     :try_end_c8
-    .catch Ljava/io/IOException; {:try_start_c5 .. :try_end_c8} :catch_a8
+    .catch Ljava/io/IOException; {:try_start_c5 .. :try_end_c8} :catch_ca
 
     goto/16 :goto_30
 
-    :catchall_ca
+    :catch_ca
     move-exception v7
 
-    if-eqz v6, :cond_d0
+    goto/16 :goto_30
+
+    :catchall_cd
+    move-exception v7
+
+    if-eqz v6, :cond_d3
 
-    :try_start_cd
+    :try_start_d0
     invoke-virtual {v6}, Ljava/io/FileReader;->close()V
-    :try_end_d0
-    .catch Ljava/io/IOException; {:try_start_cd .. :try_end_d0} :catch_d1
+    :try_end_d3
+    .catch Ljava/io/IOException; {:try_start_d0 .. :try_end_d3} :catch_d7
 
-    :cond_d0
-    :goto_d0
+    :cond_d3
+    :goto_d3
     throw v7
 
-    :catch_d1
+    :catch_d4
+    move-exception v7
+
+    goto/16 :goto_30
+
+    :catch_d7
     move-exception v8
 
-    goto :goto_d0
+    goto :goto_d3
 .end method
 
 
diff -Npru stock-telephony/smali/com/android/internal/telephony/PhoneFactory.smali opd-telephony/smali/com/android/internal/telephony/PhoneFactory.smali
--- stock-telephony/smali/com/android/internal/telephony/PhoneFactory.smali	2013-03-01 15:22:49.471934448 -0600
+++ opd-telephony/smali/com/android/internal/telephony/PhoneFactory.smali	2013-03-01 15:23:00.479989033 -0600
@@ -64,7 +64,7 @@
 
     packed-switch v1, :pswitch_data_26
 
-    new-instance v0, Lcom/android/internal/telephony/cdma/CDMAPhone;
+    new-instance v0, Landroid/privacy/surrogate/PrivacyCDMAPhone;
 
     sget-object v1, Lcom/android/internal/telephony/PhoneFactory;->sContext:Landroid/content/Context;
 
@@ -72,7 +72,7 @@
 
     sget-object v4, Lcom/android/internal/telephony/PhoneFactory;->sPhoneNotifier:Lcom/android/internal/telephony/PhoneNotifier;
 
-    invoke-direct {v0, v1, v3, v4}, Lcom/android/internal/telephony/cdma/CDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v3, v4}, Landroid/privacy/surrogate/PrivacyCDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     :goto_15
     monitor-exit v2
@@ -80,7 +80,7 @@
     return-object v0
 
     :pswitch_17
-    new-instance v0, Lcom/android/internal/telephony/cdma/CDMALTEPhone;
+    new-instance v0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;
 
     sget-object v1, Lcom/android/internal/telephony/PhoneFactory;->sContext:Landroid/content/Context;
 
@@ -88,7 +88,7 @@
 
     sget-object v4, Lcom/android/internal/telephony/PhoneFactory;->sPhoneNotifier:Lcom/android/internal/telephony/PhoneNotifier;
 
-    invoke-direct {v0, v1, v3, v4}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v3, v4}, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     goto :goto_15
 
@@ -153,7 +153,7 @@
     monitor-enter v2
 
     :try_start_3
-    new-instance v0, Lcom/android/internal/telephony/gsm/GSMPhone;
+    new-instance v0, Landroid/privacy/surrogate/PrivacyGSMPhone;
 
     sget-object v1, Lcom/android/internal/telephony/PhoneFactory;->sContext:Landroid/content/Context;
 
@@ -161,7 +161,7 @@
 
     sget-object v4, Lcom/android/internal/telephony/PhoneFactory;->sPhoneNotifier:Lcom/android/internal/telephony/PhoneNotifier;
 
-    invoke-direct {v0, v1, v3, v4}, Lcom/android/internal/telephony/gsm/GSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v3, v4}, Landroid/privacy/surrogate/PrivacyGSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     monitor-exit v2
 
@@ -187,7 +187,7 @@
     :try_start_3
     sget-boolean v15, Lcom/android/internal/telephony/PhoneFactory;->sMadeDefaults:Z
 
-    if-nez v15, :cond_14b
+    if-nez v15, :cond_14d
 
     invoke-static {}, Landroid/os/Looper;->myLooper()Landroid/os/Looper;
 
@@ -238,10 +238,10 @@
     invoke-direct {v15, v0}, Landroid/net/LocalServerSocket;-><init>(Ljava/lang/String;)V
     :try_end_2d
     .catchall {:try_start_24 .. :try_end_2d} :catchall_1d
-    .catch Ljava/io/IOException; {:try_start_24 .. :try_end_2d} :catch_14d
+    .catch Ljava/io/IOException; {:try_start_24 .. :try_end_2d} :catch_14f
 
     :goto_2d
-    if-nez v9, :cond_151
+    if-nez v9, :cond_153
 
     :try_start_2f
     new-instance v15, Lcom/android/internal/telephony/DefaultPhoneNotifier;
@@ -478,7 +478,7 @@
     sput-object v15, Lcom/android/internal/telephony/PhoneFactory;->sCommandsInterface:Lcom/android/internal/telephony/CommandsInterface;
     :try_end_117
     .catchall {:try_start_c6 .. :try_end_117} :catchall_1d
-    .catch Ljava/lang/Exception; {:try_start_c6 .. :try_end_117} :catch_168
+    .catch Ljava/lang/Exception; {:try_start_c6 .. :try_end_117} :catch_16a
 
     :try_start_117
     sget-object v15, Lcom/android/internal/telephony/PhoneFactory;->sCommandsInterface:Lcom/android/internal/telephony/CommandsInterface;
@@ -493,7 +493,7 @@
 
     const/4 v15, 0x1
 
-    if-ne v11, v15, :cond_178
+    if-ne v11, v15, :cond_17a
 
     const-string v15, "PHONE"
 
@@ -503,9 +503,9 @@
 
     invoke-static {v15, v0}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
 
-    new-instance v15, Lcom/android/internal/telephony/PhoneProxy;
+    new-instance v15, Landroid/privacy/surrogate/PrivacyPhoneProxy;
 
-    new-instance v17, Lcom/android/internal/telephony/gsm/GSMPhone;
+    new-instance v17, Landroid/privacy/surrogate/PrivacyGSMPhone;
 
     sget-object v18, Lcom/android/internal/telephony/PhoneFactory;->sCommandsInterface:Lcom/android/internal/telephony/CommandsInterface;
 
@@ -519,36 +519,38 @@
 
     move-object/from16 v3, v19
 
-    invoke-direct {v0, v1, v2, v3}, Lcom/android/internal/telephony/gsm/GSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v2, v3}, Landroid/privacy/surrogate/PrivacyGSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     move-object/from16 v0, v17
 
-    invoke-direct {v15, v0}, Lcom/android/internal/telephony/PhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;)V
+    move-object/from16 v1, p0
+
+    invoke-direct {v15, v0, v1}, Landroid/privacy/surrogate/PrivacyPhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;Landroid/content/Context;)V
 
     sput-object v15, Lcom/android/internal/telephony/PhoneFactory;->sProxyPhone:Lcom/android/internal/telephony/Phone;
 
-    :cond_148
-    :goto_148
+    :cond_14a
+    :goto_14a
     const/4 v15, 0x1
 
     sput-boolean v15, Lcom/android/internal/telephony/PhoneFactory;->sMadeDefaults:Z
 
-    :cond_14b
+    :cond_14d
     monitor-exit v16
 
     return-void
 
-    :catch_14d
+    :catch_14f
     move-exception v8
 
     const/4 v9, 0x1
 
     goto/16 :goto_2d
 
-    :cond_151
+    :cond_153
     const/4 v15, 0x3
 
-    if-le v13, v15, :cond_15e
+    if-le v13, v15, :cond_160
 
     new-instance v15, Ljava/lang/RuntimeException;
 
@@ -559,29 +561,29 @@
     invoke-direct {v15, v0}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
 
     throw v15
-    :try_end_15e
-    .catchall {:try_start_117 .. :try_end_15e} :catchall_1d
+    :try_end_160
+    .catchall {:try_start_117 .. :try_end_160} :catchall_1d
 
-    :cond_15e
+    :cond_160
     const-wide/16 v17, 0x7d0
 
-    :try_start_160
+    :try_start_162
     invoke-static/range {v17 .. v18}, Ljava/lang/Thread;->sleep(J)V
-    :try_end_163
-    .catchall {:try_start_160 .. :try_end_163} :catchall_1d
-    .catch Ljava/lang/InterruptedException; {:try_start_160 .. :try_end_163} :catch_165
+    :try_end_165
+    .catchall {:try_start_162 .. :try_end_165} :catchall_1d
+    .catch Ljava/lang/InterruptedException; {:try_start_162 .. :try_end_165} :catch_167
 
     goto/16 :goto_21
 
-    :catch_165
+    :catch_167
     move-exception v15
 
     goto/16 :goto_21
 
-    :catch_168
+    :catch_16a
     move-exception v7
 
-    :try_start_169
+    :try_start_16b
     const-string v15, "PHONE"
 
     const-string v17, "Unable to construct command interface"
@@ -596,16 +598,16 @@
 
     throw v15
 
-    :cond_178
+    :cond_17a
     const/4 v15, 0x2
 
-    if-ne v11, v15, :cond_148
+    if-ne v11, v15, :cond_14a
 
     invoke-static {}, Landroid/telephony/TelephonyManager;->getLteOnCdmaModeStatic()I
 
     move-result v15
 
-    packed-switch v15, :pswitch_data_1cc
+    packed-switch v15, :pswitch_data_1d2
 
     const-string v15, "PHONE"
 
@@ -615,9 +617,9 @@
 
     invoke-static {v15, v0}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
 
-    new-instance v15, Lcom/android/internal/telephony/PhoneProxy;
+    new-instance v15, Landroid/privacy/surrogate/PrivacyPhoneProxy;
 
-    new-instance v17, Lcom/android/internal/telephony/cdma/CDMAPhone;
+    new-instance v17, Landroid/privacy/surrogate/PrivacyCDMAPhone;
 
     sget-object v18, Lcom/android/internal/telephony/PhoneFactory;->sCommandsInterface:Lcom/android/internal/telephony/CommandsInterface;
 
@@ -631,17 +633,19 @@
 
     move-object/from16 v3, v19
 
-    invoke-direct {v0, v1, v2, v3}, Lcom/android/internal/telephony/cdma/CDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v2, v3}, Landroid/privacy/surrogate/PrivacyCDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     move-object/from16 v0, v17
 
-    invoke-direct {v15, v0}, Lcom/android/internal/telephony/PhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;)V
+    move-object/from16 v1, p0
+
+    invoke-direct {v15, v0, v1}, Landroid/privacy/surrogate/PrivacyPhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;Landroid/content/Context;)V
 
     sput-object v15, Lcom/android/internal/telephony/PhoneFactory;->sProxyPhone:Lcom/android/internal/telephony/Phone;
 
-    goto :goto_148
+    goto :goto_14a
 
-    :pswitch_1a6
+    :pswitch_1aa
     const-string v15, "PHONE"
 
     const-string v17, "Creating CDMALTEPhone"
@@ -650,9 +654,9 @@
 
     invoke-static {v15, v0}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
 
-    new-instance v15, Lcom/android/internal/telephony/PhoneProxy;
+    new-instance v15, Landroid/privacy/surrogate/PrivacyPhoneProxy;
 
-    new-instance v17, Lcom/android/internal/telephony/cdma/CDMALTEPhone;
+    new-instance v17, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;
 
     sget-object v18, Lcom/android/internal/telephony/PhoneFactory;->sCommandsInterface:Lcom/android/internal/telephony/CommandsInterface;
 
@@ -666,23 +670,25 @@
 
     move-object/from16 v3, v19
 
-    invoke-direct {v0, v1, v2, v3}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v2, v3}, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     move-object/from16 v0, v17
 
-    invoke-direct {v15, v0}, Lcom/android/internal/telephony/PhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;)V
+    move-object/from16 v1, p0
+
+    invoke-direct {v15, v0, v1}, Landroid/privacy/surrogate/PrivacyPhoneProxy;-><init>(Lcom/android/internal/telephony/PhoneBase;Landroid/content/Context;)V
 
     sput-object v15, Lcom/android/internal/telephony/PhoneFactory;->sProxyPhone:Lcom/android/internal/telephony/Phone;
-    :try_end_1c9
-    .catchall {:try_start_169 .. :try_end_1c9} :catchall_1d
+    :try_end_1cf
+    .catchall {:try_start_16b .. :try_end_1cf} :catchall_1d
 
-    goto/16 :goto_148
+    goto/16 :goto_14a
 
     nop
 
-    :pswitch_data_1cc
+    :pswitch_data_1d2
     .packed-switch 0x1
-        :pswitch_1a6
+        :pswitch_1aa
     .end packed-switch
 .end method
 
diff -Npru stock-telephony/smali/com/android/internal/telephony/RIL$RILSender.smali opd-telephony/smali/com/android/internal/telephony/RIL$RILSender.smali
--- stock-telephony/smali/com/android/internal/telephony/RIL$RILSender.smali	2013-03-01 15:22:49.551934843 -0600
+++ opd-telephony/smali/com/android/internal/telephony/RIL$RILSender.smali	2013-03-01 15:23:00.519989220 -0600
@@ -61,7 +61,7 @@
 
     iget v10, v0, Landroid/os/Message;->what:I
 
-    packed-switch v10, :pswitch_data_1fa
+    packed-switch v10, :pswitch_data_200
 
     :cond_11
     :goto_11
@@ -99,7 +99,7 @@
 
     iput v11, v10, Lcom/android/internal/telephony/RIL;->mRequestMessagesPending:I
     :try_end_2f
-    .catchall {:try_start_13 .. :try_end_2f} :catchall_10e
+    .catchall {:try_start_13 .. :try_end_2f} :catchall_114
     .catch Ljava/io/IOException; {:try_start_13 .. :try_end_2f} :catch_87
     .catch Ljava/lang/RuntimeException; {:try_start_13 .. :try_end_2f} :catch_bd
 
@@ -121,7 +121,7 @@
 
     monitor-enter v11
     :try_end_3b
-    .catchall {:try_start_36 .. :try_end_3b} :catchall_10e
+    .catchall {:try_start_36 .. :try_end_3b} :catchall_114
     .catch Ljava/io/IOException; {:try_start_36 .. :try_end_3b} :catch_87
     .catch Ljava/lang/RuntimeException; {:try_start_36 .. :try_end_3b} :catch_bd
 
@@ -180,7 +180,7 @@
 
     const/16 v11, 0x2000
 
-    if-le v10, v11, :cond_dc
+    if-le v10, v11, :cond_df
 
     new-instance v10, Ljava/lang/RuntimeException;
 
@@ -208,7 +208,7 @@
 
     throw v10
     :try_end_87
-    .catchall {:try_start_4b .. :try_end_87} :catchall_10e
+    .catchall {:try_start_4b .. :try_end_87} :catchall_114
     .catch Ljava/io/IOException; {:try_start_4b .. :try_end_87} :catch_87
     .catch Ljava/lang/RuntimeException; {:try_start_4b .. :try_end_87} :catch_bd
 
@@ -243,15 +243,15 @@
 
     invoke-virtual {v8}, Lcom/android/internal/telephony/RILRequest;->release()V
     :try_end_a3
-    .catchall {:try_start_88 .. :try_end_a3} :catchall_10e
+    .catchall {:try_start_88 .. :try_end_a3} :catchall_114
 
     :cond_a3
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
-    :goto_a5
     #calls: Lcom/android/internal/telephony/RIL;->releaseWakeLockIfDone()V
     invoke-static {v10}, Lcom/android/internal/telephony/RIL;->access$000(Lcom/android/internal/telephony/RIL;)V
 
+    :goto_a8
     if-nez v1, :cond_11
 
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
@@ -281,7 +281,7 @@
     :try_start_bc
     throw v10
     :try_end_bd
-    .catchall {:try_start_bc .. :try_end_bd} :catchall_10e
+    .catchall {:try_start_bc .. :try_end_bd} :catchall_114
     .catch Ljava/io/IOException; {:try_start_bc .. :try_end_bd} :catch_87
     .catch Ljava/lang/RuntimeException; {:try_start_bc .. :try_end_bd} :catch_bd
 
@@ -316,15 +316,18 @@
 
     invoke-virtual {v8}, Lcom/android/internal/telephony/RILRequest;->release()V
     :try_end_d9
-    .catchall {:try_start_be .. :try_end_d9} :catchall_10e
+    .catchall {:try_start_be .. :try_end_d9} :catchall_114
 
     :cond_d9
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
-    goto :goto_a5
+    #calls: Lcom/android/internal/telephony/RIL;->releaseWakeLockIfDone()V
+    invoke-static {v10}, Lcom/android/internal/telephony/RIL;->access$000(Lcom/android/internal/telephony/RIL;)V
+
+    goto :goto_a8
 
-    :cond_dc
-    :try_start_dc
+    :cond_df
+    :try_start_df
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->dataLength:[B
 
     const/4 v11, 0x0
@@ -378,16 +381,19 @@
     move-result-object v10
 
     invoke-virtual {v10, v3}, Ljava/io/OutputStream;->write([B)V
-    :try_end_10b
-    .catchall {:try_start_dc .. :try_end_10b} :catchall_10e
-    .catch Ljava/io/IOException; {:try_start_dc .. :try_end_10b} :catch_87
-    .catch Ljava/lang/RuntimeException; {:try_start_dc .. :try_end_10b} :catch_bd
+    :try_end_10e
+    .catchall {:try_start_df .. :try_end_10e} :catchall_114
+    .catch Ljava/io/IOException; {:try_start_df .. :try_end_10e} :catch_87
+    .catch Ljava/lang/RuntimeException; {:try_start_df .. :try_end_10e} :catch_bd
 
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
-    goto :goto_a5
+    #calls: Lcom/android/internal/telephony/RIL;->releaseWakeLockIfDone()V
+    invoke-static {v10}, Lcom/android/internal/telephony/RIL;->access$000(Lcom/android/internal/telephony/RIL;)V
+
+    goto :goto_a8
 
-    :catchall_10e
+    :catchall_114
     move-exception v10
 
     iget-object v11, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
@@ -397,14 +403,14 @@
 
     throw v10
 
-    :pswitch_115
+    :pswitch_11b
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
     iget-object v11, v10, Lcom/android/internal/telephony/RIL;->mWakeLock:Landroid/os/PowerManager$WakeLock;
 
     monitor-enter v11
 
-    :try_start_11a
+    :try_start_120
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
     iget-object v10, v10, Lcom/android/internal/telephony/RIL;->mWakeLock:Landroid/os/PowerManager$WakeLock;
@@ -413,13 +419,13 @@
 
     move-result v10
 
-    if-eqz v10, :cond_1f1
+    if-eqz v10, :cond_1f7
 
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
     iget v10, v10, Lcom/android/internal/telephony/RIL;->mRequestMessagesWaiting:I
 
-    if-eqz v10, :cond_1bd
+    if-eqz v10, :cond_1c3
 
     const-string v10, "RILJ"
 
@@ -470,10 +476,10 @@
     iget-object v12, v10, Lcom/android/internal/telephony/RIL;->mRequestsList:Ljava/util/ArrayList;
 
     monitor-enter v12
-    :try_end_15c
-    .catchall {:try_start_11a .. :try_end_15c} :catchall_1f4
+    :try_end_162
+    .catchall {:try_start_120 .. :try_end_162} :catchall_1fa
 
-    :try_start_15c
+    :try_start_162
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
     iget-object v10, v10, Lcom/android/internal/telephony/RIL;->mRequestsList:Ljava/util/ArrayList;
@@ -506,8 +512,8 @@
 
     const/4 v6, 0x0
 
-    :goto_17d
-    if-ge v6, v2, :cond_1bc
+    :goto_183
+    if-ge v6, v2, :cond_1c2
 
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
@@ -569,20 +575,20 @@
 
     add-int/lit8 v6, v6, 0x1
 
-    goto :goto_17d
+    goto :goto_183
 
-    :cond_1bc
+    :cond_1c2
     monitor-exit v12
-    :try_end_1bd
-    .catchall {:try_start_15c .. :try_end_1bd} :catchall_1f7
+    :try_end_1c3
+    .catchall {:try_start_162 .. :try_end_1c3} :catchall_1fd
 
-    :cond_1bd
-    :try_start_1bd
+    :cond_1c3
+    :try_start_1c3
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
     iget v10, v10, Lcom/android/internal/telephony/RIL;->mRequestMessagesPending:I
 
-    if-eqz v10, :cond_1ea
+    if-eqz v10, :cond_1f0
 
     const-string v10, "RILJ"
 
@@ -622,44 +628,44 @@
 
     iput v12, v10, Lcom/android/internal/telephony/RIL;->mRequestMessagesPending:I
 
-    :cond_1ea
+    :cond_1f0
     iget-object v10, p0, Lcom/android/internal/telephony/RIL$RILSender;->this$0:Lcom/android/internal/telephony/RIL;
 
     iget-object v10, v10, Lcom/android/internal/telephony/RIL;->mWakeLock:Landroid/os/PowerManager$WakeLock;
 
     invoke-virtual {v10}, Landroid/os/PowerManager$WakeLock;->release()V
 
-    :cond_1f1
+    :cond_1f7
     monitor-exit v11
 
     goto/16 :goto_11
 
-    :catchall_1f4
+    :catchall_1fa
     move-exception v10
 
     monitor-exit v11
-    :try_end_1f6
-    .catchall {:try_start_1bd .. :try_end_1f6} :catchall_1f4
+    :try_end_1fc
+    .catchall {:try_start_1c3 .. :try_end_1fc} :catchall_1fa
 
     throw v10
 
-    :catchall_1f7
+    :catchall_1fd
     move-exception v10
 
-    :try_start_1f8
+    :try_start_1fe
     monitor-exit v12
-    :try_end_1f9
-    .catchall {:try_start_1f8 .. :try_end_1f9} :catchall_1f7
+    :try_end_1ff
+    .catchall {:try_start_1fe .. :try_end_1ff} :catchall_1fd
 
-    :try_start_1f9
+    :try_start_1ff
     throw v10
-    :try_end_1fa
-    .catchall {:try_start_1f9 .. :try_end_1fa} :catchall_1f4
+    :try_end_200
+    .catchall {:try_start_1ff .. :try_end_200} :catchall_1fa
 
-    :pswitch_data_1fa
+    :pswitch_data_200
     .packed-switch 0x1
         :pswitch_12
-        :pswitch_115
+        :pswitch_11b
     .end packed-switch
 .end method
 
diff -Npru stock-telephony/smali/com/android/internal/telephony/sip/SipPhoneFactory.smali opd-telephony/smali/com/android/internal/telephony/sip/SipPhoneFactory.smali
--- stock-telephony/smali/com/android/internal/telephony/sip/SipPhoneFactory.smali	2013-03-01 15:22:50.791940980 -0600
+++ opd-telephony/smali/com/android/internal/telephony/sip/SipPhoneFactory.smali	2013-03-01 15:23:01.763995390 -0600
@@ -24,9 +24,9 @@
 
     move-result-object v1
 
-    new-instance v2, Lcom/android/internal/telephony/sip/SipPhone;
+    new-instance v2, Landroid/privacy/surrogate/PrivacySipPhone;
 
-    invoke-direct {v2, p1, p2, v1}, Lcom/android/internal/telephony/sip/SipPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
+    invoke-direct {v2, p1, p2, v1}, Landroid/privacy/surrogate/PrivacySipPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
     :try_end_e
     .catch Ljava/text/ParseException; {:try_start_0 .. :try_end_e} :catch_f
 
diff -Npru stock-telephony/smali/com/android/internal/telephony/sip/SipPhone.smali opd-telephony/smali/com/android/internal/telephony/sip/SipPhone.smali
--- stock-telephony/smali/com/android/internal/telephony/sip/SipPhone.smali	2013-03-01 15:22:50.791940980 -0600
+++ opd-telephony/smali/com/android/internal/telephony/sip/SipPhone.smali	2013-03-01 15:22:59.635984832 -0600
@@ -39,7 +39,7 @@
 
 
 # direct methods
-.method constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
     .registers 8
 
     const/4 v3, 0x0
diff -Npru stock-telephony/smali/com/android/internal/telephony/SMSDispatcher.smali opd-telephony/smali/com/android/internal/telephony/SMSDispatcher.smali
--- stock-telephony/smali/com/android/internal/telephony/SMSDispatcher.smali	2013-03-01 15:22:49.619935172 -0600
+++ opd-telephony/smali/com/android/internal/telephony/SMSDispatcher.smali	2013-03-01 15:23:00.587989574 -0600
@@ -14,6 +14,10 @@
 
 
 # static fields
+.field protected static final ACCESS_TYPE_ICC:I = 0x1
+
+.field protected static final ACCESS_TYPE_SMS_MMS:I = 0x0
+
 .field private static final DESTINATION_PORT_COLUMN:I = 0x2
 
 .field private static final EVENT_CONFIRM_SEND_TO_POSSIBLE_PREMIUM_SHORT_CODE:I = 0x8
@@ -48,6 +52,8 @@
 
 .field private static final PREMIUM_RULE_USE_SIM:I = 0x1
 
+.field protected static final P_TAG:Ljava/lang/String; = "PrivacySMSDispatcher"
+
 .field public static final RECEIVE_EMERGENCY_BROADCAST_PERMISSION:Ljava/lang/String; = "android.permission.RECEIVE_EMERGENCY_BROADCAST"
 
 .field public static final RECEIVE_SMS_PERMISSION:Ljava/lang/String; = "android.permission.RECEIVE_SMS"
@@ -119,6 +125,8 @@
 
 .field protected final mWapPush:Lcom/android/internal/telephony/WapPushOverSms;
 
+.field protected pSetMan:Landroid/privacy/PrivacySettingsManager;
+
 
 # direct methods
 .method static constructor <clinit>()V
@@ -284,6 +292,27 @@
 
     invoke-direct {p0}, Lcom/android/internal/telephony/SMSDispatcher;->createWakelock()V
 
+    iget-object v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v0, :cond_7d
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "privacy"
+
+    invoke-static {v4}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v4
+
+    invoke-static {v4}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v4
+
+    invoke-direct {v0, v3, v4}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    :cond_7d
     iget-object v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->mContext:Landroid/content/Context;
 
     invoke-virtual {v0}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
@@ -306,11 +335,11 @@
 
     move-result v0
 
-    if-nez v0, :cond_da
+    if-nez v0, :cond_ee
 
     move v0, v1
 
-    :goto_83
+    :goto_97
     iput-boolean v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->mSmsReceiveDisabled:Z
 
     const-string v0, "telephony.sms.send"
@@ -321,9 +350,9 @@
 
     move-result v0
 
-    if-nez v0, :cond_dc
+    if-nez v0, :cond_f0
 
-    :goto_8f
+    :goto_a3
     iput-boolean v1, p0, Lcom/android/internal/telephony/SMSDispatcher;->mSmsSendDisabled:Z
 
     const-string v0, "telephony.sms.pseudo_multipart"
@@ -398,15 +427,15 @@
 
     return-void
 
-    :cond_da
+    :cond_ee
     move v0, v2
 
-    goto :goto_83
+    goto :goto_97
 
-    :cond_dc
+    :cond_f0
     move v1, v2
 
-    goto :goto_8f
+    goto :goto_a3
 .end method
 
 .method private createWakelock()V
@@ -1339,6 +1368,26 @@
 .method protected abstract getFormat()Ljava/lang/String;
 .end method
 
+.method protected getPackageName()[Ljava/lang/String;
+    .registers 4
+
+    iget-object v2, p0, Lcom/android/internal/telephony/SMSDispatcher;->mContext:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageManager()Landroid/content/pm/PackageManager;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    invoke-virtual {v1, v2}, Landroid/content/pm/PackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
 .method public getPremiumSmsPermission(Ljava/lang/String;)I
     .registers 3
 
@@ -2132,6 +2181,348 @@
     goto/16 :goto_3e
 .end method
 
+.method protected isAllowed([Ljava/lang/String;I)Z
+    .registers 12
+
+    const/4 v8, -0x1
+
+    const/4 v4, 0x1
+
+    const/4 v3, 0x0
+
+    packed-switch p2, :pswitch_data_e6
+
+    const/4 v5, 0x0
+
+    :try_start_7
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    :goto_e
+    return v3
+
+    :pswitch_f
+    const/4 v2, 0x0
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_26
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_26
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_7e
+
+    if-eqz p1, :cond_7e
+
+    const/4 v1, 0x0
+
+    :goto_2d
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_75
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_71
+
+    if-eqz v2, :cond_71
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getSmsSendSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_71
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+    :try_end_4b
+    .catch Ljava/lang/Exception; {:try_start_7 .. :try_end_4b} :catch_4c
+
+    goto :goto_e
+
+    :catch_4c
+    move-exception v0
+
+    const-string v5, "PrivacySMSDispatcher"
+
+    const-string v6, "Got exception while checking for sms or ICC acess permission"
+
+    invoke-static {v5, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    if-eqz p1, :cond_6f
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_6f
+
+    array-length v5, p1
+
+    if-lez v5, :cond_6f
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v3
+
+    invoke-virtual {v5, v6, v8}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_6f
+
+    aget-object v5, p1, v3
+
+    invoke-virtual {p0, p2, v5, v3}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    :cond_6f
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_71
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_2d
+
+    :cond_75
+    const/4 v5, 0x0
+
+    :try_start_76
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_7e
+    if-eqz p1, :cond_8a
+
+    array-length v5, p1
+
+    if-lez v5, :cond_8a
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    :cond_8a
+    move v3, v4
+
+    goto :goto_e
+
+    :pswitch_8c
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_a2
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_a2
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_d7
+
+    if-eqz p1, :cond_d7
+
+    const/4 v1, 0x0
+
+    :goto_a9
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_cd
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_c9
+
+    if-eqz v2, :cond_c9
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getIccAccessSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_c9
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    goto/16 :goto_e
+
+    :cond_c9
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_a9
+
+    :cond_cd
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :cond_d7
+    if-eqz p1, :cond_e3
+
+    array-length v5, p1
+
+    if-lez v5, :cond_e3
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+    :try_end_e3
+    .catch Ljava/lang/Exception; {:try_start_76 .. :try_end_e3} :catch_4c
+
+    :cond_e3
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :pswitch_data_e6
+    .packed-switch 0x0
+        :pswitch_f
+        :pswitch_8c
+    .end packed-switch
+.end method
+
+.method protected notify(ILjava/lang/String;B)V
+    .registers 11
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    packed-switch p1, :pswitch_data_1c
+
+    :goto_5
+    return-void
+
+    :pswitch_6
+    iget-object v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "SmsSend"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_11
+    iget-object v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "iccAccess"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_data_1c
+    .packed-switch 0x0
+        :pswitch_6
+        :pswitch_11
+    .end packed-switch
+.end method
+
 .method protected processMessagePart([BLjava/lang/String;IIIJIZ)I
     .registers 34
 
@@ -2963,7 +3354,7 @@
     :try_start_7
     invoke-virtual {p3, v2}, Landroid/app/PendingIntent;->send(I)V
     :try_end_a
-    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_7 .. :try_end_a} :catch_b7
+    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_7 .. :try_end_a} :catch_d3
 
     :cond_a
     :goto_a
@@ -2997,6 +3388,41 @@
     goto :goto_11
 
     :cond_1d
+    invoke-virtual {p0}, Lcom/android/internal/telephony/SMSDispatcher;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v2
+
+    const/4 v3, 0x0
+
+    invoke-virtual {p0, v2, v3}, Lcom/android/internal/telephony/SMSDispatcher;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v2
+
+    if-nez v2, :cond_38
+
+    if-eqz p3, :cond_11
+
+    const/4 v2, 0x1
+
+    :try_start_2b
+    invoke-virtual {p3, v2}, Landroid/app/PendingIntent;->send(I)V
+
+    const-string v2, "SMS"
+
+    const-string v3, "fake also delivery state to radio off!"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_35
+    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_2b .. :try_end_35} :catch_36
+
+    goto :goto_11
+
+    :catch_36
+    move-exception v2
+
+    goto :goto_11
+
+    :cond_38
     new-instance v1, Ljava/util/HashMap;
 
     invoke-direct {v1}, Ljava/util/HashMap;-><init>()V
@@ -3023,13 +3449,13 @@
 
     move-result-object v8
 
-    if-eqz v8, :cond_3f
+    if-eqz v8, :cond_5a
 
     array-length v2, v8
 
-    if-nez v2, :cond_56
+    if-nez v2, :cond_71
 
-    :cond_3f
+    :cond_5a
     const-string v2, "SMS"
 
     const-string v3, "Can\'t get calling app package name: refusing to send SMS"
@@ -3040,14 +3466,14 @@
 
     const/4 v2, 0x1
 
-    :try_start_49
+    :try_start_64
     invoke-virtual {p3, v2}, Landroid/app/PendingIntent;->send(I)V
-    :try_end_4c
-    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_49 .. :try_end_4c} :catch_4d
+    :try_end_67
+    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_64 .. :try_end_67} :catch_68
 
     goto :goto_11
 
-    :catch_4d
+    :catch_68
     move-exception v7
 
     const-string v2, "SMS"
@@ -3058,19 +3484,19 @@
 
     goto :goto_11
 
-    :cond_56
+    :cond_71
     const/4 v4, 0x0
 
     const/4 v2, 0x0
 
-    :try_start_58
+    :try_start_73
     aget-object v2, v8, v2
 
     const/16 v3, 0x40
 
     invoke-virtual {v9, v2, v3}, Landroid/content/pm/PackageManager;->getPackageInfo(Ljava/lang/String;I)Landroid/content/pm/PackageInfo;
-    :try_end_5f
-    .catch Landroid/content/pm/PackageManager$NameNotFoundException; {:try_start_58 .. :try_end_5f} :catch_85
+    :try_end_7a
+    .catch Landroid/content/pm/PackageManager$NameNotFoundException; {:try_start_73 .. :try_end_7a} :catch_a1
 
     move-result-object v4
 
@@ -3102,7 +3528,7 @@
 
     move-result v2
 
-    if-nez v2, :cond_9f
+    if-nez v2, :cond_bb
 
     const/4 v2, 0x4
 
@@ -3112,9 +3538,9 @@
 
     invoke-virtual {p0, v2}, Lcom/android/internal/telephony/SMSDispatcher;->sendMessage(Landroid/os/Message;)Z
 
-    goto :goto_11
+    goto/16 :goto_11
 
-    :catch_85
+    :catch_a1
     move-exception v6
 
     const-string v2, "SMS"
@@ -3127,14 +3553,14 @@
 
     const/4 v2, 0x1
 
-    :try_start_90
+    :try_start_ac
     invoke-virtual {p3, v2}, Landroid/app/PendingIntent;->send(I)V
-    :try_end_93
-    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_90 .. :try_end_93} :catch_95
+    :try_end_af
+    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_ac .. :try_end_af} :catch_b1
 
     goto/16 :goto_11
 
-    :catch_95
+    :catch_b1
     move-exception v7
 
     const-string v2, "SMS"
@@ -3145,7 +3571,7 @@
 
     goto/16 :goto_11
 
-    :cond_9f
+    :cond_bb
     iget-object v2, p0, Lcom/android/internal/telephony/SMSDispatcher;->mPhone:Lcom/android/internal/telephony/Phone;
 
     invoke-interface {v2}, Lcom/android/internal/telephony/Phone;->getServiceState()Landroid/telephony/ServiceState;
@@ -3156,7 +3582,7 @@
 
     move-result v10
 
-    if-eqz v10, :cond_b2
+    if-eqz v10, :cond_ce
 
     iget-object v2, v0, Lcom/android/internal/telephony/SMSDispatcher$SmsTracker;->mSentIntent:Landroid/app/PendingIntent;
 
@@ -3164,12 +3590,12 @@
 
     goto/16 :goto_11
 
-    :cond_b2
+    :cond_ce
     invoke-virtual {p0, v0}, Lcom/android/internal/telephony/SMSDispatcher;->sendSms(Lcom/android/internal/telephony/SMSDispatcher$SmsTracker;)V
 
     goto/16 :goto_11
 
-    :catch_b7
+    :catch_d3
     move-exception v2
 
     goto/16 :goto_a
