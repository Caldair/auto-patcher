diff -Npruw stock-framework/smali/android/app/ContextImpl$20.smali pdroid-framework/smali/android/app/ContextImpl$20.smali
--- stock-framework/smali/android/app/ContextImpl$20.smali	2013-07-15 18:10:54.802628034 -0500
+++ pdroid-framework/smali/android/app/ContextImpl$20.smali	2013-07-15 18:10:48.346628202 -0500
@@ -26,7 +26,7 @@
 
 # virtual methods
 .method public createService(Landroid/app/ContextImpl;)Ljava/lang/Object;
-    .registers 5
+    .registers 6
 
     const-string v1, "location"
 
@@ -34,13 +34,23 @@
 
     move-result-object v0
 
-    new-instance v1, Landroid/location/LocationManager;
+    const-string v1, "ApplicationContext"
+
+    const-string v2, "PDroid:ContextImpl: returning PrivacyLocationManager"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    new-instance v1, Landroid/privacy/surrogate/PrivacyLocationManager;
 
     invoke-static {v0}, Landroid/location/ILocationManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/location/ILocationManager;
 
     move-result-object v2
 
-    invoke-direct {v1, p1, v2}, Landroid/location/LocationManager;-><init>(Landroid/content/Context;Landroid/location/ILocationManager;)V
+    invoke-static {}, Landroid/app/ContextImpl;->getStaticOuterContext()Landroid/content/Context;
+
+    move-result-object v3
+
+    invoke-direct {v1, v2, v3}, Landroid/privacy/surrogate/PrivacyLocationManager;-><init>(Landroid/location/ILocationManager;Landroid/content/Context;)V
 
     return-object v1
 .end method
diff -Npruw stock-framework/smali/android/app/ContextImpl$29.smali pdroid-framework/smali/android/app/ContextImpl$29.smali
--- stock-framework/smali/android/app/ContextImpl$29.smali	2013-07-15 18:10:54.806628033 -0500
+++ pdroid-framework/smali/android/app/ContextImpl$29.smali	2013-07-15 18:10:48.346628202 -0500
@@ -28,13 +28,19 @@
 .method public createService(Landroid/app/ContextImpl;)Ljava/lang/Object;
     .registers 4
 
-    new-instance v0, Landroid/telephony/TelephonyManager;
+    const-string v0, "ApplicationContext"
+
+    const-string v1, "PDroid:ContextImpl: returning PrivacyTelephonyManager"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    new-instance v0, Landroid/privacy/surrogate/PrivacyTelephonyManager;
 
     invoke-virtual {p1}, Landroid/app/ContextImpl;->getOuterContext()Landroid/content/Context;
 
     move-result-object v1
 
-    invoke-direct {v0, v1}, Landroid/telephony/TelephonyManager;-><init>(Landroid/content/Context;)V
+    invoke-direct {v0, v1}, Landroid/privacy/surrogate/PrivacyTelephonyManager;-><init>(Landroid/content/Context;)V
 
     return-object v0
 .end method
diff -Npruw stock-framework/smali/android/app/ContextImpl$35.smali pdroid-framework/smali/android/app/ContextImpl$35.smali
--- stock-framework/smali/android/app/ContextImpl$35.smali	2013-07-15 18:10:54.806628033 -0500
+++ pdroid-framework/smali/android/app/ContextImpl$35.smali	2013-07-15 18:10:48.350628202 -0500
@@ -38,7 +38,13 @@
 
     move-result-object v1
 
-    new-instance v2, Landroid/net/wifi/WifiManager;
+    const-string v2, "ApplicationContext"
+
+    const-string v3, "PDroid:ContextImpl: returning PrivacyWifiManager"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    new-instance v2, Landroid/privacy/surrogate/PrivacyWifiManager;
 
     iget-object v3, p1, Landroid/app/ContextImpl;->mMainThread:Landroid/app/ActivityThread;
 
@@ -46,7 +52,7 @@
 
     move-result-object v3
 
-    invoke-direct {v2, v1, v3}, Landroid/net/wifi/WifiManager;-><init>(Landroid/net/wifi/IWifiManager;Landroid/os/Handler;)V
+    invoke-direct {v2, v1, v3, p1}, Landroid/privacy/surrogate/PrivacyWifiManager;-><init>(Landroid/net/wifi/IWifiManager;Landroid/os/Handler;Landroid/content/Context;)V
 
     return-object v2
 .end method
diff -Npruw stock-framework/smali/android/app/ContextImpl$3.smali pdroid-framework/smali/android/app/ContextImpl$3.smali
--- stock-framework/smali/android/app/ContextImpl$3.smali	2013-07-15 18:10:54.810628033 -0500
+++ pdroid-framework/smali/android/app/ContextImpl$3.smali	2013-07-15 18:10:48.350628202 -0500
@@ -26,7 +26,7 @@
 
 # virtual methods
 .method public createService(Landroid/app/ContextImpl;)Ljava/lang/Object;
-    .registers 5
+    .registers 6
 
     const-string v2, "account"
 
@@ -38,9 +38,15 @@
 
     move-result-object v1
 
-    new-instance v2, Landroid/accounts/AccountManager;
+    const-string v2, "ApplicationContext"
 
-    invoke-direct {v2, p1, v1}, Landroid/accounts/AccountManager;-><init>(Landroid/content/Context;Landroid/accounts/IAccountManager;)V
+    const-string v3, "PDroid:ContextImpl: returning PrivacyAccountManager rather than AccountManager"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    new-instance v2, Landroid/privacy/surrogate/PrivacyAccountManager;
+
+    invoke-direct {v2, p1, v1}, Landroid/privacy/surrogate/PrivacyAccountManager;-><init>(Landroid/content/Context;Landroid/accounts/IAccountManager;)V
 
     return-object v2
 .end method
diff -Npruw stock-framework/smali/android/app/ContextImpl$40.smali pdroid-framework/smali/android/app/ContextImpl$40.smali
--- stock-framework/smali/android/app/ContextImpl$40.smali	2013-07-15 18:10:54.810628033 -0500
+++ pdroid-framework/smali/android/app/ContextImpl$40.smali	2013-07-15 18:10:48.350628202 -0500
@@ -1,5 +1,5 @@
 .class final Landroid/app/ContextImpl$40;
-.super Landroid/app/ContextImpl$ServiceFetcher;
+.super Landroid/app/ContextImpl$StaticServiceFetcher;
 .source "ContextImpl.java"
 
 
@@ -18,29 +18,39 @@
 .method constructor <init>()V
     .registers 1
 
-    invoke-direct {p0}, Landroid/app/ContextImpl$ServiceFetcher;-><init>()V
+    invoke-direct {p0}, Landroid/app/ContextImpl$StaticServiceFetcher;-><init>()V
 
     return-void
 .end method
 
 
 # virtual methods
-.method public createService(Landroid/app/ContextImpl;)Ljava/lang/Object;
+.method public createStaticService()Ljava/lang/Object;
     .registers 5
 
-    const-string v2, "fm_receiver"
+    const-string v2, "ApplicationContext"
+
+    const-string v3, "PDroid:ContextImpl: Creating static privacy service"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    const-string/jumbo v2, "privacy"
 
     invoke-static {v2}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
 
     move-result-object v0
 
-    invoke-static {v0}, Lcom/stericsson/hardware/fm/IFmReceiver$Stub;->asInterface(Landroid/os/IBinder;)Lcom/stericsson/hardware/fm/IFmReceiver;
+    invoke-static {v0}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
 
     move-result-object v1
 
-    new-instance v2, Lcom/stericsson/hardware/fm/FmReceiverImpl;
+    new-instance v2, Landroid/privacy/PrivacySettingsManager;
+
+    invoke-static {}, Landroid/app/ContextImpl;->getStaticOuterContext()Landroid/content/Context;
+
+    move-result-object v3
 
-    invoke-direct {v2, v1}, Lcom/stericsson/hardware/fm/FmReceiverImpl;-><init>(Lcom/stericsson/hardware/fm/IFmReceiver;)V
+    invoke-direct {v2, v3, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
 
     return-object v2
 .end method
diff -Npruw stock-framework/smali/android/app/ContextImpl$41.smali pdroid-framework/smali/android/app/ContextImpl$41.smali
--- stock-framework/smali/android/app/ContextImpl$41.smali	2013-07-15 18:10:54.810628033 -0500
+++ pdroid-framework/smali/android/app/ContextImpl$41.smali	2013-07-15 18:10:48.350628202 -0500
@@ -28,19 +28,19 @@
 .method public createService(Landroid/app/ContextImpl;)Ljava/lang/Object;
     .registers 5
 
-    const-string v2, "fm_transmitter"
+    const-string v2, "fm_receiver"
 
     invoke-static {v2}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
 
     move-result-object v0
 
-    invoke-static {v0}, Lcom/stericsson/hardware/fm/IFmTransmitter$Stub;->asInterface(Landroid/os/IBinder;)Lcom/stericsson/hardware/fm/IFmTransmitter;
+    invoke-static {v0}, Lcom/stericsson/hardware/fm/IFmReceiver$Stub;->asInterface(Landroid/os/IBinder;)Lcom/stericsson/hardware/fm/IFmReceiver;
 
     move-result-object v1
 
-    new-instance v2, Lcom/stericsson/hardware/fm/FmTransmitterImpl;
+    new-instance v2, Lcom/stericsson/hardware/fm/FmReceiverImpl;
 
-    invoke-direct {v2, v1}, Lcom/stericsson/hardware/fm/FmTransmitterImpl;-><init>(Lcom/stericsson/hardware/fm/IFmTransmitter;)V
+    invoke-direct {v2, v1}, Lcom/stericsson/hardware/fm/FmReceiverImpl;-><init>(Lcom/stericsson/hardware/fm/IFmReceiver;)V
 
     return-object v2
 .end method
diff -Npruw stock-framework/smali/android/app/ContextImpl$42.smali pdroid-framework/smali/android/app/ContextImpl$42.smali
--- stock-framework/smali/android/app/ContextImpl$42.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/app/ContextImpl$42.smali	2013-07-15 18:10:48.350628202 -0500
@@ -0,0 +1,46 @@
+.class final Landroid/app/ContextImpl$42;
+.super Landroid/app/ContextImpl$ServiceFetcher;
+.source "ContextImpl.java"
+
+
+# annotations
+.annotation system Ldalvik/annotation/EnclosingClass;
+    value = Landroid/app/ContextImpl;
+.end annotation
+
+.annotation system Ldalvik/annotation/InnerClass;
+    accessFlags = 0x8
+    name = null
+.end annotation
+
+
+# direct methods
+.method constructor <init>()V
+    .registers 1
+
+    invoke-direct {p0}, Landroid/app/ContextImpl$ServiceFetcher;-><init>()V
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public createService(Landroid/app/ContextImpl;)Ljava/lang/Object;
+    .registers 5
+
+    const-string v2, "fm_transmitter"
+
+    invoke-static {v2}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v0
+
+    invoke-static {v0}, Lcom/stericsson/hardware/fm/IFmTransmitter$Stub;->asInterface(Landroid/os/IBinder;)Lcom/stericsson/hardware/fm/IFmTransmitter;
+
+    move-result-object v1
+
+    new-instance v2, Lcom/stericsson/hardware/fm/FmTransmitterImpl;
+
+    invoke-direct {v2, v1}, Lcom/stericsson/hardware/fm/FmTransmitterImpl;-><init>(Lcom/stericsson/hardware/fm/IFmTransmitter;)V
+
+    return-object v2
+.end method
diff -Npruw stock-framework/smali/android/app/ContextImpl$9.smali pdroid-framework/smali/android/app/ContextImpl$9.smali
--- stock-framework/smali/android/app/ContextImpl$9.smali	2013-07-15 18:10:54.810628033 -0500
+++ pdroid-framework/smali/android/app/ContextImpl$9.smali	2013-07-15 18:10:48.350628202 -0500
@@ -26,21 +26,31 @@
 
 # virtual methods
 .method public createStaticService()Ljava/lang/Object;
-    .registers 4
+    .registers 5
 
-    const-string v1, "connectivity"
+    const-string v2, "connectivity"
 
-    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+    invoke-static {v2}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
 
     move-result-object v0
 
-    new-instance v1, Landroid/net/ConnectivityManager;
+    const-string v2, "ApplicationContext"
+
+    const-string v3, "PDroid:ContextImpl: returning PrivacyConnectivityManager"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
     invoke-static {v0}, Landroid/net/IConnectivityManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/net/IConnectivityManager;
 
-    move-result-object v2
+    move-result-object v1
+
+    new-instance v2, Landroid/privacy/surrogate/PrivacyConnectivityManager;
+
+    invoke-static {}, Landroid/app/ContextImpl;->getStaticOuterContext()Landroid/content/Context;
+
+    move-result-object v3
 
-    invoke-direct {v1, v2}, Landroid/net/ConnectivityManager;-><init>(Landroid/net/IConnectivityManager;)V
+    invoke-direct {v2, v1, v3}, Landroid/privacy/surrogate/PrivacyConnectivityManager;-><init>(Landroid/net/IConnectivityManager;Landroid/content/Context;)V
 
-    return-object v1
+    return-object v2
 .end method
diff -Npruw stock-framework/smali/android/app/ContextImpl.smali pdroid-framework/smali/android/app/ContextImpl.smali
--- stock-framework/smali/android/app/ContextImpl.smali	2013-07-15 18:10:54.830628032 -0500
+++ pdroid-framework/smali/android/app/ContextImpl.smali	2013-07-15 18:10:48.362628202 -0500
@@ -36,6 +36,8 @@
 
 .field private static sNextPerContextServiceCacheIndex:I
 
+.field private static sOuterContext:Landroid/content/Context;
+
 .field private static final sSharedPrefs:Ljava/util/HashMap;
     .annotation system Ldalvik/annotation/Signature;
         value = {
@@ -114,6 +116,10 @@
 
     sput-object v0, Landroid/app/ContextImpl;->sSharedPrefs:Ljava/util/HashMap;
 
+    const/4 v0, 0x0
+
+    sput-object v0, Landroid/app/ContextImpl;->sOuterContext:Landroid/content/Context;
+
     new-array v0, v1, [Ljava/lang/String;
 
     sput-object v0, Landroid/app/ContextImpl;->EMPTY_FILE_LIST:[Ljava/lang/String;
@@ -442,7 +448,7 @@
 
     invoke-static {v0, v1}, Landroid/app/ContextImpl;->registerService(Ljava/lang/String;Landroid/app/ContextImpl$ServiceFetcher;)V
 
-    const-string v0, "fm_receiver"
+    const-string/jumbo v0, "privacy"
 
     new-instance v1, Landroid/app/ContextImpl$40;
 
@@ -450,7 +456,7 @@
 
     invoke-static {v0, v1}, Landroid/app/ContextImpl;->registerService(Ljava/lang/String;Landroid/app/ContextImpl$ServiceFetcher;)V
 
-    const-string v0, "fm_transmitter"
+    const-string v0, "fm_receiver"
 
     new-instance v1, Landroid/app/ContextImpl$41;
 
@@ -458,6 +464,14 @@
 
     invoke-static {v0, v1}, Landroid/app/ContextImpl;->registerService(Ljava/lang/String;Landroid/app/ContextImpl$ServiceFetcher;)V
 
+    const-string v0, "fm_transmitter"
+
+    new-instance v1, Landroid/app/ContextImpl$42;
+
+    invoke-direct {v1}, Landroid/app/ContextImpl$42;-><init>()V
+
+    invoke-static {v0, v1}, Landroid/app/ContextImpl;->registerService(Ljava/lang/String;Landroid/app/ContextImpl$ServiceFetcher;)V
+
     return-void
 .end method
 
@@ -490,8 +504,21 @@
 
     iput-object v0, p0, Landroid/app/ContextImpl;->mServiceCache:Ljava/util/ArrayList;
 
+    sget-object v0, Landroid/app/ContextImpl;->sOuterContext:Landroid/content/Context;
+
+    if-eqz v0, :cond_26
+
+    const-string v0, "ApplicationContext"
+
+    const-string v1, "PDroid:ContextImpl: ContextImpl being created but already has sOuterContext"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
+
+    :cond_26
     iput-object p0, p0, Landroid/app/ContextImpl;->mOuterContext:Landroid/content/Context;
 
+    sput-object p0, Landroid/app/ContextImpl;->sOuterContext:Landroid/content/Context;
+
     return-void
 .end method
 
@@ -544,8 +571,21 @@
 
     iput-object v0, p0, Landroid/app/ContextImpl;->mContentResolver:Landroid/app/ContextImpl$ApplicationContentResolver;
 
+    sget-object v0, Landroid/app/ContextImpl;->sOuterContext:Landroid/content/Context;
+
+    if-eqz v0, :cond_3a
+
+    const-string v0, "ApplicationContext"
+
+    const-string v1, "PDroid:ContextImpl: ContextImpl being created but already has sOuterContext"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
+
+    :cond_3a
     iput-object p0, p0, Landroid/app/ContextImpl;->mOuterContext:Landroid/content/Context;
 
+    sput-object p0, Landroid/app/ContextImpl;->sOuterContext:Landroid/content/Context;
+
     return-void
 .end method
 
@@ -1015,6 +1055,14 @@
     throw v0
 .end method
 
+.method static final getStaticOuterContext()Landroid/content/Context;
+    .registers 1
+
+    sget-object v0, Landroid/app/ContextImpl;->sOuterContext:Landroid/content/Context;
+
+    return-object v0
+.end method
+
 .method private getWallpaperManager()Landroid/app/WallpaperManager;
     .registers 2
 
@@ -4284,10 +4332,23 @@
 .end method
 
 .method final setOuterContext(Landroid/content/Context;)V
-    .registers 2
+    .registers 4
+
+    sget-object v0, Landroid/app/ContextImpl;->sOuterContext:Landroid/content/Context;
 
+    if-eqz v0, :cond_b
+
+    const-string v0, "ApplicationContext"
+
+    const-string v1, "PDroid:ContextImpl: ContextImpl being created but already has sOuterContext"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
+
+    :cond_b
     iput-object p1, p0, Landroid/app/ContextImpl;->mOuterContext:Landroid/content/Context;
 
+    sput-object p1, Landroid/app/ContextImpl;->sOuterContext:Landroid/content/Context;
+
     return-void
 .end method
 
diff -Npruw stock-framework/smali/android/app/Fragment.smali pdroid-framework/smali/android/app/Fragment.smali
--- stock-framework/smali/android/app/Fragment.smali	2013-07-15 18:10:54.834628032 -0500
+++ pdroid-framework/smali/android/app/Fragment.smali	2013-07-15 18:10:48.366628201 -0500
@@ -359,7 +359,7 @@
 
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
-    const-string/jumbo v0, "mFragmentId=#"
+    const-string v0, "mFragmentId=#"
 
     invoke-virtual {p3, v0}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
@@ -529,11 +529,11 @@
 
     iget-object v0, p0, Landroid/app/Fragment;->mFragmentManager:Landroid/app/FragmentManagerImpl;
 
-    if-eqz v0, :cond_eb
+    if-eqz v0, :cond_e9
 
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
-    const-string/jumbo v0, "mFragmentManager="
+    const-string v0, "mFragmentManager="
 
     invoke-virtual {p3, v0}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
@@ -541,10 +541,10 @@
 
     invoke-virtual {p3, v0}, Ljava/io/PrintWriter;->println(Ljava/lang/Object;)V
 
-    :cond_eb
+    :cond_e9
     iget-object v0, p0, Landroid/app/Fragment;->mActivity:Landroid/app/Activity;
 
-    if-eqz v0, :cond_fc
+    if-eqz v0, :cond_fa
 
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
@@ -556,10 +556,10 @@
 
     invoke-virtual {p3, v0}, Ljava/io/PrintWriter;->println(Ljava/lang/Object;)V
 
-    :cond_fc
+    :cond_fa
     iget-object v0, p0, Landroid/app/Fragment;->mArguments:Landroid/os/Bundle;
 
-    if-eqz v0, :cond_10d
+    if-eqz v0, :cond_10b
 
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
@@ -571,10 +571,10 @@
 
     invoke-virtual {p3, v0}, Ljava/io/PrintWriter;->println(Ljava/lang/Object;)V
 
-    :cond_10d
+    :cond_10b
     iget-object v0, p0, Landroid/app/Fragment;->mSavedFragmentState:Landroid/os/Bundle;
 
-    if-eqz v0, :cond_11f
+    if-eqz v0, :cond_11d
 
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
@@ -586,10 +586,10 @@
 
     invoke-virtual {p3, v0}, Ljava/io/PrintWriter;->println(Ljava/lang/Object;)V
 
-    :cond_11f
+    :cond_11d
     iget-object v0, p0, Landroid/app/Fragment;->mSavedViewState:Landroid/util/SparseArray;
 
-    if-eqz v0, :cond_131
+    if-eqz v0, :cond_12f
 
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
@@ -601,10 +601,10 @@
 
     invoke-virtual {p3, v0}, Ljava/io/PrintWriter;->println(Ljava/lang/Object;)V
 
-    :cond_131
+    :cond_12f
     iget-object v0, p0, Landroid/app/Fragment;->mTarget:Landroid/app/Fragment;
 
-    if-eqz v0, :cond_14d
+    if-eqz v0, :cond_14b
 
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
@@ -624,10 +624,10 @@
 
     invoke-virtual {p3, v0}, Ljava/io/PrintWriter;->println(I)V
 
-    :cond_14d
+    :cond_14b
     iget v0, p0, Landroid/app/Fragment;->mNextAnim:I
 
-    if-eqz v0, :cond_15f
+    if-eqz v0, :cond_15d
 
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
@@ -639,10 +639,10 @@
 
     invoke-virtual {p3, v0}, Ljava/io/PrintWriter;->println(I)V
 
-    :cond_15f
+    :cond_15d
     iget-object v0, p0, Landroid/app/Fragment;->mContainer:Landroid/view/ViewGroup;
 
-    if-eqz v0, :cond_170
+    if-eqz v0, :cond_16e
 
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
@@ -654,10 +654,10 @@
 
     invoke-virtual {p3, v0}, Ljava/io/PrintWriter;->println(Ljava/lang/Object;)V
 
-    :cond_170
+    :cond_16e
     iget-object v0, p0, Landroid/app/Fragment;->mView:Landroid/view/View;
 
-    if-eqz v0, :cond_182
+    if-eqz v0, :cond_180
 
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
@@ -669,10 +669,10 @@
 
     invoke-virtual {p3, v0}, Ljava/io/PrintWriter;->println(Ljava/lang/Object;)V
 
-    :cond_182
+    :cond_180
     iget-object v0, p0, Landroid/app/Fragment;->mAnimatingAway:Landroid/animation/Animator;
 
-    if-eqz v0, :cond_1a1
+    if-eqz v0, :cond_19f
 
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
@@ -694,10 +694,10 @@
 
     invoke-virtual {p3, v0}, Ljava/io/PrintWriter;->println(I)V
 
-    :cond_1a1
+    :cond_19f
     iget-object v0, p0, Landroid/app/Fragment;->mLoaderManager:Landroid/app/LoaderManagerImpl;
 
-    if-eqz v0, :cond_1c5
+    if-eqz v0, :cond_1c3
 
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
@@ -727,7 +727,7 @@
 
     invoke-virtual {v0, v1, p2, p3, p4}, Landroid/app/LoaderManagerImpl;->dump(Ljava/lang/String;Ljava/io/FileDescriptor;Ljava/io/PrintWriter;[Ljava/lang/String;)V
 
-    :cond_1c5
+    :cond_1c3
     return-void
 .end method
 
diff -Npruw stock-framework/smali/android/app/Instrumentation$1.smali pdroid-framework/smali/android/app/Instrumentation$1.smali
--- stock-framework/smali/android/app/Instrumentation$1.smali	2013-07-15 18:10:54.974628029 -0500
+++ pdroid-framework/smali/android/app/Instrumentation$1.smali	2013-07-15 18:10:48.450628200 -0500
@@ -1,14 +1,96 @@
-.class synthetic Landroid/app/Instrumentation$1;
+.class Landroid/app/Instrumentation$1;
 .super Ljava/lang/Object;
 .source "Instrumentation.java"
 
+# interfaces
+.implements Ljava/lang/Runnable;
+
 
 # annotations
-.annotation system Ldalvik/annotation/EnclosingClass;
-    value = Landroid/app/Instrumentation;
+.annotation system Ldalvik/annotation/EnclosingMethod;
+    value = Landroid/app/Instrumentation;->execStartActivity(Landroid/content/Context;Landroid/os/IBinder;Landroid/os/IBinder;Landroid/app/Activity;Landroid/content/Intent;ILandroid/os/Bundle;)Landroid/app/Instrumentation$ActivityResult;
 .end annotation
 
 .annotation system Ldalvik/annotation/InnerClass;
-    accessFlags = 0x1008
+    accessFlags = 0x0
     name = null
 .end annotation
+
+
+# instance fields
+.field final synthetic this$0:Landroid/app/Instrumentation;
+
+.field final synthetic val$tmp:Landroid/content/Context;
+
+
+# direct methods
+.method constructor <init>(Landroid/app/Instrumentation;Landroid/content/Context;)V
+    .registers 3
+
+    iput-object p1, p0, Landroid/app/Instrumentation$1;->this$0:Landroid/app/Instrumentation;
+
+    iput-object p2, p0, Landroid/app/Instrumentation$1;->val$tmp:Landroid/content/Context;
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public run()V
+    .registers 5
+
+    const-wide/16 v2, 0x3e8
+
+    :try_start_2
+    invoke-static {v2, v3}, Ljava/lang/Thread;->sleep(J)V
+    :try_end_5
+    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_5} :catch_35
+
+    :goto_5
+    new-instance v1, Landroid/content/Intent;
+
+    const-string v2, "android.privacy.BLOCKED_PHONE_CALL"
+
+    invoke-direct {v1, v2}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V
+
+    new-instance v0, Landroid/os/Bundle;
+
+    invoke-direct {v0}, Landroid/os/Bundle;-><init>()V
+
+    const-string/jumbo v2, "packageName"
+
+    iget-object v3, p0, Landroid/app/Instrumentation$1;->val$tmp:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v0, v2, v3}, Landroid/os/Bundle;->putString(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string/jumbo v2, "phoneState"
+
+    const/4 v3, 0x0
+
+    invoke-virtual {v0, v2, v3}, Landroid/os/Bundle;->putInt(Ljava/lang/String;I)V
+
+    invoke-virtual {v1, v0}, Landroid/content/Intent;->putExtras(Landroid/os/Bundle;)Landroid/content/Intent;
+
+    iget-object v2, p0, Landroid/app/Instrumentation$1;->val$tmp:Landroid/content/Context;
+
+    invoke-virtual {v2, v1}, Landroid/content/Context;->sendBroadcast(Landroid/content/Intent;)V
+
+    const-string v2, "PrivacyContext"
+
+    const-string/jumbo v3, "sent privacy intent"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+
+    :catch_35
+    move-exception v2
+
+    goto :goto_5
+.end method
diff -Npruw stock-framework/smali/android/app/Instrumentation$2.smali pdroid-framework/smali/android/app/Instrumentation$2.smali
--- stock-framework/smali/android/app/Instrumentation$2.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/app/Instrumentation$2.smali	2013-07-15 18:10:48.454628200 -0500
@@ -0,0 +1,96 @@
+.class Landroid/app/Instrumentation$2;
+.super Ljava/lang/Object;
+.source "Instrumentation.java"
+
+# interfaces
+.implements Ljava/lang/Runnable;
+
+
+# annotations
+.annotation system Ldalvik/annotation/EnclosingMethod;
+    value = Landroid/app/Instrumentation;->execStartActivities(Landroid/content/Context;Landroid/os/IBinder;Landroid/os/IBinder;Landroid/app/Activity;[Landroid/content/Intent;Landroid/os/Bundle;)V
+.end annotation
+
+.annotation system Ldalvik/annotation/InnerClass;
+    accessFlags = 0x0
+    name = null
+.end annotation
+
+
+# instance fields
+.field final synthetic this$0:Landroid/app/Instrumentation;
+
+.field final synthetic val$tmp:Landroid/content/Context;
+
+
+# direct methods
+.method constructor <init>(Landroid/app/Instrumentation;Landroid/content/Context;)V
+    .registers 3
+
+    iput-object p1, p0, Landroid/app/Instrumentation$2;->this$0:Landroid/app/Instrumentation;
+
+    iput-object p2, p0, Landroid/app/Instrumentation$2;->val$tmp:Landroid/content/Context;
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public run()V
+    .registers 5
+
+    const-wide/16 v2, 0x3e8
+
+    :try_start_2
+    invoke-static {v2, v3}, Ljava/lang/Thread;->sleep(J)V
+    :try_end_5
+    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_5} :catch_35
+
+    :goto_5
+    new-instance v1, Landroid/content/Intent;
+
+    const-string v2, "android.privacy.BLOCKED_PHONE_CALL"
+
+    invoke-direct {v1, v2}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V
+
+    new-instance v0, Landroid/os/Bundle;
+
+    invoke-direct {v0}, Landroid/os/Bundle;-><init>()V
+
+    const-string/jumbo v2, "packageName"
+
+    iget-object v3, p0, Landroid/app/Instrumentation$2;->val$tmp:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v0, v2, v3}, Landroid/os/Bundle;->putString(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string/jumbo v2, "phoneState"
+
+    const/4 v3, 0x0
+
+    invoke-virtual {v0, v2, v3}, Landroid/os/Bundle;->putInt(Ljava/lang/String;I)V
+
+    invoke-virtual {v1, v0}, Landroid/content/Intent;->putExtras(Landroid/os/Bundle;)Landroid/content/Intent;
+
+    iget-object v2, p0, Landroid/app/Instrumentation$2;->val$tmp:Landroid/content/Context;
+
+    invoke-virtual {v2, v1}, Landroid/content/Context;->sendBroadcast(Landroid/content/Intent;)V
+
+    const-string v2, "PrivacyContext"
+
+    const-string/jumbo v3, "sent privacy intent"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+
+    :catch_35
+    move-exception v2
+
+    goto :goto_5
+.end method
diff -Npruw stock-framework/smali/android/app/Instrumentation$3.smali pdroid-framework/smali/android/app/Instrumentation$3.smali
--- stock-framework/smali/android/app/Instrumentation$3.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/app/Instrumentation$3.smali	2013-07-15 18:10:48.454628200 -0500
@@ -0,0 +1,96 @@
+.class Landroid/app/Instrumentation$3;
+.super Ljava/lang/Object;
+.source "Instrumentation.java"
+
+# interfaces
+.implements Ljava/lang/Runnable;
+
+
+# annotations
+.annotation system Ldalvik/annotation/EnclosingMethod;
+    value = Landroid/app/Instrumentation;->execStartActivity(Landroid/content/Context;Landroid/os/IBinder;Landroid/os/IBinder;Landroid/app/Fragment;Landroid/content/Intent;ILandroid/os/Bundle;)Landroid/app/Instrumentation$ActivityResult;
+.end annotation
+
+.annotation system Ldalvik/annotation/InnerClass;
+    accessFlags = 0x0
+    name = null
+.end annotation
+
+
+# instance fields
+.field final synthetic this$0:Landroid/app/Instrumentation;
+
+.field final synthetic val$tmp:Landroid/content/Context;
+
+
+# direct methods
+.method constructor <init>(Landroid/app/Instrumentation;Landroid/content/Context;)V
+    .registers 3
+
+    iput-object p1, p0, Landroid/app/Instrumentation$3;->this$0:Landroid/app/Instrumentation;
+
+    iput-object p2, p0, Landroid/app/Instrumentation$3;->val$tmp:Landroid/content/Context;
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public run()V
+    .registers 5
+
+    const-wide/16 v2, 0x3e8
+
+    :try_start_2
+    invoke-static {v2, v3}, Ljava/lang/Thread;->sleep(J)V
+    :try_end_5
+    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_5} :catch_35
+
+    :goto_5
+    new-instance v1, Landroid/content/Intent;
+
+    const-string v2, "android.privacy.BLOCKED_PHONE_CALL"
+
+    invoke-direct {v1, v2}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V
+
+    new-instance v0, Landroid/os/Bundle;
+
+    invoke-direct {v0}, Landroid/os/Bundle;-><init>()V
+
+    const-string/jumbo v2, "packageName"
+
+    iget-object v3, p0, Landroid/app/Instrumentation$3;->val$tmp:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v0, v2, v3}, Landroid/os/Bundle;->putString(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string/jumbo v2, "phoneState"
+
+    const/4 v3, 0x0
+
+    invoke-virtual {v0, v2, v3}, Landroid/os/Bundle;->putInt(Ljava/lang/String;I)V
+
+    invoke-virtual {v1, v0}, Landroid/content/Intent;->putExtras(Landroid/os/Bundle;)Landroid/content/Intent;
+
+    iget-object v2, p0, Landroid/app/Instrumentation$3;->val$tmp:Landroid/content/Context;
+
+    invoke-virtual {v2, v1}, Landroid/content/Context;->sendBroadcast(Landroid/content/Intent;)V
+
+    const-string v2, "PrivacyContext"
+
+    const-string/jumbo v3, "sent privacy intent"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+
+    :catch_35
+    move-exception v2
+
+    goto :goto_5
+.end method
diff -Npruw stock-framework/smali/android/app/Instrumentation.smali pdroid-framework/smali/android/app/Instrumentation.smali
--- stock-framework/smali/android/app/Instrumentation.smali	2013-07-15 18:10:54.982628028 -0500
+++ pdroid-framework/smali/android/app/Instrumentation.smali	2013-07-15 18:10:48.458628199 -0500
@@ -6,7 +6,6 @@
 # annotations
 .annotation system Ldalvik/annotation/MemberClasses;
     value = {
-        Landroid/app/Instrumentation$1;,
         Landroid/app/Instrumentation$Idler;,
         Landroid/app/Instrumentation$ActivityGoing;,
         Landroid/app/Instrumentation$ActivityWaiter;,
@@ -53,6 +52,8 @@
 
 .field private mPerformanceCollector:Landroid/os/PerformanceCollector;
 
+.field private mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
 .field private mRunner:Ljava/lang/Thread;
 
 .field private final mSync:Ljava/lang/Object;
@@ -865,170 +866,131 @@
 .end method
 
 .method public execStartActivities(Landroid/content/Context;Landroid/os/IBinder;Landroid/os/IBinder;Landroid/app/Activity;[Landroid/content/Intent;Landroid/os/Bundle;)V
-    .registers 17
-
-    move-object v1, p2
-
-    check-cast v1, Landroid/app/IApplicationThread;
-
-    iget-object v0, p0, Landroid/app/Instrumentation;->mActivityMonitors:Ljava/util/List;
-
-    if-eqz v0, :cond_37
-
-    iget-object v2, p0, Landroid/app/Instrumentation;->mSync:Ljava/lang/Object;
-
-    monitor-enter v2
+    .registers 30
 
-    :try_start_a
-    iget-object v0, p0, Landroid/app/Instrumentation;->mActivityMonitors:Ljava/util/List;
-
-    invoke-interface {v0}, Ljava/util/List;->size()I
+    move-object/from16 v3, p2
 
-    move-result v6
+    check-cast v3, Landroid/app/IApplicationThread;
 
-    const/4 v8, 0x0
+    const-string v2, "Instrumentation"
 
-    :goto_11
-    if-ge v8, v6, :cond_36
+    new-instance v4, Ljava/lang/StringBuilder;
 
-    iget-object v0, p0, Landroid/app/Instrumentation;->mActivityMonitors:Ljava/util/List;
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
 
-    invoke-interface {v0, v8}, Ljava/util/List;->get(I)Ljava/lang/Object;
+    const-string v6, "PDroid:Instrumentation:execStartActivities: execStartActivities for "
 
-    move-result-object v7
+    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    check-cast v7, Landroid/app/Instrumentation$ActivityMonitor;
+    move-result-object v4
 
-    const/4 v0, 0x0
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
 
-    const/4 v4, 0x0
+    move-result-object v6
 
-    aget-object v4, p5, v4
+    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v7, p1, v0, v4}, Landroid/app/Instrumentation$ActivityMonitor;->match(Landroid/content/Context;Landroid/app/Activity;Landroid/content/Intent;)Z
+    move-result-object v4
 
-    move-result v0
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    if-eqz v0, :cond_33
+    move-result-object v4
 
-    iget v0, v7, Landroid/app/Instrumentation$ActivityMonitor;->mHits:I
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    add-int/lit8 v0, v0, 0x1
+    if-eqz p5, :cond_6f
 
-    iput v0, v7, Landroid/app/Instrumentation$ActivityMonitor;->mHits:I
+    const/4 v12, 0x0
 
-    invoke-virtual {v7}, Landroid/app/Instrumentation$ActivityMonitor;->isBlocking()Z
+    move-object/from16 v11, p5
 
-    move-result v0
+    array-length v0, v11
 
-    if-eqz v0, :cond_36
+    move/from16 v18, v0
 
-    monitor-exit v2
+    const/16 v16, 0x0
 
-    :goto_32
-    return-void
+    :goto_2a
+    move/from16 v0, v16
 
-    :cond_33
-    add-int/lit8 v8, v8, 0x1
+    move/from16 v1, v18
 
-    goto :goto_11
+    if-ge v0, v1, :cond_51
 
-    :cond_36
-    monitor-exit v2
-    :try_end_37
-    .catchall {:try_start_a .. :try_end_37} :catchall_53
+    aget-object v17, v11, v16
 
-    :cond_37
-    :try_start_37
-    array-length v0, p5
+    :try_start_32
+    invoke-virtual/range {v17 .. v17}, Landroid/content/Intent;->getAction()Ljava/lang/String;
 
-    new-array v3, v0, [Ljava/lang/String;
+    move-result-object v2
 
-    const/4 v8, 0x0
+    if-eqz v2, :cond_c7
 
-    :goto_3b
-    array-length v0, p5
+    invoke-virtual/range {v17 .. v17}, Landroid/content/Intent;->getAction()Ljava/lang/String;
 
-    if-ge v8, v0, :cond_56
+    move-result-object v2
 
-    aget-object v0, p5, v8
+    const-string v4, "android.intent.action.CALL"
 
-    const/4 v2, 0x0
+    invoke-virtual {v2, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
 
-    invoke-virtual {v0, v2}, Landroid/content/Intent;->setAllowFds(Z)V
+    move-result v2
 
-    aget-object v0, p5, v8
+    if-nez v2, :cond_50
 
-    invoke-virtual {p1}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
+    invoke-virtual/range {v17 .. v17}, Landroid/content/Intent;->getAction()Ljava/lang/String;
 
     move-result-object v2
 
-    invoke-virtual {v0, v2}, Landroid/content/Intent;->resolveTypeIfNeeded(Landroid/content/ContentResolver;)Ljava/lang/String;
+    const-string v4, "android.intent.action.DIAL"
 
-    move-result-object v0
-
-    aput-object v0, v3, v8
-    :try_end_50
-    .catch Landroid/os/RemoteException; {:try_start_37 .. :try_end_50} :catch_69
-
-    add-int/lit8 v8, v8, 0x1
-
-    goto :goto_3b
+    invoke-virtual {v2, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+    :try_end_4d
+    .catch Ljava/lang/Exception; {:try_start_32 .. :try_end_4d} :catch_a9
 
-    :catchall_53
-    move-exception v0
-
-    :try_start_54
-    monitor-exit v2
-    :try_end_55
-    .catchall {:try_start_54 .. :try_end_55} :catchall_53
-
-    throw v0
+    move-result v2
 
-    :cond_56
-    :try_start_56
-    invoke-static {}, Landroid/app/ActivityManagerNative;->getDefault()Landroid/app/IActivityManager;
+    if-eqz v2, :cond_c7
 
-    move-result-object v0
+    :cond_50
+    const/4 v12, 0x1
 
-    move-object v2, p5
+    :cond_51
+    if-nez v12, :cond_cb
 
-    move-object v4, p3
+    const-string v2, "Instrumentation"
 
-    move-object/from16 v5, p6
+    new-instance v4, Ljava/lang/StringBuilder;
 
-    invoke-interface/range {v0 .. v5}, Landroid/app/IActivityManager;->startActivities(Landroid/app/IApplicationThread;[Landroid/content/Intent;[Ljava/lang/String;Landroid/os/IBinder;Landroid/os/Bundle;)I
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
 
-    move-result v9
+    const-string v6, "PDroid:Instrumentation:execStartActivities: No provided intents triggered checking for "
 
-    const/4 v0, 0x0
+    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    aget-object v0, p5, v0
+    move-result-object v4
 
-    invoke-static {v9, v0}, Landroid/app/Instrumentation;->checkStartActivityResult(ILjava/lang/Object;)V
-    :try_end_68
-    .catch Landroid/os/RemoteException; {:try_start_56 .. :try_end_68} :catch_69
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
 
-    goto :goto_32
+    move-result-object v6
 
-    :catch_69
-    move-exception v0
+    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    goto :goto_32
-.end method
+    move-result-object v4
 
-.method public execStartActivity(Landroid/content/Context;Landroid/os/IBinder;Landroid/os/IBinder;Landroid/app/Activity;Landroid/content/Intent;ILandroid/os/Bundle;)Landroid/app/Instrumentation$ActivityResult;
-    .registers 25
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-object/from16 v3, p2
+    move-result-object v4
 
-    check-cast v3, Landroid/app/IApplicationThread;
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
+    :cond_6f
+    :goto_6f
     move-object/from16 v0, p0
 
     iget-object v2, v0, Landroid/app/Instrumentation;->mActivityMonitors:Ljava/util/List;
 
-    if-eqz v2, :cond_49
+    if-eqz v2, :cond_28a
 
     move-object/from16 v0, p0
 
@@ -1036,19 +998,19 @@
 
     monitor-enter v4
 
-    :try_start_f
+    :try_start_7a
     move-object/from16 v0, p0
 
     iget-object v2, v0, Landroid/app/Instrumentation;->mActivityMonitors:Ljava/util/List;
 
     invoke-interface {v2}, Ljava/util/List;->size()I
 
-    move-result v13
+    move-result v8
 
     const/4 v15, 0x0
 
-    :goto_18
-    if-ge v15, v13, :cond_48
+    :goto_83
+    if-ge v15, v8, :cond_289
 
     move-object/from16 v0, p0
 
@@ -1056,319 +1018,1916 @@
 
     invoke-interface {v2, v15}, Ljava/util/List;->get(I)Ljava/lang/Object;
 
-    move-result-object v14
+    move-result-object v10
 
-    check-cast v14, Landroid/app/Instrumentation$ActivityMonitor;
+    check-cast v10, Landroid/app/Instrumentation$ActivityMonitor;
 
     const/4 v2, 0x0
 
-    move-object/from16 v0, p1
+    const/4 v6, 0x0
 
-    move-object/from16 v1, p5
+    aget-object v6, p5, v6
+
+    move-object/from16 v0, p1
 
-    invoke-virtual {v14, v0, v2, v1}, Landroid/app/Instrumentation$ActivityMonitor;->match(Landroid/content/Context;Landroid/app/Activity;Landroid/content/Intent;)Z
+    invoke-virtual {v10, v0, v2, v6}, Landroid/app/Instrumentation$ActivityMonitor;->match(Landroid/content/Context;Landroid/app/Activity;Landroid/content/Intent;)Z
 
     move-result v2
 
-    if-eqz v2, :cond_45
+    if-eqz v2, :cond_285
 
-    iget v2, v14, Landroid/app/Instrumentation$ActivityMonitor;->mHits:I
+    iget v2, v10, Landroid/app/Instrumentation$ActivityMonitor;->mHits:I
 
     add-int/lit8 v2, v2, 0x1
 
-    iput v2, v14, Landroid/app/Instrumentation$ActivityMonitor;->mHits:I
+    iput v2, v10, Landroid/app/Instrumentation$ActivityMonitor;->mHits:I
 
-    invoke-virtual {v14}, Landroid/app/Instrumentation$ActivityMonitor;->isBlocking()Z
+    invoke-virtual {v10}, Landroid/app/Instrumentation$ActivityMonitor;->isBlocking()Z
 
     move-result v2
 
-    if-eqz v2, :cond_48
+    if-eqz v2, :cond_289
 
-    if-ltz p6, :cond_43
+    monitor-exit v4
+    :try_end_a8
+    .catchall {:try_start_7a .. :try_end_a8} :catchall_2aa
 
-    invoke-virtual {v14}, Landroid/app/Instrumentation$ActivityMonitor;->getResult()Landroid/app/Instrumentation$ActivityResult;
+    :goto_a8
+    return-void
 
-    move-result-object v2
+    :catch_a9
+    move-exception v13
 
-    :goto_41
-    monitor-exit v4
+    const-string v2, "Instrumentation"
 
-    :goto_42
-    return-object v2
+    new-instance v4, Ljava/lang/StringBuilder;
 
-    :cond_43
-    const/4 v2, 0x0
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
 
-    goto :goto_41
+    const-string v6, "PDroid:Instrumentation:execStartActivities: Exception occurred when checking intents for "
 
-    :cond_45
-    add-int/lit8 v15, v15, 0x1
+    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    goto :goto_18
+    move-result-object v4
 
-    :cond_48
-    monitor-exit v4
-    :try_end_49
-    .catchall {:try_start_f .. :try_end_49} :catchall_7e
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
 
-    :cond_49
-    const/4 v2, 0x0
+    move-result-object v6
 
-    :try_start_4a
-    move-object/from16 v0, p5
+    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0, v2}, Landroid/content/Intent;->setAllowFds(Z)V
+    move-result-object v4
 
-    invoke-virtual/range {p5 .. p5}, Landroid/content/Intent;->migrateExtraStreamToClipData()Z
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    invoke-static {}, Landroid/app/ActivityManagerNative;->getDefault()Landroid/app/IActivityManager;
+    move-result-object v4
 
-    move-result-object v2
+    invoke-static {v2, v4, v13}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
-    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
+    const/4 v12, 0x1
 
-    move-result-object v4
+    :cond_c7
+    add-int/lit8 v16, v16, 0x1
 
-    move-object/from16 v0, p5
+    goto/16 :goto_2a
 
-    invoke-virtual {v0, v4}, Landroid/content/Intent;->resolveTypeIfNeeded(Landroid/content/ContentResolver;)Ljava/lang/String;
+    :cond_cb
+    const-string v2, "Instrumentation"
 
-    move-result-object v5
+    new-instance v4, Ljava/lang/StringBuilder;
 
-    if-eqz p4, :cond_81
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
 
-    move-object/from16 v0, p4
+    const-string v6, "PDroid:Instrumentation:execStartActivities: One or more intents triggered checking for "
 
-    iget-object v7, v0, Landroid/app/Activity;->mEmbeddedID:Ljava/lang/String;
+    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    :goto_66
-    const/4 v9, 0x0
+    move-result-object v4
 
-    const/4 v10, 0x0
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
 
-    const/4 v11, 0x0
+    move-result-object v6
 
-    move-object/from16 v4, p5
+    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-object/from16 v6, p3
+    move-result-object v4
 
-    move/from16 v8, p6
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-object/from16 v12, p7
+    move-result-object v4
 
-    invoke-interface/range {v2 .. v12}, Landroid/app/IActivityManager;->startActivity(Landroid/app/IApplicationThread;Landroid/content/Intent;Ljava/lang/String;Landroid/os/IBinder;Ljava/lang/String;IILjava/lang/String;Landroid/os/ParcelFileDescriptor;Landroid/os/Bundle;)I
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    move-result v16
+    move-object/from16 v0, p0
 
-    move/from16 v0, v16
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
 
-    move-object/from16 v1, p5
+    if-eqz v2, :cond_f7
 
-    invoke-static {v0, v1}, Landroid/app/Instrumentation;->checkStartActivityResult(ILjava/lang/Object;)V
-    :try_end_7c
-    .catch Landroid/os/RemoteException; {:try_start_4a .. :try_end_7c} :catch_83
+    move-object/from16 v0, p0
 
-    :goto_7c
-    const/4 v2, 0x0
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
 
-    goto :goto_42
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettingsManager;->isServiceAvailable()Z
 
-    :catchall_7e
-    move-exception v2
+    move-result v2
 
-    :try_start_7f
-    monitor-exit v4
-    :try_end_80
-    .catchall {:try_start_7f .. :try_end_80} :catchall_7e
+    if-nez v2, :cond_18d
 
-    throw v2
+    :cond_f7
+    new-instance v2, Landroid/privacy/PrivacySettingsManager;
 
-    :cond_81
-    const/4 v7, 0x0
+    const-string/jumbo v4, "privacy"
 
-    goto :goto_66
+    invoke-static {v4}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
 
-    :catch_83
-    move-exception v2
+    move-result-object v4
 
-    goto :goto_7c
-.end method
+    invoke-static {v4}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
 
-.method public execStartActivity(Landroid/content/Context;Landroid/os/IBinder;Landroid/os/IBinder;Landroid/app/Fragment;Landroid/content/Intent;ILandroid/os/Bundle;)Landroid/app/Instrumentation$ActivityResult;
-    .registers 25
+    move-result-object v4
 
-    move-object/from16 v3, p2
+    move-object/from16 v0, p1
 
-    check-cast v3, Landroid/app/IApplicationThread;
+    invoke-direct {v2, v0, v4}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
 
     move-object/from16 v0, p0
 
-    iget-object v2, v0, Landroid/app/Instrumentation;->mActivityMonitors:Ljava/util/List;
+    iput-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
 
-    if-eqz v2, :cond_49
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v2, :cond_185
+
+    const-string v2, "Instrumentation"
+
+    const-string v4, "PDroid:Instrumentation:execStartActivities: Obtained privacy service"
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_11a
+    const/4 v9, 0x0
 
     move-object/from16 v0, p0
 
-    iget-object v4, v0, Landroid/app/Instrumentation;->mSync:Ljava/lang/Object;
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
 
-    monitor-enter v4
+    if-eqz v2, :cond_12b
 
-    :try_start_f
     move-object/from16 v0, p0
 
-    iget-object v2, v0, Landroid/app/Instrumentation;->mActivityMonitors:Ljava/util/List;
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
 
-    invoke-interface {v2}, Ljava/util/List;->size()I
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettingsManager;->isServiceAvailable()Z
 
-    move-result v13
+    move-result v2
 
-    const/4 v15, 0x0
+    if-nez v2, :cond_195
+
+    :cond_12b
+    const-string v2, "Instrumentation"
 
-    :goto_18
-    if-ge v15, v13, :cond_48
+    const-string v4, "PDroid:Instrumentation:execStartActivities: Privacy service not available - assuming permission denied"
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v9, 0x0
 
     move-object/from16 v0, p0
 
-    iget-object v2, v0, Landroid/app/Instrumentation;->mActivityMonitors:Ljava/util/List;
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
 
-    invoke-interface {v2, v15}, Ljava/util/List;->get(I)Ljava/lang/Object;
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
 
-    move-result-object v14
+    move-result-object v4
 
-    check-cast v14, Landroid/app/Instrumentation$ActivityMonitor;
+    const/4 v6, 0x1
 
-    const/4 v2, 0x0
+    const-string/jumbo v7, "phoneCall"
 
-    move-object/from16 v0, p1
+    const/16 v22, 0x0
 
-    move-object/from16 v1, p5
+    move-object/from16 v0, v22
+
+    invoke-virtual {v2, v4, v6, v7, v0}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+
+    :goto_146
+    if-nez v9, :cond_6f
+
+    new-instance v14, Ljava/util/ArrayList;
+
+    move-object/from16 v0, p5
+
+    array-length v2, v0
+
+    invoke-direct {v14, v2}, Ljava/util/ArrayList;-><init>(I)V
+
+    move-object/from16 v11, p5
+
+    array-length v0, v11
+
+    move/from16 v18, v0
+
+    const/16 v16, 0x0
+
+    :goto_157
+    move/from16 v0, v16
+
+    move/from16 v1, v18
+
+    if-ge v0, v1, :cond_264
+
+    aget-object v17, v11, v16
+
+    :try_start_15f
+    invoke-virtual/range {v17 .. v17}, Landroid/content/Intent;->getAction()Ljava/lang/String;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_17d
+
+    invoke-virtual/range {v17 .. v17}, Landroid/content/Intent;->getAction()Ljava/lang/String;
+
+    move-result-object v2
 
-    invoke-virtual {v14, v0, v2, v1}, Landroid/app/Instrumentation$ActivityMonitor;->match(Landroid/content/Context;Landroid/app/Activity;Landroid/content/Intent;)Z
+    const-string v4, "android.intent.action.CALL"
+
+    invoke-virtual {v2, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
 
     move-result v2
 
-    if-eqz v2, :cond_45
+    if-nez v2, :cond_182
 
-    iget v2, v14, Landroid/app/Instrumentation$ActivityMonitor;->mHits:I
+    invoke-virtual/range {v17 .. v17}, Landroid/content/Intent;->getAction()Ljava/lang/String;
 
-    add-int/lit8 v2, v2, 0x1
+    move-result-object v2
 
-    iput v2, v14, Landroid/app/Instrumentation$ActivityMonitor;->mHits:I
+    const-string v4, "android.intent.action.DIAL"
 
-    invoke-virtual {v14}, Landroid/app/Instrumentation$ActivityMonitor;->isBlocking()Z
+    invoke-virtual {v2, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
 
     move-result v2
 
-    if-eqz v2, :cond_48
+    if-nez v2, :cond_182
 
-    if-ltz p6, :cond_43
+    :cond_17d
+    move-object/from16 v0, v17
 
-    invoke-virtual {v14}, Landroid/app/Instrumentation$ActivityMonitor;->getResult()Landroid/app/Instrumentation$ActivityResult;
+    invoke-interface {v14, v0}, Ljava/util/List;->add(Ljava/lang/Object;)Z
+    :try_end_182
+    .catch Ljava/lang/Exception; {:try_start_15f .. :try_end_182} :catch_245
 
-    move-result-object v2
+    :cond_182
+    :goto_182
+    add-int/lit8 v16, v16, 0x1
 
-    :goto_41
-    monitor-exit v4
+    goto :goto_157
 
-    :goto_42
-    return-object v2
+    :cond_185
+    const-string v2, "Instrumentation"
 
-    :cond_43
-    const/4 v2, 0x0
+    const-string v4, "PDroid:Instrumentation:execStartActivities: Privacy service not obtained"
 
-    goto :goto_41
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    :cond_45
-    add-int/lit8 v15, v15, 0x1
+    goto :goto_11a
 
-    goto :goto_18
+    :cond_18d
+    const-string v2, "Instrumentation"
 
-    :cond_48
-    monitor-exit v4
-    :try_end_49
-    .catchall {:try_start_f .. :try_end_49} :catchall_7e
+    const-string v4, "PDroid:Instrumentation:execStartActivities: Already had privacy service"
 
-    :cond_49
-    const/4 v2, 0x0
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    :try_start_4a
-    move-object/from16 v0, p5
+    goto :goto_11a
 
-    invoke-virtual {v0, v2}, Landroid/content/Intent;->setAllowFds(Z)V
+    :cond_195
+    move-object/from16 v0, p0
 
-    invoke-virtual/range {p5 .. p5}, Landroid/content/Intent;->migrateExtraStreamToClipData()Z
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
 
-    invoke-static {}, Landroid/app/ActivityManagerNative;->getDefault()Landroid/app/IActivityManager;
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
 
-    move-result-object v2
+    move-result-object v4
 
-    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
+    invoke-virtual {v2, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+
+    move-result-object v19
+
+    if-nez v19, :cond_1d5
+
+    const-string v2, "Instrumentation"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v6, "PDroid:Instrumentation:execStartActivities: Call intents allowed: No settings for package: "
+
+    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v4
 
-    move-object/from16 v0, p5
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
 
-    invoke-virtual {v0, v4}, Landroid/content/Intent;->resolveTypeIfNeeded(Landroid/content/ContentResolver;)Ljava/lang/String;
+    move-result-object v6
 
-    move-result-object v5
+    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    if-eqz p4, :cond_81
+    move-result-object v4
 
-    move-object/from16 v0, p4
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    iget-object v7, v0, Landroid/app/Fragment;->mWho:Ljava/lang/String;
+    move-result-object v4
 
-    :goto_66
-    const/4 v9, 0x0
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    const/4 v10, 0x0
+    const/4 v9, 0x1
 
-    const/4 v11, 0x0
+    move-object/from16 v0, p0
 
-    move-object/from16 v4, p5
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
 
-    move-object/from16 v6, p3
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
 
-    move/from16 v8, p6
+    move-result-object v4
 
-    move-object/from16 v12, p7
+    const/4 v6, 0x1
 
-    invoke-interface/range {v2 .. v12}, Landroid/app/IActivityManager;->startActivity(Landroid/app/IApplicationThread;Landroid/content/Intent;Ljava/lang/String;Landroid/os/IBinder;Ljava/lang/String;IILjava/lang/String;Landroid/os/ParcelFileDescriptor;Landroid/os/Bundle;)I
+    const-string/jumbo v7, "phoneCall"
 
-    move-result v16
+    const/16 v22, 0x0
 
-    move/from16 v0, v16
+    move-object/from16 v0, v22
 
-    move-object/from16 v1, p5
+    invoke-virtual {v2, v4, v6, v7, v0}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
 
-    invoke-static {v0, v1}, Landroid/app/Instrumentation;->checkStartActivityResult(ILjava/lang/Object;)V
-    :try_end_7c
-    .catch Landroid/os/RemoteException; {:try_start_4a .. :try_end_7c} :catch_83
+    goto/16 :goto_146
 
-    :goto_7c
-    const/4 v2, 0x0
+    :cond_1d5
+    invoke-virtual/range {v19 .. v19}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
 
-    goto :goto_42
+    move-result v2
 
-    :catchall_7e
-    move-exception v2
+    if-nez v2, :cond_210
 
-    :try_start_7f
-    monitor-exit v4
-    :try_end_80
-    .catchall {:try_start_7f .. :try_end_80} :catchall_7e
+    const-string v2, "Instrumentation"
 
-    throw v2
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v6, "PDroid:Instrumentation:execStartActivities: Call intents allowed: Settings permit "
+
+    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v6
+
+    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v9, 0x1
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual/range {v19 .. v19}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v6
+
+    const-string/jumbo v7, "phoneCall"
+
+    const/16 v22, 0x0
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v2, v4, v6, v7, v0}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+
+    goto/16 :goto_146
+
+    :cond_210
+    const-string v2, "Instrumentation"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v6, "PDroid:Instrumentation:execStartActivities: Call intents denied: Settings deny "
+
+    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v6
+
+    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v9, 0x0
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual/range {v19 .. v19}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v6
+
+    const-string/jumbo v7, "phoneCall"
+
+    const/16 v22, 0x0
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v2, v4, v6, v7, v0}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+
+    goto/16 :goto_146
+
+    :catch_245
+    move-exception v13
+
+    const-string v2, "Instrumentation"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v6, "PDroid:Instrumentation:execStartActivities: Exception occurred when checking intent for "
+
+    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v6
+
+    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v2, v4, v13}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto/16 :goto_182
+
+    :cond_264
+    invoke-interface {v14}, Ljava/util/List;->size()I
+
+    move-result v2
+
+    new-array v2, v2, [Landroid/content/Intent;
+
+    invoke-interface {v14, v2}, Ljava/util/List;->toArray([Ljava/lang/Object;)[Ljava/lang/Object;
+
+    move-result-object p5
+
+    check-cast p5, [Landroid/content/Intent;
+
+    move-object/from16 v21, p1
+
+    new-instance v2, Ljava/lang/Thread;
+
+    new-instance v4, Landroid/app/Instrumentation$2;
+
+    move-object/from16 v0, p0
+
+    move-object/from16 v1, v21
+
+    invoke-direct {v4, v0, v1}, Landroid/app/Instrumentation$2;-><init>(Landroid/app/Instrumentation;Landroid/content/Context;)V
+
+    invoke-direct {v2, v4}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;)V
+
+    invoke-virtual {v2}, Ljava/lang/Thread;->start()V
+
+    goto/16 :goto_6f
+
+    :cond_285
+    add-int/lit8 v15, v15, 0x1
+
+    goto/16 :goto_83
+
+    :cond_289
+    :try_start_289
+    monitor-exit v4
+    :try_end_28a
+    .catchall {:try_start_289 .. :try_end_28a} :catchall_2aa
+
+    :cond_28a
+    :try_start_28a
+    move-object/from16 v0, p5
+
+    array-length v2, v0
+
+    new-array v5, v2, [Ljava/lang/String;
+
+    const/4 v15, 0x0
+
+    :goto_290
+    move-object/from16 v0, p5
+
+    array-length v2, v0
+
+    if-ge v15, v2, :cond_2ad
+
+    aget-object v2, p5, v15
+
+    const/4 v4, 0x0
+
+    invoke-virtual {v2, v4}, Landroid/content/Intent;->setAllowFds(Z)V
+
+    aget-object v2, p5, v15
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
+
+    move-result-object v4
+
+    invoke-virtual {v2, v4}, Landroid/content/Intent;->resolveTypeIfNeeded(Landroid/content/ContentResolver;)Ljava/lang/String;
+
+    move-result-object v2
+
+    aput-object v2, v5, v15
+    :try_end_2a7
+    .catch Landroid/os/RemoteException; {:try_start_28a .. :try_end_2a7} :catch_2c5
+
+    add-int/lit8 v15, v15, 0x1
+
+    goto :goto_290
+
+    :catchall_2aa
+    move-exception v2
+
+    :try_start_2ab
+    monitor-exit v4
+    :try_end_2ac
+    .catchall {:try_start_2ab .. :try_end_2ac} :catchall_2aa
+
+    throw v2
+
+    :cond_2ad
+    :try_start_2ad
+    invoke-static {}, Landroid/app/ActivityManagerNative;->getDefault()Landroid/app/IActivityManager;
+
+    move-result-object v2
+
+    move-object/from16 v4, p5
+
+    move-object/from16 v6, p3
+
+    move-object/from16 v7, p6
+
+    invoke-interface/range {v2 .. v7}, Landroid/app/IActivityManager;->startActivities(Landroid/app/IApplicationThread;[Landroid/content/Intent;[Ljava/lang/String;Landroid/os/IBinder;Landroid/os/Bundle;)I
+
+    move-result v20
+
+    const/4 v2, 0x0
+
+    aget-object v2, p5, v2
+
+    move/from16 v0, v20
+
+    invoke-static {v0, v2}, Landroid/app/Instrumentation;->checkStartActivityResult(ILjava/lang/Object;)V
+    :try_end_2c3
+    .catch Landroid/os/RemoteException; {:try_start_2ad .. :try_end_2c3} :catch_2c5
+
+    goto/16 :goto_a8
+
+    :catch_2c5
+    move-exception v2
+
+    goto/16 :goto_a8
+.end method
+
+.method public execStartActivity(Landroid/content/Context;Landroid/os/IBinder;Landroid/os/IBinder;Landroid/app/Activity;Landroid/content/Intent;ILandroid/os/Bundle;)Landroid/app/Instrumentation$ActivityResult;
+    .registers 29
+
+    move-object/from16 v3, p2
+
+    check-cast v3, Landroid/app/IApplicationThread;
+
+    const/4 v14, 0x1
+
+    :try_start_5
+    const-string v2, "Instrumentation"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "PDroid:Instrumentation:execStartActivity: execStartActivity for "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual/range {p5 .. p5}, Landroid/content/Intent;->getAction()Ljava/lang/String;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_b7
+
+    invoke-virtual/range {p5 .. p5}, Landroid/content/Intent;->getAction()Ljava/lang/String;
+
+    move-result-object v2
+
+    const-string v4, "android.intent.action.CALL"
+
+    invoke-virtual {v2, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-nez v2, :cond_3f
+
+    invoke-virtual/range {p5 .. p5}, Landroid/content/Intent;->getAction()Ljava/lang/String;
+
+    move-result-object v2
+
+    const-string v4, "android.intent.action.DIAL"
+
+    invoke-virtual {v2, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_b7
+
+    :cond_3f
+    const/4 v14, 0x0
+
+    const-string v2, "Instrumentation"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "PDroid:Instrumentation:execStartActivity: Intent action = Intent.ACTION_CALL or Intent.ACTION_DIAL for "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v2, :cond_6c
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettingsManager;->isServiceAvailable()Z
+
+    move-result v2
+
+    if-nez v2, :cond_125
+
+    :cond_6c
+    new-instance v2, Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v4, "privacy"
+
+    invoke-static {v4}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v4
+
+    invoke-static {v4}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v4
+
+    move-object/from16 v0, p1
+
+    invoke-direct {v2, v0, v4}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    move-object/from16 v0, p0
+
+    iput-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v2, :cond_fb
+
+    const-string v2, "Instrumentation"
+
+    const-string v4, "PDroid:Instrumentation:execStartActivity: Obtained privacy service"
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_8f
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v2, :cond_9f
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettingsManager;->isServiceAvailable()Z
+
+    move-result v2
+
+    if-nez v2, :cond_12e
+
+    :cond_9f
+    const-string v2, "Instrumentation"
+
+    const-string v4, "PDroid:Instrumentation:execStartActivity: Privacy service not available: rejecting call attempt"
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v14, 0x0
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    const/4 v5, 0x1
+
+    const-string/jumbo v6, "phoneCall"
+
+    const/4 v7, 0x0
+
+    invoke-virtual {v2, v4, v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+    :try_end_b7
+    .catch Ljava/lang/Exception; {:try_start_5 .. :try_end_b7} :catch_103
+
+    :cond_b7
+    :goto_b7
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mActivityMonitors:Ljava/util/List;
+
+    if-eqz v2, :cond_1fb
+
+    move-object/from16 v0, p0
+
+    iget-object v4, v0, Landroid/app/Instrumentation;->mSync:Ljava/lang/Object;
+
+    monitor-enter v4
+
+    :try_start_c2
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mActivityMonitors:Ljava/util/List;
+
+    invoke-interface {v2}, Ljava/util/List;->size()I
+
+    move-result v13
+
+    const/16 v17, 0x0
+
+    :goto_cc
+    move/from16 v0, v17
+
+    if-ge v0, v13, :cond_1fa
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mActivityMonitors:Ljava/util/List;
+
+    move/from16 v0, v17
+
+    invoke-interface {v2, v0}, Ljava/util/List;->get(I)Ljava/lang/Object;
+
+    move-result-object v15
+
+    check-cast v15, Landroid/app/Instrumentation$ActivityMonitor;
+
+    const/4 v2, 0x0
+
+    move-object/from16 v0, p1
+
+    move-object/from16 v1, p5
+
+    invoke-virtual {v15, v0, v2, v1}, Landroid/app/Instrumentation$ActivityMonitor;->match(Landroid/content/Context;Landroid/app/Activity;Landroid/content/Intent;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_1f6
+
+    iget v2, v15, Landroid/app/Instrumentation$ActivityMonitor;->mHits:I
+
+    add-int/lit8 v2, v2, 0x1
+
+    iput v2, v15, Landroid/app/Instrumentation$ActivityMonitor;->mHits:I
+
+    invoke-virtual {v15}, Landroid/app/Instrumentation$ActivityMonitor;->isBlocking()Z
+
+    move-result v2
+
+    if-eqz v2, :cond_1fa
+
+    if-ltz p6, :cond_1f3
+
+    invoke-virtual {v15}, Landroid/app/Instrumentation$ActivityMonitor;->getResult()Landroid/app/Instrumentation$ActivityResult;
+
+    move-result-object v2
+
+    :goto_f9
+    monitor-exit v4
+    :try_end_fa
+    .catchall {:try_start_c2 .. :try_end_fa} :catchall_215
+
+    :goto_fa
+    return-object v2
+
+    :cond_fb
+    :try_start_fb
+    const-string v2, "Instrumentation"
+
+    const-string v4, "PDroid:Instrumentation:execStartActivity: Privacy service not obtained"
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_102
+    .catch Ljava/lang/Exception; {:try_start_fb .. :try_end_102} :catch_103
+
+    goto :goto_8f
+
+    :catch_103
+    move-exception v16
+
+    if-eqz p1, :cond_1e8
+
+    const-string v2, "Instrumentation"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "PDroid:Instrumentation:execStartActivity: Exception occurred handling intent for "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    move-object/from16 v0, v16
+
+    invoke-static {v2, v4, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_b7
+
+    :cond_125
+    :try_start_125
+    const-string v2, "Instrumentation"
+
+    const-string v4, "PDroid:Instrumentation:execStartActivity: Already had privacy service"
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_8f
+
+    :cond_12e
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v2, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+
+    move-result-object v18
+
+    if-nez v18, :cond_16b
+
+    const-string v2, "Instrumentation"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "PDroid:Instrumentation:execStartActivity: Call allowed: No settings for package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v14, 0x1
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    const/4 v5, 0x0
+
+    const-string/jumbo v6, "phoneCall"
+
+    const/4 v7, 0x0
+
+    invoke-virtual {v2, v4, v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+
+    goto/16 :goto_b7
+
+    :cond_16b
+    invoke-virtual/range {v18 .. v18}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v2
+
+    if-nez v2, :cond_1a3
+
+    const-string v2, "Instrumentation"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "PDroid:Instrumentation:execStartActivity: Call allowed: Settings permit "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v14, 0x1
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual/range {v18 .. v18}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v5
+
+    const-string/jumbo v6, "phoneCall"
+
+    const/4 v7, 0x0
+
+    invoke-virtual {v2, v4, v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+
+    goto/16 :goto_b7
+
+    :cond_1a3
+    const-string v2, "Instrumentation"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "PDroid:Instrumentation:execStartActivity: Call denied: Settings deny "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v14, 0x0
+
+    move-object/from16 v20, p1
+
+    new-instance v2, Ljava/lang/Thread;
+
+    new-instance v4, Landroid/app/Instrumentation$1;
+
+    move-object/from16 v0, p0
+
+    move-object/from16 v1, v20
+
+    invoke-direct {v4, v0, v1}, Landroid/app/Instrumentation$1;-><init>(Landroid/app/Instrumentation;Landroid/content/Context;)V
+
+    invoke-direct {v2, v4}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;)V
+
+    invoke-virtual {v2}, Ljava/lang/Thread;->start()V
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual/range {v18 .. v18}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v5
+
+    const-string/jumbo v6, "phoneCall"
+
+    const/4 v7, 0x0
+
+    invoke-virtual {v2, v4, v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+    :try_end_1e6
+    .catch Ljava/lang/Exception; {:try_start_125 .. :try_end_1e6} :catch_103
+
+    goto/16 :goto_b7
+
+    :cond_1e8
+    const-string v2, "Instrumentation"
+
+    const-string v4, "PDroid:Instrumentation:execStartActivity: Exception occurred handling intent for unknown package"
+
+    move-object/from16 v0, v16
+
+    invoke-static {v2, v4, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto/16 :goto_b7
+
+    :cond_1f3
+    const/4 v2, 0x0
+
+    goto/16 :goto_f9
+
+    :cond_1f6
+    add-int/lit8 v17, v17, 0x1
+
+    goto/16 :goto_cc
+
+    :cond_1fa
+    :try_start_1fa
+    monitor-exit v4
+    :try_end_1fb
+    .catchall {:try_start_1fa .. :try_end_1fb} :catchall_215
+
+    :cond_1fb
+    if-nez v14, :cond_218
+
+    :try_start_1fd
+    new-instance v2, Landroid/app/Instrumentation$ActivityResult;
+
+    move/from16 v0, p6
+
+    move-object/from16 v1, p5
+
+    invoke-direct {v2, v0, v1}, Landroid/app/Instrumentation$ActivityResult;-><init>(ILandroid/content/Intent;)V
+    :try_end_206
+    .catch Ljava/lang/Exception; {:try_start_1fd .. :try_end_206} :catch_208
+
+    goto/16 :goto_fa
+
+    :catch_208
+    move-exception v16
+
+    const-string v2, "Instrumentation"
+
+    const-string v4, "PDroid:Instrumentation:execStartActivity: Exception occurred while trying to create ActivityResult"
+
+    move-object/from16 v0, v16
+
+    invoke-static {v2, v4, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    const/4 v2, 0x0
+
+    goto/16 :goto_fa
+
+    :catchall_215
+    move-exception v2
+
+    :try_start_216
+    monitor-exit v4
+    :try_end_217
+    .catchall {:try_start_216 .. :try_end_217} :catchall_215
+
+    throw v2
+
+    :cond_218
+    const/4 v2, 0x0
+
+    :try_start_219
+    move-object/from16 v0, p5
+
+    invoke-virtual {v0, v2}, Landroid/content/Intent;->setAllowFds(Z)V
+
+    invoke-virtual/range {p5 .. p5}, Landroid/content/Intent;->migrateExtraStreamToClipData()Z
+
+    invoke-static {}, Landroid/app/ActivityManagerNative;->getDefault()Landroid/app/IActivityManager;
+
+    move-result-object v2
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
+
+    move-result-object v4
+
+    move-object/from16 v0, p5
+
+    invoke-virtual {v0, v4}, Landroid/content/Intent;->resolveTypeIfNeeded(Landroid/content/ContentResolver;)Ljava/lang/String;
+
+    move-result-object v5
+
+    if-eqz p4, :cond_24e
+
+    move-object/from16 v0, p4
+
+    iget-object v7, v0, Landroid/app/Activity;->mEmbeddedID:Ljava/lang/String;
+
+    :goto_235
+    const/4 v9, 0x0
+
+    const/4 v10, 0x0
+
+    const/4 v11, 0x0
+
+    move-object/from16 v4, p5
+
+    move-object/from16 v6, p3
+
+    move/from16 v8, p6
+
+    move-object/from16 v12, p7
+
+    invoke-interface/range {v2 .. v12}, Landroid/app/IActivityManager;->startActivity(Landroid/app/IApplicationThread;Landroid/content/Intent;Ljava/lang/String;Landroid/os/IBinder;Ljava/lang/String;IILjava/lang/String;Landroid/os/ParcelFileDescriptor;Landroid/os/Bundle;)I
+
+    move-result v19
+
+    move/from16 v0, v19
+
+    move-object/from16 v1, p5
+
+    invoke-static {v0, v1}, Landroid/app/Instrumentation;->checkStartActivityResult(ILjava/lang/Object;)V
+    :try_end_24b
+    .catch Landroid/os/RemoteException; {:try_start_219 .. :try_end_24b} :catch_250
+
+    :goto_24b
+    const/4 v2, 0x0
+
+    goto/16 :goto_fa
+
+    :cond_24e
+    const/4 v7, 0x0
+
+    goto :goto_235
+
+    :catch_250
+    move-exception v2
+
+    goto :goto_24b
+.end method
+
+.method public execStartActivity(Landroid/content/Context;Landroid/os/IBinder;Landroid/os/IBinder;Landroid/app/Fragment;Landroid/content/Intent;ILandroid/os/Bundle;)Landroid/app/Instrumentation$ActivityResult;
+    .registers 29
+
+    move-object/from16 v3, p2
+
+    check-cast v3, Landroid/app/IApplicationThread;
+
+    const/4 v14, 0x1
+
+    :try_start_5
+    const-string v2, "Instrumentation"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "PDroid:Instrumentation:execStartActivity (with Fragments): execStartActivity for "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual/range {p5 .. p5}, Landroid/content/Intent;->getAction()Ljava/lang/String;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_b7
+
+    invoke-virtual/range {p5 .. p5}, Landroid/content/Intent;->getAction()Ljava/lang/String;
+
+    move-result-object v2
+
+    const-string v4, "android.intent.action.CALL"
+
+    invoke-virtual {v2, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-nez v2, :cond_3f
+
+    invoke-virtual/range {p5 .. p5}, Landroid/content/Intent;->getAction()Ljava/lang/String;
+
+    move-result-object v2
+
+    const-string v4, "android.intent.action.DIAL"
+
+    invoke-virtual {v2, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_b7
+
+    :cond_3f
+    const/4 v14, 0x0
+
+    const-string v2, "Instrumentation"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "PDroid:Instrumentation:execStartActivity (with Fragments): Intent action = Intent.ACTION_CALL or Intent.ACTION_DIAL for "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v2, :cond_6c
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettingsManager;->isServiceAvailable()Z
+
+    move-result v2
+
+    if-nez v2, :cond_125
+
+    :cond_6c
+    new-instance v2, Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v4, "privacy"
+
+    invoke-static {v4}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v4
+
+    invoke-static {v4}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v4
+
+    move-object/from16 v0, p1
+
+    invoke-direct {v2, v0, v4}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    move-object/from16 v0, p0
+
+    iput-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v2, :cond_fb
+
+    const-string v2, "Instrumentation"
+
+    const-string v4, "PDroid:Instrumentation:execStartActivity (with Fragments): Obtained privacy service"
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_8f
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v2, :cond_9f
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettingsManager;->isServiceAvailable()Z
+
+    move-result v2
+
+    if-nez v2, :cond_12e
+
+    :cond_9f
+    const-string v2, "Instrumentation"
+
+    const-string v4, "PDroid:Instrumentation:execStartActivity (with Fragments): Privacy service not available: rejecting call attempt"
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v14, 0x0
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    const/4 v5, 0x1
+
+    const-string/jumbo v6, "phoneCall"
+
+    const/4 v7, 0x0
+
+    invoke-virtual {v2, v4, v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+    :try_end_b7
+    .catch Ljava/lang/Exception; {:try_start_5 .. :try_end_b7} :catch_103
+
+    :cond_b7
+    :goto_b7
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mActivityMonitors:Ljava/util/List;
+
+    if-eqz v2, :cond_1fb
+
+    move-object/from16 v0, p0
+
+    iget-object v4, v0, Landroid/app/Instrumentation;->mSync:Ljava/lang/Object;
+
+    monitor-enter v4
+
+    :try_start_c2
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mActivityMonitors:Ljava/util/List;
+
+    invoke-interface {v2}, Ljava/util/List;->size()I
+
+    move-result v13
+
+    const/16 v17, 0x0
+
+    :goto_cc
+    move/from16 v0, v17
+
+    if-ge v0, v13, :cond_1fa
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mActivityMonitors:Ljava/util/List;
+
+    move/from16 v0, v17
+
+    invoke-interface {v2, v0}, Ljava/util/List;->get(I)Ljava/lang/Object;
+
+    move-result-object v15
+
+    check-cast v15, Landroid/app/Instrumentation$ActivityMonitor;
+
+    const/4 v2, 0x0
+
+    move-object/from16 v0, p1
+
+    move-object/from16 v1, p5
+
+    invoke-virtual {v15, v0, v2, v1}, Landroid/app/Instrumentation$ActivityMonitor;->match(Landroid/content/Context;Landroid/app/Activity;Landroid/content/Intent;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_1f6
+
+    iget v2, v15, Landroid/app/Instrumentation$ActivityMonitor;->mHits:I
+
+    add-int/lit8 v2, v2, 0x1
+
+    iput v2, v15, Landroid/app/Instrumentation$ActivityMonitor;->mHits:I
+
+    invoke-virtual {v15}, Landroid/app/Instrumentation$ActivityMonitor;->isBlocking()Z
+
+    move-result v2
+
+    if-eqz v2, :cond_1fa
+
+    if-ltz p6, :cond_1f3
+
+    invoke-virtual {v15}, Landroid/app/Instrumentation$ActivityMonitor;->getResult()Landroid/app/Instrumentation$ActivityResult;
+
+    move-result-object v2
+
+    :goto_f9
+    monitor-exit v4
+    :try_end_fa
+    .catchall {:try_start_c2 .. :try_end_fa} :catchall_215
+
+    :goto_fa
+    return-object v2
+
+    :cond_fb
+    :try_start_fb
+    const-string v2, "Instrumentation"
+
+    const-string v4, "PDroid:Instrumentation:execStartActivity (with Fragments): Privacy service not obtained"
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_102
+    .catch Ljava/lang/Exception; {:try_start_fb .. :try_end_102} :catch_103
+
+    goto :goto_8f
+
+    :catch_103
+    move-exception v16
+
+    if-eqz p1, :cond_1e8
+
+    const-string v2, "Instrumentation"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "PDroid:Instrumentation:execStartActivity (with Fragments): Exception occurred handling intent for "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    move-object/from16 v0, v16
+
+    invoke-static {v2, v4, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_b7
+
+    :cond_125
+    :try_start_125
+    const-string v2, "Instrumentation"
+
+    const-string v4, "PDroid:Instrumentation:execStartActivity (with Fragments): Already had privacy service"
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_8f
+
+    :cond_12e
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v2, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+
+    move-result-object v18
+
+    if-nez v18, :cond_16b
+
+    const-string v2, "Instrumentation"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "PDroid:Instrumentation:execStartActivity (with Fragments): Call allowed: No settings for package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v14, 0x1
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    const/4 v5, 0x0
+
+    const-string/jumbo v6, "phoneCall"
+
+    const/4 v7, 0x0
+
+    invoke-virtual {v2, v4, v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+
+    goto/16 :goto_b7
+
+    :cond_16b
+    invoke-virtual/range {v18 .. v18}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v2
+
+    if-nez v2, :cond_1a3
+
+    const-string v2, "Instrumentation"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "PDroid:Instrumentation:execStartActivity (with Fragments): Call allowed: Settings permit "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v14, 0x1
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual/range {v18 .. v18}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v5
+
+    const-string/jumbo v6, "phoneCall"
+
+    const/4 v7, 0x0
+
+    invoke-virtual {v2, v4, v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+
+    goto/16 :goto_b7
+
+    :cond_1a3
+    const-string v2, "Instrumentation"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "PDroid:Instrumentation:execStartActivity (with Fragments): Call denied: Settings deny "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v2, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    move-object/from16 v20, p1
+
+    const/4 v14, 0x0
+
+    new-instance v2, Ljava/lang/Thread;
+
+    new-instance v4, Landroid/app/Instrumentation$3;
+
+    move-object/from16 v0, p0
+
+    move-object/from16 v1, v20
+
+    invoke-direct {v4, v0, v1}, Landroid/app/Instrumentation$3;-><init>(Landroid/app/Instrumentation;Landroid/content/Context;)V
+
+    invoke-direct {v2, v4}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;)V
+
+    invoke-virtual {v2}, Ljava/lang/Thread;->start()V
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/app/Instrumentation;->mPrvSvc:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual/range {v18 .. v18}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v5
+
+    const-string/jumbo v6, "phoneCall"
+
+    const/4 v7, 0x0
+
+    invoke-virtual {v2, v4, v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+    :try_end_1e6
+    .catch Ljava/lang/Exception; {:try_start_125 .. :try_end_1e6} :catch_103
+
+    goto/16 :goto_b7
+
+    :cond_1e8
+    const-string v2, "Instrumentation"
+
+    const-string v4, "PDroid:Instrumentation:execStartActivity (with Fragments): Exception occurred handling intent for unknown package"
+
+    move-object/from16 v0, v16
+
+    invoke-static {v2, v4, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto/16 :goto_b7
+
+    :cond_1f3
+    const/4 v2, 0x0
+
+    goto/16 :goto_f9
+
+    :cond_1f6
+    add-int/lit8 v17, v17, 0x1
+
+    goto/16 :goto_cc
+
+    :cond_1fa
+    :try_start_1fa
+    monitor-exit v4
+    :try_end_1fb
+    .catchall {:try_start_1fa .. :try_end_1fb} :catchall_215
+
+    :cond_1fb
+    if-nez v14, :cond_218
+
+    :try_start_1fd
+    new-instance v2, Landroid/app/Instrumentation$ActivityResult;
+
+    move/from16 v0, p6
+
+    move-object/from16 v1, p5
+
+    invoke-direct {v2, v0, v1}, Landroid/app/Instrumentation$ActivityResult;-><init>(ILandroid/content/Intent;)V
+    :try_end_206
+    .catch Ljava/lang/Exception; {:try_start_1fd .. :try_end_206} :catch_208
+
+    goto/16 :goto_fa
+
+    :catch_208
+    move-exception v16
+
+    const-string v2, "Instrumentation"
+
+    const-string v4, "PDroid:Instrumentation:execStartActivity (with Fragments): Exception occurred while trying to create ActivityResult"
+
+    move-object/from16 v0, v16
+
+    invoke-static {v2, v4, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    const/4 v2, 0x0
+
+    goto/16 :goto_fa
+
+    :catchall_215
+    move-exception v2
+
+    :try_start_216
+    monitor-exit v4
+    :try_end_217
+    .catchall {:try_start_216 .. :try_end_217} :catchall_215
+
+    throw v2
+
+    :cond_218
+    const/4 v2, 0x0
+
+    :try_start_219
+    move-object/from16 v0, p5
+
+    invoke-virtual {v0, v2}, Landroid/content/Intent;->setAllowFds(Z)V
+
+    invoke-virtual/range {p5 .. p5}, Landroid/content/Intent;->migrateExtraStreamToClipData()Z
+
+    invoke-static {}, Landroid/app/ActivityManagerNative;->getDefault()Landroid/app/IActivityManager;
+
+    move-result-object v2
+
+    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
+
+    move-result-object v4
+
+    move-object/from16 v0, p5
+
+    invoke-virtual {v0, v4}, Landroid/content/Intent;->resolveTypeIfNeeded(Landroid/content/ContentResolver;)Ljava/lang/String;
+
+    move-result-object v5
+
+    if-eqz p4, :cond_24e
+
+    move-object/from16 v0, p4
+
+    iget-object v7, v0, Landroid/app/Fragment;->mWho:Ljava/lang/String;
+
+    :goto_235
+    const/4 v9, 0x0
+
+    const/4 v10, 0x0
+
+    const/4 v11, 0x0
+
+    move-object/from16 v4, p5
+
+    move-object/from16 v6, p3
+
+    move/from16 v8, p6
+
+    move-object/from16 v12, p7
+
+    invoke-interface/range {v2 .. v12}, Landroid/app/IActivityManager;->startActivity(Landroid/app/IApplicationThread;Landroid/content/Intent;Ljava/lang/String;Landroid/os/IBinder;Ljava/lang/String;IILjava/lang/String;Landroid/os/ParcelFileDescriptor;Landroid/os/Bundle;)I
+
+    move-result v19
+
+    move/from16 v0, v19
+
+    move-object/from16 v1, p5
+
+    invoke-static {v0, v1}, Landroid/app/Instrumentation;->checkStartActivityResult(ILjava/lang/Object;)V
+    :try_end_24b
+    .catch Landroid/os/RemoteException; {:try_start_219 .. :try_end_24b} :catch_250
+
+    :goto_24b
+    const/4 v2, 0x0
+
+    goto/16 :goto_fa
 
-    :cond_81
+    :cond_24e
     const/4 v7, 0x0
 
-    goto :goto_66
+    goto :goto_235
 
-    :catch_83
+    :catch_250
     move-exception v2
 
-    goto :goto_7c
+    goto :goto_24b
 .end method
 
 .method public finish(ILandroid/os/Bundle;)V
diff -Npruw stock-framework/smali/android/content/ContentResolver.smali pdroid-framework/smali/android/content/ContentResolver.smali
--- stock-framework/smali/android/content/ContentResolver.smali	2013-07-15 18:10:54.818628033 -0500
+++ pdroid-framework/smali/android/content/ContentResolver.smali	2013-07-15 18:10:48.358628203 -0500
@@ -1778,12 +1778,12 @@
 
     invoke-direct/range {v0 .. v5}, Landroid/content/ContentResolver;->maybeLogUpdateToEventLog(JLandroid/net/Uri;Ljava/lang/String;Ljava/lang/String;)V
     :try_end_35
-    .catchall {:try_start_1f .. :try_end_35} :catchall_3c
+    .catchall {:try_start_1f .. :try_end_35} :catchall_3f
     .catch Landroid/os/RemoteException; {:try_start_1f .. :try_end_35} :catch_39
 
-    :goto_35
     invoke-virtual {p0, v7}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
+    :goto_38
     return v8
 
     :catch_39
@@ -1791,9 +1791,11 @@
 
     const/4 v8, 0x0
 
-    goto :goto_35
+    invoke-virtual {p0, v7}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
+
+    goto :goto_38
 
-    :catchall_3c
+    :catchall_3f
     move-exception v0
 
     invoke-virtual {p0, v7}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
@@ -1860,14 +1862,14 @@
     :try_start_35
     invoke-interface {v1, p2, p3, p4}, Landroid/content/IContentProvider;->call(Ljava/lang/String;Ljava/lang/String;Landroid/os/Bundle;)Landroid/os/Bundle;
     :try_end_38
-    .catchall {:try_start_35 .. :try_end_38} :catchall_40
+    .catchall {:try_start_35 .. :try_end_38} :catchall_43
     .catch Landroid/os/RemoteException; {:try_start_35 .. :try_end_38} :catch_3d
 
     move-result-object v2
 
-    :goto_39
     invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
+    :goto_3c
     return-object v2
 
     :catch_3d
@@ -1875,9 +1877,11 @@
 
     const/4 v2, 0x0
 
-    goto :goto_39
+    invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
-    :catchall_40
+    goto :goto_3c
+
+    :catchall_43
     move-exception v2
 
     invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
@@ -1968,12 +1972,12 @@
 
     invoke-direct/range {v0 .. v5}, Landroid/content/ContentResolver;->maybeLogUpdateToEventLog(JLandroid/net/Uri;Ljava/lang/String;Ljava/lang/String;)V
     :try_end_35
-    .catchall {:try_start_1f .. :try_end_35} :catchall_3c
+    .catchall {:try_start_1f .. :try_end_35} :catchall_3f
     .catch Landroid/os/RemoteException; {:try_start_1f .. :try_end_35} :catch_39
 
-    :goto_35
     invoke-virtual {p0, v7}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
+    :goto_38
     return v8
 
     :catch_39
@@ -1981,9 +1985,11 @@
 
     const/4 v8, -0x1
 
-    goto :goto_35
+    invoke-virtual {p0, v7}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
+
+    goto :goto_38
 
-    :catchall_3c
+    :catchall_3f
     move-exception v0
 
     invoke-virtual {p0, v7}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
@@ -2262,12 +2268,11 @@
     :try_start_8
     invoke-interface {v1, p1, p2}, Landroid/content/IContentProvider;->getStreamTypes(Landroid/net/Uri;Ljava/lang/String;)[Ljava/lang/String;
     :try_end_b
-    .catchall {:try_start_8 .. :try_end_b} :catchall_12
+    .catchall {:try_start_8 .. :try_end_b} :catchall_15
     .catch Landroid/os/RemoteException; {:try_start_8 .. :try_end_b} :catch_10
 
     move-result-object v2
 
-    :goto_c
     invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
     goto :goto_7
@@ -2275,9 +2280,11 @@
     :catch_10
     move-exception v0
 
-    goto :goto_c
+    invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
-    :catchall_12
+    goto :goto_7
+
+    :catchall_15
     move-exception v2
 
     invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
@@ -2294,18 +2301,17 @@
 
     move-result-object v1
 
-    if-eqz v1, :cond_44
+    if-eqz v1, :cond_4a
 
     :try_start_7
     invoke-interface {v1, p1}, Landroid/content/IContentProvider;->getType(Landroid/net/Uri;)Ljava/lang/String;
     :try_end_a
-    .catchall {:try_start_7 .. :try_end_a} :catchall_3f
+    .catchall {:try_start_7 .. :try_end_a} :catchall_45
     .catch Landroid/os/RemoteException; {:try_start_7 .. :try_end_a} :catch_f
-    .catch Ljava/lang/Exception; {:try_start_7 .. :try_end_a} :catch_11
+    .catch Ljava/lang/Exception; {:try_start_7 .. :try_end_a} :catch_14
 
     move-result-object v2
 
-    :goto_b
     invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
     :cond_e
@@ -2315,12 +2321,14 @@
     :catch_f
     move-exception v0
 
-    goto :goto_b
+    invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
+
+    goto :goto_e
 
-    :catch_11
+    :catch_14
     move-exception v0
 
-    :try_start_12
+    :try_start_15
     const-string v3, "ContentResolver"
 
     new-instance v4, Ljava/lang/StringBuilder;
@@ -2362,19 +2370,21 @@
     move-result-object v4
 
     invoke-static {v3, v4}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
-    :try_end_3e
-    .catchall {:try_start_12 .. :try_end_3e} :catchall_3f
+    :try_end_41
+    .catchall {:try_start_15 .. :try_end_41} :catchall_45
 
-    goto :goto_b
+    invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
-    :catchall_3f
+    goto :goto_e
+
+    :catchall_45
     move-exception v3
 
     invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
     throw v3
 
-    :cond_44
+    :cond_4a
     const-string v3, "content"
 
     invoke-virtual {p1}, Landroid/net/Uri;->getScheme()Ljava/lang/String;
@@ -2387,26 +2397,26 @@
 
     if-eqz v3, :cond_e
 
-    :try_start_50
+    :try_start_56
     invoke-static {}, Landroid/app/ActivityManagerNative;->getDefault()Landroid/app/IActivityManager;
 
     move-result-object v3
 
     invoke-interface {v3, p1}, Landroid/app/IActivityManager;->getProviderMimeType(Landroid/net/Uri;)Ljava/lang/String;
-    :try_end_57
-    .catch Landroid/os/RemoteException; {:try_start_50 .. :try_end_57} :catch_59
-    .catch Ljava/lang/Exception; {:try_start_50 .. :try_end_57} :catch_5b
+    :try_end_5d
+    .catch Landroid/os/RemoteException; {:try_start_56 .. :try_end_5d} :catch_5f
+    .catch Ljava/lang/Exception; {:try_start_56 .. :try_end_5d} :catch_61
 
     move-result-object v2
 
     goto :goto_e
 
-    :catch_59
+    :catch_5f
     move-exception v0
 
     goto :goto_e
 
-    :catch_5b
+    :catch_61
     move-exception v0
 
     const-string v3, "ContentResolver"
@@ -2798,11 +2808,11 @@
     .catchall {:try_start_aa .. :try_end_ad} :catchall_f8
     .catch Landroid/os/DeadObjectException; {:try_start_aa .. :try_end_ad} :catch_bb
     .catch Landroid/os/RemoteException; {:try_start_aa .. :try_end_ad} :catch_de
-    .catch Ljava/io/FileNotFoundException; {:try_start_aa .. :try_end_ad} :catch_13b
+    .catch Ljava/io/FileNotFoundException; {:try_start_aa .. :try_end_ad} :catch_142
 
     move-result-object v8
 
-    if-nez v8, :cond_112
+    if-nez v8, :cond_116
 
     if-eqz v11, :cond_b5
 
@@ -2811,7 +2821,6 @@
     :cond_b5
     if-eqz v12, :cond_3b
 
-    :goto_b7
     invoke-virtual {p0, v12}, Landroid/content/ContentResolver;->releaseUnstableProvider(Landroid/content/IContentProvider;)Z
 
     goto :goto_3b
@@ -2854,7 +2863,7 @@
     :try_end_de
     .catchall {:try_start_bc .. :try_end_de} :catchall_f8
     .catch Landroid/os/RemoteException; {:try_start_bc .. :try_end_de} :catch_de
-    .catch Ljava/io/FileNotFoundException; {:try_start_bc .. :try_end_de} :catch_13b
+    .catch Ljava/io/FileNotFoundException; {:try_start_bc .. :try_end_de} :catch_142
 
     :catch_de
     move-exception v6
@@ -2907,11 +2916,11 @@
     :try_end_107
     .catchall {:try_start_104 .. :try_end_107} :catchall_f8
     .catch Landroid/os/RemoteException; {:try_start_104 .. :try_end_107} :catch_de
-    .catch Ljava/io/FileNotFoundException; {:try_start_104 .. :try_end_107} :catch_13b
+    .catch Ljava/io/FileNotFoundException; {:try_start_104 .. :try_end_107} :catch_142
 
     move-result-object v8
 
-    if-nez v8, :cond_112
+    if-nez v8, :cond_116
 
     if-eqz v11, :cond_10f
 
@@ -2920,17 +2929,19 @@
     :cond_10f
     if-eqz v12, :cond_3b
 
-    goto :goto_b7
+    invoke-virtual {p0, v12}, Landroid/content/ContentResolver;->releaseUnstableProvider(Landroid/content/IContentProvider;)Z
+
+    goto/16 :goto_3b
 
-    :cond_112
-    if-nez v11, :cond_118
+    :cond_116
+    if-nez v11, :cond_11c
 
-    :try_start_114
+    :try_start_118
     invoke-virtual {p0, p1}, Landroid/content/ContentResolver;->acquireProvider(Landroid/net/Uri;)Landroid/content/IContentProvider;
 
     move-result-object v11
 
-    :cond_118
+    :cond_11c
     invoke-virtual {p0, v12}, Landroid/content/ContentResolver;->releaseUnstableProvider(Landroid/content/IContentProvider;)Z
 
     new-instance v1, Landroid/content/ContentResolver$ParcelFileDescriptorInner;
@@ -2954,27 +2965,29 @@
     move-result-wide v4
 
     invoke-direct/range {v0 .. v5}, Landroid/content/res/AssetFileDescriptor;-><init>(Landroid/os/ParcelFileDescriptor;JJ)V
-    :try_end_132
-    .catchall {:try_start_114 .. :try_end_132} :catchall_f8
-    .catch Landroid/os/RemoteException; {:try_start_114 .. :try_end_132} :catch_de
-    .catch Ljava/io/FileNotFoundException; {:try_start_114 .. :try_end_132} :catch_13b
+    :try_end_136
+    .catchall {:try_start_118 .. :try_end_136} :catchall_f8
+    .catch Landroid/os/RemoteException; {:try_start_118 .. :try_end_136} :catch_de
+    .catch Ljava/io/FileNotFoundException; {:try_start_118 .. :try_end_136} :catch_142
 
-    if-eqz v11, :cond_137
+    if-eqz v11, :cond_13b
 
     invoke-virtual {p0, v11}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
-    :cond_137
+    :cond_13b
     if-eqz v12, :cond_3b
 
-    goto/16 :goto_b7
+    invoke-virtual {p0, v12}, Landroid/content/ContentResolver;->releaseUnstableProvider(Landroid/content/IContentProvider;)Z
+
+    goto/16 :goto_3b
 
-    :catch_13b
+    :catch_142
     move-exception v6
 
-    :try_start_13c
+    :try_start_143
     throw v6
-    :try_end_13d
-    .catchall {:try_start_13c .. :try_end_13d} :catchall_f8
+    :try_end_144
+    .catchall {:try_start_143 .. :try_end_144} :catchall_f8
 .end method
 
 .method public final openFileDescriptor(Landroid/net/Uri;Ljava/lang/String;)Landroid/os/ParcelFileDescriptor;
@@ -3265,11 +3278,11 @@
     .catchall {:try_start_22 .. :try_end_25} :catchall_70
     .catch Landroid/os/DeadObjectException; {:try_start_22 .. :try_end_25} :catch_33
     .catch Landroid/os/RemoteException; {:try_start_22 .. :try_end_25} :catch_56
-    .catch Ljava/io/FileNotFoundException; {:try_start_22 .. :try_end_25} :catch_b3
+    .catch Ljava/io/FileNotFoundException; {:try_start_22 .. :try_end_25} :catch_b9
 
     move-result-object v7
 
-    if-nez v7, :cond_8a
+    if-nez v7, :cond_8d
 
     if-eqz v8, :cond_2d
 
@@ -3278,10 +3291,10 @@
     :cond_2d
     if-eqz v9, :cond_32
 
-    :goto_2f
     invoke-virtual {p0, v9}, Landroid/content/ContentResolver;->releaseUnstableProvider(Landroid/content/IContentProvider;)Z
 
     :cond_32
+    :goto_32
     return-object v0
 
     :catch_33
@@ -3322,7 +3335,7 @@
     :try_end_56
     .catchall {:try_start_34 .. :try_end_56} :catchall_70
     .catch Landroid/os/RemoteException; {:try_start_34 .. :try_end_56} :catch_56
-    .catch Ljava/io/FileNotFoundException; {:try_start_34 .. :try_end_56} :catch_b3
+    .catch Ljava/io/FileNotFoundException; {:try_start_34 .. :try_end_56} :catch_b9
 
     :catch_56
     move-exception v6
@@ -3375,11 +3388,11 @@
     :try_end_7f
     .catchall {:try_start_7c .. :try_end_7f} :catchall_70
     .catch Landroid/os/RemoteException; {:try_start_7c .. :try_end_7f} :catch_56
-    .catch Ljava/io/FileNotFoundException; {:try_start_7c .. :try_end_7f} :catch_b3
+    .catch Ljava/io/FileNotFoundException; {:try_start_7c .. :try_end_7f} :catch_b9
 
     move-result-object v7
 
-    if-nez v7, :cond_8a
+    if-nez v7, :cond_8d
 
     if-eqz v8, :cond_87
 
@@ -3388,17 +3401,19 @@
     :cond_87
     if-eqz v9, :cond_32
 
-    goto :goto_2f
+    invoke-virtual {p0, v9}, Landroid/content/ContentResolver;->releaseUnstableProvider(Landroid/content/IContentProvider;)Z
+
+    goto :goto_32
 
-    :cond_8a
-    if-nez v8, :cond_90
+    :cond_8d
+    if-nez v8, :cond_93
 
-    :try_start_8c
+    :try_start_8f
     invoke-virtual {p0, p1}, Landroid/content/ContentResolver;->acquireProvider(Landroid/net/Uri;)Landroid/content/IContentProvider;
 
     move-result-object v8
 
-    :cond_90
+    :cond_93
     invoke-virtual {p0, v9}, Landroid/content/ContentResolver;->releaseUnstableProvider(Landroid/content/IContentProvider;)Z
 
     new-instance v1, Landroid/content/ContentResolver$ParcelFileDescriptorInner;
@@ -3422,27 +3437,29 @@
     move-result-wide v4
 
     invoke-direct/range {v0 .. v5}, Landroid/content/res/AssetFileDescriptor;-><init>(Landroid/os/ParcelFileDescriptor;JJ)V
-    :try_end_aa
-    .catchall {:try_start_8c .. :try_end_aa} :catchall_70
-    .catch Landroid/os/RemoteException; {:try_start_8c .. :try_end_aa} :catch_56
-    .catch Ljava/io/FileNotFoundException; {:try_start_8c .. :try_end_aa} :catch_b3
+    :try_end_ad
+    .catchall {:try_start_8f .. :try_end_ad} :catchall_70
+    .catch Landroid/os/RemoteException; {:try_start_8f .. :try_end_ad} :catch_56
+    .catch Ljava/io/FileNotFoundException; {:try_start_8f .. :try_end_ad} :catch_b9
 
-    if-eqz v8, :cond_af
+    if-eqz v8, :cond_b2
 
     invoke-virtual {p0, v8}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
-    :cond_af
+    :cond_b2
     if-eqz v9, :cond_32
 
-    goto/16 :goto_2f
+    invoke-virtual {p0, v9}, Landroid/content/ContentResolver;->releaseUnstableProvider(Landroid/content/IContentProvider;)Z
+
+    goto/16 :goto_32
 
-    :catch_b3
+    :catch_b9
     move-exception v6
 
-    :try_start_b4
+    :try_start_ba
     throw v6
-    :try_end_b5
-    .catchall {:try_start_b4 .. :try_end_b5} :catchall_70
+    :try_end_bb
+    .catchall {:try_start_ba .. :try_end_bb} :catchall_70
 .end method
 
 .method public final query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
@@ -3506,8 +3523,8 @@
 
     invoke-virtual {v0, v9}, Landroid/os/CancellationSignal;->setRemote(Landroid/os/ICancellationSignal;)V
     :try_end_1d
-    .catchall {:try_start_a .. :try_end_1d} :catchall_a8
-    .catch Landroid/os/RemoteException; {:try_start_a .. :try_end_1d} :catch_9b
+    .catchall {:try_start_a .. :try_end_1d} :catchall_d5
+    .catch Landroid/os/RemoteException; {:try_start_a .. :try_end_1d} :catch_c2
 
     :cond_1d
     move-object/from16 v4, p1
@@ -3522,65 +3539,82 @@
 
     :try_start_27
     invoke-interface/range {v3 .. v9}, Landroid/content/IContentProvider;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Landroid/os/ICancellationSignal;)Landroid/database/Cursor;
-    :try_end_2a
-    .catchall {:try_start_27 .. :try_end_2a} :catchall_a8
-    .catch Landroid/os/DeadObjectException; {:try_start_27 .. :try_end_2a} :catch_3e
-    .catch Landroid/os/RemoteException; {:try_start_27 .. :try_end_2a} :catch_9b
 
     move-result-object v19
 
-    :goto_2b
-    if-nez v19, :cond_67
+    move-object/from16 v0, p0
+
+    iget-object v4, v0, Landroid/content/ContentResolver;->mContext:Landroid/content/Context;
+
+    move-object/from16 v0, p1
+
+    move-object/from16 v1, p2
+
+    move-object/from16 v2, v19
+
+    invoke-static {v0, v1, v4, v2}, Landroid/privacy/surrogate/PrivacyContentResolver;->enforcePrivacyPermission(Landroid/net/Uri;[Ljava/lang/String;Landroid/content/Context;Landroid/database/Cursor;)Landroid/database/Cursor;
+    :try_end_38
+    .catchall {:try_start_27 .. :try_end_38} :catchall_d5
+    .catch Landroid/os/DeadObjectException; {:try_start_27 .. :try_end_38} :catch_4c
+    .catch Landroid/os/RemoteException; {:try_start_27 .. :try_end_38} :catch_c2
+
+    move-result-object v19
+
+    :goto_39
+    if-nez v19, :cond_88
 
     const/16 v22, 0x0
 
-    if-eqz v3, :cond_36
+    if-eqz v3, :cond_44
 
     move-object/from16 v0, p0
 
     invoke-virtual {v0, v3}, Landroid/content/ContentResolver;->releaseUnstableProvider(Landroid/content/IContentProvider;)Z
 
-    :cond_36
+    :cond_44
     if-eqz v10, :cond_8
 
-    :goto_38
     move-object/from16 v0, p0
 
     invoke-virtual {v0, v10}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
     goto :goto_8
 
-    :catch_3e
+    :catch_4c
     move-exception v18
 
-    :try_start_3f
+    :try_start_4d
     move-object/from16 v0, p0
 
     invoke-virtual {v0, v3}, Landroid/content/ContentResolver;->unstableProviderDied(Landroid/content/IContentProvider;)V
 
     invoke-virtual/range {p0 .. p1}, Landroid/content/ContentResolver;->acquireProvider(Landroid/net/Uri;)Landroid/content/IContentProvider;
-    :try_end_47
-    .catchall {:try_start_3f .. :try_end_47} :catchall_a8
-    .catch Landroid/os/RemoteException; {:try_start_3f .. :try_end_47} :catch_9b
+    :try_end_55
+    .catchall {:try_start_4d .. :try_end_55} :catchall_d5
+    .catch Landroid/os/RemoteException; {:try_start_4d .. :try_end_55} :catch_c2
 
     move-result-object v10
 
-    if-nez v10, :cond_56
+    if-nez v10, :cond_69
 
     const/16 v22, 0x0
 
-    if-eqz v3, :cond_53
+    if-eqz v3, :cond_61
 
     move-object/from16 v0, p0
 
     invoke-virtual {v0, v3}, Landroid/content/ContentResolver;->releaseUnstableProvider(Landroid/content/IContentProvider;)Z
 
-    :cond_53
+    :cond_61
     if-eqz v10, :cond_8
 
-    goto :goto_38
+    move-object/from16 v0, p0
 
-    :cond_56
+    invoke-virtual {v0, v10}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
+
+    goto :goto_8
+
+    :cond_69
     move-object/from16 v11, p1
 
     move-object/from16 v12, p2
@@ -3593,14 +3627,28 @@
 
     move-object/from16 v16, v9
 
-    :try_start_62
+    :try_start_75
     invoke-interface/range {v10 .. v16}, Landroid/content/IContentProvider;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Landroid/os/ICancellationSignal;)Landroid/database/Cursor;
 
     move-result-object v19
 
-    goto :goto_2b
+    move-object/from16 v0, p0
+
+    iget-object v4, v0, Landroid/content/ContentResolver;->mContext:Landroid/content/Context;
+
+    move-object/from16 v0, p1
+
+    move-object/from16 v1, p2
+
+    move-object/from16 v2, v19
 
-    :cond_67
+    invoke-static {v0, v1, v4, v2}, Landroid/privacy/surrogate/PrivacyContentResolver;->enforcePrivacyPermission(Landroid/net/Uri;[Ljava/lang/String;Landroid/content/Context;Landroid/database/Cursor;)Landroid/database/Cursor;
+
+    move-result-object v19
+
+    goto :goto_39
+
+    :cond_88
     invoke-interface/range {v19 .. v19}, Landroid/database/Cursor;->getCount()I
 
     invoke-static {}, Landroid/os/SystemClock;->uptimeMillis()J
@@ -3623,11 +3671,11 @@
 
     new-instance v22, Landroid/content/ContentResolver$CursorWrapperInner;
 
-    if-eqz v10, :cond_96
+    if-eqz v10, :cond_bd
 
     move-object v4, v10
 
-    :goto_82
+    :goto_a3
     move-object/from16 v0, v22
 
     move-object/from16 v1, p0
@@ -3635,67 +3683,75 @@
     move-object/from16 v2, v19
 
     invoke-direct {v0, v1, v2, v4}, Landroid/content/ContentResolver$CursorWrapperInner;-><init>(Landroid/content/ContentResolver;Landroid/database/Cursor;Landroid/content/IContentProvider;)V
-    :try_end_8b
-    .catchall {:try_start_62 .. :try_end_8b} :catchall_a8
-    .catch Landroid/os/RemoteException; {:try_start_62 .. :try_end_8b} :catch_9b
+    :try_end_ac
+    .catchall {:try_start_75 .. :try_end_ac} :catchall_d5
+    .catch Landroid/os/RemoteException; {:try_start_75 .. :try_end_ac} :catch_c2
 
     const/4 v10, 0x0
 
-    if-eqz v3, :cond_93
+    if-eqz v3, :cond_b4
 
     move-object/from16 v0, p0
 
     invoke-virtual {v0, v3}, Landroid/content/ContentResolver;->releaseUnstableProvider(Landroid/content/IContentProvider;)Z
 
-    :cond_93
+    :cond_b4
     if-eqz v10, :cond_8
 
-    goto :goto_38
+    move-object/from16 v0, p0
+
+    invoke-virtual {v0, v10}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
+
+    goto/16 :goto_8
 
-    :cond_96
-    :try_start_96
+    :cond_bd
+    :try_start_bd
     invoke-virtual/range {p0 .. p1}, Landroid/content/ContentResolver;->acquireProvider(Landroid/net/Uri;)Landroid/content/IContentProvider;
-    :try_end_99
-    .catchall {:try_start_96 .. :try_end_99} :catchall_a8
-    .catch Landroid/os/RemoteException; {:try_start_96 .. :try_end_99} :catch_9b
+    :try_end_c0
+    .catchall {:try_start_bd .. :try_end_c0} :catchall_d5
+    .catch Landroid/os/RemoteException; {:try_start_bd .. :try_end_c0} :catch_c2
 
     move-result-object v4
 
-    goto :goto_82
+    goto :goto_a3
 
-    :catch_9b
+    :catch_c2
     move-exception v18
 
     const/16 v22, 0x0
 
-    if-eqz v3, :cond_a5
+    if-eqz v3, :cond_cc
 
     move-object/from16 v0, p0
 
     invoke-virtual {v0, v3}, Landroid/content/ContentResolver;->releaseUnstableProvider(Landroid/content/IContentProvider;)Z
 
-    :cond_a5
+    :cond_cc
     if-eqz v10, :cond_8
 
-    goto :goto_38
+    move-object/from16 v0, p0
+
+    invoke-virtual {v0, v10}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
+
+    goto/16 :goto_8
 
-    :catchall_a8
+    :catchall_d5
     move-exception v4
 
-    if-eqz v3, :cond_b0
+    if-eqz v3, :cond_dd
 
     move-object/from16 v0, p0
 
     invoke-virtual {v0, v3}, Landroid/content/ContentResolver;->releaseUnstableProvider(Landroid/content/IContentProvider;)Z
 
-    :cond_b0
-    if-eqz v10, :cond_b7
+    :cond_dd
+    if-eqz v10, :cond_e4
 
     move-object/from16 v0, p0
 
     invoke-virtual {v0, v10}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
-    :cond_b7
+    :cond_e4
     throw v4
 .end method
 
@@ -3870,12 +3926,12 @@
 
     invoke-direct/range {v0 .. v5}, Landroid/content/ContentResolver;->maybeLogUpdateToEventLog(JLandroid/net/Uri;Ljava/lang/String;Ljava/lang/String;)V
     :try_end_36
-    .catchall {:try_start_1f .. :try_end_36} :catchall_3d
+    .catchall {:try_start_1f .. :try_end_36} :catchall_40
     .catch Landroid/os/RemoteException; {:try_start_1f .. :try_end_36} :catch_3a
 
-    :goto_36
     invoke-virtual {p0, v7}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
+    :goto_39
     return v8
 
     :catch_3a
@@ -3883,9 +3939,11 @@
 
     const/4 v8, -0x1
 
-    goto :goto_36
+    invoke-virtual {p0, v7}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
-    :catchall_3d
+    goto :goto_39
+
+    :catchall_40
     move-exception v0
 
     invoke-virtual {p0, v7}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
diff -Npruw stock-framework/smali/android/database/sqlite/SQLiteConnection.smali pdroid-framework/smali/android/database/sqlite/SQLiteConnection.smali
--- stock-framework/smali/android/database/sqlite/SQLiteConnection.smali	2013-07-15 18:10:55.438628017 -0500
+++ pdroid-framework/smali/android/database/sqlite/SQLiteConnection.smali	2013-07-15 18:10:48.898628188 -0500
@@ -1460,11 +1460,11 @@
 
     invoke-virtual {p0, v4, v5, v6}, Landroid/database/sqlite/SQLiteConnection;->execute(Ljava/lang/String;[Ljava/lang/Object;Landroid/os/CancellationSignal;)V
     :try_end_53
-    .catchall {:try_start_39 .. :try_end_53} :catchall_8c
+    .catchall {:try_start_39 .. :try_end_53} :catchall_8f
 
     const/4 v3, 0x1
 
-    if-eqz v3, :cond_9a
+    if-eqz v3, :cond_8c
 
     :try_start_56
     const-string v4, "COMMIT"
@@ -1527,15 +1527,20 @@
 
     throw v4
 
-    :catchall_8c
+    :cond_8c
+    :try_start_8c
+    const-string v4, "ROLLBACK"
+
+    goto :goto_58
+
+    :catchall_8f
     move-exception v4
 
-    if-eqz v3, :cond_97
+    if-eqz v3, :cond_9a
 
-    :try_start_8f
     const-string v5, "COMMIT"
 
-    :goto_91
+    :goto_94
     const/4 v6, 0x0
 
     const/4 v7, 0x0
@@ -1544,17 +1549,12 @@
 
     throw v4
 
-    :cond_97
-    const-string v5, "ROLLBACK"
-
-    goto :goto_91
-
     :cond_9a
-    const-string v4, "ROLLBACK"
+    const-string v5, "ROLLBACK"
     :try_end_9c
-    .catch Ljava/lang/RuntimeException; {:try_start_8f .. :try_end_9c} :catch_5e
+    .catch Ljava/lang/RuntimeException; {:try_start_8c .. :try_end_9c} :catch_5e
 
-    goto :goto_58
+    goto :goto_94
 .end method
 
 .method private setPageSize()V
@@ -1818,7 +1818,7 @@
 
     invoke-virtual {v0, v1, v7, v8}, Landroid/database/sqlite/SQLiteConnection;->executeForLong(Ljava/lang/String;[Ljava/lang/Object;Landroid/os/CancellationSignal;)J
     :try_end_1f
-    .catch Landroid/database/sqlite/SQLiteException; {:try_start_c .. :try_end_1f} :catch_f8
+    .catch Landroid/database/sqlite/SQLiteException; {:try_start_c .. :try_end_1f} :catch_fc
 
     move-result-wide v5
 
@@ -1865,7 +1865,7 @@
 
     move/from16 v0, v21
 
-    if-ge v0, v1, :cond_f2
+    if-ge v0, v1, :cond_ec
 
     const/4 v1, 0x1
 
@@ -1881,8 +1881,8 @@
 
     invoke-virtual {v10, v0, v1}, Landroid/database/CursorWindow;->getString(II)Ljava/lang/String;
     :try_end_55
-    .catchall {:try_start_32 .. :try_end_55} :catchall_ec
-    .catch Landroid/database/sqlite/SQLiteException; {:try_start_32 .. :try_end_55} :catch_f1
+    .catchall {:try_start_32 .. :try_end_55} :catchall_f5
+    .catch Landroid/database/sqlite/SQLiteException; {:try_start_32 .. :try_end_55} :catch_f0
 
     move-result-object v23
 
@@ -1961,8 +1961,8 @@
 
     invoke-virtual {v0, v1, v7, v8}, Landroid/database/sqlite/SQLiteConnection;->executeForLong(Ljava/lang/String;[Ljava/lang/Object;Landroid/os/CancellationSignal;)J
     :try_end_9f
-    .catchall {:try_start_5a .. :try_end_9f} :catchall_ec
-    .catch Landroid/database/sqlite/SQLiteException; {:try_start_5a .. :try_end_9f} :catch_f6
+    .catchall {:try_start_5a .. :try_end_9f} :catchall_f5
+    .catch Landroid/database/sqlite/SQLiteException; {:try_start_5a .. :try_end_9f} :catch_fa
 
     move-result-wide v5
 
@@ -2039,34 +2039,39 @@
 
     invoke-virtual {v0, v11}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
     :try_end_e8
-    .catchall {:try_start_a0 .. :try_end_e8} :catchall_ec
-    .catch Landroid/database/sqlite/SQLiteException; {:try_start_a0 .. :try_end_e8} :catch_f1
+    .catchall {:try_start_a0 .. :try_end_e8} :catchall_f5
+    .catch Landroid/database/sqlite/SQLiteException; {:try_start_a0 .. :try_end_e8} :catch_f0
 
     add-int/lit8 v21, v21, 0x1
 
     goto/16 :goto_40
 
-    :catchall_ec
+    :cond_ec
+    invoke-virtual {v10}, Landroid/database/CursorWindow;->close()V
+
+    :goto_ef
+    return-void
+
+    :catch_f0
     move-exception v1
 
     invoke-virtual {v10}, Landroid/database/CursorWindow;->close()V
 
-    throw v1
+    goto :goto_ef
 
-    :catch_f1
+    :catchall_f5
     move-exception v1
 
-    :cond_f2
     invoke-virtual {v10}, Landroid/database/CursorWindow;->close()V
 
-    return-void
+    throw v1
 
-    :catch_f6
+    :catch_fa
     move-exception v1
 
     goto :goto_a0
 
-    :catch_f8
+    :catch_fc
     move-exception v1
 
     goto/16 :goto_20
diff -Npruw stock-framework/smali/android/database/sqlite/SQLiteDatabase.smali pdroid-framework/smali/android/database/sqlite/SQLiteDatabase.smali
--- stock-framework/smali/android/database/sqlite/SQLiteDatabase.smali	2013-07-15 18:10:55.450628017 -0500
+++ pdroid-framework/smali/android/database/sqlite/SQLiteDatabase.smali	2013-07-15 18:10:48.906628188 -0500
@@ -2497,7 +2497,7 @@
 
     throw v7
     :try_end_33
-    .catchall {:try_start_4 .. :try_end_33} :catchall_bc
+    .catchall {:try_start_4 .. :try_end_33} :catchall_c4
     .catch Landroid/database/sqlite/SQLiteException; {:try_start_4 .. :try_end_33} :catch_33
 
     :catch_33
@@ -2541,7 +2541,7 @@
 
     check-cast v4, Landroid/util/Pair;
     :try_end_56
-    .catchall {:try_start_3a .. :try_end_56} :catchall_bc
+    .catchall {:try_start_3a .. :try_end_56} :catchall_c4
 
     const/4 v5, 0x0
 
@@ -2588,7 +2588,7 @@
 
     move-result v7
 
-    if-nez v7, :cond_c1
+    if-nez v7, :cond_b5
 
     const-string v8, "SQLiteDatabase"
 
@@ -2626,7 +2626,7 @@
 
     invoke-static {v8, v7}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
     :try_end_ab
-    .catchall {:try_start_57 .. :try_end_ab} :catchall_b5
+    .catchall {:try_start_57 .. :try_end_ab} :catchall_bd
 
     const/4 v7, 0x0
 
@@ -2635,7 +2635,7 @@
     :try_start_ae
     invoke-virtual {v5}, Landroid/database/sqlite/SQLiteStatement;->close()V
     :try_end_b1
-    .catchall {:try_start_ae .. :try_end_b1} :catchall_bc
+    .catchall {:try_start_ae .. :try_end_b1} :catchall_c4
 
     :cond_b1
     invoke-virtual {p0}, Landroid/database/sqlite/SQLiteDatabase;->releaseReference()V
@@ -2643,40 +2643,37 @@
     :goto_b4
     return v7
 
-    :catchall_b5
+    :cond_b5
+    if-eqz v5, :cond_ba
+
+    :try_start_b7
+    invoke-virtual {v5}, Landroid/database/sqlite/SQLiteStatement;->close()V
+
+    :cond_ba
+    add-int/lit8 v3, v3, 0x1
+
+    goto :goto_4a
+
+    :catchall_bd
     move-exception v7
 
-    if-eqz v5, :cond_bb
+    if-eqz v5, :cond_c3
 
-    :try_start_b8
     invoke-virtual {v5}, Landroid/database/sqlite/SQLiteStatement;->close()V
 
-    :cond_bb
+    :cond_c3
     throw v7
-    :try_end_bc
-    .catchall {:try_start_b8 .. :try_end_bc} :catchall_bc
+    :try_end_c4
+    .catchall {:try_start_b7 .. :try_end_c4} :catchall_c4
 
-    :catchall_bc
+    :catchall_c4
     move-exception v7
 
-    :goto_bd
+    :goto_c5
     invoke-virtual {p0}, Landroid/database/sqlite/SQLiteDatabase;->releaseReference()V
 
     throw v7
 
-    :cond_c1
-    if-eqz v5, :cond_c6
-
-    :try_start_c3
-    invoke-virtual {v5}, Landroid/database/sqlite/SQLiteStatement;->close()V
-    :try_end_c6
-    .catchall {:try_start_c3 .. :try_end_c6} :catchall_bc
-
-    :cond_c6
-    add-int/lit8 v3, v3, 0x1
-
-    goto :goto_4a
-
     :cond_c9
     invoke-virtual {p0}, Landroid/database/sqlite/SQLiteDatabase;->releaseReference()V
 
@@ -2689,7 +2686,7 @@
 
     move-object v0, v1
 
-    goto :goto_bd
+    goto :goto_c5
 .end method
 
 .method public isDbLockedByCurrentThread()Z
diff -Npruw stock-framework/smali/android/graphics/BitmapRegionDecoder.smali pdroid-framework/smali/android/graphics/BitmapRegionDecoder.smali
--- stock-framework/smali/android/graphics/BitmapRegionDecoder.smali	2013-07-15 18:10:55.562628014 -0500
+++ pdroid-framework/smali/android/graphics/BitmapRegionDecoder.smali	2013-07-15 18:10:49.062628184 -0500
@@ -161,7 +161,7 @@
     :try_start_d
     invoke-virtual {v2}, Ljava/io/InputStream;->close()V
     :try_end_10
-    .catch Ljava/io/IOException; {:try_start_d .. :try_end_10} :catch_1a
+    .catch Ljava/io/IOException; {:try_start_d .. :try_end_10} :catch_18
 
     :cond_10
     :goto_10
@@ -176,21 +176,21 @@
     :try_start_14
     invoke-virtual {v1}, Ljava/io/InputStream;->close()V
     :try_end_17
-    .catch Ljava/io/IOException; {:try_start_14 .. :try_end_17} :catch_18
+    .catch Ljava/io/IOException; {:try_start_14 .. :try_end_17} :catch_1a
 
     :cond_17
     :goto_17
     throw v3
 
     :catch_18
-    move-exception v4
+    move-exception v3
 
-    goto :goto_17
+    goto :goto_10
 
     :catch_1a
-    move-exception v3
+    move-exception v4
 
-    goto :goto_10
+    goto :goto_17
 
     :catchall_1c
     move-exception v3
diff -Npruw stock-framework/smali/android/hardware/Camera$EventHandler.smali pdroid-framework/smali/android/hardware/Camera$EventHandler.smali
--- stock-framework/smali/android/hardware/Camera$EventHandler.smali	2013-07-15 18:10:55.618628011 -0500
+++ pdroid-framework/smali/android/hardware/Camera$EventHandler.smali	2013-07-15 18:10:49.134628182 -0500
@@ -36,450 +36,694 @@
 
 # virtual methods
 .method public handleMessage(Landroid/os/Message;)V
-    .registers 9
+    .registers 16
 
-    const/4 v3, 0x1
+    const/4 v7, 0x1
+
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+
+    #getter for: Landroid/hardware/Camera;->privacyMode:Z
+    invoke-static {v0}, Landroid/hardware/Camera;->access$000(Landroid/hardware/Camera;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_e
+
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+
+    #calls: Landroid/hardware/Camera;->initiate()V
+    invoke-static {v0}, Landroid/hardware/Camera;->access$100(Landroid/hardware/Camera;)V
+
+    :cond_e
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+
+    #calls: Landroid/hardware/Camera;->getPackageName()[Ljava/lang/String;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$200(Landroid/hardware/Camera;)[Ljava/lang/String;
+
+    move-result-object v10
+
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+
+    #calls: Landroid/hardware/Camera;->checkIfPackagesAllowed()I
+    invoke-static {v0}, Landroid/hardware/Camera;->access$300(Landroid/hardware/Camera;)I
+
+    move-result v0
+
+    const/4 v1, -0x2
+
+    if-ne v0, v1, :cond_68
+
+    const/4 v7, 0x0
+
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+
+    const/4 v1, 0x0
+
+    #calls: Landroid/hardware/Camera;->dataAccess(Z)V
+    invoke-static {v0, v1}, Landroid/hardware/Camera;->access$400(Landroid/hardware/Camera;Z)V
+
+    if-eqz v10, :cond_48
+
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+
+    #getter for: Landroid/hardware/Camera;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$500(Landroid/hardware/Camera;)Landroid/privacy/PrivacySettingsManager;
+
+    move-result-object v0
+
+    const/4 v1, 0x0
+
+    aget-object v1, v10, v1
 
     const/4 v2, 0x0
 
-    iget v4, p1, Landroid/os/Message;->what:I
+    const/4 v3, 0x1
+
+    const-string v4, "camera"
+
+    const/4 v5, 0x0
+
+    iget-object v6, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+
+    #getter for: Landroid/hardware/Camera;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+    invoke-static {v6}, Landroid/hardware/Camera;->access$500(Landroid/hardware/Camera;)Landroid/privacy/PrivacySettingsManager;
 
-    sparse-switch v4, :sswitch_data_174
+    move-result-object v6
 
-    const-string v3, "Camera"
+    const/4 v12, 0x0
 
-    new-instance v4, Ljava/lang/StringBuilder;
+    aget-object v12, v10, v12
 
-    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-static {}, Landroid/os/Process;->myUid()I
 
-    const-string v5, "Unknown message type "
+    move-result v13
 
-    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v6, v12, v13}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
 
-    move-result-object v4
+    move-result-object v6
 
-    iget v5, p1, Landroid/os/Message;->what:I
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
 
-    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    :cond_48
+    :goto_48
+    iget v0, p1, Landroid/os/Message;->what:I
 
-    move-result-object v4
+    sparse-switch v0, :sswitch_data_244
 
-    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    const-string v0, "Camera"
 
-    move-result-object v4
+    new-instance v1, Ljava/lang/StringBuilder;
 
-    invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
 
-    :cond_21
-    :goto_21
+    const-string v2, "Unknown message type "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget v2, p1, Landroid/os/Message;->what:I
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    :cond_67
+    :goto_67
     return-void
 
-    :sswitch_22
-    iget-object v3, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    :cond_68
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+
+    const/4 v1, 0x1
+
+    #calls: Landroid/hardware/Camera;->dataAccess(Z)V
+    invoke-static {v0, v1}, Landroid/hardware/Camera;->access$400(Landroid/hardware/Camera;Z)V
+
+    if-eqz v10, :cond_48
+
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+
+    #getter for: Landroid/hardware/Camera;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$500(Landroid/hardware/Camera;)Landroid/privacy/PrivacySettingsManager;
+
+    move-result-object v0
+
+    const/4 v1, 0x0
+
+    aget-object v1, v10, v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    const-string v4, "camera"
+
+    const/4 v5, 0x0
+
+    iget-object v6, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+
+    #getter for: Landroid/hardware/Camera;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+    invoke-static {v6}, Landroid/hardware/Camera;->access$500(Landroid/hardware/Camera;)Landroid/privacy/PrivacySettingsManager;
+
+    move-result-object v6
+
+    const/4 v12, 0x0
+
+    aget-object v12, v10, v12
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v13
+
+    invoke-virtual {v6, v12, v13}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_48
+
+    :sswitch_93
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mShutterCallback:Landroid/hardware/Camera$ShutterCallback;
-    invoke-static {v3}, Landroid/hardware/Camera;->access$000(Landroid/hardware/Camera;)Landroid/hardware/Camera$ShutterCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$600(Landroid/hardware/Camera;)Landroid/hardware/Camera$ShutterCallback;
 
-    move-result-object v3
+    move-result-object v0
 
-    if-eqz v3, :cond_21
+    if-eqz v0, :cond_67
 
-    iget-object v3, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mShutterCallback:Landroid/hardware/Camera$ShutterCallback;
-    invoke-static {v3}, Landroid/hardware/Camera;->access$000(Landroid/hardware/Camera;)Landroid/hardware/Camera$ShutterCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$600(Landroid/hardware/Camera;)Landroid/hardware/Camera$ShutterCallback;
 
-    move-result-object v3
+    move-result-object v0
 
-    invoke-interface {v3}, Landroid/hardware/Camera$ShutterCallback;->onShutter()V
+    invoke-interface {v0}, Landroid/hardware/Camera$ShutterCallback;->onShutter()V
 
-    goto :goto_21
+    goto :goto_67
 
-    :sswitch_34
-    iget-object v3, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    :sswitch_a5
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mRawImageCallback:Landroid/hardware/Camera$PictureCallback;
-    invoke-static {v3}, Landroid/hardware/Camera;->access$100(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$700(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
 
-    move-result-object v3
+    move-result-object v0
+
+    if-eqz v0, :cond_67
 
-    if-eqz v3, :cond_21
+    if-eqz v7, :cond_c1
 
-    iget-object v3, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mRawImageCallback:Landroid/hardware/Camera$PictureCallback;
-    invoke-static {v3}, Landroid/hardware/Camera;->access$100(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$700(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
+
+    move-result-object v1
+
+    iget-object v0, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    move-result-object v4
+    check-cast v0, [B
 
-    iget-object v3, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
+    check-cast v0, [B
 
-    check-cast v3, [B
+    iget-object v2, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
 
-    check-cast v3, [B
+    invoke-interface {v1, v0, v2}, Landroid/hardware/Camera$PictureCallback;->onPictureTaken([BLandroid/hardware/Camera;)V
 
-    iget-object v5, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
+    goto :goto_67
+
+    :cond_c1
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+
+    #getter for: Landroid/hardware/Camera;->mRawImageCallback:Landroid/hardware/Camera$PictureCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$700(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
+
+    move-result-object v0
 
-    invoke-interface {v4, v3, v5}, Landroid/hardware/Camera$PictureCallback;->onPictureTaken([BLandroid/hardware/Camera;)V
+    const/4 v1, 0x0
 
-    goto :goto_21
+    iget-object v2, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
 
-    :sswitch_4e
-    iget-object v3, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    invoke-interface {v0, v1, v2}, Landroid/hardware/Camera$PictureCallback;->onPictureTaken([BLandroid/hardware/Camera;)V
+
+    goto :goto_67
+
+    :sswitch_ce
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mJpegCallback:Landroid/hardware/Camera$PictureCallback;
-    invoke-static {v3}, Landroid/hardware/Camera;->access$200(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$800(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
+
+    move-result-object v0
 
-    move-result-object v3
+    if-eqz v0, :cond_67
 
-    if-eqz v3, :cond_21
+    if-eqz v7, :cond_eb
 
-    iget-object v3, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mJpegCallback:Landroid/hardware/Camera$PictureCallback;
-    invoke-static {v3}, Landroid/hardware/Camera;->access$200(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$800(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
 
-    move-result-object v4
+    move-result-object v1
 
-    iget-object v3, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
+    iget-object v0, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    check-cast v3, [B
+    check-cast v0, [B
 
-    check-cast v3, [B
+    check-cast v0, [B
 
-    iget-object v5, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
+    iget-object v2, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
 
-    invoke-interface {v4, v3, v5}, Landroid/hardware/Camera$PictureCallback;->onPictureTaken([BLandroid/hardware/Camera;)V
+    invoke-interface {v1, v0, v2}, Landroid/hardware/Camera$PictureCallback;->onPictureTaken([BLandroid/hardware/Camera;)V
 
-    goto :goto_21
+    goto/16 :goto_67
 
-    :sswitch_68
-    iget-object v4, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    :cond_eb
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
-    #getter for: Landroid/hardware/Camera;->mPreviewCallback:Landroid/hardware/Camera$PreviewCallback;
-    invoke-static {v4}, Landroid/hardware/Camera;->access$300(Landroid/hardware/Camera;)Landroid/hardware/Camera$PreviewCallback;
+    #getter for: Landroid/hardware/Camera;->mJpegCallback:Landroid/hardware/Camera$PictureCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$800(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+
+    #calls: Landroid/hardware/Camera;->getFakeImage()[B
+    invoke-static {v1}, Landroid/hardware/Camera;->access$900(Landroid/hardware/Camera;)[B
 
     move-result-object v1
 
-    if-eqz v1, :cond_21
+    iget-object v2, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
+
+    invoke-interface {v0, v1, v2}, Landroid/hardware/Camera$PictureCallback;->onPictureTaken([BLandroid/hardware/Camera;)V
+
+    goto/16 :goto_67
+
+    :sswitch_fe
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
-    iget-object v4, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    #getter for: Landroid/hardware/Camera;->mPreviewCallback:Landroid/hardware/Camera$PreviewCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$1000(Landroid/hardware/Camera;)Landroid/hardware/Camera$PreviewCallback;
+
+    move-result-object v9
+
+    if-eqz v9, :cond_67
+
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mOneShot:Z
-    invoke-static {v4}, Landroid/hardware/Camera;->access$400(Landroid/hardware/Camera;)Z
+    invoke-static {v0}, Landroid/hardware/Camera;->access$1100(Landroid/hardware/Camera;)Z
 
-    move-result v4
+    move-result v0
 
-    if-eqz v4, :cond_8a
+    if-eqz v0, :cond_123
 
-    iget-object v3, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
-    const/4 v4, 0x0
+    const/4 v1, 0x0
 
     #setter for: Landroid/hardware/Camera;->mPreviewCallback:Landroid/hardware/Camera$PreviewCallback;
-    invoke-static {v3, v4}, Landroid/hardware/Camera;->access$302(Landroid/hardware/Camera;Landroid/hardware/Camera$PreviewCallback;)Landroid/hardware/Camera$PreviewCallback;
+    invoke-static {v0, v1}, Landroid/hardware/Camera;->access$1002(Landroid/hardware/Camera;Landroid/hardware/Camera$PreviewCallback;)Landroid/hardware/Camera$PreviewCallback;
+
+    :cond_114
+    :goto_114
+    if-eqz v7, :cond_133
 
-    :cond_7e
-    :goto_7e
-    iget-object v3, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
+    iget-object v0, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    check-cast v3, [B
+    check-cast v0, [B
 
-    check-cast v3, [B
+    check-cast v0, [B
 
-    iget-object v4, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
+    iget-object v1, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
 
-    invoke-interface {v1, v3, v4}, Landroid/hardware/Camera$PreviewCallback;->onPreviewFrame([BLandroid/hardware/Camera;)V
+    invoke-interface {v9, v0, v1}, Landroid/hardware/Camera$PreviewCallback;->onPreviewFrame([BLandroid/hardware/Camera;)V
 
-    goto :goto_21
+    goto/16 :goto_67
 
-    :cond_8a
-    iget-object v4, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    :cond_123
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mWithBuffer:Z
-    invoke-static {v4}, Landroid/hardware/Camera;->access$500(Landroid/hardware/Camera;)Z
+    invoke-static {v0}, Landroid/hardware/Camera;->access$1200(Landroid/hardware/Camera;)Z
 
-    move-result v4
+    move-result v0
 
-    if-nez v4, :cond_7e
+    if-nez v0, :cond_114
 
-    iget-object v4, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+
+    const/4 v1, 0x1
+
+    const/4 v2, 0x0
 
     #calls: Landroid/hardware/Camera;->setHasPreviewCallback(ZZ)V
-    invoke-static {v4, v3, v2}, Landroid/hardware/Camera;->access$600(Landroid/hardware/Camera;ZZ)V
+    invoke-static {v0, v1, v2}, Landroid/hardware/Camera;->access$1300(Landroid/hardware/Camera;ZZ)V
+
+    goto :goto_114
+
+    :cond_133
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+
+    #calls: Landroid/hardware/Camera;->getFakeImage()[B
+    invoke-static {v0}, Landroid/hardware/Camera;->access$900(Landroid/hardware/Camera;)[B
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
+
+    invoke-interface {v9, v0, v1}, Landroid/hardware/Camera$PreviewCallback;->onPreviewFrame([BLandroid/hardware/Camera;)V
 
-    goto :goto_7e
+    goto/16 :goto_67
 
-    :sswitch_98
-    iget-object v3, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    :sswitch_140
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mCameraMetaDataCallback:Landroid/hardware/Camera$CameraMetaDataCallback;
-    invoke-static {v3}, Landroid/hardware/Camera;->access$700(Landroid/hardware/Camera;)Landroid/hardware/Camera$CameraMetaDataCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$1400(Landroid/hardware/Camera;)Landroid/hardware/Camera$CameraMetaDataCallback;
+
+    move-result-object v0
+
+    if-eqz v0, :cond_67
+
+    if-eqz v7, :cond_15d
+
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+
+    #getter for: Landroid/hardware/Camera;->mCameraMetaDataCallback:Landroid/hardware/Camera$CameraMetaDataCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$1400(Landroid/hardware/Camera;)Landroid/hardware/Camera$CameraMetaDataCallback;
+
+    move-result-object v1
+
+    iget-object v0, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    move-result-object v3
+    check-cast v0, [I
 
-    if-eqz v3, :cond_21
+    check-cast v0, [I
 
-    iget-object v3, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    iget-object v2, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
+
+    invoke-interface {v1, v0, v2}, Landroid/hardware/Camera$CameraMetaDataCallback;->onCameraMetaData([ILandroid/hardware/Camera;)V
+
+    goto/16 :goto_67
+
+    :cond_15d
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mCameraMetaDataCallback:Landroid/hardware/Camera$CameraMetaDataCallback;
-    invoke-static {v3}, Landroid/hardware/Camera;->access$700(Landroid/hardware/Camera;)Landroid/hardware/Camera$CameraMetaDataCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$1400(Landroid/hardware/Camera;)Landroid/hardware/Camera$CameraMetaDataCallback;
+
+    move-result-object v0
 
-    move-result-object v4
+    const/4 v1, 0x0
 
-    iget-object v3, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
+    iget-object v2, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
 
-    check-cast v3, [I
+    invoke-interface {v0, v1, v2}, Landroid/hardware/Camera$CameraMetaDataCallback;->onCameraMetaData([ILandroid/hardware/Camera;)V
 
-    check-cast v3, [I
+    goto/16 :goto_67
 
-    iget-object v5, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
+    :sswitch_16b
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
-    invoke-interface {v4, v3, v5}, Landroid/hardware/Camera$CameraMetaDataCallback;->onCameraMetaData([ILandroid/hardware/Camera;)V
+    #getter for: Landroid/hardware/Camera;->mPostviewCallback:Landroid/hardware/Camera$PictureCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$1500(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
+
+    move-result-object v0
 
-    goto/16 :goto_21
+    if-eqz v0, :cond_67
 
-    :sswitch_b3
-    iget-object v3, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    if-eqz v7, :cond_188
+
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mPostviewCallback:Landroid/hardware/Camera$PictureCallback;
-    invoke-static {v3}, Landroid/hardware/Camera;->access$800(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$1500(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
+
+    move-result-object v1
+
+    iget-object v0, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
+
+    check-cast v0, [B
+
+    check-cast v0, [B
+
+    iget-object v2, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
 
-    move-result-object v3
+    invoke-interface {v1, v0, v2}, Landroid/hardware/Camera$PictureCallback;->onPictureTaken([BLandroid/hardware/Camera;)V
 
-    if-eqz v3, :cond_21
+    goto/16 :goto_67
 
-    iget-object v3, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    :cond_188
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mPostviewCallback:Landroid/hardware/Camera$PictureCallback;
-    invoke-static {v3}, Landroid/hardware/Camera;->access$800(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$1500(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
 
-    move-result-object v4
+    move-result-object v0
 
-    iget-object v3, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
+    iget-object v1, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
-    check-cast v3, [B
+    #calls: Landroid/hardware/Camera;->getFakeImage()[B
+    invoke-static {v1}, Landroid/hardware/Camera;->access$900(Landroid/hardware/Camera;)[B
 
-    check-cast v3, [B
+    move-result-object v1
 
-    iget-object v5, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
+    iget-object v2, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
 
-    invoke-interface {v4, v3, v5}, Landroid/hardware/Camera$PictureCallback;->onPictureTaken([BLandroid/hardware/Camera;)V
+    invoke-interface {v0, v1, v2}, Landroid/hardware/Camera$PictureCallback;->onPictureTaken([BLandroid/hardware/Camera;)V
 
-    goto/16 :goto_21
+    goto/16 :goto_67
 
-    :sswitch_ce
-    const/4 v0, 0x0
+    :sswitch_19b
+    const/4 v8, 0x0
 
-    iget-object v4, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mAutoFocusCallbackLock:Ljava/lang/Object;
-    invoke-static {v4}, Landroid/hardware/Camera;->access$900(Landroid/hardware/Camera;)Ljava/lang/Object;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$1600(Landroid/hardware/Camera;)Ljava/lang/Object;
 
-    move-result-object v4
+    move-result-object v1
 
-    monitor-enter v4
+    monitor-enter v1
 
-    :try_start_d6
-    iget-object v5, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    :try_start_1a3
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mAutoFocusCallback:Landroid/hardware/Camera$AutoFocusCallback;
-    invoke-static {v5}, Landroid/hardware/Camera;->access$1000(Landroid/hardware/Camera;)Landroid/hardware/Camera$AutoFocusCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$1700(Landroid/hardware/Camera;)Landroid/hardware/Camera$AutoFocusCallback;
 
-    move-result-object v0
+    move-result-object v8
 
-    monitor-exit v4
-    :try_end_dd
-    .catchall {:try_start_d6 .. :try_end_dd} :catchall_ea
+    monitor-exit v1
+    :try_end_1aa
+    .catchall {:try_start_1a3 .. :try_end_1aa} :catchall_1b8
 
-    if-eqz v0, :cond_21
+    if-eqz v8, :cond_67
 
-    iget v4, p1, Landroid/os/Message;->arg1:I
+    iget v0, p1, Landroid/os/Message;->arg1:I
 
-    if-nez v4, :cond_ed
+    if-nez v0, :cond_1bb
 
-    :goto_e3
-    iget-object v3, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
+    const/4 v11, 0x0
+
+    :goto_1b1
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
 
-    invoke-interface {v0, v2, v3}, Landroid/hardware/Camera$AutoFocusCallback;->onAutoFocus(ZLandroid/hardware/Camera;)V
+    invoke-interface {v8, v11, v0}, Landroid/hardware/Camera$AutoFocusCallback;->onAutoFocus(ZLandroid/hardware/Camera;)V
 
-    goto/16 :goto_21
+    goto/16 :goto_67
 
-    :catchall_ea
-    move-exception v3
+    :catchall_1b8
+    move-exception v0
 
-    :try_start_eb
-    monitor-exit v4
-    :try_end_ec
-    .catchall {:try_start_eb .. :try_end_ec} :catchall_ea
+    :try_start_1b9
+    monitor-exit v1
+    :try_end_1ba
+    .catchall {:try_start_1b9 .. :try_end_1ba} :catchall_1b8
 
-    throw v3
+    throw v0
 
-    :cond_ed
-    move v2, v3
+    :cond_1bb
+    const/4 v11, 0x1
 
-    goto :goto_e3
+    goto :goto_1b1
 
-    :sswitch_ef
-    iget-object v4, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    :sswitch_1bd
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mZoomListener:Landroid/hardware/Camera$OnZoomChangeListener;
-    invoke-static {v4}, Landroid/hardware/Camera;->access$1100(Landroid/hardware/Camera;)Landroid/hardware/Camera$OnZoomChangeListener;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$1800(Landroid/hardware/Camera;)Landroid/hardware/Camera$OnZoomChangeListener;
 
-    move-result-object v4
+    move-result-object v0
 
-    if-eqz v4, :cond_21
+    if-eqz v0, :cond_67
 
-    iget-object v4, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mZoomListener:Landroid/hardware/Camera$OnZoomChangeListener;
-    invoke-static {v4}, Landroid/hardware/Camera;->access$1100(Landroid/hardware/Camera;)Landroid/hardware/Camera$OnZoomChangeListener;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$1800(Landroid/hardware/Camera;)Landroid/hardware/Camera$OnZoomChangeListener;
+
+    move-result-object v1
 
-    move-result-object v4
+    iget v2, p1, Landroid/os/Message;->arg1:I
 
-    iget v5, p1, Landroid/os/Message;->arg1:I
+    iget v0, p1, Landroid/os/Message;->arg2:I
 
-    iget v6, p1, Landroid/os/Message;->arg2:I
+    if-eqz v0, :cond_1d9
 
-    if-eqz v6, :cond_10a
+    const/4 v0, 0x1
 
-    :goto_103
-    iget-object v6, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
+    :goto_1d2
+    iget-object v3, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
 
-    invoke-interface {v4, v5, v3, v6}, Landroid/hardware/Camera$OnZoomChangeListener;->onZoomChange(IZLandroid/hardware/Camera;)V
+    invoke-interface {v1, v2, v0, v3}, Landroid/hardware/Camera$OnZoomChangeListener;->onZoomChange(IZLandroid/hardware/Camera;)V
 
-    goto/16 :goto_21
+    goto/16 :goto_67
 
-    :cond_10a
-    move v3, v2
+    :cond_1d9
+    const/4 v0, 0x0
 
-    goto :goto_103
+    goto :goto_1d2
 
-    :sswitch_10c
-    iget-object v3, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    :sswitch_1db
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mFaceListener:Landroid/hardware/Camera$FaceDetectionListener;
-    invoke-static {v3}, Landroid/hardware/Camera;->access$1200(Landroid/hardware/Camera;)Landroid/hardware/Camera$FaceDetectionListener;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$1900(Landroid/hardware/Camera;)Landroid/hardware/Camera$FaceDetectionListener;
 
-    move-result-object v3
+    move-result-object v0
 
-    if-eqz v3, :cond_21
+    if-eqz v0, :cond_67
 
-    iget-object v3, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mFaceListener:Landroid/hardware/Camera$FaceDetectionListener;
-    invoke-static {v3}, Landroid/hardware/Camera;->access$1200(Landroid/hardware/Camera;)Landroid/hardware/Camera$FaceDetectionListener;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$1900(Landroid/hardware/Camera;)Landroid/hardware/Camera$FaceDetectionListener;
 
-    move-result-object v4
+    move-result-object v1
 
-    iget-object v3, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
+    iget-object v0, p1, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    check-cast v3, [Landroid/hardware/Camera$Face;
+    check-cast v0, [Landroid/hardware/Camera$Face;
 
-    check-cast v3, [Landroid/hardware/Camera$Face;
+    check-cast v0, [Landroid/hardware/Camera$Face;
 
-    iget-object v5, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
+    iget-object v2, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
 
-    invoke-interface {v4, v3, v5}, Landroid/hardware/Camera$FaceDetectionListener;->onFaceDetection([Landroid/hardware/Camera$Face;Landroid/hardware/Camera;)V
+    invoke-interface {v1, v0, v2}, Landroid/hardware/Camera$FaceDetectionListener;->onFaceDetection([Landroid/hardware/Camera$Face;Landroid/hardware/Camera;)V
 
-    goto/16 :goto_21
+    goto/16 :goto_67
 
-    :sswitch_127
-    const-string v3, "Camera"
+    :sswitch_1f6
+    const-string v0, "Camera"
 
-    new-instance v4, Ljava/lang/StringBuilder;
+    new-instance v1, Ljava/lang/StringBuilder;
 
-    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v5, "Error "
+    const-string v2, "Error "
 
-    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v4
+    move-result-object v1
 
-    iget v5, p1, Landroid/os/Message;->arg1:I
+    iget v2, p1, Landroid/os/Message;->arg1:I
 
-    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    move-result-object v4
+    move-result-object v1
 
-    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v4
+    move-result-object v1
 
-    invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
 
-    iget-object v3, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mErrorCallback:Landroid/hardware/Camera$ErrorCallback;
-    invoke-static {v3}, Landroid/hardware/Camera;->access$1300(Landroid/hardware/Camera;)Landroid/hardware/Camera$ErrorCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$2000(Landroid/hardware/Camera;)Landroid/hardware/Camera$ErrorCallback;
 
-    move-result-object v3
+    move-result-object v0
 
-    if-eqz v3, :cond_21
+    if-eqz v0, :cond_67
 
-    iget-object v3, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mErrorCallback:Landroid/hardware/Camera$ErrorCallback;
-    invoke-static {v3}, Landroid/hardware/Camera;->access$1300(Landroid/hardware/Camera;)Landroid/hardware/Camera$ErrorCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$2000(Landroid/hardware/Camera;)Landroid/hardware/Camera$ErrorCallback;
 
-    move-result-object v3
+    move-result-object v0
 
-    iget v4, p1, Landroid/os/Message;->arg1:I
+    iget v1, p1, Landroid/os/Message;->arg1:I
 
-    iget-object v5, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
+    iget-object v2, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
 
-    invoke-interface {v3, v4, v5}, Landroid/hardware/Camera$ErrorCallback;->onError(ILandroid/hardware/Camera;)V
+    invoke-interface {v0, v1, v2}, Landroid/hardware/Camera$ErrorCallback;->onError(ILandroid/hardware/Camera;)V
 
-    goto/16 :goto_21
+    goto/16 :goto_67
 
-    :sswitch_158
-    iget-object v4, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    :sswitch_227
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mAutoFocusMoveCallback:Landroid/hardware/Camera$AutoFocusMoveCallback;
-    invoke-static {v4}, Landroid/hardware/Camera;->access$1400(Landroid/hardware/Camera;)Landroid/hardware/Camera$AutoFocusMoveCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$2100(Landroid/hardware/Camera;)Landroid/hardware/Camera$AutoFocusMoveCallback;
 
-    move-result-object v4
+    move-result-object v0
 
-    if-eqz v4, :cond_21
+    if-eqz v0, :cond_67
 
-    iget-object v4, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
+    iget-object v0, p0, Landroid/hardware/Camera$EventHandler;->this$0:Landroid/hardware/Camera;
 
     #getter for: Landroid/hardware/Camera;->mAutoFocusMoveCallback:Landroid/hardware/Camera$AutoFocusMoveCallback;
-    invoke-static {v4}, Landroid/hardware/Camera;->access$1400(Landroid/hardware/Camera;)Landroid/hardware/Camera$AutoFocusMoveCallback;
+    invoke-static {v0}, Landroid/hardware/Camera;->access$2100(Landroid/hardware/Camera;)Landroid/hardware/Camera$AutoFocusMoveCallback;
 
-    move-result-object v4
+    move-result-object v1
 
-    iget v5, p1, Landroid/os/Message;->arg1:I
+    iget v0, p1, Landroid/os/Message;->arg1:I
 
-    if-nez v5, :cond_171
+    if-nez v0, :cond_241
 
-    :goto_16a
-    iget-object v3, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
+    const/4 v0, 0x0
+
+    :goto_23a
+    iget-object v2, p0, Landroid/hardware/Camera$EventHandler;->mCamera:Landroid/hardware/Camera;
 
-    invoke-interface {v4, v2, v3}, Landroid/hardware/Camera$AutoFocusMoveCallback;->onAutoFocusMoving(ZLandroid/hardware/Camera;)V
+    invoke-interface {v1, v0, v2}, Landroid/hardware/Camera$AutoFocusMoveCallback;->onAutoFocusMoving(ZLandroid/hardware/Camera;)V
 
-    goto/16 :goto_21
+    goto/16 :goto_67
 
-    :cond_171
-    move v2, v3
+    :cond_241
+    const/4 v0, 0x1
 
-    goto :goto_16a
+    goto :goto_23a
 
     nop
 
-    :sswitch_data_174
+    :sswitch_data_244
     .sparse-switch
-        0x1 -> :sswitch_127
-        0x2 -> :sswitch_22
-        0x4 -> :sswitch_ce
-        0x8 -> :sswitch_ef
-        0x10 -> :sswitch_68
-        0x40 -> :sswitch_b3
-        0x80 -> :sswitch_34
-        0x100 -> :sswitch_4e
-        0x400 -> :sswitch_10c
-        0x800 -> :sswitch_158
-        0x8000 -> :sswitch_98
+        0x1 -> :sswitch_1f6
+        0x2 -> :sswitch_93
+        0x4 -> :sswitch_19b
+        0x8 -> :sswitch_1bd
+        0x10 -> :sswitch_fe
+        0x40 -> :sswitch_16b
+        0x80 -> :sswitch_a5
+        0x100 -> :sswitch_ce
+        0x400 -> :sswitch_1db
+        0x800 -> :sswitch_227
+        0x8000 -> :sswitch_140
     .end sparse-switch
 .end method
diff -Npruw stock-framework/smali/android/hardware/Camera.smali pdroid-framework/smali/android/hardware/Camera.smali
--- stock-framework/smali/android/hardware/Camera.smali	2013-07-15 18:10:55.626628012 -0500
+++ pdroid-framework/smali/android/hardware/Camera.smali	2013-07-15 18:10:49.146628181 -0500
@@ -67,10 +67,20 @@
 
 .field private static final CAMERA_MSG_ZOOM:I = 0x8
 
+.field private static final GOT_ERROR:I = -0x3
+
+.field private static final IS_ALLOWED:I = -0x1
+
+.field private static final IS_NOT_ALLOWED:I = -0x2
+
+.field private static final PRIVACY_TAG:Ljava/lang/String; = "PM,Camera"
+
 .field private static final TAG:Ljava/lang/String; = "Camera"
 
 
 # instance fields
+.field private context:Landroid/content/Context;
+
 .field private mAutoFocusCallback:Landroid/hardware/Camera$AutoFocusCallback;
 
 .field private mAutoFocusCallbackLock:Ljava/lang/Object;
@@ -95,6 +105,8 @@
 
 .field private mOneShot:Z
 
+.field private mPm:Landroid/content/pm/IPackageManager;
+
 .field private mPostviewCallback:Landroid/hardware/Camera$PictureCallback;
 
 .field private mPreviewCallback:Landroid/hardware/Camera$PreviewCallback;
@@ -107,16 +119,20 @@
 
 .field private mZoomListener:Landroid/hardware/Camera$OnZoomChangeListener;
 
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+.field private privacyMode:Z
+
 
 # direct methods
 .method constructor <init>()V
-    .registers 2
+    .registers 3
 
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+    const/4 v1, 0x0
 
-    const/4 v0, 0x0
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
 
-    iput-boolean v0, p0, Landroid/hardware/Camera;->mFaceDetectionRunning:Z
+    iput-boolean v1, p0, Landroid/hardware/Camera;->mFaceDetectionRunning:Z
 
     new-instance v0, Ljava/lang/Object;
 
@@ -124,19 +140,21 @@
 
     iput-object v0, p0, Landroid/hardware/Camera;->mAutoFocusCallbackLock:Ljava/lang/Object;
 
+    iput-boolean v1, p0, Landroid/hardware/Camera;->privacyMode:Z
+
     return-void
 .end method
 
 .method constructor <init>(I)V
-    .registers 5
+    .registers 6
+
+    const/4 v3, 0x0
 
     const/4 v2, 0x0
 
     invoke-direct {p0}, Ljava/lang/Object;-><init>()V
 
-    const/4 v1, 0x0
-
-    iput-boolean v1, p0, Landroid/hardware/Camera;->mFaceDetectionRunning:Z
+    iput-boolean v3, p0, Landroid/hardware/Camera;->mFaceDetectionRunning:Z
 
     new-instance v1, Ljava/lang/Object;
 
@@ -144,6 +162,8 @@
 
     iput-object v1, p0, Landroid/hardware/Camera;->mAutoFocusCallbackLock:Ljava/lang/Object;
 
+    iput-boolean v3, p0, Landroid/hardware/Camera;->privacyMode:Z
+
     iput-object v2, p0, Landroid/hardware/Camera;->mShutterCallback:Landroid/hardware/Camera$ShutterCallback;
 
     iput-object v2, p0, Landroid/hardware/Camera;->mRawImageCallback:Landroid/hardware/Camera$PictureCallback;
@@ -160,11 +180,13 @@
 
     iput-object v2, p0, Landroid/hardware/Camera;->mCameraMetaDataCallback:Landroid/hardware/Camera$CameraMetaDataCallback;
 
+    invoke-direct {p0}, Landroid/hardware/Camera;->initiate()V
+
     invoke-static {}, Landroid/os/Looper;->myLooper()Landroid/os/Looper;
 
     move-result-object v0
 
-    if-eqz v0, :cond_34
+    if-eqz v0, :cond_39
 
     new-instance v1, Landroid/hardware/Camera$EventHandler;
 
@@ -172,7 +194,7 @@
 
     iput-object v1, p0, Landroid/hardware/Camera;->mEventHandler:Landroid/hardware/Camera$EventHandler;
 
-    :goto_2b
+    :goto_30
     new-instance v1, Ljava/lang/ref/WeakReference;
 
     invoke-direct {v1, p0}, Ljava/lang/ref/WeakReference;-><init>(Ljava/lang/Object;)V
@@ -181,12 +203,12 @@
 
     return-void
 
-    :cond_34
+    :cond_39
     invoke-static {}, Landroid/os/Looper;->getMainLooper()Landroid/os/Looper;
 
     move-result-object v0
 
-    if-eqz v0, :cond_42
+    if-eqz v0, :cond_47
 
     new-instance v1, Landroid/hardware/Camera$EventHandler;
 
@@ -194,12 +216,12 @@
 
     iput-object v1, p0, Landroid/hardware/Camera;->mEventHandler:Landroid/hardware/Camera$EventHandler;
 
-    goto :goto_2b
+    goto :goto_30
 
-    :cond_42
+    :cond_47
     iput-object v2, p0, Landroid/hardware/Camera;->mEventHandler:Landroid/hardware/Camera$EventHandler;
 
-    goto :goto_2b
+    goto :goto_30
 .end method
 
 .method private final native _addCallbackBuffer([BI)V
@@ -214,114 +236,174 @@
 .method private final native _stopPreview()V
 .end method
 
-.method static synthetic access$000(Landroid/hardware/Camera;)Landroid/hardware/Camera$ShutterCallback;
+.method static synthetic access$000(Landroid/hardware/Camera;)Z
     .registers 2
 
-    iget-object v0, p0, Landroid/hardware/Camera;->mShutterCallback:Landroid/hardware/Camera$ShutterCallback;
+    iget-boolean v0, p0, Landroid/hardware/Camera;->privacyMode:Z
 
-    return-object v0
+    return v0
 .end method
 
-.method static synthetic access$100(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
+.method static synthetic access$100(Landroid/hardware/Camera;)V
+    .registers 1
+
+    invoke-direct {p0}, Landroid/hardware/Camera;->initiate()V
+
+    return-void
+.end method
+
+.method static synthetic access$1000(Landroid/hardware/Camera;)Landroid/hardware/Camera$PreviewCallback;
     .registers 2
 
-    iget-object v0, p0, Landroid/hardware/Camera;->mRawImageCallback:Landroid/hardware/Camera$PictureCallback;
+    iget-object v0, p0, Landroid/hardware/Camera;->mPreviewCallback:Landroid/hardware/Camera$PreviewCallback;
 
     return-object v0
 .end method
 
-.method static synthetic access$1000(Landroid/hardware/Camera;)Landroid/hardware/Camera$AutoFocusCallback;
+.method static synthetic access$1002(Landroid/hardware/Camera;Landroid/hardware/Camera$PreviewCallback;)Landroid/hardware/Camera$PreviewCallback;
     .registers 2
 
-    iget-object v0, p0, Landroid/hardware/Camera;->mAutoFocusCallback:Landroid/hardware/Camera$AutoFocusCallback;
+    iput-object p1, p0, Landroid/hardware/Camera;->mPreviewCallback:Landroid/hardware/Camera$PreviewCallback;
+
+    return-object p1
+.end method
+
+.method static synthetic access$1100(Landroid/hardware/Camera;)Z
+    .registers 2
+
+    iget-boolean v0, p0, Landroid/hardware/Camera;->mOneShot:Z
+
+    return v0
+.end method
+
+.method static synthetic access$1200(Landroid/hardware/Camera;)Z
+    .registers 2
+
+    iget-boolean v0, p0, Landroid/hardware/Camera;->mWithBuffer:Z
+
+    return v0
+.end method
+
+.method static synthetic access$1300(Landroid/hardware/Camera;ZZ)V
+    .registers 3
+
+    invoke-direct {p0, p1, p2}, Landroid/hardware/Camera;->setHasPreviewCallback(ZZ)V
+
+    return-void
+.end method
+
+.method static synthetic access$1400(Landroid/hardware/Camera;)Landroid/hardware/Camera$CameraMetaDataCallback;
+    .registers 2
+
+    iget-object v0, p0, Landroid/hardware/Camera;->mCameraMetaDataCallback:Landroid/hardware/Camera$CameraMetaDataCallback;
 
     return-object v0
 .end method
 
-.method static synthetic access$1100(Landroid/hardware/Camera;)Landroid/hardware/Camera$OnZoomChangeListener;
+.method static synthetic access$1500(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
     .registers 2
 
-    iget-object v0, p0, Landroid/hardware/Camera;->mZoomListener:Landroid/hardware/Camera$OnZoomChangeListener;
+    iget-object v0, p0, Landroid/hardware/Camera;->mPostviewCallback:Landroid/hardware/Camera$PictureCallback;
 
     return-object v0
 .end method
 
-.method static synthetic access$1200(Landroid/hardware/Camera;)Landroid/hardware/Camera$FaceDetectionListener;
+.method static synthetic access$1600(Landroid/hardware/Camera;)Ljava/lang/Object;
     .registers 2
 
-    iget-object v0, p0, Landroid/hardware/Camera;->mFaceListener:Landroid/hardware/Camera$FaceDetectionListener;
+    iget-object v0, p0, Landroid/hardware/Camera;->mAutoFocusCallbackLock:Ljava/lang/Object;
 
     return-object v0
 .end method
 
-.method static synthetic access$1300(Landroid/hardware/Camera;)Landroid/hardware/Camera$ErrorCallback;
+.method static synthetic access$1700(Landroid/hardware/Camera;)Landroid/hardware/Camera$AutoFocusCallback;
     .registers 2
 
-    iget-object v0, p0, Landroid/hardware/Camera;->mErrorCallback:Landroid/hardware/Camera$ErrorCallback;
+    iget-object v0, p0, Landroid/hardware/Camera;->mAutoFocusCallback:Landroid/hardware/Camera$AutoFocusCallback;
 
     return-object v0
 .end method
 
-.method static synthetic access$1400(Landroid/hardware/Camera;)Landroid/hardware/Camera$AutoFocusMoveCallback;
+.method static synthetic access$1800(Landroid/hardware/Camera;)Landroid/hardware/Camera$OnZoomChangeListener;
     .registers 2
 
-    iget-object v0, p0, Landroid/hardware/Camera;->mAutoFocusMoveCallback:Landroid/hardware/Camera$AutoFocusMoveCallback;
+    iget-object v0, p0, Landroid/hardware/Camera;->mZoomListener:Landroid/hardware/Camera$OnZoomChangeListener;
 
     return-object v0
 .end method
 
-.method static synthetic access$200(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
+.method static synthetic access$1900(Landroid/hardware/Camera;)Landroid/hardware/Camera$FaceDetectionListener;
     .registers 2
 
-    iget-object v0, p0, Landroid/hardware/Camera;->mJpegCallback:Landroid/hardware/Camera$PictureCallback;
+    iget-object v0, p0, Landroid/hardware/Camera;->mFaceListener:Landroid/hardware/Camera$FaceDetectionListener;
 
     return-object v0
 .end method
 
-.method static synthetic access$300(Landroid/hardware/Camera;)Landroid/hardware/Camera$PreviewCallback;
+.method static synthetic access$200(Landroid/hardware/Camera;)[Ljava/lang/String;
     .registers 2
 
-    iget-object v0, p0, Landroid/hardware/Camera;->mPreviewCallback:Landroid/hardware/Camera$PreviewCallback;
+    invoke-direct {p0}, Landroid/hardware/Camera;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v0
 
     return-object v0
 .end method
 
-.method static synthetic access$302(Landroid/hardware/Camera;Landroid/hardware/Camera$PreviewCallback;)Landroid/hardware/Camera$PreviewCallback;
+.method static synthetic access$2000(Landroid/hardware/Camera;)Landroid/hardware/Camera$ErrorCallback;
     .registers 2
 
-    iput-object p1, p0, Landroid/hardware/Camera;->mPreviewCallback:Landroid/hardware/Camera$PreviewCallback;
+    iget-object v0, p0, Landroid/hardware/Camera;->mErrorCallback:Landroid/hardware/Camera$ErrorCallback;
 
-    return-object p1
+    return-object v0
 .end method
 
-.method static synthetic access$400(Landroid/hardware/Camera;)Z
+.method static synthetic access$2100(Landroid/hardware/Camera;)Landroid/hardware/Camera$AutoFocusMoveCallback;
     .registers 2
 
-    iget-boolean v0, p0, Landroid/hardware/Camera;->mOneShot:Z
+    iget-object v0, p0, Landroid/hardware/Camera;->mAutoFocusMoveCallback:Landroid/hardware/Camera$AutoFocusMoveCallback;
 
-    return v0
+    return-object v0
 .end method
 
-.method static synthetic access$500(Landroid/hardware/Camera;)Z
+.method static synthetic access$300(Landroid/hardware/Camera;)I
     .registers 2
 
-    iget-boolean v0, p0, Landroid/hardware/Camera;->mWithBuffer:Z
+    invoke-direct {p0}, Landroid/hardware/Camera;->checkIfPackagesAllowed()I
+
+    move-result v0
 
     return v0
 .end method
 
-.method static synthetic access$600(Landroid/hardware/Camera;ZZ)V
-    .registers 3
+.method static synthetic access$400(Landroid/hardware/Camera;Z)V
+    .registers 2
 
-    invoke-direct {p0, p1, p2}, Landroid/hardware/Camera;->setHasPreviewCallback(ZZ)V
+    invoke-direct {p0, p1}, Landroid/hardware/Camera;->dataAccess(Z)V
 
     return-void
 .end method
 
-.method static synthetic access$700(Landroid/hardware/Camera;)Landroid/hardware/Camera$CameraMetaDataCallback;
+.method static synthetic access$500(Landroid/hardware/Camera;)Landroid/privacy/PrivacySettingsManager;
     .registers 2
 
-    iget-object v0, p0, Landroid/hardware/Camera;->mCameraMetaDataCallback:Landroid/hardware/Camera$CameraMetaDataCallback;
+    iget-object v0, p0, Landroid/hardware/Camera;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    return-object v0
+.end method
+
+.method static synthetic access$600(Landroid/hardware/Camera;)Landroid/hardware/Camera$ShutterCallback;
+    .registers 2
+
+    iget-object v0, p0, Landroid/hardware/Camera;->mShutterCallback:Landroid/hardware/Camera$ShutterCallback;
+
+    return-object v0
+.end method
+
+.method static synthetic access$700(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
+    .registers 2
+
+    iget-object v0, p0, Landroid/hardware/Camera;->mRawImageCallback:Landroid/hardware/Camera$PictureCallback;
 
     return-object v0
 .end method
@@ -329,15 +411,17 @@
 .method static synthetic access$800(Landroid/hardware/Camera;)Landroid/hardware/Camera$PictureCallback;
     .registers 2
 
-    iget-object v0, p0, Landroid/hardware/Camera;->mPostviewCallback:Landroid/hardware/Camera$PictureCallback;
+    iget-object v0, p0, Landroid/hardware/Camera;->mJpegCallback:Landroid/hardware/Camera$PictureCallback;
 
     return-object v0
 .end method
 
-.method static synthetic access$900(Landroid/hardware/Camera;)Ljava/lang/Object;
+.method static synthetic access$900(Landroid/hardware/Camera;)[B
     .registers 2
 
-    iget-object v0, p0, Landroid/hardware/Camera;->mAutoFocusCallbackLock:Ljava/lang/Object;
+    invoke-direct {p0}, Landroid/hardware/Camera;->getFakeImage()[B
+
+    move-result-object v0
 
     return-object v0
 .end method
@@ -419,6 +503,205 @@
     return v2
 .end method
 
+.method private checkIfPackagesAllowed()I
+    .registers 9
+
+    const/4 v5, -0x3
+
+    :try_start_1
+    iget-object v6, p0, Landroid/hardware/Camera;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v6, :cond_41
+
+    const/4 v2, 0x0
+
+    invoke-direct {p0}, Landroid/hardware/Camera;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v4
+
+    if-eqz v3, :cond_2c
+
+    const/4 v1, 0x0
+
+    :goto_11
+    array-length v6, v3
+
+    if-ge v1, v6, :cond_2a
+
+    iget-object v6, p0, Landroid/hardware/Camera;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v7, v3, v1
+
+    invoke-virtual {v6, v7, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_26
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getCameraSetting()B
+
+    move-result v6
+
+    if-eqz v6, :cond_26
+
+    const/4 v5, -0x2
+
+    :goto_25
+    return v5
+
+    :cond_26
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_11
+
+    :cond_2a
+    const/4 v5, -0x1
+
+    goto :goto_25
+
+    :cond_2c
+    const-string v6, "PM,Camera"
+
+    const-string/jumbo v7, "return GOT_ERROR, because package_names are NULL"
+
+    invoke-static {v6, v7}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_34
+    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_34} :catch_35
+
+    goto :goto_25
+
+    :catch_35
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v6, "PM,Camera"
+
+    const-string v7, "Got exception in checkIfPackagesAllowed"
+
+    invoke-static {v6, v7}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_25
+
+    :cond_41
+    :try_start_41
+    const-string v6, "PM,Camera"
+
+    const-string/jumbo v7, "return GOT_ERROR, because pSetMan is NULL"
+
+    invoke-static {v6, v7}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_49
+    .catch Ljava/lang/Exception; {:try_start_41 .. :try_end_49} :catch_35
+
+    goto :goto_25
+.end method
+
+.method private dataAccess(Z)V
+    .registers 7
+
+    invoke-direct {p0}, Landroid/hardware/Camera;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v1
+
+    if-eqz p1, :cond_2f
+
+    if-eqz v1, :cond_2f
+
+    const/4 v0, 0x0
+
+    :goto_9
+    array-length v2, v1
+
+    if-ge v0, v2, :cond_58
+
+    const-string v2, "PM,Camera"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Allowed Package: -"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    aget-object v4, v1, v0
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, "- accessing camera."
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    add-int/lit8 v0, v0, 0x1
+
+    goto :goto_9
+
+    :cond_2f
+    if-eqz v1, :cond_58
+
+    const/4 v0, 0x0
+
+    :goto_32
+    array-length v2, v1
+
+    if-ge v0, v2, :cond_58
+
+    const-string v2, "PM,Camera"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Blocked Package: -"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    aget-object v4, v1, v0
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, "- accessing camera."
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    add-int/lit8 v0, v0, 0x1
+
+    goto :goto_32
+
+    :cond_58
+    return-void
+.end method
+
 .method private native enableFocusMoveCallback(I)V
 .end method
 
@@ -443,9 +726,193 @@
     return-object v1
 .end method
 
+.method private getFakeImage()[B
+    .registers 9
+
+    :try_start_0
+    const-string v2, "/system/media/PDroid.jpeg"
+
+    new-instance v5, Ljava/io/File;
+
+    invoke-direct {v5, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    const/4 v3, 0x0
+
+    new-instance v3, Ljava/io/FileInputStream;
+
+    invoke-direct {v3, v5}, Ljava/io/FileInputStream;-><init>(Ljava/io/File;)V
+
+    invoke-static {v3}, Landroid/graphics/BitmapFactory;->decodeStream(Ljava/io/InputStream;)Landroid/graphics/Bitmap;
+
+    move-result-object v0
+
+    new-instance v4, Ljava/io/ByteArrayOutputStream;
+
+    invoke-direct {v4}, Ljava/io/ByteArrayOutputStream;-><init>()V
+
+    sget-object v6, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;
+
+    const/16 v7, 0x64
+
+    invoke-virtual {v0, v6, v7, v4}, Landroid/graphics/Bitmap;->compress(Landroid/graphics/Bitmap$CompressFormat;ILjava/io/OutputStream;)Z
+
+    invoke-virtual {v4}, Ljava/io/ByteArrayOutputStream;->toByteArray()[B
+    :try_end_20
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_20} :catch_22
+
+    move-result-object v6
+
+    :goto_21
+    return-object v6
+
+    :catch_22
+    move-exception v1
+
+    const-string v6, "PM,Camera"
+
+    const-string/jumbo v7, "something went wrong with getting the picture!"
+
+    invoke-static {v6, v7}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual {v1}, Ljava/lang/Exception;->printStackTrace()V
+
+    const/4 v6, 0x0
+
+    goto :goto_21
+.end method
+
 .method public static native getNumberOfCameras()I
 .end method
 
+.method private getPackageName()[Ljava/lang/String;
+    .registers 6
+
+    :try_start_0
+    iget-object v3, p0, Landroid/hardware/Camera;->mPm:Landroid/content/pm/IPackageManager;
+
+    if-eqz v3, :cond_f
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    iget-object v3, p0, Landroid/hardware/Camera;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-interface {v3, v2}, Landroid/content/pm/IPackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v1
+
+    :goto_e
+    return-object v1
+
+    :cond_f
+    const-string/jumbo v3, "package"
+
+    invoke-static {v3}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v3
+
+    invoke-static {v3}, Landroid/content/pm/IPackageManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/content/pm/IPackageManager;
+
+    move-result-object v3
+
+    iput-object v3, p0, Landroid/hardware/Camera;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    iget-object v3, p0, Landroid/hardware/Camera;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-interface {v3, v2}, Landroid/content/pm/IPackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+    :try_end_25
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_25} :catch_27
+
+    move-result-object v1
+
+    goto :goto_e
+
+    :catch_27
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v3, "PM,Camera"
+
+    const-string/jumbo v4, "something went wrong with getting package name"
+
+    invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v1, 0x0
+
+    goto :goto_e
+.end method
+
+.method private initiate()V
+    .registers 5
+
+    const/4 v1, 0x0
+
+    :try_start_1
+    iput-object v1, p0, Landroid/hardware/Camera;->context:Landroid/content/Context;
+
+    new-instance v1, Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v2, p0, Landroid/hardware/Camera;->context:Landroid/content/Context;
+
+    const-string/jumbo v3, "privacy"
+
+    invoke-static {v3}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v3
+
+    invoke-static {v3}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v3
+
+    invoke-direct {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v1, p0, Landroid/hardware/Camera;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "package"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/content/pm/IPackageManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/content/pm/IPackageManager;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/hardware/Camera;->mPm:Landroid/content/pm/IPackageManager;
+
+    const/4 v1, 0x1
+
+    iput-boolean v1, p0, Landroid/hardware/Camera;->privacyMode:Z
+    :try_end_27
+    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_27} :catch_28
+
+    :goto_27
+    return-void
+
+    :catch_28
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v1, "PM,Camera"
+
+    const-string v2, "Something went wrong with initalize variables"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v1, 0x0
+
+    iput-boolean v1, p0, Landroid/hardware/Camera;->privacyMode:Z
+
+    goto :goto_27
+.end method
+
 .method private final native native_autoFocus()V
 .end method
 
@@ -1061,7 +1528,7 @@
 .end method
 
 .method public final takePicture(Landroid/hardware/Camera$ShutterCallback;Landroid/hardware/Camera$PictureCallback;Landroid/hardware/Camera$PictureCallback;Landroid/hardware/Camera$PictureCallback;)V
-    .registers 7
+    .registers 8
 
     iput-object p1, p0, Landroid/hardware/Camera;->mShutterCallback:Landroid/hardware/Camera$ShutterCallback;
 
@@ -1071,36 +1538,62 @@
 
     iput-object p4, p0, Landroid/hardware/Camera;->mJpegCallback:Landroid/hardware/Camera$PictureCallback;
 
+    iget-boolean v1, p0, Landroid/hardware/Camera;->privacyMode:Z
+
+    if-nez v1, :cond_f
+
+    invoke-direct {p0}, Landroid/hardware/Camera;->initiate()V
+
+    :cond_f
+    invoke-direct {p0}, Landroid/hardware/Camera;->checkIfPackagesAllowed()I
+
+    move-result v1
+
+    const/4 v2, -0x2
+
+    if-ne v1, v2, :cond_20
+
+    const/4 v1, 0x0
+
+    iput-object v1, p0, Landroid/hardware/Camera;->mRawImageCallback:Landroid/hardware/Camera$PictureCallback;
+
+    const-string v1, "PM,Camera"
+
+    const-string v2, "blocked rawImageCallback -> it will never be called!"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :cond_20
     const/4 v0, 0x0
 
     iget-object v1, p0, Landroid/hardware/Camera;->mShutterCallback:Landroid/hardware/Camera$ShutterCallback;
 
-    if-eqz v1, :cond_f
+    if-eqz v1, :cond_27
 
     or-int/lit8 v0, v0, 0x2
 
-    :cond_f
+    :cond_27
     iget-object v1, p0, Landroid/hardware/Camera;->mRawImageCallback:Landroid/hardware/Camera$PictureCallback;
 
-    if-eqz v1, :cond_15
+    if-eqz v1, :cond_2d
 
     or-int/lit16 v0, v0, 0x80
 
-    :cond_15
+    :cond_2d
     iget-object v1, p0, Landroid/hardware/Camera;->mPostviewCallback:Landroid/hardware/Camera$PictureCallback;
 
-    if-eqz v1, :cond_1b
+    if-eqz v1, :cond_33
 
     or-int/lit8 v0, v0, 0x40
 
-    :cond_1b
+    :cond_33
     iget-object v1, p0, Landroid/hardware/Camera;->mJpegCallback:Landroid/hardware/Camera$PictureCallback;
 
-    if-eqz v1, :cond_21
+    if-eqz v1, :cond_39
 
     or-int/lit16 v0, v0, 0x100
 
-    :cond_21
+    :cond_39
     invoke-direct {p0, v0}, Landroid/hardware/Camera;->native_takePicture(I)V
 
     const/4 v1, 0x0
diff -Npruw stock-framework/smali/android/media/AmrInputStream.smali pdroid-framework/smali/android/media/AmrInputStream.smali
--- stock-framework/smali/android/media/AmrInputStream.smali	2013-07-15 18:10:55.718628010 -0500
+++ pdroid-framework/smali/android/media/AmrInputStream.smali	2013-07-15 18:10:49.238628179 -0500
@@ -115,7 +115,7 @@
 
     invoke-virtual {v0}, Ljava/io/InputStream;->close()V
     :try_end_b
-    .catchall {:try_start_2 .. :try_end_b} :catchall_22
+    .catchall {:try_start_2 .. :try_end_b} :catchall_37
 
     :cond_b
     iput-object v1, p0, Landroid/media/AmrInputStream;->mInputStream:Ljava/io/InputStream;
@@ -129,7 +129,7 @@
 
     invoke-static {v0}, Landroid/media/AmrInputStream;->GsmAmrEncoderCleanup(I)V
     :try_end_16
-    .catchall {:try_start_d .. :try_end_16} :catchall_4f
+    .catchall {:try_start_d .. :try_end_16} :catchall_26
 
     :cond_16
     :try_start_16
@@ -141,7 +141,7 @@
 
     invoke-static {v0}, Landroid/media/AmrInputStream;->GsmAmrEncoderDelete(I)V
     :try_end_1f
-    .catchall {:try_start_16 .. :try_end_1f} :catchall_60
+    .catchall {:try_start_16 .. :try_end_1f} :catchall_22
 
     :cond_1f
     iput v2, p0, Landroid/media/AmrInputStream;->mGae:I
@@ -151,91 +151,91 @@
     :catchall_22
     move-exception v0
 
-    iput-object v1, p0, Landroid/media/AmrInputStream;->mInputStream:Ljava/io/InputStream;
+    iput v2, p0, Landroid/media/AmrInputStream;->mGae:I
 
-    :try_start_25
-    iget v1, p0, Landroid/media/AmrInputStream;->mGae:I
+    throw v0
 
-    if-eqz v1, :cond_2e
+    :catchall_26
+    move-exception v0
 
+    :try_start_27
     iget v1, p0, Landroid/media/AmrInputStream;->mGae:I
 
-    invoke-static {v1}, Landroid/media/AmrInputStream;->GsmAmrEncoderCleanup(I)V
-    :try_end_2e
-    .catchall {:try_start_25 .. :try_end_2e} :catchall_3a
+    if-eqz v1, :cond_30
 
-    :cond_2e
-    :try_start_2e
     iget v1, p0, Landroid/media/AmrInputStream;->mGae:I
 
-    if-eqz v1, :cond_37
+    invoke-static {v1}, Landroid/media/AmrInputStream;->GsmAmrEncoderDelete(I)V
+    :try_end_30
+    .catchall {:try_start_27 .. :try_end_30} :catchall_33
 
-    iget v1, p0, Landroid/media/AmrInputStream;->mGae:I
+    :cond_30
+    iput v2, p0, Landroid/media/AmrInputStream;->mGae:I
 
-    invoke-static {v1}, Landroid/media/AmrInputStream;->GsmAmrEncoderDelete(I)V
-    :try_end_37
-    .catchall {:try_start_2e .. :try_end_37} :catchall_4b
+    throw v0
+
+    :catchall_33
+    move-exception v0
 
-    :cond_37
     iput v2, p0, Landroid/media/AmrInputStream;->mGae:I
 
     throw v0
 
-    :catchall_3a
+    :catchall_37
     move-exception v0
 
-    :try_start_3b
+    iput-object v1, p0, Landroid/media/AmrInputStream;->mInputStream:Ljava/io/InputStream;
+
+    :try_start_3a
     iget v1, p0, Landroid/media/AmrInputStream;->mGae:I
 
-    if-eqz v1, :cond_44
+    if-eqz v1, :cond_43
 
     iget v1, p0, Landroid/media/AmrInputStream;->mGae:I
 
-    invoke-static {v1}, Landroid/media/AmrInputStream;->GsmAmrEncoderDelete(I)V
-    :try_end_44
-    .catchall {:try_start_3b .. :try_end_44} :catchall_47
+    invoke-static {v1}, Landroid/media/AmrInputStream;->GsmAmrEncoderCleanup(I)V
+    :try_end_43
+    .catchall {:try_start_3a .. :try_end_43} :catchall_53
 
-    :cond_44
-    iput v2, p0, Landroid/media/AmrInputStream;->mGae:I
+    :cond_43
+    :try_start_43
+    iget v1, p0, Landroid/media/AmrInputStream;->mGae:I
 
-    throw v0
+    if-eqz v1, :cond_4c
 
-    :catchall_47
-    move-exception v0
+    iget v1, p0, Landroid/media/AmrInputStream;->mGae:I
+
+    invoke-static {v1}, Landroid/media/AmrInputStream;->GsmAmrEncoderDelete(I)V
+    :try_end_4c
+    .catchall {:try_start_43 .. :try_end_4c} :catchall_4f
 
+    :cond_4c
     iput v2, p0, Landroid/media/AmrInputStream;->mGae:I
 
     throw v0
 
-    :catchall_4b
+    :catchall_4f
     move-exception v0
 
     iput v2, p0, Landroid/media/AmrInputStream;->mGae:I
 
     throw v0
 
-    :catchall_4f
+    :catchall_53
     move-exception v0
 
-    :try_start_50
+    :try_start_54
     iget v1, p0, Landroid/media/AmrInputStream;->mGae:I
 
-    if-eqz v1, :cond_59
+    if-eqz v1, :cond_5d
 
     iget v1, p0, Landroid/media/AmrInputStream;->mGae:I
 
     invoke-static {v1}, Landroid/media/AmrInputStream;->GsmAmrEncoderDelete(I)V
-    :try_end_59
-    .catchall {:try_start_50 .. :try_end_59} :catchall_5c
-
-    :cond_59
-    iput v2, p0, Landroid/media/AmrInputStream;->mGae:I
-
-    throw v0
-
-    :catchall_5c
-    move-exception v0
+    :try_end_5d
+    .catchall {:try_start_54 .. :try_end_5d} :catchall_60
 
+    :cond_5d
     iput v2, p0, Landroid/media/AmrInputStream;->mGae:I
 
     throw v0
diff -Npruw stock-framework/smali/android/media/AudioRecord.smali pdroid-framework/smali/android/media/AudioRecord.smali
--- stock-framework/smali/android/media/AudioRecord.smali	2013-07-15 18:10:55.726628009 -0500
+++ pdroid-framework/smali/android/media/AudioRecord.smali	2013-07-15 18:10:49.250628179 -0500
@@ -29,10 +29,18 @@
 
 .field public static final ERROR_INVALID_OPERATION:I = -0x3
 
+.field private static final GOT_ERROR:I = -0x3
+
+.field private static final IS_ALLOWED:I = -0x1
+
+.field private static final IS_NOT_ALLOWED:I = -0x2
+
 .field private static final NATIVE_EVENT_MARKER:I = 0x2
 
 .field private static final NATIVE_EVENT_NEW_POS:I = 0x3
 
+.field private static final PRIVACY_TAG:Ljava/lang/String; = "PM,AudioRecord"
+
 .field public static final RECORDSTATE_RECORDING:I = 0x3
 
 .field public static final RECORDSTATE_STOPPED:I = 0x1
@@ -47,6 +55,8 @@
 
 
 # instance fields
+.field private context:Landroid/content/Context;
+
 .field private mAudioFormat:I
 
 .field private mChannelConfiguration:I
@@ -65,6 +75,8 @@
 
 .field private mNativeRecorderInJavaObj:I
 
+.field private mPm:Landroid/content/pm/IPackageManager;
+
 .field private mPositionListener:Landroid/media/AudioRecord$OnRecordPositionUpdateListener;
 
 .field private final mPositionListenerLock:Ljava/lang/Object;
@@ -81,6 +93,10 @@
 
 .field private mState:I
 
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+.field private privacyMode:Z
+
 
 # direct methods
 .method public constructor <init>(IIIII)V
@@ -159,6 +175,10 @@
 
     const/4 v0, 0x0
 
+    iput-boolean v0, p0, Landroid/media/AudioRecord;->privacyMode:Z
+
+    const/4 v0, 0x0
+
     iput v0, p0, Landroid/media/AudioRecord;->mState:I
 
     const/4 v0, 0x1
@@ -171,7 +191,7 @@
 
     iput-object v0, p0, Landroid/media/AudioRecord;->mInitializationLooper:Landroid/os/Looper;
 
-    if-nez v0, :cond_4f
+    if-nez v0, :cond_52
 
     invoke-static {}, Landroid/os/Looper;->getMainLooper()Landroid/os/Looper;
 
@@ -179,7 +199,7 @@
 
     iput-object v0, p0, Landroid/media/AudioRecord;->mInitializationLooper:Landroid/os/Looper;
 
-    :cond_4f
+    :cond_52
     invoke-direct {p0, p1, p2, p3, p4}, Landroid/media/AudioRecord;->audioParamCheck(IIII)V
 
     invoke-direct {p0, p5}, Landroid/media/AudioRecord;->audioBuffSizeCheck(I)V
@@ -214,7 +234,7 @@
 
     move-result v8
 
-    if-eqz v8, :cond_8f
+    if-eqz v8, :cond_92
 
     new-instance v0, Ljava/lang/StringBuilder;
 
@@ -242,10 +262,12 @@
 
     invoke-static {v0}, Landroid/media/AudioRecord;->loge(Ljava/lang/String;)V
 
-    :goto_8e
+    :goto_91
     return-void
 
-    :cond_8f
+    :cond_92
+    invoke-direct {p0}, Landroid/media/AudioRecord;->initiate()V
+
     const/4 v0, 0x0
 
     aget v0, v7, v0
@@ -256,7 +278,7 @@
 
     iput v0, p0, Landroid/media/AudioRecord;->mState:I
 
-    goto :goto_8e
+    goto :goto_91
 .end method
 
 .method static synthetic access$000(Landroid/media/AudioRecord;)Ljava/lang/Object;
@@ -476,6 +498,205 @@
     .end sparse-switch
 .end method
 
+.method private checkIfPackagesAllowed()I
+    .registers 9
+
+    const/4 v5, -0x3
+
+    :try_start_1
+    iget-object v6, p0, Landroid/media/AudioRecord;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v6, :cond_41
+
+    const/4 v2, 0x0
+
+    invoke-direct {p0}, Landroid/media/AudioRecord;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v4
+
+    if-eqz v3, :cond_2c
+
+    const/4 v1, 0x0
+
+    :goto_11
+    array-length v6, v3
+
+    if-ge v1, v6, :cond_2a
+
+    iget-object v6, p0, Landroid/media/AudioRecord;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v7, v3, v1
+
+    invoke-virtual {v6, v7, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_26
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getRecordAudioSetting()B
+
+    move-result v6
+
+    if-eqz v6, :cond_26
+
+    const/4 v5, -0x2
+
+    :goto_25
+    return v5
+
+    :cond_26
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_11
+
+    :cond_2a
+    const/4 v5, -0x1
+
+    goto :goto_25
+
+    :cond_2c
+    const-string v6, "PM,AudioRecord"
+
+    const-string/jumbo v7, "return GOT_ERROR, because package_names are NULL"
+
+    invoke-static {v6, v7}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_34
+    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_34} :catch_35
+
+    goto :goto_25
+
+    :catch_35
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v6, "PM,AudioRecord"
+
+    const-string v7, "Got exception in checkIfPackagesAllowed"
+
+    invoke-static {v6, v7}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_25
+
+    :cond_41
+    :try_start_41
+    const-string v6, "PM,AudioRecord"
+
+    const-string/jumbo v7, "return GOT_ERROR, because pSetMan is NULL"
+
+    invoke-static {v6, v7}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_49
+    .catch Ljava/lang/Exception; {:try_start_41 .. :try_end_49} :catch_35
+
+    goto :goto_25
+.end method
+
+.method private dataAccess(Z)V
+    .registers 7
+
+    invoke-direct {p0}, Landroid/media/AudioRecord;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v1
+
+    if-eqz p1, :cond_2f
+
+    if-eqz v1, :cond_2f
+
+    const/4 v0, 0x0
+
+    :goto_9
+    array-length v2, v1
+
+    if-ge v0, v2, :cond_58
+
+    const-string v2, "PM,AudioRecord"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Allowed Package: -"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    aget-object v4, v1, v0
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, "- accessing microphone."
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    add-int/lit8 v0, v0, 0x1
+
+    goto :goto_9
+
+    :cond_2f
+    if-eqz v1, :cond_58
+
+    const/4 v0, 0x0
+
+    :goto_32
+    array-length v2, v1
+
+    if-ge v0, v2, :cond_58
+
+    const-string v2, "PM,AudioRecord"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Blocked Package: -"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    aget-object v4, v1, v0
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, "- accessing microphone."
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    add-int/lit8 v0, v0, 0x1
+
+    goto :goto_32
+
+    :cond_58
+    return-void
+.end method
+
 .method public static getMinBufferSize(III)I
     .registers 8
 
@@ -566,6 +787,135 @@
     .end sparse-switch
 .end method
 
+.method private getPackageName()[Ljava/lang/String;
+    .registers 6
+
+    :try_start_0
+    iget-object v3, p0, Landroid/media/AudioRecord;->mPm:Landroid/content/pm/IPackageManager;
+
+    if-eqz v3, :cond_f
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    iget-object v3, p0, Landroid/media/AudioRecord;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-interface {v3, v2}, Landroid/content/pm/IPackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v1
+
+    :goto_e
+    return-object v1
+
+    :cond_f
+    const-string/jumbo v3, "package"
+
+    invoke-static {v3}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v3
+
+    invoke-static {v3}, Landroid/content/pm/IPackageManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/content/pm/IPackageManager;
+
+    move-result-object v3
+
+    iput-object v3, p0, Landroid/media/AudioRecord;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    iget-object v3, p0, Landroid/media/AudioRecord;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-interface {v3, v2}, Landroid/content/pm/IPackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+    :try_end_25
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_25} :catch_27
+
+    move-result-object v1
+
+    goto :goto_e
+
+    :catch_27
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v3, "PM,AudioRecord"
+
+    const-string/jumbo v4, "something went wrong with getting package name"
+
+    invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v1, 0x0
+
+    goto :goto_e
+.end method
+
+.method private initiate()V
+    .registers 5
+
+    const/4 v1, 0x0
+
+    :try_start_1
+    iput-object v1, p0, Landroid/media/AudioRecord;->context:Landroid/content/Context;
+
+    new-instance v1, Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v2, p0, Landroid/media/AudioRecord;->context:Landroid/content/Context;
+
+    const-string/jumbo v3, "privacy"
+
+    invoke-static {v3}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v3
+
+    invoke-static {v3}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v3
+
+    invoke-direct {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v1, p0, Landroid/media/AudioRecord;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "package"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/content/pm/IPackageManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/content/pm/IPackageManager;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/media/AudioRecord;->mPm:Landroid/content/pm/IPackageManager;
+
+    const/4 v1, 0x1
+
+    iput-boolean v1, p0, Landroid/media/AudioRecord;->privacyMode:Z
+    :try_end_27
+    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_27} :catch_28
+
+    :goto_27
+    return-void
+
+    :catch_28
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v1, "PM,AudioRecord"
+
+    const-string v2, "Something went wrong with initalize variables"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v1, 0x0
+
+    iput-boolean v1, p0, Landroid/media/AudioRecord;->privacyMode:Z
+
+    goto :goto_27
+.end method
+
 .method private static logd(Ljava/lang/String;)V
     .registers 4
 
@@ -1016,19 +1366,68 @@
 .end method
 
 .method public startRecording()V
-    .registers 4
+    .registers 11
     .annotation system Ldalvik/annotation/Throws;
         value = {
             Ljava/lang/IllegalStateException;
         }
     .end annotation
 
+    const/4 v5, 0x0
+
+    const/4 v3, 0x1
+
+    const/4 v2, 0x0
+
+    iget-boolean v0, p0, Landroid/media/AudioRecord;->privacyMode:Z
+
+    if-nez v0, :cond_a
+
+    invoke-direct {p0}, Landroid/media/AudioRecord;->initiate()V
+
+    :cond_a
     iget v0, p0, Landroid/media/AudioRecord;->mState:I
 
-    const/4 v1, 0x1
+    if-ne v0, v3, :cond_15
+
+    invoke-direct {p0}, Landroid/media/AudioRecord;->checkIfPackagesAllowed()I
+
+    move-result v0
+
+    const/4 v1, -0x2
+
+    if-ne v0, v1, :cond_3d
 
-    if-eq v0, v1, :cond_e
+    :cond_15
+    invoke-direct {p0, v2}, Landroid/media/AudioRecord;->dataAccess(Z)V
 
+    invoke-direct {p0}, Landroid/media/AudioRecord;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v7
+
+    if-eqz v7, :cond_34
+
+    iget-object v0, p0, Landroid/media/AudioRecord;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v7, v2
+
+    const-string/jumbo v4, "recordAudio"
+
+    iget-object v6, p0, Landroid/media/AudioRecord;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v8, v7, v2
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v9
+
+    invoke-virtual {v6, v8, v9}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_34
     new-instance v0, Ljava/lang/IllegalStateException;
 
     const-string/jumbo v1, "startRecording() called on an uninitialized AudioRecord."
@@ -1037,7 +1436,38 @@
 
     throw v0
 
-    :cond_e
+    :cond_3d
+    invoke-direct {p0, v3}, Landroid/media/AudioRecord;->dataAccess(Z)V
+
+    invoke-direct {p0}, Landroid/media/AudioRecord;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v7
+
+    if-eqz v7, :cond_5d
+
+    iget-object v0, p0, Landroid/media/AudioRecord;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v7, v2
+
+    const-string/jumbo v4, "recordAudio"
+
+    iget-object v3, p0, Landroid/media/AudioRecord;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, v7, v2
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v8
+
+    invoke-virtual {v3, v6, v8}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_5d
     iget-object v1, p0, Landroid/media/AudioRecord;->mRecordingStateLock:Ljava/lang/Object;
 
     monitor-enter v1
@@ -1046,28 +1476,28 @@
 
     const/4 v2, 0x0
 
-    :try_start_13
+    :try_start_62
     invoke-direct {p0, v0, v2}, Landroid/media/AudioRecord;->native_start(II)I
 
     move-result v0
 
-    if-nez v0, :cond_1c
+    if-nez v0, :cond_6b
 
     const/4 v0, 0x3
 
     iput v0, p0, Landroid/media/AudioRecord;->mRecordingState:I
 
-    :cond_1c
+    :cond_6b
     monitor-exit v1
 
     return-void
 
-    :catchall_1e
+    :catchall_6d
     move-exception v0
 
     monitor-exit v1
-    :try_end_20
-    .catchall {:try_start_13 .. :try_end_20} :catchall_1e
+    :try_end_6f
+    .catchall {:try_start_62 .. :try_end_6f} :catchall_6d
 
     throw v0
 .end method
diff -Npruw stock-framework/smali/android/media/MediaExtractor.smali pdroid-framework/smali/android/media/MediaExtractor.smali
--- stock-framework/smali/android/media/MediaExtractor.smali	2013-07-15 18:10:55.770628008 -0500
+++ pdroid-framework/smali/android/media/MediaExtractor.smali	2013-07-15 18:10:49.294628178 -0500
@@ -185,9 +185,9 @@
 
     invoke-virtual {v7, p2, v0}, Landroid/content/ContentResolver;->openAssetFileDescriptor(Landroid/net/Uri;Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;
     :try_end_21
-    .catchall {:try_start_17 .. :try_end_21} :catchall_5d
-    .catch Ljava/lang/SecurityException; {:try_start_17 .. :try_end_21} :catch_4f
-    .catch Ljava/io/IOException; {:try_start_17 .. :try_end_21} :catch_64
+    .catchall {:try_start_17 .. :try_end_21} :catchall_67
+    .catch Ljava/lang/SecurityException; {:try_start_17 .. :try_end_21} :catch_52
+    .catch Ljava/io/IOException; {:try_start_17 .. :try_end_21} :catch_60
 
     move-result-object v6
 
@@ -195,7 +195,6 @@
 
     if-eqz v6, :cond_15
 
-    :goto_26
     invoke-virtual {v6}, Landroid/content/res/AssetFileDescriptor;->close()V
 
     goto :goto_15
@@ -210,20 +209,27 @@
 
     cmp-long v0, v0, v2
 
-    if-gez v0, :cond_3e
+    if-gez v0, :cond_41
 
     invoke-virtual {v6}, Landroid/content/res/AssetFileDescriptor;->getFileDescriptor()Ljava/io/FileDescriptor;
 
     move-result-object v0
 
     invoke-virtual {p0, v0}, Landroid/media/MediaExtractor;->setDataSource(Ljava/io/FileDescriptor;)V
+    :try_end_3b
+    .catchall {:try_start_2a .. :try_end_3b} :catchall_67
+    .catch Ljava/lang/SecurityException; {:try_start_2a .. :try_end_3b} :catch_52
+    .catch Ljava/io/IOException; {:try_start_2a .. :try_end_3b} :catch_60
 
     :goto_3b
     if-eqz v6, :cond_15
 
-    goto :goto_26
+    invoke-virtual {v6}, Landroid/content/res/AssetFileDescriptor;->close()V
+
+    goto :goto_15
 
-    :cond_3e
+    :cond_41
+    :try_start_41
     invoke-virtual {v6}, Landroid/content/res/AssetFileDescriptor;->getFileDescriptor()Ljava/io/FileDescriptor;
 
     move-result-object v1
@@ -239,22 +245,22 @@
     move-object v0, p0
 
     invoke-virtual/range {v0 .. v5}, Landroid/media/MediaExtractor;->setDataSource(Ljava/io/FileDescriptor;JJ)V
-    :try_end_4e
-    .catchall {:try_start_2a .. :try_end_4e} :catchall_5d
-    .catch Ljava/lang/SecurityException; {:try_start_2a .. :try_end_4e} :catch_4f
-    .catch Ljava/io/IOException; {:try_start_2a .. :try_end_4e} :catch_64
+    :try_end_51
+    .catchall {:try_start_41 .. :try_end_51} :catchall_67
+    .catch Ljava/lang/SecurityException; {:try_start_41 .. :try_end_51} :catch_52
+    .catch Ljava/io/IOException; {:try_start_41 .. :try_end_51} :catch_60
 
     goto :goto_3b
 
-    :catch_4f
+    :catch_52
     move-exception v0
 
-    if-eqz v6, :cond_55
+    if-eqz v6, :cond_58
 
-    :goto_52
     invoke-virtual {v6}, Landroid/content/res/AssetFileDescriptor;->close()V
 
-    :cond_55
+    :cond_58
+    :goto_58
     invoke-virtual {p2}, Landroid/net/Uri;->toString()Ljava/lang/String;
 
     move-result-object v0
@@ -263,22 +269,24 @@
 
     goto :goto_15
 
-    :catchall_5d
+    :catch_60
     move-exception v0
 
-    if-eqz v6, :cond_63
+    if-eqz v6, :cond_58
 
     invoke-virtual {v6}, Landroid/content/res/AssetFileDescriptor;->close()V
 
-    :cond_63
-    throw v0
+    goto :goto_58
 
-    :catch_64
+    :catchall_67
     move-exception v0
 
-    if-eqz v6, :cond_55
+    if-eqz v6, :cond_6d
 
-    goto :goto_52
+    invoke-virtual {v6}, Landroid/content/res/AssetFileDescriptor;->close()V
+
+    :cond_6d
+    throw v0
 .end method
 
 .method public final setDataSource(Ljava/io/FileDescriptor;)V
diff -Npruw stock-framework/smali/android/media/MediaRecorder$PrivacyRunner.smali pdroid-framework/smali/android/media/MediaRecorder$PrivacyRunner.smali
--- stock-framework/smali/android/media/MediaRecorder$PrivacyRunner.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/media/MediaRecorder$PrivacyRunner.smali	2013-07-15 18:10:49.302628177 -0500
@@ -0,0 +1,215 @@
+.class Landroid/media/MediaRecorder$PrivacyRunner;
+.super Ljava/lang/Thread;
+.source "MediaRecorder.java"
+
+
+# annotations
+.annotation system Ldalvik/annotation/EnclosingClass;
+    value = Landroid/media/MediaRecorder;
+.end annotation
+
+.annotation system Ldalvik/annotation/InnerClass;
+    accessFlags = 0x2
+    name = "PrivacyRunner"
+.end annotation
+
+
+# static fields
+.field private static final OFFSET_DELAY:J = 0x9c4L
+
+
+# instance fields
+.field private delay:J
+
+.field final synthetic this$0:Landroid/media/MediaRecorder;
+
+
+# direct methods
+.method public constructor <init>(Landroid/media/MediaRecorder;)V
+    .registers 4
+
+    iput-object p1, p0, Landroid/media/MediaRecorder$PrivacyRunner;->this$0:Landroid/media/MediaRecorder;
+
+    invoke-direct {p0}, Ljava/lang/Thread;-><init>()V
+
+    const-wide/16 v0, 0x9c4
+
+    iput-wide v0, p0, Landroid/media/MediaRecorder$PrivacyRunner;->delay:J
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public getDelay()J
+    .registers 3
+
+    iget-wide v0, p0, Landroid/media/MediaRecorder$PrivacyRunner;->delay:J
+
+    return-wide v0
+.end method
+
+.method public run()V
+    .registers 5
+
+    :try_start_0
+    iget-wide v2, p0, Landroid/media/MediaRecorder$PrivacyRunner;->delay:J
+
+    invoke-static {v2, v3}, Ljava/lang/Thread;->sleep(J)V
+
+    iget-object v2, p0, Landroid/media/MediaRecorder$PrivacyRunner;->this$0:Landroid/media/MediaRecorder;
+
+    #calls: Landroid/media/MediaRecorder;->privacyStop()V
+    invoke-static {v2}, Landroid/media/MediaRecorder;->access$300(Landroid/media/MediaRecorder;)V
+
+    iget-object v2, p0, Landroid/media/MediaRecorder$PrivacyRunner;->this$0:Landroid/media/MediaRecorder;
+
+    #getter for: Landroid/media/MediaRecorder;->mPath:Ljava/lang/String;
+    invoke-static {v2}, Landroid/media/MediaRecorder;->access$400(Landroid/media/MediaRecorder;)Ljava/lang/String;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_2f
+
+    new-instance v1, Ljava/io/File;
+
+    iget-object v2, p0, Landroid/media/MediaRecorder$PrivacyRunner;->this$0:Landroid/media/MediaRecorder;
+
+    #getter for: Landroid/media/MediaRecorder;->mPath:Ljava/lang/String;
+    invoke-static {v2}, Landroid/media/MediaRecorder;->access$400(Landroid/media/MediaRecorder;)Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-direct {v1, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v1}, Ljava/io/File;->delete()Z
+
+    move-result v2
+
+    if-eqz v2, :cond_29
+
+    iget-object v2, p0, Landroid/media/MediaRecorder$PrivacyRunner;->this$0:Landroid/media/MediaRecorder;
+
+    const/4 v3, 0x1
+
+    #setter for: Landroid/media/MediaRecorder;->deletedFile:Z
+    invoke-static {v2, v3}, Landroid/media/MediaRecorder;->access$502(Landroid/media/MediaRecorder;Z)Z
+    :try_end_29
+    .catchall {:try_start_0 .. :try_end_29} :catchall_73
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_29} :catch_57
+
+    :cond_29
+    :goto_29
+    iget-object v2, p0, Landroid/media/MediaRecorder$PrivacyRunner;->this$0:Landroid/media/MediaRecorder;
+
+    :goto_2b
+    #calls: Landroid/media/MediaRecorder;->privacyStop()V
+    invoke-static {v2}, Landroid/media/MediaRecorder;->access$300(Landroid/media/MediaRecorder;)V
+
+    return-void
+
+    :cond_2f
+    :try_start_2f
+    iget-object v2, p0, Landroid/media/MediaRecorder$PrivacyRunner;->this$0:Landroid/media/MediaRecorder;
+
+    #getter for: Landroid/media/MediaRecorder;->mFd:Ljava/io/FileDescriptor;
+    invoke-static {v2}, Landroid/media/MediaRecorder;->access$600(Landroid/media/MediaRecorder;)Ljava/io/FileDescriptor;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_65
+
+    iget-object v2, p0, Landroid/media/MediaRecorder$PrivacyRunner;->this$0:Landroid/media/MediaRecorder;
+
+    #getter for: Landroid/media/MediaRecorder;->pFileDescriptorPath:Ljava/lang/String;
+    invoke-static {v2}, Landroid/media/MediaRecorder;->access$700(Landroid/media/MediaRecorder;)Ljava/lang/String;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_65
+
+    new-instance v1, Ljava/io/File;
+
+    iget-object v2, p0, Landroid/media/MediaRecorder$PrivacyRunner;->this$0:Landroid/media/MediaRecorder;
+
+    #getter for: Landroid/media/MediaRecorder;->pFileDescriptorPath:Ljava/lang/String;
+    invoke-static {v2}, Landroid/media/MediaRecorder;->access$700(Landroid/media/MediaRecorder;)Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-direct {v1, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v1}, Ljava/io/File;->delete()Z
+
+    move-result v2
+
+    if-eqz v2, :cond_29
+
+    iget-object v2, p0, Landroid/media/MediaRecorder$PrivacyRunner;->this$0:Landroid/media/MediaRecorder;
+
+    const/4 v3, 0x1
+
+    #setter for: Landroid/media/MediaRecorder;->deletedFile:Z
+    invoke-static {v2, v3}, Landroid/media/MediaRecorder;->access$502(Landroid/media/MediaRecorder;Z)Z
+    :try_end_56
+    .catchall {:try_start_2f .. :try_end_56} :catchall_73
+    .catch Ljava/lang/Exception; {:try_start_2f .. :try_end_56} :catch_57
+
+    goto :goto_29
+
+    :catch_57
+    move-exception v0
+
+    :try_start_58
+    const-string v2, "PM,MediaRecorder"
+
+    const-string v3, "Something went wrong while waiting for cancel the stream!"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+    :try_end_62
+    .catchall {:try_start_58 .. :try_end_62} :catchall_73
+
+    iget-object v2, p0, Landroid/media/MediaRecorder$PrivacyRunner;->this$0:Landroid/media/MediaRecorder;
+
+    goto :goto_2b
+
+    :cond_65
+    :try_start_65
+    const-string v2, "PM,MediaRecorder"
+
+    const-string v3, "Can\'t delete temporary File, because all is null?! It could be that we only want to record audio?!"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v2, p0, Landroid/media/MediaRecorder$PrivacyRunner;->this$0:Landroid/media/MediaRecorder;
+
+    const/4 v3, 0x0
+
+    #setter for: Landroid/media/MediaRecorder;->deletedFile:Z
+    invoke-static {v2, v3}, Landroid/media/MediaRecorder;->access$502(Landroid/media/MediaRecorder;Z)Z
+    :try_end_72
+    .catchall {:try_start_65 .. :try_end_72} :catchall_73
+    .catch Ljava/lang/Exception; {:try_start_65 .. :try_end_72} :catch_57
+
+    goto :goto_29
+
+    :catchall_73
+    move-exception v2
+
+    iget-object v3, p0, Landroid/media/MediaRecorder$PrivacyRunner;->this$0:Landroid/media/MediaRecorder;
+
+    #calls: Landroid/media/MediaRecorder;->privacyStop()V
+    invoke-static {v3}, Landroid/media/MediaRecorder;->access$300(Landroid/media/MediaRecorder;)V
+
+    throw v2
+.end method
+
+.method public setDelay(J)V
+    .registers 3
+
+    iput-wide p1, p0, Landroid/media/MediaRecorder$PrivacyRunner;->delay:J
+
+    return-void
+.end method
diff -Npruw stock-framework/smali/android/media/MediaRecorder.smali pdroid-framework/smali/android/media/MediaRecorder.smali
--- stock-framework/smali/android/media/MediaRecorder.smali	2013-07-15 18:10:55.778628008 -0500
+++ pdroid-framework/smali/android/media/MediaRecorder.smali	2013-07-15 18:10:49.306628178 -0500
@@ -6,6 +6,7 @@
 # annotations
 .annotation system Ldalvik/annotation/MemberClasses;
     value = {
+        Landroid/media/MediaRecorder$PrivacyRunner;,
         Landroid/media/MediaRecorder$EventHandler;,
         Landroid/media/MediaRecorder$OnInfoListener;,
         Landroid/media/MediaRecorder$OnErrorListener;,
@@ -19,6 +20,14 @@
 
 
 # static fields
+.field private static final BOTH_DATA_ACCESS:I = 0xb
+
+.field private static final GOT_ERROR:I = -0x3
+
+.field private static final IS_ALLOWED:I = -0x1
+
+.field private static final IS_NOT_ALLOWED:I = -0x2
+
 .field public static final MEDIA_RECORDER_ERROR_UNKNOWN:I = 0x1
 
 .field public static final MEDIA_RECORDER_INFO_MAX_DURATION_REACHED:I = 0x320
@@ -51,10 +60,30 @@
 
 .field public static final MEDIA_RECORDER_TRACK_INTER_CHUNK_TIME_MS:I = 0x3ee
 
+.field private static final MIC_DATA_ACCESS:I = 0xa
+
+.field private static final MODE_RECORD_AUDIO:I = 0x2
+
+.field private static final MODE_RECORD_BOTH:I = 0x3
+
+.field private static final PRIVACY_PATH_DEF:Ljava/lang/String; = "/data/data/"
+
+.field private static final PRIVACY_TAG:Ljava/lang/String; = "PM,MediaRecorder"
+
+.field private static final STATE_RECORD_AUDIO:I = 0x0
+
+.field private static final STATE_RECORD_BOTH:I = 0x1
+
 .field private static final TAG:Ljava/lang/String; = "MediaRecorder"
 
 
 # instance fields
+.field private ACTUAL_STATE:I
+
+.field private context:Landroid/content/Context;
+
+.field private deletedFile:Z
+
 .field private mEventHandler:Landroid/media/MediaRecorder$EventHandler;
 
 .field private mFd:Ljava/io/FileDescriptor;
@@ -67,8 +96,24 @@
 
 .field private mPath:Ljava/lang/String;
 
+.field private mPm:Landroid/content/pm/IPackageManager;
+
 .field private mSurface:Landroid/view/Surface;
 
+.field private pFileDescriptor:Ljava/io/FileDescriptor;
+
+.field private pFileDescriptorPath:Ljava/lang/String;
+
+.field private pPath:Ljava/lang/String;
+
+.field private pRunner:Landroid/media/MediaRecorder$PrivacyRunner;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+.field private privacyMode:Z
+
+.field private stoppedStream:Z
+
 
 # direct methods
 .method static constructor <clinit>()V
@@ -84,15 +129,35 @@
 .end method
 
 .method public constructor <init>()V
-    .registers 3
+    .registers 4
+
+    const/4 v2, 0x0
+
+    const/4 v1, 0x0
 
     invoke-direct {p0}, Ljava/lang/Object;-><init>()V
 
+    iput-object v1, p0, Landroid/media/MediaRecorder;->pPath:Ljava/lang/String;
+
+    iput-object v1, p0, Landroid/media/MediaRecorder;->pFileDescriptorPath:Ljava/lang/String;
+
+    iput-object v1, p0, Landroid/media/MediaRecorder;->pFileDescriptor:Ljava/io/FileDescriptor;
+
+    iput-object v1, p0, Landroid/media/MediaRecorder;->pRunner:Landroid/media/MediaRecorder$PrivacyRunner;
+
+    iput-boolean v2, p0, Landroid/media/MediaRecorder;->deletedFile:Z
+
+    iput-boolean v2, p0, Landroid/media/MediaRecorder;->privacyMode:Z
+
+    iput-boolean v2, p0, Landroid/media/MediaRecorder;->stoppedStream:Z
+
+    iput v2, p0, Landroid/media/MediaRecorder;->ACTUAL_STATE:I
+
     invoke-static {}, Landroid/os/Looper;->myLooper()Landroid/os/Looper;
 
     move-result-object v0
 
-    if-eqz v0, :cond_19
+    if-eqz v0, :cond_2e
 
     new-instance v1, Landroid/media/MediaRecorder$EventHandler;
 
@@ -100,7 +165,9 @@
 
     iput-object v1, p0, Landroid/media/MediaRecorder;->mEventHandler:Landroid/media/MediaRecorder$EventHandler;
 
-    :goto_10
+    :goto_22
+    invoke-direct {p0}, Landroid/media/MediaRecorder;->initiate()V
+
     new-instance v1, Ljava/lang/ref/WeakReference;
 
     invoke-direct {v1, p0}, Ljava/lang/ref/WeakReference;-><init>(Ljava/lang/Object;)V
@@ -109,12 +176,12 @@
 
     return-void
 
-    :cond_19
+    :cond_2e
     invoke-static {}, Landroid/os/Looper;->getMainLooper()Landroid/os/Looper;
 
     move-result-object v0
 
-    if-eqz v0, :cond_27
+    if-eqz v0, :cond_3c
 
     new-instance v1, Landroid/media/MediaRecorder$EventHandler;
 
@@ -122,14 +189,12 @@
 
     iput-object v1, p0, Landroid/media/MediaRecorder;->mEventHandler:Landroid/media/MediaRecorder$EventHandler;
 
-    goto :goto_10
-
-    :cond_27
-    const/4 v1, 0x0
+    goto :goto_22
 
+    :cond_3c
     iput-object v1, p0, Landroid/media/MediaRecorder;->mEventHandler:Landroid/media/MediaRecorder$EventHandler;
 
-    goto :goto_10
+    goto :goto_22
 .end method
 
 .method private native _prepare()V
@@ -169,17 +234,1729 @@
 .method static synthetic access$200(Landroid/media/MediaRecorder;)Landroid/media/MediaRecorder$OnInfoListener;
     .registers 2
 
-    iget-object v0, p0, Landroid/media/MediaRecorder;->mOnInfoListener:Landroid/media/MediaRecorder$OnInfoListener;
+    iget-object v0, p0, Landroid/media/MediaRecorder;->mOnInfoListener:Landroid/media/MediaRecorder$OnInfoListener;
+
+    return-object v0
+.end method
+
+.method static synthetic access$300(Landroid/media/MediaRecorder;)V
+    .registers 1
+
+    invoke-direct {p0}, Landroid/media/MediaRecorder;->privacyStop()V
+
+    return-void
+.end method
+
+.method static synthetic access$400(Landroid/media/MediaRecorder;)Ljava/lang/String;
+    .registers 2
+
+    iget-object v0, p0, Landroid/media/MediaRecorder;->mPath:Ljava/lang/String;
+
+    return-object v0
+.end method
+
+.method static synthetic access$502(Landroid/media/MediaRecorder;Z)Z
+    .registers 2
+
+    iput-boolean p1, p0, Landroid/media/MediaRecorder;->deletedFile:Z
+
+    return p1
+.end method
+
+.method static synthetic access$600(Landroid/media/MediaRecorder;)Ljava/io/FileDescriptor;
+    .registers 2
+
+    iget-object v0, p0, Landroid/media/MediaRecorder;->mFd:Ljava/io/FileDescriptor;
+
+    return-object v0
+.end method
+
+.method static synthetic access$700(Landroid/media/MediaRecorder;)Ljava/lang/String;
+    .registers 2
+
+    iget-object v0, p0, Landroid/media/MediaRecorder;->pFileDescriptorPath:Ljava/lang/String;
+
+    return-object v0
+.end method
+
+.method private checkIfPackagesAllowed(I)I
+    .registers 12
+
+    const/4 v6, -0x1
+
+    const/4 v5, -0x2
+
+    const/4 v7, -0x3
+
+    :try_start_3
+    iget-object v8, p0, Landroid/media/MediaRecorder;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v8, :cond_5b
+
+    const/4 v2, 0x0
+
+    invoke-direct {p0}, Landroid/media/MediaRecorder;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v4
+
+    if-eqz v3, :cond_51
+
+    packed-switch p1, :pswitch_data_72
+
+    move v5, v7
+
+    :cond_16
+    :goto_16
+    return v5
+
+    :pswitch_17
+    const/4 v1, 0x0
+
+    :goto_18
+    array-length v8, v3
+
+    if-ge v1, v8, :cond_2f
+
+    iget-object v8, p0, Landroid/media/MediaRecorder;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v3, v1
+
+    invoke-virtual {v8, v9, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_2b
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getRecordAudioSetting()B
+
+    move-result v8
+
+    if-nez v8, :cond_16
+
+    :cond_2b
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_18
+
+    :cond_2f
+    move v5, v6
+
+    goto :goto_16
+
+    :pswitch_31
+    const/4 v1, 0x0
+
+    :goto_32
+    array-length v8, v3
+
+    if-ge v1, v8, :cond_4f
+
+    iget-object v8, p0, Landroid/media/MediaRecorder;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v3, v1
+
+    invoke-virtual {v8, v9, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_4b
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getRecordAudioSetting()B
+
+    move-result v8
+
+    if-nez v8, :cond_16
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getCameraSetting()B
+
+    move-result v8
+
+    if-nez v8, :cond_16
+
+    :cond_4b
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_32
+
+    :cond_4f
+    move v5, v6
+
+    goto :goto_16
+
+    :cond_51
+    const-string v5, "PM,MediaRecorder"
+
+    const-string/jumbo v6, "return GOT_ERROR, because package_names are NULL"
+
+    invoke-static {v5, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    move v5, v7
+
+    goto :goto_16
+
+    :cond_5b
+    const-string v5, "PM,MediaRecorder"
+
+    const-string/jumbo v6, "return GOT_ERROR, because pSetMan is NULL"
+
+    invoke-static {v5, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_63
+    .catch Ljava/lang/Exception; {:try_start_3 .. :try_end_63} :catch_65
+
+    move v5, v7
+
+    goto :goto_16
+
+    :catch_65
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v5, "PM,MediaRecorder"
+
+    const-string v6, "Got exception in checkIfPackagesAllowed"
+
+    invoke-static {v5, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    move v5, v7
+
+    goto :goto_16
+
+    :pswitch_data_72
+    .packed-switch 0x2
+        :pswitch_17
+        :pswitch_31
+    .end packed-switch
+.end method
+
+.method private dataAccess(ZI)V
+    .registers 8
+
+    invoke-direct {p0}, Landroid/media/MediaRecorder;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v1
+
+    if-eqz p1, :cond_5a
+
+    if-eqz v1, :cond_5a
+
+    packed-switch p2, :pswitch_data_ae
+
+    :cond_b
+    :goto_b
+    return-void
+
+    :pswitch_c
+    const/4 v0, 0x0
+
+    :goto_d
+    array-length v2, v1
+
+    if-ge v0, v2, :cond_b
+
+    const-string v2, "PM,MediaRecorder"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Allowed Package: -"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    aget-object v4, v1, v0
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, "- accessing microphone."
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    add-int/lit8 v0, v0, 0x1
+
+    goto :goto_d
+
+    :pswitch_33
+    const/4 v0, 0x0
+
+    :goto_34
+    array-length v2, v1
+
+    if-ge v0, v2, :cond_b
+
+    const-string v2, "PM,MediaRecorder"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Allowed Package: -"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    aget-object v4, v1, v0
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, "- accessing microphone and camera."
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    add-int/lit8 v0, v0, 0x1
+
+    goto :goto_34
+
+    :cond_5a
+    if-eqz v1, :cond_b
+
+    packed-switch p2, :pswitch_data_b6
+
+    goto :goto_b
+
+    :pswitch_60
+    const/4 v0, 0x0
+
+    :goto_61
+    array-length v2, v1
+
+    if-ge v0, v2, :cond_b
+
+    const-string v2, "PM,MediaRecorder"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Blocked Package: -"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    aget-object v4, v1, v0
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, "- accessing microphone."
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    add-int/lit8 v0, v0, 0x1
+
+    goto :goto_61
+
+    :pswitch_87
+    const/4 v0, 0x0
+
+    :goto_88
+    array-length v2, v1
+
+    if-ge v0, v2, :cond_b
+
+    const-string v2, "PM,MediaRecorder"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Blocked Package: -"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    aget-object v4, v1, v0
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, "- accessing microphone and camera."
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    add-int/lit8 v0, v0, 0x1
+
+    goto :goto_88
+
+    :pswitch_data_ae
+    .packed-switch 0xa
+        :pswitch_c
+        :pswitch_33
+    .end packed-switch
+
+    :pswitch_data_b6
+    .packed-switch 0xa
+        :pswitch_60
+        :pswitch_87
+    .end packed-switch
+.end method
+
+.method public static final getAudioSourceMax()I
+    .registers 1
+
+    const/4 v0, 0x7
+
+    return v0
+.end method
+
+.method private getPackageName()[Ljava/lang/String;
+    .registers 6
+
+    :try_start_0
+    iget-object v3, p0, Landroid/media/MediaRecorder;->mPm:Landroid/content/pm/IPackageManager;
+
+    if-eqz v3, :cond_f
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    iget-object v3, p0, Landroid/media/MediaRecorder;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-interface {v3, v2}, Landroid/content/pm/IPackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v1
+
+    :goto_e
+    return-object v1
+
+    :cond_f
+    const-string/jumbo v3, "package"
+
+    invoke-static {v3}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v3
+
+    invoke-static {v3}, Landroid/content/pm/IPackageManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/content/pm/IPackageManager;
+
+    move-result-object v3
+
+    iput-object v3, p0, Landroid/media/MediaRecorder;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    iget-object v3, p0, Landroid/media/MediaRecorder;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-interface {v3, v2}, Landroid/content/pm/IPackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+    :try_end_25
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_25} :catch_27
+
+    move-result-object v1
+
+    goto :goto_e
+
+    :catch_27
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v3, "PM,MediaRecorder"
+
+    const-string/jumbo v4, "something went wrong with getting package name"
+
+    invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v1, 0x0
+
+    goto :goto_e
+.end method
+
+.method private getPrivacyFileDescriptor()Ljava/io/FileDescriptor;
+    .registers 19
+
+    invoke-direct/range {p0 .. p0}, Landroid/media/MediaRecorder;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v12
+
+    new-instance v14, Ljava/util/Random;
+
+    invoke-direct {v14}, Ljava/util/Random;-><init>()V
+
+    const/4 v1, 0x0
+
+    new-instance v15, Ljava/lang/StringBuilder;
+
+    invoke-direct {v15}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v14}, Ljava/util/Random;->nextLong()J
+
+    move-result-wide v16
+
+    invoke-virtual/range {v15 .. v17}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    const-string v16, ".tmp"
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    const/4 v7, 0x0
+
+    const/4 v3, 0x0
+
+    const/4 v11, 0x0
+
+    :goto_24
+    array-length v15, v12
+
+    if-ge v11, v15, :cond_247
+
+    :try_start_27
+    new-instance v9, Ljava/io/File;
+
+    new-instance v15, Ljava/lang/StringBuilder;
+
+    invoke-direct {v15}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v16, "/data/data/"
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    aget-object v16, v12, v11
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    const-string v16, "/cache/"
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v15
+
+    invoke-direct {v9, v15}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v9}, Ljava/io/File;->mkdirs()Z
+
+    new-instance v8, Ljava/io/FileWriter;
+
+    new-instance v15, Ljava/lang/StringBuilder;
+
+    invoke-direct {v15}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v16, "/data/data/"
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    aget-object v16, v12, v11
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    const-string v16, "/cache/"
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v15
+
+    invoke-direct {v8, v15}, Ljava/io/FileWriter;-><init>(Ljava/lang/String;)V
+    :try_end_6e
+    .catchall {:try_start_27 .. :try_end_6e} :catchall_155
+    .catch Ljava/lang/Exception; {:try_start_27 .. :try_end_6e} :catch_15c
+
+    :try_start_6e
+    const-string/jumbo v15, "test"
+
+    invoke-virtual {v8, v15}, Ljava/io/FileWriter;->write(Ljava/lang/String;)V
+
+    invoke-virtual {v8}, Ljava/io/FileWriter;->flush()V
+
+    invoke-virtual {v8}, Ljava/io/FileWriter;->close()V
+
+    new-instance v4, Ljava/io/File;
+
+    new-instance v15, Ljava/lang/StringBuilder;
+
+    invoke-direct {v15}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v16, "/data/data/"
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    aget-object v16, v12, v11
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    const-string v16, "/cache/"
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v15
+
+    invoke-direct {v4, v15}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+    :try_end_9e
+    .catchall {:try_start_6e .. :try_end_9e} :catchall_235
+    .catch Ljava/lang/Exception; {:try_start_6e .. :try_end_9e} :catch_23e
+
+    :try_start_9e
+    invoke-virtual {v4}, Ljava/io/File;->delete()Z
+
+    const-string v15, "PM,MediaRecorder"
+
+    new-instance v16, Ljava/lang/StringBuilder;
+
+    invoke-direct/range {v16 .. v16}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v17, "found our package: "
+
+    invoke-virtual/range {v16 .. v17}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v16
+
+    aget-object v17, v12, v11
+
+    invoke-virtual/range {v16 .. v17}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v16
+
+    const-string v17, " with internal path. File: "
+
+    invoke-virtual/range {v16 .. v17}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v16
+
+    move-object/from16 v0, v16
+
+    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v16
+
+    invoke-virtual/range {v16 .. v16}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v16
+
+    invoke-static/range {v15 .. v16}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    aget-object v1, v12, v11
+    :try_end_c9
+    .catchall {:try_start_9e .. :try_end_c9} :catchall_239
+    .catch Ljava/lang/Exception; {:try_start_9e .. :try_end_c9} :catch_242
+
+    const/4 v7, 0x0
+
+    const/4 v3, 0x0
+
+    invoke-static {}, Ljava/lang/System;->gc()V
+
+    move-object v4, v3
+
+    move-object v8, v7
+
+    :goto_d0
+    if-eqz v1, :cond_172
+
+    :try_start_d2
+    new-instance v10, Ljava/io/FileOutputStream;
+
+    new-instance v15, Ljava/lang/StringBuilder;
+
+    invoke-direct {v15}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v16, "/data/data/"
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    const-string v16, "/cache/"
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v15
+
+    invoke-direct {v10, v15}, Ljava/io/FileOutputStream;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v10}, Ljava/io/FileOutputStream;->getFD()Ljava/io/FileDescriptor;
+
+    move-result-object v6
+
+    new-instance v15, Ljava/lang/StringBuilder;
+
+    invoke-direct {v15}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v16, "/data/data/"
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    const-string v16, "/cache/"
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v15
+
+    move-object/from16 v0, p0
+
+    iput-object v15, v0, Landroid/media/MediaRecorder;->pFileDescriptorPath:Ljava/lang/String;
+
+    const-string v15, "PM,MediaRecorder"
+
+    new-instance v16, Ljava/lang/StringBuilder;
+
+    invoke-direct/range {v16 .. v16}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v17, "returned fileDescriptor for package: "
+
+    invoke-virtual/range {v16 .. v17}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v16
+
+    move-object/from16 v0, v16
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v16
+
+    const-string v17, " with internal path. Path: "
+
+    invoke-virtual/range {v16 .. v17}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v16
+
+    const-string v17, "/data/data/"
+
+    invoke-virtual/range {v16 .. v17}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v16
+
+    move-object/from16 v0, v16
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v16
+
+    const-string v17, "/cache/"
+
+    invoke-virtual/range {v16 .. v17}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v16
+
+    move-object/from16 v0, v16
+
+    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v16
+
+    invoke-virtual/range {v16 .. v16}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v16
+
+    invoke-static/range {v15 .. v16}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_152
+    .catch Ljava/lang/Exception; {:try_start_d2 .. :try_end_152} :catch_166
+
+    move-object v3, v4
+
+    move-object v7, v8
+
+    :goto_154
+    return-object v6
+
+    :catchall_155
+    move-exception v15
+
+    :goto_156
+    const/4 v7, 0x0
+
+    const/4 v3, 0x0
+
+    invoke-static {}, Ljava/lang/System;->gc()V
+
+    throw v15
+
+    :catch_15c
+    move-exception v15
+
+    :goto_15d
+    const/4 v7, 0x0
+
+    const/4 v3, 0x0
+
+    invoke-static {}, Ljava/lang/System;->gc()V
+
+    add-int/lit8 v11, v11, 0x1
+
+    goto/16 :goto_24
+
+    :catch_166
+    move-exception v5
+
+    const-string v15, "PM,MediaRecorder"
+
+    const-string v16, "Got exception while creating fileDescriptor -> return null"
+
+    invoke-static/range {v15 .. v16}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v6, 0x0
+
+    move-object v3, v4
+
+    move-object v7, v8
+
+    goto :goto_154
+
+    :cond_172
+    :try_start_172
+    invoke-static {}, Landroid/os/Environment;->getExternalStorageDirectory()Ljava/io/File;
+
+    move-result-object v15
+
+    invoke-virtual {v15}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;
+
+    move-result-object v13
+
+    new-instance v7, Ljava/io/FileWriter;
+
+    new-instance v15, Ljava/lang/StringBuilder;
+
+    invoke-direct {v15}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v15, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    const-string v16, "/"
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v15
+
+    invoke-direct {v7, v15}, Ljava/io/FileWriter;-><init>(Ljava/lang/String;)V
+    :try_end_196
+    .catch Ljava/lang/Exception; {:try_start_172 .. :try_end_196} :catch_22e
+
+    :try_start_196
+    const-string/jumbo v15, "test"
+
+    invoke-virtual {v7, v15}, Ljava/io/FileWriter;->write(Ljava/lang/String;)V
+
+    invoke-virtual {v7}, Ljava/io/FileWriter;->flush()V
+
+    invoke-virtual {v7}, Ljava/io/FileWriter;->close()V
+
+    new-instance v3, Ljava/io/File;
+
+    new-instance v15, Ljava/lang/StringBuilder;
+
+    invoke-direct {v15}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v15, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    const-string v16, "/"
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v15
+
+    invoke-direct {v3, v15}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+    :try_end_1be
+    .catch Ljava/lang/Exception; {:try_start_196 .. :try_end_1be} :catch_232
+
+    :try_start_1be
+    invoke-virtual {v3}, Ljava/io/File;->delete()Z
+
+    new-instance v10, Ljava/io/FileOutputStream;
+
+    new-instance v15, Ljava/lang/StringBuilder;
+
+    invoke-direct {v15}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v15, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    const-string v16, "/"
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v15
+
+    invoke-direct {v10, v15}, Ljava/io/FileOutputStream;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v10}, Ljava/io/FileOutputStream;->getFD()Ljava/io/FileDescriptor;
+
+    move-result-object v6
+
+    new-instance v15, Ljava/lang/StringBuilder;
+
+    invoke-direct {v15}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v15, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    const-string v16, "/"
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v15
+
+    move-object/from16 v0, p0
+
+    iput-object v15, v0, Landroid/media/MediaRecorder;->pFileDescriptorPath:Ljava/lang/String;
+
+    const-string v15, "PM,MediaRecorder"
+
+    new-instance v16, Ljava/lang/StringBuilder;
+
+    invoke-direct/range {v16 .. v16}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v17, "Returned FileDescriptor. Path:  "
+
+    invoke-virtual/range {v16 .. v17}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v16
+
+    move-object/from16 v0, v16
+
+    invoke-virtual {v0, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v16
+
+    const-string v17, "/"
+
+    invoke-virtual/range {v16 .. v17}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v16
+
+    move-object/from16 v0, v16
+
+    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v16
+
+    const-string v17, " . It is on SDCard!"
+
+    invoke-virtual/range {v16 .. v17}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v16
+
+    invoke-virtual/range {v16 .. v16}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v16
+
+    invoke-static/range {v15 .. v16}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_228
+    .catch Ljava/lang/Exception; {:try_start_1be .. :try_end_228} :catch_22a
+
+    goto/16 :goto_154
+
+    :catch_22a
+    move-exception v5
+
+    :goto_22b
+    const/4 v6, 0x0
+
+    goto/16 :goto_154
+
+    :catch_22e
+    move-exception v5
+
+    move-object v3, v4
+
+    move-object v7, v8
+
+    goto :goto_22b
+
+    :catch_232
+    move-exception v5
+
+    move-object v3, v4
+
+    goto :goto_22b
+
+    :catchall_235
+    move-exception v15
+
+    move-object v7, v8
+
+    goto/16 :goto_156
+
+    :catchall_239
+    move-exception v15
+
+    move-object v3, v4
+
+    move-object v7, v8
+
+    goto/16 :goto_156
+
+    :catch_23e
+    move-exception v15
+
+    move-object v7, v8
+
+    goto/16 :goto_15d
+
+    :catch_242
+    move-exception v15
+
+    move-object v3, v4
+
+    move-object v7, v8
+
+    goto/16 :goto_15d
+
+    :cond_247
+    move-object v4, v3
+
+    move-object v8, v7
+
+    goto/16 :goto_d0
+.end method
+
+.method private getPrivacyPath()Ljava/lang/String;
+    .registers 16
+
+    invoke-direct {p0}, Landroid/media/MediaRecorder;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v9
+
+    new-instance v11, Ljava/util/Random;
+
+    invoke-direct {v11}, Ljava/util/Random;-><init>()V
+
+    const/4 v0, 0x0
+
+    new-instance v12, Ljava/lang/StringBuilder;
+
+    invoke-direct {v12}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v11}, Ljava/util/Random;->nextLong()J
+
+    move-result-wide v13
+
+    invoke-virtual {v12, v13, v14}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    const-string v13, ".tmp"
+
+    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    invoke-virtual {v12}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const/4 v8, 0x0
+
+    :goto_24
+    array-length v12, v9
+
+    if-ge v8, v12, :cond_1eb
+
+    :try_start_27
+    new-instance v7, Ljava/io/File;
+
+    new-instance v12, Ljava/lang/StringBuilder;
+
+    invoke-direct {v12}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v13, "/data/data/"
+
+    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    aget-object v13, v9, v8
+
+    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    const-string v13, "/cache/"
+
+    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    invoke-virtual {v12}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v12
+
+    invoke-direct {v7, v12}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v7}, Ljava/io/File;->mkdirs()Z
+
+    new-instance v6, Ljava/io/FileWriter;
+
+    new-instance v12, Ljava/lang/StringBuilder;
+
+    invoke-direct {v12}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v13, "/data/data/"
+
+    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    aget-object v13, v9, v8
+
+    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    const-string v13, "/cache/"
+
+    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    invoke-virtual {v12, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    invoke-virtual {v12}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v12
+
+    invoke-direct {v6, v12}, Ljava/io/FileWriter;-><init>(Ljava/lang/String;)V
+    :try_end_6e
+    .catchall {:try_start_27 .. :try_end_6e} :catchall_12d
+    .catch Ljava/lang/Exception; {:try_start_27 .. :try_end_6e} :catch_134
+
+    :try_start_6e
+    const-string/jumbo v12, "test"
+
+    invoke-virtual {v6, v12}, Ljava/io/FileWriter;->write(Ljava/lang/String;)V
+
+    invoke-virtual {v6}, Ljava/io/FileWriter;->flush()V
+
+    invoke-virtual {v6}, Ljava/io/FileWriter;->close()V
+
+    new-instance v3, Ljava/io/File;
+
+    new-instance v12, Ljava/lang/StringBuilder;
+
+    invoke-direct {v12}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v13, "/data/data/"
+
+    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    aget-object v13, v9, v8
+
+    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    const-string v13, "/cache/"
+
+    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    invoke-virtual {v12, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    invoke-virtual {v12}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v12
+
+    invoke-direct {v3, v12}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+    :try_end_9e
+    .catchall {:try_start_6e .. :try_end_9e} :catchall_1d9
+    .catch Ljava/lang/Exception; {:try_start_6e .. :try_end_9e} :catch_1e2
+
+    :try_start_9e
+    invoke-virtual {v3}, Ljava/io/File;->delete()Z
+
+    const-string v12, "PM,MediaRecorder"
+
+    new-instance v13, Ljava/lang/StringBuilder;
+
+    invoke-direct {v13}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v14, "found our package: "
+
+    invoke-virtual {v13, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v13
+
+    aget-object v14, v9, v8
+
+    invoke-virtual {v13, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v13
+
+    const-string v14, " with internal path. File: "
+
+    invoke-virtual {v13, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v13
+
+    invoke-virtual {v13, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v13
+
+    invoke-virtual {v13}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v13
+
+    invoke-static {v12, v13}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    aget-object v0, v9, v8
+    :try_end_c7
+    .catchall {:try_start_9e .. :try_end_c7} :catchall_1dd
+    .catch Ljava/lang/Exception; {:try_start_9e .. :try_end_c7} :catch_1e6
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    invoke-static {}, Ljava/lang/System;->gc()V
+
+    move-object v3, v2
+
+    move-object v6, v5
+
+    :goto_ce
+    if-eqz v0, :cond_13e
+
+    const-string v12, "PM,MediaRecorder"
+
+    new-instance v13, Ljava/lang/StringBuilder;
+
+    invoke-direct {v13}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v14, "returned file: "
+
+    invoke-virtual {v13, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v13
+
+    invoke-virtual {v13, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v13
+
+    const-string v14, " for package: "
+
+    invoke-virtual {v13, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v13
+
+    invoke-virtual {v13, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v13
+
+    const-string v14, " with internal path. Path: "
+
+    invoke-virtual {v13, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v13
+
+    const-string v14, "/data/data/"
+
+    invoke-virtual {v13, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v13
+
+    invoke-virtual {v13, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v13
+
+    const-string v14, "/cache/"
+
+    invoke-virtual {v13, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v13
+
+    invoke-virtual {v13, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v13
+
+    invoke-virtual {v13}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v13
+
+    invoke-static {v12, v13}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    new-instance v12, Ljava/lang/StringBuilder;
+
+    invoke-direct {v12}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v13, "/data/data/"
+
+    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    invoke-virtual {v12, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    const-string v13, "/cache/"
+
+    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    invoke-virtual {v12, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    invoke-virtual {v12}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v12
+
+    move-object v2, v3
+
+    move-object v5, v6
+
+    :goto_12c
+    return-object v12
+
+    :catchall_12d
+    move-exception v12
+
+    :goto_12e
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    invoke-static {}, Ljava/lang/System;->gc()V
+
+    throw v12
+
+    :catch_134
+    move-exception v12
+
+    :goto_135
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    invoke-static {}, Ljava/lang/System;->gc()V
+
+    add-int/lit8 v8, v8, 0x1
+
+    goto/16 :goto_24
+
+    :cond_13e
+    :try_start_13e
+    invoke-static {}, Landroid/os/Environment;->getExternalStorageDirectory()Ljava/io/File;
+
+    move-result-object v12
+
+    invoke-virtual {v12}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;
+
+    move-result-object v10
+
+    new-instance v5, Ljava/io/FileWriter;
+
+    new-instance v12, Ljava/lang/StringBuilder;
+
+    invoke-direct {v12}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v12, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    const-string v13, "/"
+
+    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    invoke-virtual {v12, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    invoke-virtual {v12}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v12
+
+    invoke-direct {v5, v12}, Ljava/io/FileWriter;-><init>(Ljava/lang/String;)V
+    :try_end_162
+    .catch Ljava/lang/Exception; {:try_start_13e .. :try_end_162} :catch_1ce
+
+    :try_start_162
+    const-string/jumbo v12, "test"
+
+    invoke-virtual {v5, v12}, Ljava/io/FileWriter;->write(Ljava/lang/String;)V
+
+    invoke-virtual {v5}, Ljava/io/FileWriter;->flush()V
+
+    invoke-virtual {v5}, Ljava/io/FileWriter;->close()V
+
+    new-instance v2, Ljava/io/File;
+
+    new-instance v12, Ljava/lang/StringBuilder;
+
+    invoke-direct {v12}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v12, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    const-string v13, "/"
+
+    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    invoke-virtual {v12, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    invoke-virtual {v12}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v12
+
+    invoke-direct {v2, v12}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+    :try_end_18a
+    .catch Ljava/lang/Exception; {:try_start_162 .. :try_end_18a} :catch_1d4
+
+    :try_start_18a
+    invoke-virtual {v2}, Ljava/io/File;->delete()Z
+
+    const-string v12, "PM,MediaRecorder"
+
+    new-instance v13, Ljava/lang/StringBuilder;
+
+    invoke-direct {v13}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v14, "Return filePath:  "
+
+    invoke-virtual {v13, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v13
+
+    invoke-virtual {v13, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v13
+
+    const-string v14, "/"
+
+    invoke-virtual {v13, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v13
+
+    invoke-virtual {v13, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v13
+
+    const-string v14, " . It is on SDCard!"
+
+    invoke-virtual {v13, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v13
+
+    invoke-virtual {v13}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v13
+
+    invoke-static {v12, v13}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    new-instance v12, Ljava/lang/StringBuilder;
+
+    invoke-direct {v12}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v12, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    const-string v13, "/"
+
+    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    invoke-virtual {v12, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    invoke-virtual {v12}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    :try_end_1cb
+    .catch Ljava/lang/Exception; {:try_start_18a .. :try_end_1cb} :catch_1d7
+
+    move-result-object v12
+
+    goto/16 :goto_12c
+
+    :catch_1ce
+    move-exception v4
+
+    move-object v2, v3
+
+    move-object v5, v6
+
+    :goto_1d1
+    const/4 v12, 0x0
+
+    goto/16 :goto_12c
+
+    :catch_1d4
+    move-exception v4
+
+    move-object v2, v3
+
+    goto :goto_1d1
+
+    :catch_1d7
+    move-exception v4
+
+    goto :goto_1d1
+
+    :catchall_1d9
+    move-exception v12
+
+    move-object v5, v6
+
+    goto/16 :goto_12e
+
+    :catchall_1dd
+    move-exception v12
+
+    move-object v2, v3
+
+    move-object v5, v6
+
+    goto/16 :goto_12e
+
+    :catch_1e2
+    move-exception v12
+
+    move-object v5, v6
+
+    goto/16 :goto_135
+
+    :catch_1e6
+    move-exception v12
+
+    move-object v2, v3
+
+    move-object v5, v6
+
+    goto/16 :goto_135
+
+    :cond_1eb
+    move-object v3, v2
+
+    move-object v6, v5
+
+    goto/16 :goto_ce
+.end method
+
+.method private initiate()V
+    .registers 5
+
+    const/4 v1, 0x0
+
+    :try_start_1
+    iput-object v1, p0, Landroid/media/MediaRecorder;->context:Landroid/content/Context;
+
+    new-instance v1, Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v2, p0, Landroid/media/MediaRecorder;->context:Landroid/content/Context;
+
+    const-string/jumbo v3, "privacy"
+
+    invoke-static {v3}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v3
+
+    invoke-static {v3}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v3
+
+    invoke-direct {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v1, p0, Landroid/media/MediaRecorder;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "package"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/content/pm/IPackageManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/content/pm/IPackageManager;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/media/MediaRecorder;->mPm:Landroid/content/pm/IPackageManager;
+
+    const/4 v1, 0x1
+
+    iput-boolean v1, p0, Landroid/media/MediaRecorder;->privacyMode:Z
+    :try_end_27
+    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_27} :catch_28
+
+    :goto_27
+    return-void
+
+    :catch_28
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v1, "PM,MediaRecorder"
 
-    return-object v0
-.end method
+    const-string v2, "Something went wrong with initalize variables"
 
-.method public static final getAudioSourceMax()I
-    .registers 1
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
 
-    const/4 v0, 0x7
+    const/4 v1, 0x0
 
-    return v0
+    iput-boolean v1, p0, Landroid/media/MediaRecorder;->privacyMode:Z
+
+    goto :goto_27
 .end method
 
 .method private final native native_finalize()V
@@ -234,17 +2011,104 @@
     goto :goto_a
 .end method
 
+.method private privacyStop()V
+    .registers 4
+
+    :try_start_0
+    invoke-virtual {p0}, Landroid/media/MediaRecorder;->stop()V
+    :try_end_3
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_3} :catch_4
+
+    :goto_3
+    return-void
+
+    :catch_4
+    move-exception v0
+
+    const-string v1, "PM,MediaRecorder"
+
+    const-string v2, "Got exception while trying to call privacyStop()"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_3
+.end method
+
 .method private native setParameter(Ljava/lang/String;)V
 .end method
 
 
 # virtual methods
 .method protected finalize()V
-    .registers 1
+    .registers 4
+
+    const/4 v2, 0x1
+
+    iget-boolean v1, p0, Landroid/media/MediaRecorder;->deletedFile:Z
+
+    if-nez v1, :cond_18
+
+    iget-object v1, p0, Landroid/media/MediaRecorder;->mPath:Ljava/lang/String;
+
+    if-eqz v1, :cond_1c
+
+    new-instance v0, Ljava/io/File;
+
+    iget-object v1, p0, Landroid/media/MediaRecorder;->mPath:Ljava/lang/String;
+
+    invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V
 
+    invoke-virtual {v0}, Ljava/io/File;->delete()Z
+
+    move-result v1
+
+    if-eqz v1, :cond_18
+
+    iput-boolean v2, p0, Landroid/media/MediaRecorder;->deletedFile:Z
+
+    :cond_18
+    :goto_18
     invoke-direct {p0}, Landroid/media/MediaRecorder;->native_finalize()V
 
     return-void
+
+    :cond_1c
+    iget-object v1, p0, Landroid/media/MediaRecorder;->mFd:Ljava/io/FileDescriptor;
+
+    if-eqz v1, :cond_34
+
+    iget-object v1, p0, Landroid/media/MediaRecorder;->pFileDescriptorPath:Ljava/lang/String;
+
+    if-eqz v1, :cond_34
+
+    new-instance v0, Ljava/io/File;
+
+    iget-object v1, p0, Landroid/media/MediaRecorder;->pFileDescriptorPath:Ljava/lang/String;
+
+    invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v0}, Ljava/io/File;->delete()Z
+
+    move-result v1
+
+    if-eqz v1, :cond_18
+
+    iput-boolean v2, p0, Landroid/media/MediaRecorder;->deletedFile:Z
+
+    goto :goto_18
+
+    :cond_34
+    const-string v1, "PM,MediaRecorder"
+
+    const-string v2, "Can\'t delete temporary File, because all is null?! It could be that we only want to record audio?!"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v1, 0x0
+
+    iput-boolean v1, p0, Landroid/media/MediaRecorder;->deletedFile:Z
+
+    goto :goto_18
 .end method
 
 .method public native getMaxAmplitude()I
@@ -256,7 +2120,7 @@
 .end method
 
 .method public prepare()V
-    .registers 8
+    .registers 12
     .annotation system Ldalvik/annotation/Throws;
         value = {
             Ljava/lang/IllegalStateException;,
@@ -264,20 +2128,80 @@
         }
     .end annotation
 
-    const-wide/16 v2, 0x0
+    iget-boolean v0, p0, Landroid/media/MediaRecorder;->privacyMode:Z
+
+    if-nez v0, :cond_7
+
+    invoke-direct {p0}, Landroid/media/MediaRecorder;->initiate()V
+
+    :cond_7
+    const/4 v0, 0x0
+
+    iput-boolean v0, p0, Landroid/media/MediaRecorder;->deletedFile:Z
+
+    const/4 v9, 0x0
 
+    iget v0, p0, Landroid/media/MediaRecorder;->ACTUAL_STATE:I
+
+    packed-switch v0, :pswitch_data_102
+
+    :cond_10
+    :goto_10
+    invoke-direct {p0}, Landroid/media/MediaRecorder;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v8
+
+    if-nez v9, :cond_31
+
+    iget v0, p0, Landroid/media/MediaRecorder;->ACTUAL_STATE:I
+
+    const/4 v1, 0x1
+
+    if-ne v0, v1, :cond_cf
+
+    if-eqz v8, :cond_cf
+
+    array-length v0, v8
+
+    if-lez v0, :cond_cf
+
+    iget-object v0, p0, Landroid/media/MediaRecorder;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v1, 0x0
+
+    aget-object v1, v8, v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    const-string v4, "camera"
+
+    const/4 v5, 0x0
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_2e
+    :goto_2e
+    const/4 v0, 0x1
+
+    iput-boolean v0, p0, Landroid/media/MediaRecorder;->deletedFile:Z
+
+    :cond_31
     iget-object v0, p0, Landroid/media/MediaRecorder;->mPath:Ljava/lang/String;
 
-    if-eqz v0, :cond_25
+    if-eqz v0, :cond_ea
 
-    new-instance v6, Ljava/io/FileOutputStream;
+    new-instance v7, Ljava/io/FileOutputStream;
 
     iget-object v0, p0, Landroid/media/MediaRecorder;->mPath:Ljava/lang/String;
 
-    invoke-direct {v6, v0}, Ljava/io/FileOutputStream;-><init>(Ljava/lang/String;)V
+    invoke-direct {v7, v0}, Ljava/io/FileOutputStream;-><init>(Ljava/lang/String;)V
 
-    :try_start_d
-    invoke-virtual {v6}, Ljava/io/FileOutputStream;->getFD()Ljava/io/FileDescriptor;
+    :try_start_3c
+    invoke-virtual {v7}, Ljava/io/FileOutputStream;->getFD()Ljava/io/FileDescriptor;
 
     move-result-object v1
 
@@ -288,39 +2212,215 @@
     move-object v0, p0
 
     invoke-direct/range {v0 .. v5}, Landroid/media/MediaRecorder;->_setOutputFile(Ljava/io/FileDescriptor;JJ)V
-    :try_end_19
-    .catchall {:try_start_d .. :try_end_19} :catchall_20
+    :try_end_48
+    .catchall {:try_start_3c .. :try_end_48} :catchall_e5
 
-    invoke-virtual {v6}, Ljava/io/FileOutputStream;->close()V
+    invoke-virtual {v7}, Ljava/io/FileOutputStream;->close()V
 
-    :goto_1c
+    :goto_4b
     invoke-direct {p0}, Landroid/media/MediaRecorder;->_prepare()V
 
     return-void
 
-    :catchall_20
+    :pswitch_4f
+    const/4 v0, 0x2
+
+    invoke-direct {p0, v0}, Landroid/media/MediaRecorder;->checkIfPackagesAllowed(I)I
+
+    move-result v0
+
+    const/4 v1, -0x2
+
+    if-ne v0, v1, :cond_10
+
+    invoke-direct {p0}, Landroid/media/MediaRecorder;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v10
+
+    if-eqz v10, :cond_6f
+
+    array-length v0, v10
+
+    if-lez v0, :cond_6f
+
+    iget-object v0, p0, Landroid/media/MediaRecorder;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v1, 0x0
+
+    aget-object v1, v10, v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "recordAudio"
+
+    const/4 v5, 0x0
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_6f
+    new-instance v0, Landroid/media/MediaRecorder$PrivacyRunner;
+
+    invoke-direct {v0, p0}, Landroid/media/MediaRecorder$PrivacyRunner;-><init>(Landroid/media/MediaRecorder;)V
+
+    iput-object v0, p0, Landroid/media/MediaRecorder;->pRunner:Landroid/media/MediaRecorder$PrivacyRunner;
+
+    iget-object v0, p0, Landroid/media/MediaRecorder;->pRunner:Landroid/media/MediaRecorder$PrivacyRunner;
+
+    const-wide/16 v1, 0x32
+
+    invoke-virtual {v0, v1, v2}, Landroid/media/MediaRecorder$PrivacyRunner;->setDelay(J)V
+
+    iget-object v0, p0, Landroid/media/MediaRecorder;->pRunner:Landroid/media/MediaRecorder$PrivacyRunner;
+
+    invoke-virtual {v0}, Landroid/media/MediaRecorder$PrivacyRunner;->start()V
+
+    const/4 v9, 0x1
+
+    goto :goto_10
+
+    :pswitch_84
+    const/4 v0, 0x3
+
+    invoke-direct {p0, v0}, Landroid/media/MediaRecorder;->checkIfPackagesAllowed(I)I
+
+    move-result v0
+
+    const/4 v1, -0x2
+
+    if-ne v0, v1, :cond_10
+
+    invoke-direct {p0}, Landroid/media/MediaRecorder;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v10
+
+    if-eqz v10, :cond_a3
+
+    array-length v0, v10
+
+    if-lez v0, :cond_a3
+
+    iget-object v0, p0, Landroid/media/MediaRecorder;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v1, 0x0
+
+    aget-object v1, v10, v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x1
+
+    const-string v4, "camera"
+
+    const/4 v5, 0x0
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_a3
+    iget-object v0, p0, Landroid/media/MediaRecorder;->mPath:Ljava/lang/String;
+
+    if-eqz v0, :cond_bc
+
+    invoke-direct {p0}, Landroid/media/MediaRecorder;->getPrivacyPath()Ljava/lang/String;
+
+    move-result-object v0
+
+    iput-object v0, p0, Landroid/media/MediaRecorder;->mPath:Ljava/lang/String;
+
+    :goto_ad
+    new-instance v0, Landroid/media/MediaRecorder$PrivacyRunner;
+
+    invoke-direct {v0, p0}, Landroid/media/MediaRecorder$PrivacyRunner;-><init>(Landroid/media/MediaRecorder;)V
+
+    iput-object v0, p0, Landroid/media/MediaRecorder;->pRunner:Landroid/media/MediaRecorder$PrivacyRunner;
+
+    iget-object v0, p0, Landroid/media/MediaRecorder;->pRunner:Landroid/media/MediaRecorder$PrivacyRunner;
+
+    invoke-virtual {v0}, Landroid/media/MediaRecorder$PrivacyRunner;->start()V
+
+    const/4 v9, 0x1
+
+    goto/16 :goto_10
+
+    :cond_bc
+    iget-object v0, p0, Landroid/media/MediaRecorder;->mFd:Ljava/io/FileDescriptor;
+
+    if-eqz v0, :cond_c7
+
+    invoke-direct {p0}, Landroid/media/MediaRecorder;->getPrivacyFileDescriptor()Ljava/io/FileDescriptor;
+
+    move-result-object v0
+
+    iput-object v0, p0, Landroid/media/MediaRecorder;->mFd:Ljava/io/FileDescriptor;
+
+    goto :goto_ad
+
+    :cond_c7
+    new-instance v0, Ljava/io/IOException;
+
+    const-string v1, "No valid output file"
+
+    invoke-direct {v0, v1}, Ljava/io/IOException;-><init>(Ljava/lang/String;)V
+
+    throw v0
+
+    :cond_cf
+    if-eqz v8, :cond_2e
+
+    array-length v0, v8
+
+    if-lez v0, :cond_2e
+
+    iget-object v0, p0, Landroid/media/MediaRecorder;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v1, 0x0
+
+    aget-object v1, v8, v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "recordAudio"
+
+    const/4 v5, 0x0
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_2e
+
+    :catchall_e5
     move-exception v0
 
-    invoke-virtual {v6}, Ljava/io/FileOutputStream;->close()V
+    invoke-virtual {v7}, Ljava/io/FileOutputStream;->close()V
 
     throw v0
 
-    :cond_25
+    :cond_ea
     iget-object v0, p0, Landroid/media/MediaRecorder;->mFd:Ljava/io/FileDescriptor;
 
-    if-eqz v0, :cond_31
+    if-eqz v0, :cond_fa
 
     iget-object v1, p0, Landroid/media/MediaRecorder;->mFd:Ljava/io/FileDescriptor;
 
-    move-object v0, p0
+    const-wide/16 v2, 0x0
+
+    const-wide/16 v4, 0x0
 
-    move-wide v4, v2
+    move-object v0, p0
 
     invoke-direct/range {v0 .. v5}, Landroid/media/MediaRecorder;->_setOutputFile(Ljava/io/FileDescriptor;JJ)V
 
-    goto :goto_1c
+    goto/16 :goto_4b
 
-    :cond_31
+    :cond_fa
     new-instance v0, Ljava/io/IOException;
 
     const-string v1, "No valid output file"
@@ -328,23 +2428,97 @@
     invoke-direct {v0, v1}, Ljava/io/IOException;-><init>(Ljava/lang/String;)V
 
     throw v0
+
+    :pswitch_data_102
+    .packed-switch 0x0
+        :pswitch_4f
+        :pswitch_84
+    .end packed-switch
 .end method
 
 .method public native release()V
 .end method
 
 .method public reset()V
-    .registers 3
+    .registers 5
+
+    const/4 v3, 0x0
+
+    const/4 v2, 0x1
 
     invoke-direct {p0}, Landroid/media/MediaRecorder;->native_reset()V
 
-    iget-object v0, p0, Landroid/media/MediaRecorder;->mEventHandler:Landroid/media/MediaRecorder$EventHandler;
+    iget-boolean v1, p0, Landroid/media/MediaRecorder;->deletedFile:Z
 
-    const/4 v1, 0x0
+    if-nez v1, :cond_1c
+
+    iget-object v1, p0, Landroid/media/MediaRecorder;->mPath:Ljava/lang/String;
+
+    if-eqz v1, :cond_27
+
+    new-instance v0, Ljava/io/File;
+
+    iget-object v1, p0, Landroid/media/MediaRecorder;->mPath:Ljava/lang/String;
+
+    invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v0}, Ljava/io/File;->delete()Z
+
+    move-result v1
+
+    if-eqz v1, :cond_1c
 
-    invoke-virtual {v0, v1}, Landroid/media/MediaRecorder$EventHandler;->removeCallbacksAndMessages(Ljava/lang/Object;)V
+    iput-boolean v2, p0, Landroid/media/MediaRecorder;->deletedFile:Z
+
+    :cond_1c
+    :goto_1c
+    iput-object v3, p0, Landroid/media/MediaRecorder;->pRunner:Landroid/media/MediaRecorder$PrivacyRunner;
+
+    invoke-static {}, Ljava/lang/System;->gc()V
+
+    iget-object v1, p0, Landroid/media/MediaRecorder;->mEventHandler:Landroid/media/MediaRecorder$EventHandler;
+
+    invoke-virtual {v1, v3}, Landroid/media/MediaRecorder$EventHandler;->removeCallbacksAndMessages(Ljava/lang/Object;)V
 
     return-void
+
+    :cond_27
+    iget-object v1, p0, Landroid/media/MediaRecorder;->mFd:Ljava/io/FileDescriptor;
+
+    if-eqz v1, :cond_3f
+
+    iget-object v1, p0, Landroid/media/MediaRecorder;->pFileDescriptorPath:Ljava/lang/String;
+
+    if-eqz v1, :cond_3f
+
+    new-instance v0, Ljava/io/File;
+
+    iget-object v1, p0, Landroid/media/MediaRecorder;->pFileDescriptorPath:Ljava/lang/String;
+
+    invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v0}, Ljava/io/File;->delete()Z
+
+    move-result v1
+
+    if-eqz v1, :cond_1c
+
+    iput-boolean v2, p0, Landroid/media/MediaRecorder;->deletedFile:Z
+
+    goto :goto_1c
+
+    :cond_3f
+    const-string v1, "PM,MediaRecorder"
+
+    const-string v2, "Can\'t delete temporary File, because all is null?! It could be that we only want to record audio?!"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v1, 0x0
+
+    iput-boolean v1, p0, Landroid/media/MediaRecorder;->deletedFile:Z
+
+    goto :goto_1c
 .end method
 
 .method public setAudioChannels(I)V
@@ -504,6 +2678,10 @@
 .method public setCaptureRate(D)V
     .registers 8
 
+    const/4 v3, 0x1
+
+    iput v3, p0, Landroid/media/MediaRecorder;->ACTUAL_STATE:I
+
     const-string/jumbo v3, "time-lapse-enable=1"
 
     invoke-direct {p0, v3}, Landroid/media/MediaRecorder;->setParameter(Ljava/lang/String;)V
@@ -798,6 +2976,10 @@
 
     iput-object p1, p0, Landroid/media/MediaRecorder;->mFd:Ljava/io/FileDescriptor;
 
+    const/4 v0, 0x0
+
+    iput-boolean v0, p0, Landroid/media/MediaRecorder;->deletedFile:Z
+
     return-void
 .end method
 
@@ -815,6 +2997,10 @@
 
     iput-object p1, p0, Landroid/media/MediaRecorder;->mPath:Ljava/lang/String;
 
+    const/4 v0, 0x0
+
+    iput-boolean v0, p0, Landroid/media/MediaRecorder;->deletedFile:Z
+
     return-void
 .end method
 
@@ -827,7 +3013,11 @@
 .end method
 
 .method public setPreviewDisplay(Landroid/view/Surface;)V
-    .registers 2
+    .registers 3
+
+    const/4 v0, 0x1
+
+    iput v0, p0, Landroid/media/MediaRecorder;->ACTUAL_STATE:I
 
     iput-object p1, p0, Landroid/media/MediaRecorder;->mSurface:Landroid/view/Surface;
 
@@ -837,6 +3027,10 @@
 .method public setProfile(Landroid/media/CamcorderProfile;)V
     .registers 4
 
+    const/4 v0, 0x1
+
+    iput v0, p0, Landroid/media/MediaRecorder;->ACTUAL_STATE:I
+
     iget v0, p1, Landroid/media/CamcorderProfile;->fileFormat:I
 
     invoke-virtual {p0, v0}, Landroid/media/MediaRecorder;->setOutputFormat(I)V
@@ -863,18 +3057,18 @@
 
     const/16 v1, 0x3e8
 
-    if-lt v0, v1, :cond_28
+    if-lt v0, v1, :cond_2b
 
     iget v0, p1, Landroid/media/CamcorderProfile;->quality:I
 
     const/16 v1, 0x3ef
 
-    if-gt v0, v1, :cond_28
+    if-gt v0, v1, :cond_2b
 
-    :goto_27
+    :goto_2a
     return-void
 
-    :cond_28
+    :cond_2b
     iget v0, p1, Landroid/media/CamcorderProfile;->audioBitRate:I
 
     invoke-virtual {p0, v0}, Landroid/media/MediaRecorder;->setAudioEncodingBitRate(I)V
@@ -891,7 +3085,7 @@
 
     invoke-virtual {p0, v0}, Landroid/media/MediaRecorder;->setAudioEncoder(I)V
 
-    goto :goto_27
+    goto :goto_2a
 .end method
 
 .method public native setVideoEncoder(I)V
@@ -905,7 +3099,11 @@
 .method public setVideoEncodingBitRate(I)V
     .registers 4
 
-    if-gtz p1, :cond_a
+    const/4 v0, 0x1
+
+    iput v0, p0, Landroid/media/MediaRecorder;->ACTUAL_STATE:I
+
+    if-gtz p1, :cond_d
 
     new-instance v0, Ljava/lang/IllegalArgumentException;
 
@@ -915,7 +3113,7 @@
 
     throw v0
 
-    :cond_a
+    :cond_d
     new-instance v0, Ljava/lang/StringBuilder;
 
     invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V
diff -Npruw stock-framework/smali/android/media/MediaScanner.smali pdroid-framework/smali/android/media/MediaScanner.smali
--- stock-framework/smali/android/media/MediaScanner.smali	2013-07-15 18:10:55.794628008 -0500
+++ pdroid-framework/smali/android/media/MediaScanner.smali	2013-07-15 18:10:49.318628177 -0500
@@ -2687,8 +2687,8 @@
 
     invoke-direct {v4, v5, v6}, Ljava/io/BufferedReader;-><init>(Ljava/io/Reader;I)V
     :try_end_1d
-    .catchall {:try_start_1 .. :try_end_1d} :catchall_60
-    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1d} :catch_49
+    .catchall {:try_start_1 .. :try_end_1d} :catchall_69
+    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1d} :catch_52
 
     :try_start_1d
     invoke-virtual {v4}, Ljava/io/BufferedReader;->readLine()Ljava/lang/String;
@@ -2730,8 +2730,8 @@
     :cond_3f
     invoke-direct {p0, p5, p4, p3}, Landroid/media/MediaScanner;->processCachedPlaylist(Landroid/database/Cursor;Landroid/content/ContentValues;Landroid/net/Uri;)V
     :try_end_42
-    .catchall {:try_start_1d .. :try_end_42} :catchall_76
-    .catch Ljava/io/IOException; {:try_start_1d .. :try_end_42} :catch_79
+    .catchall {:try_start_1d .. :try_end_42} :catchall_79
+    .catch Ljava/io/IOException; {:try_start_1d .. :try_end_42} :catch_7c
 
     move-object v3, v4
 
@@ -2741,7 +2741,7 @@
     :try_start_45
     invoke-virtual {v3}, Ljava/io/BufferedReader;->close()V
     :try_end_48
-    .catch Ljava/io/IOException; {:try_start_45 .. :try_end_48} :catch_70
+    .catch Ljava/io/IOException; {:try_start_45 .. :try_end_48} :catch_49
 
     :cond_48
     :goto_48
@@ -2750,53 +2750,63 @@
     :catch_49
     move-exception v0
 
-    :goto_4a
-    :try_start_4a
     const-string v5, "MediaScanner"
 
     const-string v6, "IOException in MediaScanner.processM3uPlayList()"
 
     invoke-static {v5, v6, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_51
-    .catchall {:try_start_4a .. :try_end_51} :catchall_60
 
-    if-eqz v3, :cond_48
+    goto :goto_48
+
+    :catch_52
+    move-exception v0
 
+    :goto_53
     :try_start_53
+    const-string v5, "MediaScanner"
+
+    const-string v6, "IOException in MediaScanner.processM3uPlayList()"
+
+    invoke-static {v5, v6, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+    :try_end_5a
+    .catchall {:try_start_53 .. :try_end_5a} :catchall_69
+
+    if-eqz v3, :cond_48
+
+    :try_start_5c
     invoke-virtual {v3}, Ljava/io/BufferedReader;->close()V
-    :try_end_56
-    .catch Ljava/io/IOException; {:try_start_53 .. :try_end_56} :catch_57
+    :try_end_5f
+    .catch Ljava/io/IOException; {:try_start_5c .. :try_end_5f} :catch_60
 
     goto :goto_48
 
-    :catch_57
+    :catch_60
     move-exception v0
 
     const-string v5, "MediaScanner"
 
     const-string v6, "IOException in MediaScanner.processM3uPlayList()"
 
-    :goto_5c
     invoke-static {v5, v6, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
     goto :goto_48
 
-    :catchall_60
+    :catchall_69
     move-exception v5
 
-    :goto_61
-    if-eqz v3, :cond_66
+    :goto_6a
+    if-eqz v3, :cond_6f
 
-    :try_start_63
+    :try_start_6c
     invoke-virtual {v3}, Ljava/io/BufferedReader;->close()V
-    :try_end_66
-    .catch Ljava/io/IOException; {:try_start_63 .. :try_end_66} :catch_67
+    :try_end_6f
+    .catch Ljava/io/IOException; {:try_start_6c .. :try_end_6f} :catch_70
 
-    :cond_66
-    :goto_66
+    :cond_6f
+    :goto_6f
     throw v5
 
-    :catch_67
+    :catch_70
     move-exception v0
 
     const-string v6, "MediaScanner"
@@ -2805,30 +2815,21 @@
 
     invoke-static {v6, v7, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
-    goto :goto_66
-
-    :catch_70
-    move-exception v0
-
-    const-string v5, "MediaScanner"
-
-    const-string v6, "IOException in MediaScanner.processM3uPlayList()"
-
-    goto :goto_5c
+    goto :goto_6f
 
-    :catchall_76
+    :catchall_79
     move-exception v5
 
     move-object v3, v4
 
-    goto :goto_61
+    goto :goto_6a
 
-    :catch_79
+    :catch_7c
     move-exception v0
 
     move-object v3, v4
 
-    goto :goto_4a
+    goto :goto_53
 .end method
 
 .method private processPlayList(Landroid/media/MediaScanner$FileEntry;Landroid/database/Cursor;)V
@@ -3115,7 +3116,7 @@
 
     move-result v0
 
-    if-eqz v0, :cond_39
+    if-eqz v0, :cond_32
 
     invoke-interface {v9}, Ljava/util/Iterator;->next()Ljava/lang/Object;
 
@@ -3129,7 +3130,7 @@
 
     invoke-direct {p0, v7, v8}, Landroid/media/MediaScanner;->processPlayList(Landroid/media/MediaScanner$FileEntry;Landroid/database/Cursor;)V
     :try_end_2a
-    .catchall {:try_start_7 .. :try_end_2a} :catchall_32
+    .catchall {:try_start_7 .. :try_end_2a} :catchall_38
     .catch Landroid/os/RemoteException; {:try_start_7 .. :try_end_2a} :catch_2b
 
     goto :goto_17
@@ -3139,26 +3140,28 @@
 
     if-eqz v8, :cond_31
 
-    :goto_2e
     invoke-interface {v8}, Landroid/database/Cursor;->close()V
 
     :cond_31
+    :goto_31
     return-void
 
-    :catchall_32
+    :cond_32
+    if-eqz v8, :cond_31
+
+    invoke-interface {v8}, Landroid/database/Cursor;->close()V
+
+    goto :goto_31
+
+    :catchall_38
     move-exception v0
 
-    if-eqz v8, :cond_38
+    if-eqz v8, :cond_3e
 
     invoke-interface {v8}, Landroid/database/Cursor;->close()V
 
-    :cond_38
+    :cond_3e
     throw v0
-
-    :cond_39
-    if-eqz v8, :cond_31
-
-    goto :goto_2e
 .end method
 
 .method private processPlsPlayList(Ljava/lang/String;Ljava/lang/String;Landroid/net/Uri;Landroid/content/ContentValues;Landroid/database/Cursor;)V
@@ -3191,8 +3194,8 @@
 
     invoke-direct {v5, v6, v7}, Ljava/io/BufferedReader;-><init>(Ljava/io/Reader;I)V
     :try_end_1d
-    .catchall {:try_start_1 .. :try_end_1d} :catchall_67
-    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1d} :catch_50
+    .catchall {:try_start_1 .. :try_end_1d} :catchall_70
+    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1d} :catch_59
 
     :try_start_1d
     invoke-virtual {v5}, Ljava/io/BufferedReader;->readLine()Ljava/lang/String;
@@ -3240,8 +3243,8 @@
     :cond_46
     invoke-direct {p0, p5, p4, p3}, Landroid/media/MediaScanner;->processCachedPlaylist(Landroid/database/Cursor;Landroid/content/ContentValues;Landroid/net/Uri;)V
     :try_end_49
-    .catchall {:try_start_1d .. :try_end_49} :catchall_7d
-    .catch Ljava/io/IOException; {:try_start_1d .. :try_end_49} :catch_80
+    .catchall {:try_start_1d .. :try_end_49} :catchall_80
+    .catch Ljava/io/IOException; {:try_start_1d .. :try_end_49} :catch_83
 
     move-object v4, v5
 
@@ -3251,7 +3254,7 @@
     :try_start_4c
     invoke-virtual {v4}, Ljava/io/BufferedReader;->close()V
     :try_end_4f
-    .catch Ljava/io/IOException; {:try_start_4c .. :try_end_4f} :catch_77
+    .catch Ljava/io/IOException; {:try_start_4c .. :try_end_4f} :catch_50
 
     :cond_4f
     :goto_4f
@@ -3260,53 +3263,63 @@
     :catch_50
     move-exception v0
 
-    :goto_51
-    :try_start_51
     const-string v6, "MediaScanner"
 
     const-string v7, "IOException in MediaScanner.processPlsPlayList()"
 
     invoke-static {v6, v7, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_58
-    .catchall {:try_start_51 .. :try_end_58} :catchall_67
 
-    if-eqz v4, :cond_4f
+    goto :goto_4f
+
+    :catch_59
+    move-exception v0
 
+    :goto_5a
     :try_start_5a
+    const-string v6, "MediaScanner"
+
+    const-string v7, "IOException in MediaScanner.processPlsPlayList()"
+
+    invoke-static {v6, v7, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+    :try_end_61
+    .catchall {:try_start_5a .. :try_end_61} :catchall_70
+
+    if-eqz v4, :cond_4f
+
+    :try_start_63
     invoke-virtual {v4}, Ljava/io/BufferedReader;->close()V
-    :try_end_5d
-    .catch Ljava/io/IOException; {:try_start_5a .. :try_end_5d} :catch_5e
+    :try_end_66
+    .catch Ljava/io/IOException; {:try_start_63 .. :try_end_66} :catch_67
 
     goto :goto_4f
 
-    :catch_5e
+    :catch_67
     move-exception v0
 
     const-string v6, "MediaScanner"
 
     const-string v7, "IOException in MediaScanner.processPlsPlayList()"
 
-    :goto_63
     invoke-static {v6, v7, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
     goto :goto_4f
 
-    :catchall_67
+    :catchall_70
     move-exception v6
 
-    :goto_68
-    if-eqz v4, :cond_6d
+    :goto_71
+    if-eqz v4, :cond_76
 
-    :try_start_6a
+    :try_start_73
     invoke-virtual {v4}, Ljava/io/BufferedReader;->close()V
-    :try_end_6d
-    .catch Ljava/io/IOException; {:try_start_6a .. :try_end_6d} :catch_6e
+    :try_end_76
+    .catch Ljava/io/IOException; {:try_start_73 .. :try_end_76} :catch_77
 
-    :cond_6d
-    :goto_6d
+    :cond_76
+    :goto_76
     throw v6
 
-    :catch_6e
+    :catch_77
     move-exception v0
 
     const-string v7, "MediaScanner"
@@ -3315,30 +3328,21 @@
 
     invoke-static {v7, v8, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
-    goto :goto_6d
-
-    :catch_77
-    move-exception v0
-
-    const-string v6, "MediaScanner"
-
-    const-string v7, "IOException in MediaScanner.processPlsPlayList()"
-
-    goto :goto_63
+    goto :goto_76
 
-    :catchall_7d
+    :catchall_80
     move-exception v6
 
     move-object v4, v5
 
-    goto :goto_68
+    goto :goto_71
 
-    :catch_80
+    :catch_83
     move-exception v0
 
     move-object v4, v5
 
-    goto :goto_51
+    goto :goto_5a
 .end method
 
 .method private processWplPlayList(Ljava/lang/String;Ljava/lang/String;Landroid/net/Uri;Landroid/content/ContentValues;Landroid/database/Cursor;)V
@@ -3361,9 +3365,9 @@
 
     invoke-direct {v3, v1}, Ljava/io/FileInputStream;-><init>(Ljava/io/File;)V
     :try_end_11
-    .catchall {:try_start_1 .. :try_end_11} :catchall_55
-    .catch Lorg/xml/sax/SAXException; {:try_start_1 .. :try_end_11} :catch_32
-    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_11} :catch_45
+    .catchall {:try_start_1 .. :try_end_11} :catchall_61
+    .catch Lorg/xml/sax/SAXException; {:try_start_1 .. :try_end_11} :catch_3b
+    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_11} :catch_4e
 
     :try_start_11
     iget-object v4, p0, Landroid/media/MediaScanner;->mPlaylistEntries:Ljava/util/ArrayList;
@@ -3388,9 +3392,9 @@
 
     invoke-direct {p0, p5, p4, p3}, Landroid/media/MediaScanner;->processCachedPlaylist(Landroid/database/Cursor;Landroid/content/ContentValues;Landroid/net/Uri;)V
     :try_end_2b
-    .catchall {:try_start_11 .. :try_end_2b} :catchall_6b
-    .catch Lorg/xml/sax/SAXException; {:try_start_11 .. :try_end_2b} :catch_71
-    .catch Ljava/io/IOException; {:try_start_11 .. :try_end_2b} :catch_6e
+    .catchall {:try_start_11 .. :try_end_2b} :catchall_71
+    .catch Lorg/xml/sax/SAXException; {:try_start_11 .. :try_end_2b} :catch_77
+    .catch Ljava/io/IOException; {:try_start_11 .. :try_end_2b} :catch_74
 
     move-object v2, v3
 
@@ -3400,7 +3404,7 @@
     :try_start_2e
     invoke-virtual {v2}, Ljava/io/FileInputStream;->close()V
     :try_end_31
-    .catch Ljava/io/IOException; {:try_start_2e .. :try_end_31} :catch_65
+    .catch Ljava/io/IOException; {:try_start_2e .. :try_end_31} :catch_32
 
     :cond_31
     :goto_31
@@ -3409,76 +3413,88 @@
     :catch_32
     move-exception v0
 
-    :goto_33
-    :try_start_33
+    const-string v4, "MediaScanner"
+
+    const-string v5, "IOException in MediaScanner.processWplPlayList()"
+
+    invoke-static {v4, v5, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_31
+
+    :catch_3b
+    move-exception v0
+
+    :goto_3c
+    :try_start_3c
     invoke-virtual {v0}, Lorg/xml/sax/SAXException;->printStackTrace()V
-    :try_end_36
-    .catchall {:try_start_33 .. :try_end_36} :catchall_55
+    :try_end_3f
+    .catchall {:try_start_3c .. :try_end_3f} :catchall_61
 
     if-eqz v2, :cond_31
 
-    :try_start_38
+    :try_start_41
     invoke-virtual {v2}, Ljava/io/FileInputStream;->close()V
-    :try_end_3b
-    .catch Ljava/io/IOException; {:try_start_38 .. :try_end_3b} :catch_3c
+    :try_end_44
+    .catch Ljava/io/IOException; {:try_start_41 .. :try_end_44} :catch_45
 
     goto :goto_31
 
-    :catch_3c
+    :catch_45
     move-exception v0
 
     const-string v4, "MediaScanner"
 
     const-string v5, "IOException in MediaScanner.processWplPlayList()"
 
-    :goto_41
     invoke-static {v4, v5, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
     goto :goto_31
 
-    :catch_45
+    :catch_4e
     move-exception v0
 
-    :goto_46
-    :try_start_46
+    :goto_4f
+    :try_start_4f
     invoke-virtual {v0}, Ljava/io/IOException;->printStackTrace()V
-    :try_end_49
-    .catchall {:try_start_46 .. :try_end_49} :catchall_55
+    :try_end_52
+    .catchall {:try_start_4f .. :try_end_52} :catchall_61
 
     if-eqz v2, :cond_31
 
-    :try_start_4b
+    :try_start_54
     invoke-virtual {v2}, Ljava/io/FileInputStream;->close()V
-    :try_end_4e
-    .catch Ljava/io/IOException; {:try_start_4b .. :try_end_4e} :catch_4f
+    :try_end_57
+    .catch Ljava/io/IOException; {:try_start_54 .. :try_end_57} :catch_58
 
     goto :goto_31
 
-    :catch_4f
+    :catch_58
     move-exception v0
 
     const-string v4, "MediaScanner"
 
     const-string v5, "IOException in MediaScanner.processWplPlayList()"
 
-    goto :goto_41
+    invoke-static {v4, v5, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
-    :catchall_55
+    goto :goto_31
+
+    :catchall_61
     move-exception v4
 
-    :goto_56
-    if-eqz v2, :cond_5b
+    :goto_62
+    if-eqz v2, :cond_67
 
-    :try_start_58
+    :try_start_64
     invoke-virtual {v2}, Ljava/io/FileInputStream;->close()V
-    :try_end_5b
-    .catch Ljava/io/IOException; {:try_start_58 .. :try_end_5b} :catch_5c
+    :try_end_67
+    .catch Ljava/io/IOException; {:try_start_64 .. :try_end_67} :catch_68
 
-    :cond_5b
-    :goto_5b
+    :cond_67
+    :goto_67
     throw v4
 
-    :catch_5c
+    :catch_68
     move-exception v0
 
     const-string v5, "MediaScanner"
@@ -3487,37 +3503,28 @@
 
     invoke-static {v5, v6, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
-    goto :goto_5b
-
-    :catch_65
-    move-exception v0
-
-    const-string v4, "MediaScanner"
-
-    const-string v5, "IOException in MediaScanner.processWplPlayList()"
-
-    goto :goto_41
+    goto :goto_67
 
-    :catchall_6b
+    :catchall_71
     move-exception v4
 
     move-object v2, v3
 
-    goto :goto_56
+    goto :goto_62
 
-    :catch_6e
+    :catch_74
     move-exception v0
 
     move-object v2, v3
 
-    goto :goto_46
+    goto :goto_4f
 
-    :catch_71
+    :catch_77
     move-exception v0
 
     move-object v2, v3
 
-    goto :goto_33
+    goto :goto_3c
 .end method
 
 .method private pruneDeadThumbnailFiles()V
@@ -3885,7 +3892,7 @@
 
     move-result v0
 
-    if-eqz v0, :cond_8a
+    if-eqz v0, :cond_7b
 
     const/4 v0, 0x0
 
@@ -3911,7 +3918,7 @@
 
     invoke-direct/range {v5 .. v11}, Landroid/media/MediaScanner$FileEntry;-><init>(JLjava/lang/String;JI)V
     :try_end_6a
-    .catchall {:try_start_1 .. :try_end_6a} :catchall_7b
+    .catchall {:try_start_1 .. :try_end_6a} :catchall_89
     .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_6a} :catch_82
 
     if-eqz v12, :cond_6f
@@ -3939,38 +3946,40 @@
 
     aput-object p1, v4, v0
     :try_end_7a
-    .catchall {:try_start_72 .. :try_end_7a} :catchall_7b
+    .catchall {:try_start_72 .. :try_end_7a} :catchall_89
     .catch Landroid/os/RemoteException; {:try_start_72 .. :try_end_7a} :catch_82
 
     goto :goto_20
 
-    :catchall_7b
-    move-exception v0
-
-    if-eqz v12, :cond_81
+    :cond_7b
+    if-eqz v12, :cond_80
 
     invoke-interface {v12}, Landroid/database/Cursor;->close()V
 
-    :cond_81
-    throw v0
+    :cond_80
+    :goto_80
+    const/4 v5, 0x0
+
+    goto :goto_6f
 
     :catch_82
     move-exception v0
 
-    if-eqz v12, :cond_88
+    if-eqz v12, :cond_80
 
-    :goto_85
     invoke-interface {v12}, Landroid/database/Cursor;->close()V
 
-    :cond_88
-    const/4 v5, 0x0
+    goto :goto_80
 
-    goto :goto_6f
+    :catchall_89
+    move-exception v0
+
+    if-eqz v12, :cond_8f
 
-    :cond_8a
-    if-eqz v12, :cond_88
+    invoke-interface {v12}, Landroid/database/Cursor;->close()V
 
-    goto :goto_85
+    :cond_8f
+    throw v0
 .end method
 
 .method public release()V
@@ -4283,7 +4292,7 @@
 
     invoke-direct {v0, v13, v15}, Landroid/media/MediaScanner;->processPlayList(Landroid/media/MediaScanner$FileEntry;Landroid/database/Cursor;)V
     :try_end_b4
-    .catchall {:try_start_8a .. :try_end_b4} :catchall_f7
+    .catchall {:try_start_8a .. :try_end_b4} :catchall_fb
     .catch Landroid/os/RemoteException; {:try_start_8a .. :try_end_b4} :catch_e5
 
     :cond_b4
@@ -4296,7 +4305,6 @@
 
     if-eqz v15, :cond_72
 
-    :goto_bb
     invoke-interface {v15}, Landroid/database/Cursor;->close()V
 
     goto :goto_72
@@ -4327,7 +4335,7 @@
 
     move/from16 v0, p4
 
-    if-ne v0, v3, :cond_f5
+    if-ne v0, v3, :cond_f9
 
     const/4 v9, 0x1
 
@@ -4342,7 +4350,7 @@
 
     invoke-virtual/range {v2 .. v11}, Landroid/media/MediaScanner$MyMediaScannerClient;->doScanFile(Ljava/lang/String;Ljava/lang/String;JJZZZ)Landroid/net/Uri;
     :try_end_e4
-    .catchall {:try_start_c0 .. :try_end_e4} :catchall_f7
+    .catchall {:try_start_c0 .. :try_end_e4} :catchall_fb
     .catch Landroid/os/RemoteException; {:try_start_c0 .. :try_end_e4} :catch_e5
 
     goto :goto_b4
@@ -4357,7 +4365,7 @@
 
     invoke-static {v2, v3, v12}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_ed
-    .catchall {:try_start_e6 .. :try_end_ed} :catchall_f7
+    .catchall {:try_start_e6 .. :try_end_ed} :catchall_fb
 
     const/4 v2, 0x0
 
@@ -4367,14 +4375,16 @@
 
     if-eqz v15, :cond_72
 
-    goto :goto_bb
+    invoke-interface {v15}, Landroid/database/Cursor;->close()V
+
+    goto/16 :goto_72
 
-    :cond_f5
+    :cond_f9
     const/4 v9, 0x0
 
     goto :goto_da
 
-    :catchall_f7
+    :catchall_fb
     move-exception v2
 
     const/4 v3, 0x0
@@ -4383,11 +4393,11 @@
 
     iput v3, v0, Landroid/media/MediaScanner;->mMtpObjectHandle:I
 
-    if-eqz v15, :cond_102
+    if-eqz v15, :cond_106
 
     invoke-interface {v15}, Landroid/database/Cursor;->close()V
 
-    :cond_102
+    :cond_106
     throw v2
 .end method
 
diff -Npruw stock-framework/smali/android/media/MiniThumbFile.smali pdroid-framework/smali/android/media/MiniThumbFile.smali
--- stock-framework/smali/android/media/MiniThumbFile.smali	2013-07-15 18:10:55.798628007 -0500
+++ pdroid-framework/smali/android/media/MiniThumbFile.smali	2013-07-15 18:10:49.322628177 -0500
@@ -91,7 +91,7 @@
 
     move-result-object v8
 
-    if-eqz v15, :cond_e3
+    if-eqz v15, :cond_ef
 
     const-wide/16 v3, 0x0
 
@@ -139,13 +139,13 @@
 
     move/from16 v0, v16
 
-    if-ne v0, v2, :cond_96
+    if-ne v0, v2, :cond_aa
 
     const/4 v2, 0x0
 
     invoke-virtual {v8, v2}, Ljava/nio/ByteBuffer;->position(I)Ljava/nio/Buffer;
 
-    if-eqz p3, :cond_8b
+    if-eqz p3, :cond_95
 
     invoke-virtual {v8}, Ljava/nio/ByteBuffer;->getLong()J
 
@@ -212,9 +212,9 @@
 
     invoke-virtual {v2, v8, v3, v4}, Ljava/nio/channels/FileChannel;->write(Ljava/nio/ByteBuffer;J)I
     :try_end_84
-    .catchall {:try_start_19 .. :try_end_84} :catchall_11f
-    .catch Ljava/io/IOException; {:try_start_19 .. :try_end_84} :catch_d6
-    .catch Ljava/lang/RuntimeException; {:try_start_19 .. :try_end_84} :catch_e6
+    .catchall {:try_start_19 .. :try_end_84} :catchall_14d
+    .catch Ljava/io/IOException; {:try_start_19 .. :try_end_84} :catch_fc
+    .catch Ljava/lang/RuntimeException; {:try_start_19 .. :try_end_84} :catch_114
 
     move-result v17
 
@@ -224,52 +224,74 @@
     :try_start_87
     invoke-virtual {v10}, Ljava/nio/channels/FileLock;->release()V
     :try_end_8a
-    .catch Ljava/io/IOException; {:try_start_87 .. :try_end_8a} :catch_137
+    .catch Ljava/io/IOException; {:try_start_87 .. :try_end_8a} :catch_8b
 
     :cond_8a
     :goto_8a
     return-wide v11
 
-    :cond_8b
-    :try_start_8b
+    :catch_8b
+    move-exception v9
+
+    const-string v2, "MiniThumbFile"
+
+    const-string/jumbo v5, "release lock: "
+
+    invoke-static {v2, v5, v9}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_8a
+
+    :cond_95
+    :try_start_95
     invoke-virtual {v8}, Ljava/nio/ByteBuffer;->getLong()J
-    :try_end_8e
-    .catchall {:try_start_8b .. :try_end_8e} :catchall_11f
-    .catch Ljava/io/IOException; {:try_start_8b .. :try_end_8e} :catch_d6
-    .catch Ljava/lang/RuntimeException; {:try_start_8b .. :try_end_8e} :catch_e6
+    :try_end_98
+    .catchall {:try_start_95 .. :try_end_98} :catchall_14d
+    .catch Ljava/io/IOException; {:try_start_95 .. :try_end_98} :catch_fc
+    .catch Ljava/lang/RuntimeException; {:try_start_95 .. :try_end_98} :catch_114
 
     move-result-wide v13
 
-    if-eqz v10, :cond_94
+    if-eqz v10, :cond_9e
 
-    :try_start_91
+    :try_start_9b
     invoke-virtual {v10}, Ljava/nio/channels/FileLock;->release()V
-    :try_end_94
-    .catch Ljava/io/IOException; {:try_start_91 .. :try_end_94} :catch_13e
+    :try_end_9e
+    .catch Ljava/io/IOException; {:try_start_9b .. :try_end_9e} :catch_a0
 
-    :cond_94
-    :goto_94
+    :cond_9e
+    :goto_9e
     move-wide v11, v13
 
     goto :goto_8a
 
-    :cond_96
+    :catch_a0
+    move-exception v9
+
+    const-string v2, "MiniThumbFile"
+
+    const-string/jumbo v5, "release lock: "
+
+    invoke-static {v2, v5, v9}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_9e
+
+    :cond_aa
     const/4 v2, -0x1
 
     move/from16 v0, v16
 
-    if-ne v2, v0, :cond_149
+    if-ne v2, v0, :cond_ea
 
     const-wide/16 v5, 0x0
 
-    :try_start_9d
+    :try_start_b1
     invoke-virtual {v15}, Ljava/io/RandomAccessFile;->length()J
 
     move-result-wide v18
 
     cmp-long v2, v5, v18
 
-    if-nez v2, :cond_149
+    if-nez v2, :cond_ea
 
     invoke-virtual {v8}, Ljava/nio/ByteBuffer;->clear()Ljava/nio/Buffer;
 
@@ -290,10 +312,10 @@
     const-wide/16 v5, 0x0
 
     invoke-virtual {v2, v8, v5, v6}, Ljava/nio/channels/FileChannel;->write(Ljava/nio/ByteBuffer;J)I
-    :try_end_bd
-    .catchall {:try_start_9d .. :try_end_bd} :catchall_11f
-    .catch Ljava/io/IOException; {:try_start_9d .. :try_end_bd} :catch_d6
-    .catch Ljava/lang/RuntimeException; {:try_start_9d .. :try_end_bd} :catch_e6
+    :try_end_d1
+    .catchall {:try_start_b1 .. :try_end_d1} :catchall_14d
+    .catch Ljava/io/IOException; {:try_start_b1 .. :try_end_d1} :catch_fc
+    .catch Ljava/lang/RuntimeException; {:try_start_b1 .. :try_end_d1} :catch_114
 
     move-result v17
 
@@ -301,60 +323,91 @@
 
     move/from16 v0, v17
 
-    if-ne v2, v0, :cond_149
+    if-ne v2, v0, :cond_ea
 
     const-wide/16 v11, 0x0
 
     if-eqz v10, :cond_8a
 
-    :try_start_c8
+    :try_start_dc
     invoke-virtual {v10}, Ljava/nio/channels/FileLock;->release()V
-    :try_end_cb
-    .catch Ljava/io/IOException; {:try_start_c8 .. :try_end_cb} :catch_cc
+    :try_end_df
+    .catch Ljava/io/IOException; {:try_start_dc .. :try_end_df} :catch_e0
 
     goto :goto_8a
 
-    :catch_cc
+    :catch_e0
     move-exception v9
 
     const-string v2, "MiniThumbFile"
 
     const-string/jumbo v5, "release lock: "
 
-    :goto_d2
     invoke-static {v2, v5, v9}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
     goto :goto_8a
 
-    :catch_d6
+    :cond_ea
+    if-eqz v10, :cond_ef
+
+    :try_start_ec
+    invoke-virtual {v10}, Ljava/nio/channels/FileLock;->release()V
+    :try_end_ef
+    .catch Ljava/io/IOException; {:try_start_ec .. :try_end_ef} :catch_f2
+
+    :cond_ef
+    :goto_ef
+    const-wide/16 v11, 0x0
+
+    goto :goto_8a
+
+    :catch_f2
+    move-exception v9
+
+    const-string v2, "MiniThumbFile"
+
+    const-string/jumbo v5, "release lock: "
+
+    invoke-static {v2, v5, v9}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_ef
+
+    :catch_fc
     move-exception v9
 
-    :try_start_d7
+    :try_start_fd
     const-string v2, "MiniThumbFile"
 
     const-string v5, "Got exception checking file index: "
 
     invoke-static {v2, v5, v9}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_de
-    .catchall {:try_start_d7 .. :try_end_de} :catchall_11f
+    :try_end_104
+    .catchall {:try_start_fd .. :try_end_104} :catchall_14d
 
-    if-eqz v10, :cond_e3
+    if-eqz v10, :cond_ef
 
-    :try_start_e0
+    :try_start_106
     invoke-virtual {v10}, Ljava/nio/channels/FileLock;->release()V
-    :try_end_e3
-    .catch Ljava/io/IOException; {:try_start_e0 .. :try_end_e3} :catch_130
+    :try_end_109
+    .catch Ljava/io/IOException; {:try_start_106 .. :try_end_109} :catch_10a
 
-    :cond_e3
-    :goto_e3
-    const-wide/16 v11, 0x0
+    goto :goto_ef
 
-    goto :goto_8a
+    :catch_10a
+    move-exception v9
+
+    const-string v2, "MiniThumbFile"
+
+    const-string/jumbo v5, "release lock: "
+
+    invoke-static {v2, v5, v9}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_ef
 
-    :catch_e6
+    :catch_114
     move-exception v9
 
-    :try_start_e7
+    :try_start_115
     const-string v2, "MiniThumbFile"
 
     new-instance v5, Ljava/lang/StringBuilder;
@@ -392,45 +445,44 @@
     move-result-object v5
 
     invoke-static {v2, v5}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
-    :try_end_10f
-    .catchall {:try_start_e7 .. :try_end_10f} :catchall_11f
+    :try_end_13d
+    .catchall {:try_start_115 .. :try_end_13d} :catchall_14d
 
-    if-eqz v10, :cond_e3
+    if-eqz v10, :cond_ef
 
-    :try_start_111
+    :try_start_13f
     invoke-virtual {v10}, Ljava/nio/channels/FileLock;->release()V
-    :try_end_114
-    .catch Ljava/io/IOException; {:try_start_111 .. :try_end_114} :catch_115
+    :try_end_142
+    .catch Ljava/io/IOException; {:try_start_13f .. :try_end_142} :catch_143
 
-    goto :goto_e3
+    goto :goto_ef
 
-    :catch_115
+    :catch_143
     move-exception v9
 
     const-string v2, "MiniThumbFile"
 
     const-string/jumbo v5, "release lock: "
 
-    :goto_11b
     invoke-static {v2, v5, v9}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
-    goto :goto_e3
+    goto :goto_ef
 
-    :catchall_11f
+    :catchall_14d
     move-exception v2
 
-    if-eqz v10, :cond_125
+    if-eqz v10, :cond_153
 
-    :try_start_122
+    :try_start_150
     invoke-virtual {v10}, Ljava/nio/channels/FileLock;->release()V
-    :try_end_125
-    .catch Ljava/io/IOException; {:try_start_122 .. :try_end_125} :catch_126
+    :try_end_153
+    .catch Ljava/io/IOException; {:try_start_150 .. :try_end_153} :catch_154
 
-    :cond_125
-    :goto_125
+    :cond_153
+    :goto_153
     throw v2
 
-    :catch_126
+    :catch_154
     move-exception v9
 
     const-string v5, "MiniThumbFile"
@@ -439,55 +491,7 @@
 
     invoke-static {v5, v6, v9}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
-    goto :goto_125
-
-    :catch_130
-    move-exception v9
-
-    const-string v2, "MiniThumbFile"
-
-    const-string/jumbo v5, "release lock: "
-
-    goto :goto_11b
-
-    :catch_137
-    move-exception v9
-
-    const-string v2, "MiniThumbFile"
-
-    const-string/jumbo v5, "release lock: "
-
-    goto :goto_d2
-
-    :catch_13e
-    move-exception v9
-
-    const-string v2, "MiniThumbFile"
-
-    const-string/jumbo v5, "release lock: "
-
-    invoke-static {v2, v5, v9}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto/16 :goto_94
-
-    :cond_149
-    if-eqz v10, :cond_e3
-
-    :try_start_14b
-    invoke-virtual {v10}, Ljava/nio/channels/FileLock;->release()V
-    :try_end_14e
-    .catch Ljava/io/IOException; {:try_start_14b .. :try_end_14e} :catch_14f
-
-    goto :goto_e3
-
-    :catch_14f
-    move-exception v9
-
-    const-string v2, "MiniThumbFile"
-
-    const-string/jumbo v5, "release lock: "
-
-    goto :goto_11b
+    goto :goto_153
 .end method
 
 .method public static declared-synchronized instance(Landroid/net/Uri;)Landroid/media/MiniThumbFile;
@@ -1153,13 +1157,13 @@
 
     move-result-object v8
 
-    if-eqz v8, :cond_64
+    if-eqz v8, :cond_5c
 
     const/4 v0, 0x0
 
     invoke-direct {p0, p1, p2, v0}, Landroid/media/MiniThumbFile;->getIndex(JZ)J
     :try_end_10
-    .catchall {:try_start_6 .. :try_end_10} :catchall_9c
+    .catchall {:try_start_6 .. :try_end_10} :catchall_a4
 
     move-result-wide v1
 
@@ -1211,7 +1215,7 @@
 
     move-result v0
 
-    if-ne v0, v12, :cond_a1
+    if-ne v0, v12, :cond_57
 
     iget-object v0, p0, Landroid/media/MiniThumbFile;->mBuffer:Ljava/nio/ByteBuffer;
 
@@ -1225,15 +1229,15 @@
 
     move-result v0
 
-    if-ne v0, v11, :cond_a1
+    if-ne v0, v11, :cond_57
 
     iget-object v0, p0, Landroid/media/MiniThumbFile;->mBuffer:Ljava/nio/ByteBuffer;
 
     invoke-virtual {v0}, Ljava/nio/ByteBuffer;->getLong()J
     :try_end_4e
-    .catchall {:try_start_1c .. :try_end_4e} :catchall_95
-    .catch Ljava/io/IOException; {:try_start_1c .. :try_end_4e} :catch_57
-    .catch Ljava/lang/RuntimeException; {:try_start_1c .. :try_end_4e} :catch_66
+    .catchall {:try_start_1c .. :try_end_4e} :catchall_9d
+    .catch Ljava/io/IOException; {:try_start_1c .. :try_end_4e} :catch_5e
+    .catch Ljava/lang/RuntimeException; {:try_start_1c .. :try_end_4e} :catch_6e
 
     move-result-wide v3
 
@@ -1242,7 +1246,7 @@
     :try_start_51
     invoke-virtual {v7}, Ljava/nio/channels/FileLock;->release()V
     :try_end_54
-    .catchall {:try_start_51 .. :try_end_54} :catchall_9c
+    .catchall {:try_start_51 .. :try_end_54} :catchall_a4
     .catch Ljava/io/IOException; {:try_start_51 .. :try_end_54} :catch_55
 
     goto :goto_16
@@ -1252,36 +1256,52 @@
 
     goto :goto_16
 
-    :catch_57
+    :cond_57
+    if-eqz v7, :cond_5c
+
+    :try_start_59
+    invoke-virtual {v7}, Ljava/nio/channels/FileLock;->release()V
+    :try_end_5c
+    .catchall {:try_start_59 .. :try_end_5c} :catchall_a4
+    .catch Ljava/io/IOException; {:try_start_59 .. :try_end_5c} :catch_a7
+
+    :cond_5c
+    :goto_5c
+    move-wide v3, v9
+
+    goto :goto_16
+
+    :catch_5e
     move-exception v6
 
-    :try_start_58
+    :try_start_5f
     const-string v0, "MiniThumbFile"
 
     const-string v3, "Got exception checking file magic: "
 
     invoke-static {v0, v3, v6}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_5f
-    .catchall {:try_start_58 .. :try_end_5f} :catchall_95
+    :try_end_66
+    .catchall {:try_start_5f .. :try_end_66} :catchall_9d
 
-    if-eqz v7, :cond_64
+    if-eqz v7, :cond_5c
 
-    :try_start_61
+    :try_start_68
     invoke-virtual {v7}, Ljava/nio/channels/FileLock;->release()V
-    :try_end_64
-    .catchall {:try_start_61 .. :try_end_64} :catchall_9c
-    .catch Ljava/io/IOException; {:try_start_61 .. :try_end_64} :catch_93
+    :try_end_6b
+    .catchall {:try_start_68 .. :try_end_6b} :catchall_a4
+    .catch Ljava/io/IOException; {:try_start_68 .. :try_end_6b} :catch_6c
 
-    :cond_64
-    :goto_64
-    move-wide v3, v9
+    goto :goto_5c
 
-    goto :goto_16
+    :catch_6c
+    move-exception v0
 
-    :catch_66
+    goto :goto_5c
+
+    :catch_6e
     move-exception v6
 
-    :try_start_67
+    :try_start_6f
     const-string v0, "MiniThumbFile"
 
     new-instance v3, Ljava/lang/StringBuilder;
@@ -1317,64 +1337,58 @@
     move-result-object v3
 
     invoke-static {v0, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
-    :try_end_8d
-    .catchall {:try_start_67 .. :try_end_8d} :catchall_95
+    :try_end_95
+    .catchall {:try_start_6f .. :try_end_95} :catchall_9d
 
-    if-eqz v7, :cond_64
+    if-eqz v7, :cond_5c
 
-    :try_start_8f
+    :try_start_97
     invoke-virtual {v7}, Ljava/nio/channels/FileLock;->release()V
-    :try_end_92
-    .catchall {:try_start_8f .. :try_end_92} :catchall_9c
-    .catch Ljava/io/IOException; {:try_start_8f .. :try_end_92} :catch_93
+    :try_end_9a
+    .catchall {:try_start_97 .. :try_end_9a} :catchall_a4
+    .catch Ljava/io/IOException; {:try_start_97 .. :try_end_9a} :catch_9b
 
-    goto :goto_64
+    goto :goto_5c
 
-    :catch_93
+    :catch_9b
     move-exception v0
 
-    goto :goto_64
+    goto :goto_5c
 
-    :catchall_95
+    :catchall_9d
     move-exception v0
 
-    if-eqz v7, :cond_9b
+    if-eqz v7, :cond_a3
 
-    :try_start_98
+    :try_start_a0
     invoke-virtual {v7}, Ljava/nio/channels/FileLock;->release()V
-    :try_end_9b
-    .catchall {:try_start_98 .. :try_end_9b} :catchall_9c
-    .catch Ljava/io/IOException; {:try_start_98 .. :try_end_9b} :catch_9f
+    :try_end_a3
+    .catchall {:try_start_a0 .. :try_end_a3} :catchall_a4
+    .catch Ljava/io/IOException; {:try_start_a0 .. :try_end_a3} :catch_a9
 
-    :cond_9b
-    :goto_9b
-    :try_start_9b
+    :cond_a3
+    :goto_a3
+    :try_start_a3
     throw v0
-    :try_end_9c
-    .catchall {:try_start_9b .. :try_end_9c} :catchall_9c
+    :try_end_a4
+    .catchall {:try_start_a3 .. :try_end_a4} :catchall_a4
 
-    :catchall_9c
+    :catchall_a4
     move-exception v0
 
     monitor-exit p0
 
     throw v0
 
-    :catch_9f
-    move-exception v3
-
-    goto :goto_9b
+    :catch_a7
+    move-exception v0
 
-    :cond_a1
-    if-eqz v7, :cond_64
+    goto :goto_5c
 
-    :try_start_a3
-    invoke-virtual {v7}, Ljava/nio/channels/FileLock;->release()V
-    :try_end_a6
-    .catchall {:try_start_a3 .. :try_end_a6} :catchall_9c
-    .catch Ljava/io/IOException; {:try_start_a3 .. :try_end_a6} :catch_93
+    :catch_a9
+    move-exception v3
 
-    goto :goto_64
+    goto :goto_a3
 .end method
 
 .method public declared-synchronized getMiniThumbFromFile(J[B)[B
@@ -1385,7 +1399,7 @@
     :try_start_1
     invoke-direct/range {p0 .. p0}, Landroid/media/MiniThumbFile;->miniThumbDataFile()Ljava/io/RandomAccessFile;
     :try_end_4
-    .catchall {:try_start_1 .. :try_end_4} :catchall_d3
+    .catchall {:try_start_1 .. :try_end_4} :catchall_da
 
     move-result-object v14
 
@@ -1439,7 +1453,7 @@
 
     const/16 v2, 0xd
 
-    if-le v15, v2, :cond_d8
+    if-le v15, v2, :cond_6d
 
     move-object/from16 v0, p0
 
@@ -1475,13 +1489,13 @@
 
     add-int/lit8 v2, v10, 0xd
 
-    if-lt v15, v2, :cond_d8
+    if-lt v15, v2, :cond_6d
 
     move-object/from16 v0, p3
 
     array-length v2, v0
 
-    if-lt v2, v10, :cond_d8
+    if-lt v2, v10, :cond_6d
 
     move-object/from16 v0, p0
 
@@ -1493,16 +1507,16 @@
 
     invoke-virtual {v2, v0, v5, v10}, Ljava/nio/ByteBuffer;->get([BII)Ljava/nio/ByteBuffer;
     :try_end_65
-    .catchall {:try_start_10 .. :try_end_65} :catchall_cc
-    .catch Ljava/io/IOException; {:try_start_10 .. :try_end_65} :catch_6d
-    .catch Ljava/lang/RuntimeException; {:try_start_10 .. :try_end_65} :catch_9b
+    .catchall {:try_start_10 .. :try_end_65} :catchall_d3
+    .catch Ljava/io/IOException; {:try_start_10 .. :try_end_65} :catch_75
+    .catch Ljava/lang/RuntimeException; {:try_start_10 .. :try_end_65} :catch_a2
 
     if-eqz v11, :cond_9
 
     :try_start_67
     invoke-virtual {v11}, Ljava/nio/channels/FileLock;->release()V
     :try_end_6a
-    .catchall {:try_start_67 .. :try_end_6a} :catchall_d3
+    .catchall {:try_start_67 .. :try_end_6a} :catchall_da
     .catch Ljava/io/IOException; {:try_start_67 .. :try_end_6a} :catch_6b
 
     goto :goto_9
@@ -1512,10 +1526,25 @@
 
     goto :goto_9
 
-    :catch_6d
+    :cond_6d
+    if-eqz v11, :cond_72
+
+    :try_start_6f
+    invoke-virtual {v11}, Ljava/nio/channels/FileLock;->release()V
+    :try_end_72
+    .catchall {:try_start_6f .. :try_end_72} :catchall_da
+    .catch Ljava/io/IOException; {:try_start_6f .. :try_end_72} :catch_dd
+
+    :cond_72
+    :goto_72
+    const/16 p3, 0x0
+
+    goto :goto_9
+
+    :catch_75
     move-exception v8
 
-    :try_start_6e
+    :try_start_76
     const-string v2, "MiniThumbFile"
 
     new-instance v5, Ljava/lang/StringBuilder;
@@ -1549,27 +1578,28 @@
     move-result-object v5
 
     invoke-static {v2, v5}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
-    :try_end_92
-    .catchall {:try_start_6e .. :try_end_92} :catchall_cc
+    :try_end_9a
+    .catchall {:try_start_76 .. :try_end_9a} :catchall_d3
 
-    if-eqz v11, :cond_97
+    if-eqz v11, :cond_72
 
-    :try_start_94
+    :try_start_9c
     invoke-virtual {v11}, Ljava/nio/channels/FileLock;->release()V
-    :try_end_97
-    .catchall {:try_start_94 .. :try_end_97} :catchall_d3
-    .catch Ljava/io/IOException; {:try_start_94 .. :try_end_97} :catch_ca
+    :try_end_9f
+    .catchall {:try_start_9c .. :try_end_9f} :catchall_da
+    .catch Ljava/io/IOException; {:try_start_9c .. :try_end_9f} :catch_a0
 
-    :cond_97
-    :goto_97
-    const/16 p3, 0x0
+    goto :goto_72
 
-    goto/16 :goto_9
+    :catch_a0
+    move-exception v2
 
-    :catch_9b
+    goto :goto_72
+
+    :catch_a2
     move-exception v8
 
-    :try_start_9c
+    :try_start_a3
     const-string v2, "MiniThumbFile"
 
     new-instance v5, Ljava/lang/StringBuilder;
@@ -1607,64 +1637,58 @@
     move-result-object v5
 
     invoke-static {v2, v5}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
-    :try_end_c4
-    .catchall {:try_start_9c .. :try_end_c4} :catchall_cc
+    :try_end_cb
+    .catchall {:try_start_a3 .. :try_end_cb} :catchall_d3
 
-    if-eqz v11, :cond_97
+    if-eqz v11, :cond_72
 
-    :try_start_c6
+    :try_start_cd
     invoke-virtual {v11}, Ljava/nio/channels/FileLock;->release()V
-    :try_end_c9
-    .catchall {:try_start_c6 .. :try_end_c9} :catchall_d3
-    .catch Ljava/io/IOException; {:try_start_c6 .. :try_end_c9} :catch_ca
+    :try_end_d0
+    .catchall {:try_start_cd .. :try_end_d0} :catchall_da
+    .catch Ljava/io/IOException; {:try_start_cd .. :try_end_d0} :catch_d1
 
-    goto :goto_97
+    goto :goto_72
 
-    :catch_ca
+    :catch_d1
     move-exception v2
 
-    goto :goto_97
+    goto :goto_72
 
-    :catchall_cc
+    :catchall_d3
     move-exception v2
 
-    if-eqz v11, :cond_d2
+    if-eqz v11, :cond_d9
 
-    :try_start_cf
+    :try_start_d6
     invoke-virtual {v11}, Ljava/nio/channels/FileLock;->release()V
-    :try_end_d2
-    .catchall {:try_start_cf .. :try_end_d2} :catchall_d3
-    .catch Ljava/io/IOException; {:try_start_cf .. :try_end_d2} :catch_d6
-
-    :cond_d2
-    :goto_d2
-    :try_start_d2
+    :try_end_d9
+    .catchall {:try_start_d6 .. :try_end_d9} :catchall_da
+    .catch Ljava/io/IOException; {:try_start_d6 .. :try_end_d9} :catch_df
+
+    :cond_d9
+    :goto_d9
+    :try_start_d9
     throw v2
-    :try_end_d3
-    .catchall {:try_start_d2 .. :try_end_d3} :catchall_d3
+    :try_end_da
+    .catchall {:try_start_d9 .. :try_end_da} :catchall_da
 
-    :catchall_d3
+    :catchall_da
     move-exception v2
 
     monitor-exit p0
 
     throw v2
 
-    :catch_d6
-    move-exception v5
-
-    goto :goto_d2
+    :catch_dd
+    move-exception v2
 
-    :cond_d8
-    if-eqz v11, :cond_97
+    goto :goto_72
 
-    :try_start_da
-    invoke-virtual {v11}, Ljava/nio/channels/FileLock;->release()V
-    :try_end_dd
-    .catchall {:try_start_da .. :try_end_dd} :catchall_d3
-    .catch Ljava/io/IOException; {:try_start_da .. :try_end_dd} :catch_ca
+    :catch_df
+    move-exception v5
 
-    goto :goto_97
+    goto :goto_d9
 .end method
 
 .method public declared-synchronized saveMiniThumbToFile([BJJ)V
@@ -1680,7 +1704,7 @@
     :try_start_1
     invoke-direct {p0}, Landroid/media/MiniThumbFile;->miniThumbDataFile()Ljava/io/RandomAccessFile;
     :try_end_4
-    .catchall {:try_start_1 .. :try_end_4} :catchall_5d
+    .catchall {:try_start_1 .. :try_end_4} :catchall_86
 
     move-result-object v8
 
@@ -1698,7 +1722,7 @@
     :try_start_a
     invoke-direct {p0, p2, p3, v0}, Landroid/media/MiniThumbFile;->getIndex(JZ)J
     :try_end_d
-    .catchall {:try_start_a .. :try_end_d} :catchall_5d
+    .catchall {:try_start_a .. :try_end_d} :catchall_86
 
     move-result-wide v1
 
@@ -1719,9 +1743,9 @@
     :try_start_1a
     array-length v0, p1
     :try_end_1b
-    .catchall {:try_start_1a .. :try_end_1b} :catchall_80
-    .catch Ljava/io/IOException; {:try_start_1a .. :try_end_1b} :catch_60
-    .catch Ljava/lang/RuntimeException; {:try_start_1a .. :try_end_1b} :catch_87
+    .catchall {:try_start_1a .. :try_end_1b} :catchall_7f
+    .catch Ljava/io/IOException; {:try_start_1a .. :try_end_1b} :catch_5f
+    .catch Ljava/lang/RuntimeException; {:try_start_1a .. :try_end_1b} :catch_89
 
     const/16 v3, 0x2703
 
@@ -1732,7 +1756,7 @@
     :try_start_21
     invoke-virtual {v7}, Ljava/nio/channels/FileLock;->release()V
     :try_end_24
-    .catchall {:try_start_21 .. :try_end_24} :catchall_5d
+    .catchall {:try_start_21 .. :try_end_24} :catchall_86
     .catch Ljava/io/IOException; {:try_start_21 .. :try_end_24} :catch_25
 
     goto :goto_7
@@ -1788,9 +1812,9 @@
 
     invoke-virtual {v0, v3, v1, v2}, Ljava/nio/channels/FileChannel;->write(Ljava/nio/ByteBuffer;J)I
     :try_end_57
-    .catchall {:try_start_27 .. :try_end_57} :catchall_80
-    .catch Ljava/io/IOException; {:try_start_27 .. :try_end_57} :catch_60
-    .catch Ljava/lang/RuntimeException; {:try_start_27 .. :try_end_57} :catch_87
+    .catchall {:try_start_27 .. :try_end_57} :catchall_7f
+    .catch Ljava/io/IOException; {:try_start_27 .. :try_end_57} :catch_5f
+    .catch Ljava/lang/RuntimeException; {:try_start_27 .. :try_end_57} :catch_89
 
     :cond_57
     if-eqz v7, :cond_7
@@ -1798,22 +1822,20 @@
     :try_start_59
     invoke-virtual {v7}, Ljava/nio/channels/FileLock;->release()V
     :try_end_5c
-    .catchall {:try_start_59 .. :try_end_5c} :catchall_5d
-    .catch Ljava/io/IOException; {:try_start_59 .. :try_end_5c} :catch_25
+    .catchall {:try_start_59 .. :try_end_5c} :catchall_86
+    .catch Ljava/io/IOException; {:try_start_59 .. :try_end_5c} :catch_5d
 
     goto :goto_7
 
-    :catchall_5d
+    :catch_5d
     move-exception v0
 
-    monitor-exit p0
-
-    throw v0
+    goto :goto_7
 
-    :catch_60
+    :catch_5f
     move-exception v6
 
-    :try_start_61
+    :try_start_60
     const-string v0, "MiniThumbFile"
 
     new-instance v3, Ljava/lang/StringBuilder;
@@ -1843,31 +1865,38 @@
     invoke-static {v0, v3, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
     throw v6
-    :try_end_80
-    .catchall {:try_start_61 .. :try_end_80} :catchall_80
+    :try_end_7f
+    .catchall {:try_start_60 .. :try_end_7f} :catchall_7f
 
-    :catchall_80
+    :catchall_7f
     move-exception v0
 
-    if-eqz v7, :cond_86
+    if-eqz v7, :cond_85
 
-    :try_start_83
+    :try_start_82
     invoke-virtual {v7}, Ljava/nio/channels/FileLock;->release()V
+    :try_end_85
+    .catchall {:try_start_82 .. :try_end_85} :catchall_86
+    .catch Ljava/io/IOException; {:try_start_82 .. :try_end_85} :catch_ba
+
+    :cond_85
+    :goto_85
+    :try_start_85
+    throw v0
     :try_end_86
-    .catchall {:try_start_83 .. :try_end_86} :catchall_5d
-    .catch Ljava/io/IOException; {:try_start_83 .. :try_end_86} :catch_b5
+    .catchall {:try_start_85 .. :try_end_86} :catchall_86
+
+    :catchall_86
+    move-exception v0
+
+    monitor-exit p0
 
-    :cond_86
-    :goto_86
-    :try_start_86
     throw v0
-    :try_end_87
-    .catchall {:try_start_86 .. :try_end_87} :catchall_5d
 
-    :catch_87
+    :catch_89
     move-exception v6
 
-    :try_start_88
+    :try_start_8a
     const-string v0, "MiniThumbFile"
 
     new-instance v3, Ljava/lang/StringBuilder;
@@ -1903,21 +1932,26 @@
     move-result-object v3
 
     invoke-static {v0, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
-    :try_end_ae
-    .catchall {:try_start_88 .. :try_end_ae} :catchall_80
+    :try_end_b0
+    .catchall {:try_start_8a .. :try_end_b0} :catchall_7f
 
     if-eqz v7, :cond_7
 
-    :try_start_b0
+    :try_start_b2
     invoke-virtual {v7}, Ljava/nio/channels/FileLock;->release()V
-    :try_end_b3
-    .catchall {:try_start_b0 .. :try_end_b3} :catchall_5d
-    .catch Ljava/io/IOException; {:try_start_b0 .. :try_end_b3} :catch_25
+    :try_end_b5
+    .catchall {:try_start_b2 .. :try_end_b5} :catchall_86
+    .catch Ljava/io/IOException; {:try_start_b2 .. :try_end_b5} :catch_b7
+
+    goto/16 :goto_7
+
+    :catch_b7
+    move-exception v0
 
     goto/16 :goto_7
 
-    :catch_b5
+    :catch_ba
     move-exception v3
 
-    goto :goto_86
+    goto :goto_85
 .end method
diff -Npruw stock-framework/smali/android/media/ThumbnailUtils.smali pdroid-framework/smali/android/media/ThumbnailUtils.smali
--- stock-framework/smali/android/media/ThumbnailUtils.smali	2013-07-15 18:10:55.806628007 -0500
+++ pdroid-framework/smali/android/media/ThumbnailUtils.smali	2013-07-15 18:10:49.334628177 -0500
@@ -235,7 +235,7 @@
     iget-object v1, v8, Landroid/media/ThumbnailUtils$SizedThumbnailBitmap;->mBitmap:Landroid/graphics/Bitmap;
 
     :cond_28
-    if-nez v1, :cond_7c
+    if-nez v1, :cond_85
 
     const/4 v9, 0x0
 
@@ -246,9 +246,9 @@
 
     invoke-direct {v10, v0}, Ljava/io/FileInputStream;-><init>(Ljava/lang/String;)V
     :try_end_32
-    .catchall {:try_start_2b .. :try_end_32} :catchall_d0
-    .catch Ljava/io/IOException; {:try_start_2b .. :try_end_32} :catch_8c
-    .catch Ljava/lang/OutOfMemoryError; {:try_start_2b .. :try_end_32} :catch_a3
+    .catchall {:try_start_2b .. :try_end_32} :catchall_e5
+    .catch Ljava/io/IOException; {:try_start_2b .. :try_end_32} :catch_9e
+    .catch Ljava/lang/OutOfMemoryError; {:try_start_2b .. :try_end_32} :catch_b5
 
     :try_start_32
     invoke-virtual {v10}, Ljava/io/FileInputStream;->getFD()Ljava/io/FileDescriptor;
@@ -283,13 +283,13 @@
 
     iget v13, v7, Landroid/graphics/BitmapFactory$Options;->outHeight:I
     :try_end_50
-    .catchall {:try_start_32 .. :try_end_50} :catchall_f0
-    .catch Ljava/io/IOException; {:try_start_32 .. :try_end_50} :catch_f6
-    .catch Ljava/lang/OutOfMemoryError; {:try_start_32 .. :try_end_50} :catch_f3
+    .catchall {:try_start_32 .. :try_end_50} :catchall_f5
+    .catch Ljava/io/IOException; {:try_start_32 .. :try_end_50} :catch_fb
+    .catch Ljava/lang/OutOfMemoryError; {:try_start_32 .. :try_end_50} :catch_f8
 
     const/4 v14, -0x1
 
-    if-ne v13, v14, :cond_62
+    if-ne v13, v14, :cond_6b
 
     :cond_53
     const/4 v13, 0x0
@@ -299,7 +299,7 @@
     :try_start_56
     invoke-virtual {v10}, Ljava/io/FileInputStream;->close()V
     :try_end_59
-    .catch Ljava/io/IOException; {:try_start_56 .. :try_end_59} :catch_e0
+    .catch Ljava/io/IOException; {:try_start_56 .. :try_end_59} :catch_62
 
     :cond_59
     :goto_59
@@ -320,8 +320,19 @@
 
     goto :goto_e
 
-    :cond_62
-    :try_start_62
+    :catch_62
+    move-exception v2
+
+    const-string v14, "ThumbnailUtils"
+
+    const-string v15, ""
+
+    invoke-static {v14, v15, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_59
+
+    :cond_6b
+    :try_start_6b
     invoke-static {v7, v11, v5}, Landroid/media/ThumbnailUtils;->computeSampleSize(Landroid/graphics/BitmapFactory$Options;II)I
 
     move-result v13
@@ -343,27 +354,27 @@
     const/4 v13, 0x0
 
     invoke-static {v3, v13, v7}, Landroid/graphics/BitmapFactory;->decodeFileDescriptor(Ljava/io/FileDescriptor;Landroid/graphics/Rect;Landroid/graphics/BitmapFactory$Options;)Landroid/graphics/Bitmap;
-    :try_end_76
-    .catchall {:try_start_62 .. :try_end_76} :catchall_f0
-    .catch Ljava/io/IOException; {:try_start_62 .. :try_end_76} :catch_f6
-    .catch Ljava/lang/OutOfMemoryError; {:try_start_62 .. :try_end_76} :catch_f3
+    :try_end_7f
+    .catchall {:try_start_6b .. :try_end_7f} :catchall_f5
+    .catch Ljava/io/IOException; {:try_start_6b .. :try_end_7f} :catch_fb
+    .catch Ljava/lang/OutOfMemoryError; {:try_start_6b .. :try_end_7f} :catch_f8
 
     move-result-object v1
 
-    if-eqz v10, :cond_7c
+    if-eqz v10, :cond_85
 
-    :try_start_79
+    :try_start_82
     invoke-virtual {v10}, Ljava/io/FileInputStream;->close()V
-    :try_end_7c
-    .catch Ljava/io/IOException; {:try_start_79 .. :try_end_7c} :catch_ea
+    :try_end_85
+    .catch Ljava/io/IOException; {:try_start_82 .. :try_end_85} :catch_95
 
-    :cond_7c
-    :goto_7c
+    :cond_85
+    :goto_85
     const/4 v13, 0x3
 
     move/from16 v0, p1
 
-    if-ne v0, v13, :cond_8a
+    if-ne v0, v13, :cond_93
 
     const/16 v13, 0x60
 
@@ -375,50 +386,60 @@
 
     move-result-object v1
 
-    :cond_8a
+    :cond_93
     move-object v13, v1
 
     goto :goto_59
 
-    :catch_8c
+    :catch_95
     move-exception v2
 
-    :goto_8d
-    :try_start_8d
     const-string v13, "ThumbnailUtils"
 
     const-string v14, ""
 
     invoke-static {v13, v14, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_94
-    .catchall {:try_start_8d .. :try_end_94} :catchall_d0
 
-    if-eqz v9, :cond_7c
+    goto :goto_85
 
-    :try_start_96
+    :catch_9e
+    move-exception v2
+
+    :goto_9f
+    :try_start_9f
+    const-string v13, "ThumbnailUtils"
+
+    const-string v14, ""
+
+    invoke-static {v13, v14, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+    :try_end_a6
+    .catchall {:try_start_9f .. :try_end_a6} :catchall_e5
+
+    if-eqz v9, :cond_85
+
+    :try_start_a8
     invoke-virtual {v9}, Ljava/io/FileInputStream;->close()V
-    :try_end_99
-    .catch Ljava/io/IOException; {:try_start_96 .. :try_end_99} :catch_9a
+    :try_end_ab
+    .catch Ljava/io/IOException; {:try_start_a8 .. :try_end_ab} :catch_ac
 
-    goto :goto_7c
+    goto :goto_85
 
-    :catch_9a
+    :catch_ac
     move-exception v2
 
     const-string v13, "ThumbnailUtils"
 
     const-string v14, ""
 
-    :goto_9f
     invoke-static {v13, v14, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
-    goto :goto_7c
+    goto :goto_85
 
-    :catch_a3
+    :catch_b5
     move-exception v6
 
-    :goto_a4
-    :try_start_a4
+    :goto_b6
+    :try_start_b6
     const-string v13, "ThumbnailUtils"
 
     new-instance v14, Ljava/lang/StringBuilder;
@@ -448,43 +469,45 @@
     move-result-object v14
 
     invoke-static {v13, v14, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_c4
-    .catchall {:try_start_a4 .. :try_end_c4} :catchall_d0
+    :try_end_d6
+    .catchall {:try_start_b6 .. :try_end_d6} :catchall_e5
 
-    if-eqz v9, :cond_7c
+    if-eqz v9, :cond_85
 
-    :try_start_c6
+    :try_start_d8
     invoke-virtual {v9}, Ljava/io/FileInputStream;->close()V
-    :try_end_c9
-    .catch Ljava/io/IOException; {:try_start_c6 .. :try_end_c9} :catch_ca
+    :try_end_db
+    .catch Ljava/io/IOException; {:try_start_d8 .. :try_end_db} :catch_dc
 
-    goto :goto_7c
+    goto :goto_85
 
-    :catch_ca
+    :catch_dc
     move-exception v2
 
     const-string v13, "ThumbnailUtils"
 
     const-string v14, ""
 
-    goto :goto_9f
+    invoke-static {v13, v14, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
-    :catchall_d0
+    goto :goto_85
+
+    :catchall_e5
     move-exception v13
 
-    :goto_d1
-    if-eqz v9, :cond_d6
+    :goto_e6
+    if-eqz v9, :cond_eb
 
-    :try_start_d3
+    :try_start_e8
     invoke-virtual {v9}, Ljava/io/FileInputStream;->close()V
-    :try_end_d6
-    .catch Ljava/io/IOException; {:try_start_d3 .. :try_end_d6} :catch_d7
+    :try_end_eb
+    .catch Ljava/io/IOException; {:try_start_e8 .. :try_end_eb} :catch_ec
 
-    :cond_d6
-    :goto_d6
+    :cond_eb
+    :goto_eb
     throw v13
 
-    :catch_d7
+    :catch_ec
     move-exception v2
 
     const-string v14, "ThumbnailUtils"
@@ -493,48 +516,28 @@
 
     invoke-static {v14, v15, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
-    goto :goto_d6
-
-    :catch_e0
-    move-exception v2
-
-    const-string v14, "ThumbnailUtils"
-
-    const-string v15, ""
-
-    invoke-static {v14, v15, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto/16 :goto_59
-
-    :catch_ea
-    move-exception v2
-
-    const-string v13, "ThumbnailUtils"
-
-    const-string v14, ""
-
-    goto :goto_9f
+    goto :goto_eb
 
-    :catchall_f0
+    :catchall_f5
     move-exception v13
 
     move-object v9, v10
 
-    goto :goto_d1
+    goto :goto_e6
 
-    :catch_f3
+    :catch_f8
     move-exception v6
 
     move-object v9, v10
 
-    goto :goto_a4
+    goto :goto_b6
 
-    :catch_f6
+    :catch_fb
     move-exception v2
 
     move-object v9, v10
 
-    goto :goto_8d
+    goto :goto_9f
 .end method
 
 .method private static createThumbnailFromEXIF(Ljava/lang/String;IILandroid/media/ThumbnailUtils$SizedThumbnailBitmap;)V
@@ -708,20 +711,20 @@
 
     invoke-virtual {v5, v9, v10}, Landroid/media/MediaMetadataRetriever;->getFrameAtTime(J)Landroid/graphics/Bitmap;
     :try_end_11
-    .catchall {:try_start_9 .. :try_end_11} :catchall_27
+    .catchall {:try_start_9 .. :try_end_11} :catchall_35
     .catch Ljava/lang/OutOfMemoryError; {:try_start_9 .. :try_end_11} :catch_19
-    .catch Ljava/lang/IllegalArgumentException; {:try_start_9 .. :try_end_11} :catch_60
-    .catch Ljava/lang/RuntimeException; {:try_start_9 .. :try_end_11} :catch_65
+    .catch Ljava/lang/IllegalArgumentException; {:try_start_9 .. :try_end_11} :catch_27
+    .catch Ljava/lang/RuntimeException; {:try_start_9 .. :try_end_11} :catch_2e
 
     move-result-object v0
 
     :try_start_12
     invoke-virtual {v5}, Landroid/media/MediaMetadataRetriever;->release()V
     :try_end_15
-    .catch Ljava/lang/RuntimeException; {:try_start_12 .. :try_end_15} :catch_25
+    .catch Ljava/lang/RuntimeException; {:try_start_12 .. :try_end_15} :catch_6c
 
     :goto_15
-    if-nez v0, :cond_2c
+    if-nez v0, :cond_3a
 
     const/4 v9, 0x0
 
@@ -738,7 +741,7 @@
 
     invoke-static {v9, v10, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_21
-    .catchall {:try_start_1a .. :try_end_21} :catchall_27
+    .catchall {:try_start_1a .. :try_end_21} :catchall_35
 
     :try_start_21
     invoke-virtual {v5}, Landroid/media/MediaMetadataRetriever;->release()V
@@ -752,19 +755,49 @@
 
     goto :goto_15
 
-    :catchall_27
+    :catch_27
     move-exception v9
 
     :try_start_28
     invoke-virtual {v5}, Landroid/media/MediaMetadataRetriever;->release()V
     :try_end_2b
-    .catch Ljava/lang/RuntimeException; {:try_start_28 .. :try_end_2b} :catch_5e
+    .catch Ljava/lang/RuntimeException; {:try_start_28 .. :try_end_2b} :catch_2c
+
+    goto :goto_15
+
+    :catch_2c
+    move-exception v9
+
+    goto :goto_15
+
+    :catch_2e
+    move-exception v9
+
+    :try_start_2f
+    invoke-virtual {v5}, Landroid/media/MediaMetadataRetriever;->release()V
+    :try_end_32
+    .catch Ljava/lang/RuntimeException; {:try_start_2f .. :try_end_32} :catch_33
+
+    goto :goto_15
+
+    :catch_33
+    move-exception v9
+
+    goto :goto_15
+
+    :catchall_35
+    move-exception v9
 
-    :goto_2b
+    :try_start_36
+    invoke-virtual {v5}, Landroid/media/MediaMetadataRetriever;->release()V
+    :try_end_39
+    .catch Ljava/lang/RuntimeException; {:try_start_36 .. :try_end_39} :catch_6e
+
+    :goto_39
     throw v9
 
-    :cond_2c
-    if-ne p1, v11, :cond_55
+    :cond_3a
+    if-ne p1, v11, :cond_63
 
     invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I
 
@@ -780,7 +813,7 @@
 
     const/16 v9, 0x200
 
-    if-le v4, v9, :cond_53
+    if-le v4, v9, :cond_61
 
     const/high16 v9, 0x4400
 
@@ -808,16 +841,16 @@
 
     move-result-object v0
 
-    :cond_53
-    :goto_53
+    :cond_61
+    :goto_61
     move-object v9, v0
 
     goto :goto_18
 
-    :cond_55
+    :cond_63
     const/4 v9, 0x3
 
-    if-ne p1, v9, :cond_53
+    if-ne p1, v9, :cond_61
 
     const/4 v9, 0x2
 
@@ -825,29 +858,17 @@
 
     move-result-object v0
 
-    goto :goto_53
-
-    :catch_5e
-    move-exception v10
-
-    goto :goto_2b
+    goto :goto_61
 
-    :catch_60
+    :catch_6c
     move-exception v9
 
-    :try_start_61
-    invoke-virtual {v5}, Landroid/media/MediaMetadataRetriever;->release()V
-
     goto :goto_15
 
-    :catch_65
-    move-exception v9
-
-    invoke-virtual {v5}, Landroid/media/MediaMetadataRetriever;->release()V
-    :try_end_69
-    .catch Ljava/lang/RuntimeException; {:try_start_61 .. :try_end_69} :catch_25
+    :catch_6e
+    move-exception v10
 
-    goto :goto_15
+    goto :goto_39
 .end method
 
 .method public static extractThumbnail(Landroid/graphics/Bitmap;II)Landroid/graphics/Bitmap;
@@ -936,16 +957,14 @@
     :try_start_5
     invoke-static {p2, p3}, Landroid/media/ThumbnailUtils;->makeInputStream(Landroid/net/Uri;Landroid/content/ContentResolver;)Landroid/os/ParcelFileDescriptor;
     :try_end_8
-    .catchall {:try_start_5 .. :try_end_8} :catchall_54
-    .catch Ljava/lang/OutOfMemoryError; {:try_start_5 .. :try_end_8} :catch_4b
+    .catchall {:try_start_5 .. :try_end_8} :catchall_5b
+    .catch Ljava/lang/OutOfMemoryError; {:try_start_5 .. :try_end_8} :catch_4f
 
     move-result-object p4
 
     :cond_9
     if-nez p4, :cond_f
 
-    :cond_b
-    :goto_b
     invoke-static {p4}, Landroid/media/ThumbnailUtils;->closeSilently(Landroid/os/ParcelFileDescriptor;)V
 
     :goto_e
@@ -980,16 +999,26 @@
 
     iget-boolean v5, p5, Landroid/graphics/BitmapFactory$Options;->mCancel:Z
 
-    if-nez v5, :cond_b
+    if-nez v5, :cond_31
 
     iget v5, p5, Landroid/graphics/BitmapFactory$Options;->outWidth:I
 
-    if-eq v5, v6, :cond_b
+    if-eq v5, v6, :cond_31
 
     iget v5, p5, Landroid/graphics/BitmapFactory$Options;->outHeight:I
+    :try_end_2f
+    .catchall {:try_start_11 .. :try_end_2f} :catchall_5b
+    .catch Ljava/lang/OutOfMemoryError; {:try_start_11 .. :try_end_2f} :catch_4f
+
+    if-ne v5, v6, :cond_35
+
+    :cond_31
+    invoke-static {p4}, Landroid/media/ThumbnailUtils;->closeSilently(Landroid/os/ParcelFileDescriptor;)V
 
-    if-eq v5, v6, :cond_b
+    goto :goto_e
 
+    :cond_35
+    :try_start_35
     invoke-static {p5, p0, p1}, Landroid/media/ThumbnailUtils;->computeSampleSize(Landroid/graphics/BitmapFactory$Options;II)I
 
     move-result v5
@@ -1011,9 +1040,9 @@
     const/4 v5, 0x0
 
     invoke-static {v2, v5, p5}, Landroid/graphics/BitmapFactory;->decodeFileDescriptor(Ljava/io/FileDescriptor;Landroid/graphics/Rect;Landroid/graphics/BitmapFactory$Options;)Landroid/graphics/Bitmap;
-    :try_end_45
-    .catchall {:try_start_11 .. :try_end_45} :catchall_54
-    .catch Ljava/lang/OutOfMemoryError; {:try_start_11 .. :try_end_45} :catch_4b
+    :try_end_49
+    .catchall {:try_start_35 .. :try_end_49} :catchall_5b
+    .catch Ljava/lang/OutOfMemoryError; {:try_start_35 .. :try_end_49} :catch_4f
 
     move-result-object v0
 
@@ -1023,21 +1052,23 @@
 
     goto :goto_e
 
-    :catch_4b
+    :catch_4f
     move-exception v1
 
-    :try_start_4c
+    :try_start_50
     const-string v5, "ThumbnailUtils"
 
     const-string v6, "Got oom exception "
 
     invoke-static {v5, v6, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_53
-    .catchall {:try_start_4c .. :try_end_53} :catchall_54
+    :try_end_57
+    .catchall {:try_start_50 .. :try_end_57} :catchall_5b
 
-    goto :goto_b
+    invoke-static {p4}, Landroid/media/ThumbnailUtils;->closeSilently(Landroid/os/ParcelFileDescriptor;)V
+
+    goto :goto_e
 
-    :catchall_54
+    :catchall_5b
     move-exception v4
 
     invoke-static {p4}, Landroid/media/ThumbnailUtils;->closeSilently(Landroid/os/ParcelFileDescriptor;)V
diff -Npruw stock-framework/smali/android/mtp/MtpDatabase.smali pdroid-framework/smali/android/mtp/MtpDatabase.smali
--- stock-framework/smali/android/mtp/MtpDatabase.smali	2013-07-15 18:10:55.810628007 -0500
+++ pdroid-framework/smali/android/mtp/MtpDatabase.smali	2013-07-15 18:10:49.342628176 -0500
@@ -587,7 +587,7 @@
     return v0
 
     :cond_8
-    if-eqz p1, :cond_53
+    if-eqz p1, :cond_4b
 
     const/4 v7, 0x0
 
@@ -616,13 +616,13 @@
 
     move-result-object v7
 
-    if-eqz v7, :cond_bf
+    if-eqz v7, :cond_46
 
     invoke-interface {v7}, Landroid/database/Cursor;->getCount()I
 
     move-result v0
 
-    if-lez v0, :cond_bf
+    if-lez v0, :cond_46
 
     const-string v0, "MtpDatabase"
 
@@ -646,8 +646,8 @@
 
     invoke-static {v0, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
     :try_end_3f
-    .catchall {:try_start_b .. :try_end_3f} :catchall_aa
-    .catch Landroid/os/RemoteException; {:try_start_b .. :try_end_3f} :catch_46
+    .catchall {:try_start_b .. :try_end_3f} :catchall_b0
+    .catch Landroid/os/RemoteException; {:try_start_b .. :try_end_3f} :catch_a2
 
     const/4 v0, -0x1
 
@@ -657,24 +657,13 @@
 
     goto :goto_7
 
-    :catch_46
-    move-exception v8
-
-    :try_start_47
-    const-string v0, "MtpDatabase"
-
-    const-string v1, "RemoteException in beginSendObject"
-
-    invoke-static {v0, v1, v8}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_4e
-    .catchall {:try_start_47 .. :try_end_4e} :catchall_aa
-
-    if-eqz v7, :cond_53
+    :cond_46
+    if-eqz v7, :cond_4b
 
-    :goto_50
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    :cond_53
+    :cond_4b
+    :goto_4b
     const/4 v0, 0x1
 
     iput-boolean v0, p0, Landroid/mtp/MtpDatabase;->mDatabaseModified:Z
@@ -727,7 +716,7 @@
 
     invoke-virtual {v10, v0, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V
 
-    :try_start_8f
+    :try_start_87
     iget-object v0, p0, Landroid/mtp/MtpDatabase;->mMediaProvider:Landroid/content/IContentProvider;
 
     iget-object v1, p0, Landroid/mtp/MtpDatabase;->mObjectsUri:Landroid/net/Uri;
@@ -736,7 +725,7 @@
 
     move-result-object v9
 
-    if-eqz v9, :cond_b1
+    if-eqz v9, :cond_b7
 
     invoke-virtual {v9}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;
 
@@ -751,29 +740,47 @@
     check-cast v0, Ljava/lang/String;
 
     invoke-static {v0}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
-    :try_end_a7
-    .catch Landroid/os/RemoteException; {:try_start_8f .. :try_end_a7} :catch_b4
+    :try_end_9f
+    .catch Landroid/os/RemoteException; {:try_start_87 .. :try_end_9f} :catch_ba
 
     move-result v0
 
     goto/16 :goto_7
 
-    :catchall_aa
+    :catch_a2
+    move-exception v8
+
+    :try_start_a3
+    const-string v0, "MtpDatabase"
+
+    const-string v1, "RemoteException in beginSendObject"
+
+    invoke-static {v0, v1, v8}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+    :try_end_aa
+    .catchall {:try_start_a3 .. :try_end_aa} :catchall_b0
+
+    if-eqz v7, :cond_4b
+
+    invoke-interface {v7}, Landroid/database/Cursor;->close()V
+
+    goto :goto_4b
+
+    :catchall_b0
     move-exception v0
 
-    if-eqz v7, :cond_b0
+    if-eqz v7, :cond_b6
 
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    :cond_b0
+    :cond_b6
     throw v0
 
-    :cond_b1
+    :cond_b7
     const/4 v0, -0x1
 
     goto/16 :goto_7
 
-    :catch_b4
+    :catch_ba
     move-exception v8
 
     const-string v0, "MtpDatabase"
@@ -785,11 +792,6 @@
     const/4 v0, -0x1
 
     goto/16 :goto_7
-
-    :cond_bf
-    if-eqz v7, :cond_53
-
-    goto :goto_50
 .end method
 
 .method private createObjectQuery(III)Landroid/database/Cursor;
@@ -1138,8 +1140,8 @@
 
     invoke-interface {v7, v0}, Landroid/database/Cursor;->getInt(I)I
     :try_end_31
-    .catchall {:try_start_8 .. :try_end_31} :catchall_10a
-    .catch Landroid/os/RemoteException; {:try_start_8 .. :try_end_31} :catch_f4
+    .catchall {:try_start_8 .. :try_end_31} :catchall_113
+    .catch Landroid/os/RemoteException; {:try_start_8 .. :try_end_31} :catch_fa
 
     move-result v9
 
@@ -1164,7 +1166,6 @@
 
     if-eqz v7, :cond_3c
 
-    :goto_41
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
     goto :goto_3c
@@ -1172,22 +1173,28 @@
     :cond_45
     :try_start_45
     invoke-direct {p0, v11}, Landroid/mtp/MtpDatabase;->isStorageSubDirectory(Ljava/lang/String;)Z
+    :try_end_48
+    .catchall {:try_start_45 .. :try_end_48} :catchall_113
+    .catch Landroid/os/RemoteException; {:try_start_45 .. :try_end_48} :catch_fa
 
     move-result v0
 
-    if-eqz v0, :cond_50
+    if-eqz v0, :cond_53
 
     const/16 v0, 0x200d
 
     if-eqz v7, :cond_3c
 
-    goto :goto_41
+    invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    :cond_50
+    goto :goto_3c
+
+    :cond_53
     const/16 v0, 0x3001
 
-    if-ne v9, v0, :cond_9d
+    if-ne v9, v0, :cond_a0
 
+    :try_start_57
     iget-object v0, p0, Landroid/mtp/MtpDatabase;->mVolumeName:Ljava/lang/String;
 
     invoke-static {v0}, Landroid/provider/MediaStore$Files;->getMtpObjectsUri(Ljava/lang/String;)Landroid/net/Uri;
@@ -1262,7 +1269,7 @@
 
     invoke-interface {v0, v12, v1, v2}, Landroid/content/IContentProvider;->delete(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I
 
-    :cond_9d
+    :cond_a0
     iget-object v0, p0, Landroid/mtp/MtpDatabase;->mVolumeName:Ljava/lang/String;
 
     int-to-long v1, p1
@@ -1281,11 +1288,11 @@
 
     move-result v0
 
-    if-lez v0, :cond_104
+    if-lez v0, :cond_10a
 
     const/16 v0, 0x3001
 
-    if-eq v9, v0, :cond_d4
+    if-eq v9, v0, :cond_d7
 
     sget-object v0, Ljava/util/Locale;->US:Ljava/util/Locale;
 
@@ -1296,17 +1303,17 @@
     const-string v1, "/.nomedia"
 
     invoke-virtual {v0, v1}, Ljava/lang/String;->endsWith(Ljava/lang/String;)Z
-    :try_end_bd
-    .catchall {:try_start_45 .. :try_end_bd} :catchall_10a
-    .catch Landroid/os/RemoteException; {:try_start_45 .. :try_end_bd} :catch_f4
+    :try_end_c0
+    .catchall {:try_start_57 .. :try_end_c0} :catchall_113
+    .catch Landroid/os/RemoteException; {:try_start_57 .. :try_end_c0} :catch_fa
 
     move-result v0
 
-    if-eqz v0, :cond_d4
+    if-eqz v0, :cond_d7
 
     const/4 v0, 0x0
 
-    :try_start_c1
+    :try_start_c4
     const-string v1, "/"
 
     invoke-virtual {v11, v1}, Ljava/lang/String;->lastIndexOf(Ljava/lang/String;)I
@@ -1324,22 +1331,24 @@
     const/4 v2, 0x0
 
     invoke-interface {v0, v1, v10, v2}, Landroid/content/IContentProvider;->call(Ljava/lang/String;Ljava/lang/String;Landroid/os/Bundle;)Landroid/os/Bundle;
-    :try_end_d4
-    .catchall {:try_start_c1 .. :try_end_d4} :catchall_10a
-    .catch Landroid/os/RemoteException; {:try_start_c1 .. :try_end_d4} :catch_da
+    :try_end_d7
+    .catchall {:try_start_c4 .. :try_end_d7} :catchall_113
+    .catch Landroid/os/RemoteException; {:try_start_c4 .. :try_end_d7} :catch_e0
 
-    :cond_d4
-    :goto_d4
+    :cond_d7
+    :goto_d7
     const/16 v0, 0x2001
 
     if-eqz v7, :cond_3c
 
-    goto/16 :goto_41
+    invoke-interface {v7}, Landroid/database/Cursor;->close()V
+
+    goto/16 :goto_3c
 
-    :catch_da
+    :catch_e0
     move-exception v8
 
-    :try_start_db
+    :try_start_e1
     const-string v0, "MtpDatabase"
 
     new-instance v1, Ljava/lang/StringBuilder;
@@ -1361,48 +1370,50 @@
     move-result-object v1
 
     invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
-    :try_end_f3
-    .catchall {:try_start_db .. :try_end_f3} :catchall_10a
-    .catch Landroid/os/RemoteException; {:try_start_db .. :try_end_f3} :catch_f4
+    :try_end_f9
+    .catchall {:try_start_e1 .. :try_end_f9} :catchall_113
+    .catch Landroid/os/RemoteException; {:try_start_e1 .. :try_end_f9} :catch_fa
 
-    goto :goto_d4
+    goto :goto_d7
 
-    :catch_f4
+    :catch_fa
     move-exception v8
 
-    :try_start_f5
+    :try_start_fb
     const-string v0, "MtpDatabase"
 
     const-string v1, "RemoteException in deleteFile"
 
     invoke-static {v0, v1, v8}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_fc
-    .catchall {:try_start_f5 .. :try_end_fc} :catchall_10a
+    :try_end_102
+    .catchall {:try_start_fb .. :try_end_102} :catchall_113
 
-    if-eqz v7, :cond_101
+    if-eqz v7, :cond_107
 
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    :cond_101
+    :cond_107
     move v0, v13
 
     goto/16 :goto_3c
 
-    :cond_104
+    :cond_10a
     const/16 v0, 0x2009
 
     if-eqz v7, :cond_3c
 
-    goto/16 :goto_41
+    invoke-interface {v7}, Landroid/database/Cursor;->close()V
+
+    goto/16 :goto_3c
 
-    :catchall_10a
+    :catchall_113
     move-exception v0
 
-    if-eqz v7, :cond_110
+    if-eqz v7, :cond_119
 
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    :cond_110
+    :cond_119
     throw v0
 .end method
 
@@ -1670,12 +1681,12 @@
 
     move-result-object v0
 
-    if-eqz v0, :cond_27
+    if-eqz v0, :cond_11
 
     invoke-interface {v0}, Landroid/database/Cursor;->getCount()I
     :try_end_a
-    .catchall {:try_start_1 .. :try_end_a} :catchall_20
-    .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_a} :catch_11
+    .catchall {:try_start_1 .. :try_end_a} :catchall_26
+    .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_a} :catch_18
 
     move-result v2
 
@@ -1687,42 +1698,44 @@
     :goto_10
     return v2
 
-    :catch_11
+    :cond_11
+    if-eqz v0, :cond_16
+
+    invoke-interface {v0}, Landroid/database/Cursor;->close()V
+
+    :cond_16
+    :goto_16
+    const/4 v2, -0x1
+
+    goto :goto_10
+
+    :catch_18
     move-exception v1
 
-    :try_start_12
+    :try_start_19
     const-string v2, "MtpDatabase"
 
     const-string v3, "RemoteException in getNumObjects"
 
     invoke-static {v2, v3, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_19
-    .catchall {:try_start_12 .. :try_end_19} :catchall_20
+    :try_end_20
+    .catchall {:try_start_19 .. :try_end_20} :catchall_26
 
-    if-eqz v0, :cond_1e
+    if-eqz v0, :cond_16
 
-    :goto_1b
     invoke-interface {v0}, Landroid/database/Cursor;->close()V
 
-    :cond_1e
-    const/4 v2, -0x1
+    goto :goto_16
 
-    goto :goto_10
-
-    :catchall_20
+    :catchall_26
     move-exception v2
 
-    if-eqz v0, :cond_26
+    if-eqz v0, :cond_2c
 
     invoke-interface {v0}, Landroid/database/Cursor;->close()V
 
-    :cond_26
+    :cond_2c
     throw v2
-
-    :cond_27
-    if-eqz v0, :cond_1e
-
-    goto :goto_1b
 .end method
 
 .method private getObjectFilePath(I[C[J)I
@@ -1852,7 +1865,7 @@
 
     aput-wide v1, p3, v0
     :try_end_69
-    .catchall {:try_start_24 .. :try_end_69} :catchall_85
+    .catchall {:try_start_24 .. :try_end_69} :catchall_88
     .catch Landroid/os/RemoteException; {:try_start_24 .. :try_end_69} :catch_78
 
     if-eqz v7, :cond_6e
@@ -1869,7 +1882,6 @@
 
     if-eqz v7, :cond_22
 
-    :goto_74
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
     goto :goto_22
@@ -1884,22 +1896,24 @@
 
     invoke-static {v0, v1, v8}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_80
-    .catchall {:try_start_79 .. :try_end_80} :catchall_85
+    .catchall {:try_start_79 .. :try_end_80} :catchall_88
 
     const/16 v0, 0x2002
 
     if-eqz v7, :cond_22
 
-    goto :goto_74
+    invoke-interface {v7}, Landroid/database/Cursor;->close()V
+
+    goto :goto_22
 
-    :catchall_85
+    :catchall_88
     move-exception v0
 
-    if-eqz v7, :cond_8b
+    if-eqz v7, :cond_8e
 
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    :cond_8b
+    :cond_8e
     throw v0
 .end method
 
@@ -1937,13 +1951,13 @@
 
     move-result-object v8
 
-    if-eqz v8, :cond_8e
+    if-eqz v8, :cond_78
 
     invoke-interface {v8}, Landroid/database/Cursor;->moveToNext()Z
 
     move-result v1
 
-    if-eqz v1, :cond_8e
+    if-eqz v1, :cond_78
 
     const/4 v1, 0x0
 
@@ -2037,8 +2051,8 @@
 
     aput-wide v2, p4, v1
     :try_end_6f
-    .catchall {:try_start_1 .. :try_end_6f} :catchall_87
-    .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_6f} :catch_78
+    .catchall {:try_start_1 .. :try_end_6f} :catchall_8d
+    .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_6f} :catch_7f
 
     const/4 v1, 0x1
 
@@ -2055,42 +2069,44 @@
 
     goto :goto_48
 
-    :catch_78
+    :cond_78
+    if-eqz v8, :cond_7d
+
+    invoke-interface {v8}, Landroid/database/Cursor;->close()V
+
+    :cond_7d
+    :goto_7d
+    const/4 v1, 0x0
+
+    goto :goto_75
+
+    :catch_7f
     move-exception v9
 
-    :try_start_79
+    :try_start_80
     const-string v1, "MtpDatabase"
 
     const-string v2, "RemoteException in getObjectInfo"
 
     invoke-static {v1, v2, v9}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_80
-    .catchall {:try_start_79 .. :try_end_80} :catchall_87
+    :try_end_87
+    .catchall {:try_start_80 .. :try_end_87} :catchall_8d
 
-    if-eqz v8, :cond_85
+    if-eqz v8, :cond_7d
 
-    :goto_82
     invoke-interface {v8}, Landroid/database/Cursor;->close()V
 
-    :cond_85
-    const/4 v1, 0x0
+    goto :goto_7d
 
-    goto :goto_75
-
-    :catchall_87
+    :catchall_8d
     move-exception v1
 
-    if-eqz v8, :cond_8d
+    if-eqz v8, :cond_93
 
     invoke-interface {v8}, Landroid/database/Cursor;->close()V
 
-    :cond_8d
+    :cond_93
     throw v1
-
-    :cond_8e
-    if-eqz v8, :cond_85
-
-    goto :goto_82
 .end method
 
 .method private getObjectList(III)[I
@@ -2103,8 +2119,8 @@
     :try_start_2
     invoke-direct {p0, p1, p2, p3}, Landroid/mtp/MtpDatabase;->createObjectQuery(III)Landroid/database/Cursor;
     :try_end_5
-    .catchall {:try_start_2 .. :try_end_5} :catchall_36
-    .catch Landroid/os/RemoteException; {:try_start_2 .. :try_end_5} :catch_27
+    .catchall {:try_start_2 .. :try_end_5} :catchall_42
+    .catch Landroid/os/RemoteException; {:try_start_2 .. :try_end_5} :catch_34
 
     move-result-object v0
 
@@ -2127,14 +2143,14 @@
 
     move-result v1
 
-    if-lez v1, :cond_43
+    if-lez v1, :cond_2d
 
     new-array v4, v1, [I
 
     const/4 v3, 0x0
 
     :goto_18
-    if-ge v3, v1, :cond_3d
+    if-ge v3, v1, :cond_27
 
     invoke-interface {v0}, Landroid/database/Cursor;->moveToNext()Z
 
@@ -2146,56 +2162,58 @@
 
     aput v6, v4, v3
     :try_end_24
-    .catchall {:try_start_f .. :try_end_24} :catchall_36
-    .catch Landroid/os/RemoteException; {:try_start_f .. :try_end_24} :catch_27
+    .catchall {:try_start_f .. :try_end_24} :catchall_42
+    .catch Landroid/os/RemoteException; {:try_start_f .. :try_end_24} :catch_34
 
     add-int/lit8 v3, v3, 0x1
 
     goto :goto_18
 
-    :catch_27
-    move-exception v2
-
-    :try_start_28
-    const-string v6, "MtpDatabase"
+    :cond_27
+    if-eqz v0, :cond_e
 
-    const-string v7, "RemoteException in getObjectList"
+    invoke-interface {v0}, Landroid/database/Cursor;->close()V
 
-    invoke-static {v6, v7, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_2f
-    .catchall {:try_start_28 .. :try_end_2f} :catchall_36
+    goto :goto_e
 
-    if-eqz v0, :cond_34
+    :cond_2d
+    if-eqz v0, :cond_32
 
-    :goto_31
     invoke-interface {v0}, Landroid/database/Cursor;->close()V
 
-    :cond_34
+    :cond_32
+    :goto_32
     move-object v4, v5
 
     goto :goto_e
 
-    :catchall_36
-    move-exception v5
+    :catch_34
+    move-exception v2
 
-    if-eqz v0, :cond_3c
+    :try_start_35
+    const-string v6, "MtpDatabase"
 
-    invoke-interface {v0}, Landroid/database/Cursor;->close()V
+    const-string v7, "RemoteException in getObjectList"
 
-    :cond_3c
-    throw v5
+    invoke-static {v6, v7, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+    :try_end_3c
+    .catchall {:try_start_35 .. :try_end_3c} :catchall_42
 
-    :cond_3d
-    if-eqz v0, :cond_e
+    if-eqz v0, :cond_32
 
     invoke-interface {v0}, Landroid/database/Cursor;->close()V
 
-    goto :goto_e
+    goto :goto_32
+
+    :catchall_42
+    move-exception v5
+
+    if-eqz v0, :cond_48
 
-    :cond_43
-    if-eqz v0, :cond_34
+    invoke-interface {v0}, Landroid/database/Cursor;->close()V
 
-    goto :goto_31
+    :cond_48
+    throw v5
 .end method
 
 .method private getObjectPropertyList(JIJII)Landroid/mtp/MtpPropertyList;
@@ -2339,8 +2357,8 @@
 
     invoke-interface/range {v0 .. v6}, Landroid/content/IContentProvider;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Landroid/os/ICancellationSignal;)Landroid/database/Cursor;
     :try_end_14
-    .catchall {:try_start_9 .. :try_end_14} :catchall_45
-    .catch Landroid/os/RemoteException; {:try_start_9 .. :try_end_14} :catch_36
+    .catchall {:try_start_9 .. :try_end_14} :catchall_51
+    .catch Landroid/os/RemoteException; {:try_start_9 .. :try_end_14} :catch_43
 
     move-result-object v7
 
@@ -2363,14 +2381,14 @@
 
     move-result v8
 
-    if-lez v8, :cond_52
+    if-lez v8, :cond_3c
 
     new-array v11, v8, [I
 
     const/4 v10, 0x0
 
     :goto_27
-    if-ge v10, v8, :cond_4c
+    if-ge v10, v8, :cond_36
 
     invoke-interface {v7}, Landroid/database/Cursor;->moveToNext()Z
 
@@ -2382,56 +2400,58 @@
 
     aput v0, v11, v10
     :try_end_33
-    .catchall {:try_start_1e .. :try_end_33} :catchall_45
-    .catch Landroid/os/RemoteException; {:try_start_1e .. :try_end_33} :catch_36
+    .catchall {:try_start_1e .. :try_end_33} :catchall_51
+    .catch Landroid/os/RemoteException; {:try_start_1e .. :try_end_33} :catch_43
 
     add-int/lit8 v10, v10, 0x1
 
     goto :goto_27
 
-    :catch_36
-    move-exception v9
-
-    :try_start_37
-    const-string v0, "MtpDatabase"
+    :cond_36
+    if-eqz v7, :cond_1d
 
-    const-string v2, "RemoteException in getObjectList"
+    invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    invoke-static {v0, v2, v9}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_3e
-    .catchall {:try_start_37 .. :try_end_3e} :catchall_45
+    goto :goto_1d
 
-    if-eqz v7, :cond_43
+    :cond_3c
+    if-eqz v7, :cond_41
 
-    :goto_40
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    :cond_43
+    :cond_41
+    :goto_41
     move-object v11, v12
 
     goto :goto_1d
 
-    :catchall_45
-    move-exception v0
+    :catch_43
+    move-exception v9
 
-    if-eqz v7, :cond_4b
+    :try_start_44
+    const-string v0, "MtpDatabase"
 
-    invoke-interface {v7}, Landroid/database/Cursor;->close()V
+    const-string v2, "RemoteException in getObjectList"
 
-    :cond_4b
-    throw v0
+    invoke-static {v0, v2, v9}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+    :try_end_4b
+    .catchall {:try_start_44 .. :try_end_4b} :catchall_51
 
-    :cond_4c
-    if-eqz v7, :cond_1d
+    if-eqz v7, :cond_41
 
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    goto :goto_1d
+    goto :goto_41
 
-    :cond_52
-    if-eqz v7, :cond_43
+    :catchall_51
+    move-exception v0
+
+    if-eqz v7, :cond_57
+
+    invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    goto :goto_40
+    :cond_57
+    throw v0
 .end method
 
 .method private getSupportedCaptureFormats()[I
@@ -2733,7 +2753,7 @@
 
     invoke-interface {v11, v12, v13}, Landroid/content/SharedPreferences$Editor;->putString(Ljava/lang/String;Ljava/lang/String;)Landroid/content/SharedPreferences$Editor;
     :try_end_5d
-    .catchall {:try_start_19 .. :try_end_5d} :catchall_7f
+    .catchall {:try_start_19 .. :try_end_5d} :catchall_82
     .catch Ljava/lang/Exception; {:try_start_19 .. :try_end_5d} :catch_5e
 
     goto :goto_4a
@@ -2748,7 +2768,7 @@
 
     invoke-static {v1, v2, v11}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_66
-    .catchall {:try_start_5f .. :try_end_66} :catchall_7f
+    .catchall {:try_start_5f .. :try_end_66} :catchall_82
 
     if-eqz v8, :cond_6b
 
@@ -2757,10 +2777,10 @@
     :cond_6b
     if-eqz v0, :cond_70
 
-    :goto_6d
     invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->close()V
 
     :cond_70
+    :goto_70
     invoke-virtual {v9}, Ljava/io/File;->delete()Z
 
     :cond_73
@@ -2770,7 +2790,7 @@
     :try_start_74
     invoke-interface {v11}, Landroid/content/SharedPreferences$Editor;->commit()Z
     :try_end_77
-    .catchall {:try_start_74 .. :try_end_77} :catchall_7f
+    .catchall {:try_start_74 .. :try_end_77} :catchall_82
     .catch Ljava/lang/Exception; {:try_start_74 .. :try_end_77} :catch_5e
 
     :cond_77
@@ -2781,21 +2801,23 @@
     :cond_7c
     if-eqz v0, :cond_70
 
-    goto :goto_6d
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+
+    goto :goto_70
 
-    :catchall_7f
+    :catchall_82
     move-exception v1
 
-    if-eqz v8, :cond_85
+    if-eqz v8, :cond_88
 
     invoke-interface {v8}, Landroid/database/Cursor;->close()V
 
-    :cond_85
-    if-eqz v0, :cond_8a
+    :cond_88
+    if-eqz v0, :cond_8d
 
     invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->close()V
 
-    :cond_8a
+    :cond_8d
     throw v1
 .end method
 
diff -Npruw stock-framework/smali/android/mtp/MtpPropertyGroup.smali pdroid-framework/smali/android/mtp/MtpPropertyGroup.smali
--- stock-framework/smali/android/mtp/MtpPropertyGroup.smali	2013-07-15 18:10:55.814628007 -0500
+++ pdroid-framework/smali/android/mtp/MtpPropertyGroup.smali	2013-07-15 18:10:49.346628177 -0500
@@ -450,14 +450,13 @@
 
     invoke-interface {v7, v0}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
     :try_end_33
-    .catchall {:try_start_2 .. :try_end_33} :catchall_47
-    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_33} :catch_3f
+    .catchall {:try_start_2 .. :try_end_33} :catchall_4a
+    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_33} :catch_42
 
     move-result-object v0
 
     if-eqz v7, :cond_39
 
-    :goto_36
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
     :cond_39
@@ -468,33 +467,35 @@
     :try_start_3a
     const-string v0, ""
     :try_end_3c
-    .catchall {:try_start_3a .. :try_end_3c} :catchall_47
-    .catch Ljava/lang/Exception; {:try_start_3a .. :try_end_3c} :catch_3f
+    .catchall {:try_start_3a .. :try_end_3c} :catchall_4a
+    .catch Ljava/lang/Exception; {:try_start_3a .. :try_end_3c} :catch_42
 
     if-eqz v7, :cond_39
 
-    goto :goto_36
+    invoke-interface {v7}, Landroid/database/Cursor;->close()V
+
+    goto :goto_39
 
-    :catch_3f
+    :catch_42
     move-exception v8
 
-    if-eqz v7, :cond_45
+    if-eqz v7, :cond_48
 
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    :cond_45
+    :cond_48
     move-object v0, v9
 
     goto :goto_39
 
-    :catchall_47
+    :catchall_4a
     move-exception v0
 
-    if-eqz v7, :cond_4d
+    if-eqz v7, :cond_50
 
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    :cond_4d
+    :cond_50
     throw v0
 .end method
 
@@ -554,14 +555,13 @@
 
     invoke-interface {v7, v0}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
     :try_end_2c
-    .catchall {:try_start_2 .. :try_end_2c} :catchall_48
-    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_2c} :catch_38
+    .catchall {:try_start_2 .. :try_end_2c} :catchall_4b
+    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_2c} :catch_3b
 
     move-result-object v0
 
     if-eqz v7, :cond_32
 
-    :goto_2f
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
     :cond_32
@@ -572,42 +572,44 @@
     :try_start_33
     const-string v0, ""
     :try_end_35
-    .catchall {:try_start_33 .. :try_end_35} :catchall_48
-    .catch Ljava/lang/Exception; {:try_start_33 .. :try_end_35} :catch_38
+    .catchall {:try_start_33 .. :try_end_35} :catchall_4b
+    .catch Ljava/lang/Exception; {:try_start_33 .. :try_end_35} :catch_3b
 
     if-eqz v7, :cond_32
 
-    goto :goto_2f
+    invoke-interface {v7}, Landroid/database/Cursor;->close()V
+
+    goto :goto_32
 
-    :catch_38
+    :catch_3b
     move-exception v8
 
-    :try_start_39
+    :try_start_3c
     const-string v0, "MtpPropertyGroup"
 
     const-string/jumbo v2, "queryGenre exception"
 
     invoke-static {v0, v2, v8}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_41
-    .catchall {:try_start_39 .. :try_end_41} :catchall_48
+    :try_end_44
+    .catchall {:try_start_3c .. :try_end_44} :catchall_4b
 
-    if-eqz v7, :cond_46
+    if-eqz v7, :cond_49
 
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    :cond_46
+    :cond_49
     move-object v0, v9
 
     goto :goto_32
 
-    :catchall_48
+    :catchall_4b
     move-exception v0
 
-    if-eqz v7, :cond_4e
+    if-eqz v7, :cond_51
 
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    :cond_4e
+    :cond_51
     throw v0
 .end method
 
@@ -659,13 +661,13 @@
 
     move-result-object v7
 
-    if-eqz v7, :cond_4a
+    if-eqz v7, :cond_3b
 
     invoke-interface {v7}, Landroid/database/Cursor;->moveToNext()Z
 
     move-result v0
 
-    if-eqz v0, :cond_4a
+    if-eqz v0, :cond_3b
 
     new-instance v0, Ljava/lang/Long;
 
@@ -677,7 +679,7 @@
 
     invoke-direct {v0, v1, v2}, Ljava/lang/Long;-><init>(J)V
     :try_end_35
-    .catchall {:try_start_2 .. :try_end_35} :catchall_3b
+    .catchall {:try_start_2 .. :try_end_35} :catchall_49
     .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_35} :catch_42
 
     if-eqz v7, :cond_3a
@@ -688,33 +690,35 @@
     :goto_3a
     return-object v0
 
-    :catchall_3b
-    move-exception v0
-
-    if-eqz v7, :cond_41
+    :cond_3b
+    if-eqz v7, :cond_40
 
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    :cond_41
-    throw v0
+    :cond_40
+    :goto_40
+    move-object v0, v8
+
+    goto :goto_3a
 
     :catch_42
     move-exception v0
 
-    if-eqz v7, :cond_48
+    if-eqz v7, :cond_40
 
-    :goto_45
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    :cond_48
-    move-object v0, v8
+    goto :goto_40
 
-    goto :goto_3a
+    :catchall_49
+    move-exception v0
 
-    :cond_4a
-    if-eqz v7, :cond_48
+    if-eqz v7, :cond_4f
+
+    invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    goto :goto_45
+    :cond_4f
+    throw v0
 .end method
 
 .method private queryString(ILjava/lang/String;)Ljava/lang/String;
@@ -777,14 +781,13 @@
 
     invoke-interface {v7, v0}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
     :try_end_2f
-    .catchall {:try_start_2 .. :try_end_2f} :catchall_43
-    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_2f} :catch_3b
+    .catchall {:try_start_2 .. :try_end_2f} :catchall_46
+    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_2f} :catch_3e
 
     move-result-object v0
 
     if-eqz v7, :cond_35
 
-    :goto_32
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
     :cond_35
@@ -795,33 +798,35 @@
     :try_start_36
     const-string v0, ""
     :try_end_38
-    .catchall {:try_start_36 .. :try_end_38} :catchall_43
-    .catch Ljava/lang/Exception; {:try_start_36 .. :try_end_38} :catch_3b
+    .catchall {:try_start_36 .. :try_end_38} :catchall_46
+    .catch Ljava/lang/Exception; {:try_start_36 .. :try_end_38} :catch_3e
 
     if-eqz v7, :cond_35
 
-    goto :goto_32
+    invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    :catch_3b
+    goto :goto_35
+
+    :catch_3e
     move-exception v8
 
-    if-eqz v7, :cond_41
+    if-eqz v7, :cond_44
 
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    :cond_41
+    :cond_44
     move-object v0, v9
 
     goto :goto_35
 
-    :catchall_43
+    :catchall_46
     move-exception v0
 
-    if-eqz v7, :cond_49
+    if-eqz v7, :cond_4c
 
     invoke-interface {v7}, Landroid/database/Cursor;->close()V
 
-    :cond_49
+    :cond_4c
     throw v0
 .end method
 
@@ -914,12 +919,11 @@
 
     invoke-direct {v7, v2, v3}, Landroid/mtp/MtpPropertyList;-><init>(II)V
     :try_end_45
-    .catchall {:try_start_21 .. :try_end_45} :catchall_117
+    .catchall {:try_start_21 .. :try_end_45} :catchall_11a
     .catch Landroid/os/RemoteException; {:try_start_21 .. :try_end_45} :catch_fa
 
     if-eqz v19, :cond_e
 
-    :goto_47
     invoke-interface/range {v19 .. v19}, Landroid/database/Cursor;->close()V
 
     goto :goto_e
@@ -1039,7 +1043,7 @@
 
     move/from16 v1, v21
 
-    if-ge v0, v1, :cond_21a
+    if-ge v0, v1, :cond_21e
 
     if-eqz v19, :cond_b9
 
@@ -1069,7 +1073,7 @@
 
     move/from16 v0, v28
 
-    if-ge v0, v2, :cond_216
+    if-ge v0, v2, :cond_21a
 
     move-object/from16 v0, p0
 
@@ -1087,7 +1091,7 @@
 
     move/from16 v20, v0
 
-    sparse-switch v9, :sswitch_data_21e
+    sparse-switch v9, :sswitch_data_226
 
     move-object/from16 v0, v27
 
@@ -1095,7 +1099,7 @@
 
     const v3, 0xffff
 
-    if-ne v2, v3, :cond_1ec
+    if-ne v2, v3, :cond_1f0
 
     invoke-interface/range {v19 .. v20}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
 
@@ -1126,7 +1130,7 @@
 
     invoke-virtual/range {v7 .. v12}, Landroid/mtp/MtpPropertyList;->append(IIIJ)V
     :try_end_f9
-    .catchall {:try_start_94 .. :try_end_f9} :catchall_117
+    .catchall {:try_start_94 .. :try_end_f9} :catchall_11a
     .catch Landroid/os/RemoteException; {:try_start_94 .. :try_end_f9} :catch_fa
 
     goto :goto_e9
@@ -1143,19 +1147,21 @@
 
     invoke-direct {v7, v2, v3}, Landroid/mtp/MtpPropertyList;-><init>(II)V
     :try_end_103
-    .catchall {:try_start_fb .. :try_end_103} :catchall_117
+    .catchall {:try_start_fb .. :try_end_103} :catchall_11a
 
     if-eqz v19, :cond_e
 
-    goto/16 :goto_47
+    invoke-interface/range {v19 .. v19}, Landroid/database/Cursor;->close()V
+
+    goto/16 :goto_e
 
-    :sswitch_107
-    :try_start_107
+    :sswitch_10a
+    :try_start_10a
     invoke-interface/range {v19 .. v20}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
 
     move-result-object v29
 
-    if-eqz v29, :cond_11e
+    if-eqz v29, :cond_121
 
     invoke-static/range {v29 .. v29}, Landroid/mtp/MtpPropertyGroup;->nameFromPath(Ljava/lang/String;)Ljava/lang/String;
 
@@ -1164,36 +1170,36 @@
     move/from16 v0, p1
 
     invoke-virtual {v7, v0, v9, v2}, Landroid/mtp/MtpPropertyList;->append(IILjava/lang/String;)V
-    :try_end_116
-    .catchall {:try_start_107 .. :try_end_116} :catchall_117
-    .catch Landroid/os/RemoteException; {:try_start_107 .. :try_end_116} :catch_fa
+    :try_end_119
+    .catchall {:try_start_10a .. :try_end_119} :catchall_11a
+    .catch Landroid/os/RemoteException; {:try_start_10a .. :try_end_119} :catch_fa
 
     goto :goto_e9
 
-    :catchall_117
+    :catchall_11a
     move-exception v2
 
-    if-eqz v19, :cond_11d
+    if-eqz v19, :cond_120
 
     invoke-interface/range {v19 .. v19}, Landroid/database/Cursor;->close()V
 
-    :cond_11d
+    :cond_120
     throw v2
 
-    :cond_11e
+    :cond_121
     const/16 v2, 0x2009
 
-    :try_start_120
+    :try_start_123
     invoke-virtual {v7, v2}, Landroid/mtp/MtpPropertyList;->setResult(I)V
 
     goto :goto_e9
 
-    :sswitch_124
+    :sswitch_127
     invoke-interface/range {v19 .. v20}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
 
     move-result-object v25
 
-    if-nez v25, :cond_135
+    if-nez v25, :cond_138
 
     const-string/jumbo v2, "name"
 
@@ -1205,8 +1211,8 @@
 
     move-result-object v25
 
-    :cond_135
-    if-nez v25, :cond_147
+    :cond_138
+    if-nez v25, :cond_14a
 
     const-string v2, "_data"
 
@@ -1218,14 +1224,14 @@
 
     move-result-object v25
 
-    if-eqz v25, :cond_147
+    if-eqz v25, :cond_14a
 
     invoke-static/range {v25 .. v25}, Landroid/mtp/MtpPropertyGroup;->nameFromPath(Ljava/lang/String;)Ljava/lang/String;
 
     move-result-object v25
 
-    :cond_147
-    if-eqz v25, :cond_151
+    :cond_14a
+    if-eqz v25, :cond_154
 
     move/from16 v0, p1
 
@@ -1235,14 +1241,14 @@
 
     goto :goto_e9
 
-    :cond_151
+    :cond_154
     const/16 v2, 0x2009
 
     invoke-virtual {v7, v2}, Landroid/mtp/MtpPropertyList;->setResult(I)V
 
     goto :goto_e9
 
-    :sswitch_157
+    :sswitch_15a
     invoke-interface/range {v19 .. v20}, Landroid/database/Cursor;->getInt(I)I
 
     move-result v2
@@ -1259,9 +1265,9 @@
 
     invoke-virtual {v7, v0, v9, v2}, Landroid/mtp/MtpPropertyList;->append(IILjava/lang/String;)V
 
-    goto :goto_e9
+    goto/16 :goto_e9
 
-    :sswitch_168
+    :sswitch_16c
     invoke-interface/range {v19 .. v20}, Landroid/database/Cursor;->getInt(I)I
 
     move-result v30
@@ -1296,7 +1302,7 @@
 
     goto/16 :goto_e9
 
-    :sswitch_18c
+    :sswitch_190
     invoke-interface/range {v19 .. v20}, Landroid/database/Cursor;->getLong(I)J
 
     move-result-wide v11
@@ -1319,7 +1325,7 @@
 
     goto/16 :goto_e9
 
-    :sswitch_1a0
+    :sswitch_1a4
     const/16 v16, 0x4
 
     invoke-interface/range {v19 .. v20}, Landroid/database/Cursor;->getInt(I)I
@@ -1342,7 +1348,7 @@
 
     goto/16 :goto_e9
 
-    :sswitch_1b4
+    :sswitch_1b8
     const-string v2, "artist"
 
     move-object/from16 v0, p0
@@ -1359,7 +1365,7 @@
 
     goto/16 :goto_e9
 
-    :sswitch_1c5
+    :sswitch_1c9
     const-string v2, "album"
 
     move-object/from16 v0, p0
@@ -1376,12 +1382,12 @@
 
     goto/16 :goto_e9
 
-    :sswitch_1d6
+    :sswitch_1da
     invoke-direct/range {p0 .. p1}, Landroid/mtp/MtpPropertyGroup;->queryGenre(I)Ljava/lang/String;
 
     move-result-object v24
 
-    if-eqz v24, :cond_1e5
+    if-eqz v24, :cond_1e9
 
     move/from16 v0, p1
 
@@ -1391,19 +1397,19 @@
 
     goto/16 :goto_e9
 
-    :cond_1e5
+    :cond_1e9
     const/16 v2, 0x2009
 
     invoke-virtual {v7, v2}, Landroid/mtp/MtpPropertyList;->setResult(I)V
 
     goto/16 :goto_e9
 
-    :cond_1ec
+    :cond_1f0
     move-object/from16 v0, v27
 
     iget v2, v0, Landroid/mtp/MtpPropertyGroup$Property;->type:I
 
-    if-nez v2, :cond_203
+    if-nez v2, :cond_207
 
     move-object/from16 v0, v27
 
@@ -1423,7 +1429,7 @@
 
     goto/16 :goto_e9
 
-    :cond_203
+    :cond_207
     move-object/from16 v0, v27
 
     iget v0, v0, Landroid/mtp/MtpPropertyGroup$Property;->type:I
@@ -1441,34 +1447,38 @@
     move v15, v9
 
     invoke-virtual/range {v13 .. v18}, Landroid/mtp/MtpPropertyList;->append(IIIJ)V
-    :try_end_214
-    .catchall {:try_start_120 .. :try_end_214} :catchall_117
-    .catch Landroid/os/RemoteException; {:try_start_120 .. :try_end_214} :catch_fa
+    :try_end_218
+    .catchall {:try_start_123 .. :try_end_218} :catchall_11a
+    .catch Landroid/os/RemoteException; {:try_start_123 .. :try_end_218} :catch_fa
 
     goto/16 :goto_e9
 
-    :cond_216
+    :cond_21a
     add-int/lit8 v26, v26, 0x1
 
     goto/16 :goto_a4
 
-    :cond_21a
+    :cond_21e
     if-eqz v19, :cond_e
 
-    goto/16 :goto_47
+    invoke-interface/range {v19 .. v19}, Landroid/database/Cursor;->close()V
+
+    goto/16 :goto_e
+
+    nop
 
-    :sswitch_data_21e
+    :sswitch_data_226
     .sparse-switch
         0xdc03 -> :sswitch_f1
-        0xdc07 -> :sswitch_107
-        0xdc09 -> :sswitch_157
-        0xdc41 -> :sswitch_18c
-        0xdc44 -> :sswitch_124
-        0xdc46 -> :sswitch_1b4
-        0xdc4e -> :sswitch_157
-        0xdc8b -> :sswitch_1a0
-        0xdc8c -> :sswitch_1d6
-        0xdc99 -> :sswitch_168
-        0xdc9a -> :sswitch_1c5
+        0xdc07 -> :sswitch_10a
+        0xdc09 -> :sswitch_15a
+        0xdc41 -> :sswitch_190
+        0xdc44 -> :sswitch_127
+        0xdc46 -> :sswitch_1b8
+        0xdc4e -> :sswitch_15a
+        0xdc8b -> :sswitch_1a4
+        0xdc8c -> :sswitch_1da
+        0xdc99 -> :sswitch_16c
+        0xdc9a -> :sswitch_1c9
     .end sparse-switch
 .end method
diff -Npruw stock-framework/smali/android/net/NetworkInfo.smali pdroid-framework/smali/android/net/NetworkInfo.smali
--- stock-framework/smali/android/net/NetworkInfo.smali	2013-07-15 18:10:55.846628006 -0500
+++ pdroid-framework/smali/android/net/NetworkInfo.smali	2013-07-15 18:10:49.382628176 -0500
@@ -814,6 +814,14 @@
     throw v0
 .end method
 
+.method public setState(Landroid/net/NetworkInfo$State;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/net/NetworkInfo;->mState:Landroid/net/NetworkInfo$State;
+
+    return-void
+.end method
+
 .method setSubtype(ILjava/lang/String;)V
     .registers 4
 
diff -Npruw stock-framework/smali/android/net/wifi/WifiConfigStore$DelayedDiskWrite.smali pdroid-framework/smali/android/net/wifi/WifiConfigStore$DelayedDiskWrite.smali
--- stock-framework/smali/android/net/wifi/WifiConfigStore$DelayedDiskWrite.smali	2013-07-15 18:10:55.926628004 -0500
+++ pdroid-framework/smali/android/net/wifi/WifiConfigStore$DelayedDiskWrite.smali	2013-07-15 18:10:49.458628174 -0500
@@ -208,7 +208,7 @@
     :try_start_6c
     invoke-virtual {v9}, Ljava/io/DataOutputStream;->close()V
     :try_end_6f
-    .catch Ljava/lang/Exception; {:try_start_6c .. :try_end_6f} :catch_20a
+    .catch Ljava/lang/Exception; {:try_start_6c .. :try_end_6f} :catch_20f
 
     :cond_6f
     :goto_6f
@@ -244,7 +244,7 @@
     :cond_89
     monitor-exit v15
     :try_end_8a
-    .catchall {:try_start_72 .. :try_end_8a} :catchall_20d
+    .catchall {:try_start_72 .. :try_end_8a} :catchall_207
 
     :goto_8a
     return-void
@@ -356,7 +356,7 @@
     :try_start_e8
     invoke-virtual {v9}, Ljava/io/DataOutputStream;->close()V
     :try_end_eb
-    .catch Ljava/lang/Exception; {:try_start_e8 .. :try_end_eb} :catch_204
+    .catch Ljava/lang/Exception; {:try_start_e8 .. :try_end_eb} :catch_212
 
     :cond_eb
     :goto_eb
@@ -392,7 +392,7 @@
     :cond_107
     monitor-exit v15
     :try_end_108
-    .catchall {:try_start_ee .. :try_end_108} :catchall_207
+    .catchall {:try_start_ee .. :try_end_108} :catchall_20a
 
     throw v14
 
@@ -620,7 +620,7 @@
     :try_start_1e3
     invoke-virtual {v10}, Ljava/io/DataOutputStream;->close()V
     :try_end_1e6
-    .catch Ljava/lang/Exception; {:try_start_1e3 .. :try_end_1e6} :catch_210
+    .catch Ljava/lang/Exception; {:try_start_1e3 .. :try_end_1e6} :catch_20d
 
     :cond_1e6
     :goto_1e6
@@ -655,17 +655,19 @@
 
     :cond_200
     monitor-exit v15
-    :try_end_201
-    .catchall {:try_start_1e9 .. :try_end_201} :catchall_212
 
     move-object v9, v10
 
     goto/16 :goto_8a
 
-    :catch_204
-    move-exception v15
+    :catchall_204
+    move-exception v14
 
-    goto/16 :goto_eb
+    monitor-exit v15
+    :try_end_206
+    .catchall {:try_start_1e9 .. :try_end_206} :catchall_204
+
+    throw v14
 
     :catchall_207
     move-exception v14
@@ -677,35 +679,30 @@
 
     throw v14
 
-    :catch_20a
-    move-exception v14
-
-    goto/16 :goto_6f
-
-    :catchall_20d
+    :catchall_20a
     move-exception v14
 
-    :try_start_20e
+    :try_start_20b
     monitor-exit v15
-    :try_end_20f
-    .catchall {:try_start_20e .. :try_end_20f} :catchall_20d
+    :try_end_20c
+    .catchall {:try_start_20b .. :try_end_20c} :catchall_20a
 
     throw v14
 
-    :catch_210
+    :catch_20d
     move-exception v14
 
     goto :goto_1e6
 
-    :catchall_212
+    :catch_20f
     move-exception v14
 
-    :try_start_213
-    monitor-exit v15
-    :try_end_214
-    .catchall {:try_start_213 .. :try_end_214} :catchall_212
+    goto/16 :goto_6f
 
-    throw v14
+    :catch_212
+    move-exception v15
+
+    goto/16 :goto_eb
 
     :catchall_215
     move-exception v14
diff -Npruw stock-framework/smali/android/net/wifi/WifiConfigStore.smali pdroid-framework/smali/android/net/wifi/WifiConfigStore.smali
--- stock-framework/smali/android/net/wifi/WifiConfigStore.smali	2013-07-15 18:10:55.930628004 -0500
+++ pdroid-framework/smali/android/net/wifi/WifiConfigStore.smali	2013-07-15 18:10:49.466628173 -0500
@@ -2125,9 +2125,9 @@
 
     invoke-direct {v9, v0}, Ljava/io/DataInputStream;-><init>(Ljava/io/InputStream;)V
     :try_end_14
-    .catchall {:try_start_1 .. :try_end_14} :catchall_24c
-    .catch Ljava/io/EOFException; {:try_start_1 .. :try_end_14} :catch_252
-    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_14} :catch_24f
+    .catchall {:try_start_1 .. :try_end_14} :catchall_24f
+    .catch Ljava/io/EOFException; {:try_start_1 .. :try_end_14} :catch_255
+    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_14} :catch_252
 
     :try_start_14
     invoke-virtual {v9}, Ljava/io/DataInputStream;->readInt()I
@@ -2158,7 +2158,7 @@
 
     invoke-direct {v0, v1}, Landroid/net/wifi/WifiConfigStore;->loge(Ljava/lang/String;)V
     :try_end_31
-    .catchall {:try_start_14 .. :try_end_31} :catchall_18b
+    .catchall {:try_start_14 .. :try_end_31} :catchall_18e
     .catch Ljava/io/EOFException; {:try_start_14 .. :try_end_31} :catch_e1
     .catch Ljava/io/IOException; {:try_start_14 .. :try_end_31} :catch_117
 
@@ -2185,14 +2185,14 @@
 
     invoke-virtual {v11, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
     :try_end_3f
-    .catchall {:try_start_38 .. :try_end_3f} :catchall_18b
+    .catchall {:try_start_38 .. :try_end_3f} :catchall_18e
     .catch Ljava/lang/IllegalArgumentException; {:try_start_38 .. :try_end_3f} :catch_c3
     .catch Ljava/io/EOFException; {:try_start_38 .. :try_end_3f} :catch_e1
     .catch Ljava/io/IOException; {:try_start_38 .. :try_end_3f} :catch_117
 
     move-result v19
 
-    if-eqz v19, :cond_1da
+    if-eqz v19, :cond_1dd
 
     const/16 v19, -0x1
 
@@ -2227,7 +2227,7 @@
 
     check-cast v2, Landroid/net/wifi/WifiConfiguration;
 
-    if-nez v2, :cond_1ff
+    if-nez v2, :cond_202
 
     const-string v19, "configuration found for missing network, ignored"
 
@@ -2259,7 +2259,7 @@
     :goto_7a
     invoke-virtual {v9}, Ljava/io/DataInputStream;->readUTF()Ljava/lang/String;
     :try_end_7d
-    .catchall {:try_start_48 .. :try_end_7d} :catchall_18b
+    .catchall {:try_start_48 .. :try_end_7d} :catchall_18e
     .catch Ljava/io/EOFException; {:try_start_48 .. :try_end_7d} :catch_e1
     .catch Ljava/io/IOException; {:try_start_48 .. :try_end_7d} :catch_117
 
@@ -2336,7 +2336,7 @@
 
     invoke-virtual {v13, v12}, Landroid/net/LinkProperties;->addLinkAddress(Landroid/net/LinkAddress;)V
     :try_end_c2
-    .catchall {:try_start_7e .. :try_end_c2} :catchall_18b
+    .catchall {:try_start_7e .. :try_end_c2} :catchall_18e
     .catch Ljava/lang/IllegalArgumentException; {:try_start_7e .. :try_end_c2} :catch_c3
     .catch Ljava/io/EOFException; {:try_start_7e .. :try_end_c2} :catch_e1
     .catch Ljava/io/IOException; {:try_start_7e .. :try_end_c2} :catch_117
@@ -2373,7 +2373,7 @@
 
     invoke-direct {v0, v1}, Landroid/net/wifi/WifiConfigStore;->loge(Ljava/lang/String;)V
     :try_end_e0
-    .catchall {:try_start_c4 .. :try_end_e0} :catchall_18b
+    .catchall {:try_start_c4 .. :try_end_e0} :catchall_18e
     .catch Ljava/io/EOFException; {:try_start_c4 .. :try_end_e0} :catch_e1
     .catch Ljava/io/IOException; {:try_start_c4 .. :try_end_e0} :catch_117
 
@@ -2409,7 +2409,7 @@
 
     move-result v19
 
-    if-eqz v19, :cond_172
+    if-eqz v19, :cond_175
 
     const/4 v3, 0x0
 
@@ -2421,7 +2421,7 @@
 
     move/from16 v1, v19
 
-    if-ne v0, v1, :cond_13c
+    if-ne v0, v1, :cond_13f
 
     invoke-virtual {v9}, Ljava/io/DataInputStream;->readUTF()Ljava/lang/String;
 
@@ -2443,7 +2443,7 @@
 
     invoke-virtual {v13, v0}, Landroid/net/LinkProperties;->addRoute(Landroid/net/RouteInfo;)V
     :try_end_115
-    .catchall {:try_start_ed .. :try_end_115} :catchall_18b
+    .catchall {:try_start_ed .. :try_end_115} :catchall_18e
     .catch Ljava/lang/IllegalArgumentException; {:try_start_ed .. :try_end_115} :catch_c3
     .catch Ljava/io/EOFException; {:try_start_ed .. :try_end_115} :catch_e1
     .catch Ljava/io/IOException; {:try_start_ed .. :try_end_115} :catch_117
@@ -2483,19 +2483,24 @@
 
     invoke-direct {v0, v1}, Landroid/net/wifi/WifiConfigStore;->loge(Ljava/lang/String;)V
     :try_end_135
-    .catchall {:try_start_119 .. :try_end_135} :catchall_24c
+    .catchall {:try_start_119 .. :try_end_135} :catchall_24f
 
     if-eqz v8, :cond_37
 
     :try_start_137
     invoke-virtual {v8}, Ljava/io/DataInputStream;->close()V
     :try_end_13a
-    .catch Ljava/lang/Exception; {:try_start_137 .. :try_end_13a} :catch_ea
+    .catch Ljava/lang/Exception; {:try_start_137 .. :try_end_13a} :catch_13c
 
     goto/16 :goto_37
 
-    :cond_13c
-    :try_start_13c
+    :catch_13c
+    move-exception v19
+
+    goto/16 :goto_37
+
+    :cond_13f
+    :try_start_13f
     invoke-virtual {v9}, Ljava/io/DataInputStream;->readInt()I
 
     move-result v19
@@ -2506,7 +2511,7 @@
 
     move/from16 v1, v20
 
-    if-ne v0, v1, :cond_15d
+    if-ne v0, v1, :cond_160
 
     new-instance v3, Landroid/net/LinkAddress;
 
@@ -2528,7 +2533,7 @@
 
     invoke-direct {v3, v0, v1}, Landroid/net/LinkAddress;-><init>(Ljava/net/InetAddress;I)V
 
-    :cond_15d
+    :cond_160
     invoke-virtual {v9}, Ljava/io/DataInputStream;->readInt()I
 
     move-result v19
@@ -2551,7 +2556,7 @@
 
     goto :goto_109
 
-    :cond_172
+    :cond_175
     const-string v19, "dns"
 
     move-object/from16 v0, v19
@@ -2560,7 +2565,7 @@
 
     move-result v19
 
-    if-eqz v19, :cond_193
+    if-eqz v19, :cond_196
 
     invoke-virtual {v9}, Ljava/io/DataInputStream;->readUTF()Ljava/lang/String;
 
@@ -2573,33 +2578,33 @@
     move-object/from16 v0, v19
 
     invoke-virtual {v13, v0}, Landroid/net/LinkProperties;->addDns(Ljava/net/InetAddress;)V
-    :try_end_189
-    .catchall {:try_start_13c .. :try_end_189} :catchall_18b
-    .catch Ljava/lang/IllegalArgumentException; {:try_start_13c .. :try_end_189} :catch_c3
-    .catch Ljava/io/EOFException; {:try_start_13c .. :try_end_189} :catch_e1
-    .catch Ljava/io/IOException; {:try_start_13c .. :try_end_189} :catch_117
+    :try_end_18c
+    .catchall {:try_start_13f .. :try_end_18c} :catchall_18e
+    .catch Ljava/lang/IllegalArgumentException; {:try_start_13f .. :try_end_18c} :catch_c3
+    .catch Ljava/io/EOFException; {:try_start_13f .. :try_end_18c} :catch_e1
+    .catch Ljava/io/IOException; {:try_start_13f .. :try_end_18c} :catch_117
 
     goto/16 :goto_7a
 
-    :catchall_18b
+    :catchall_18e
     move-exception v19
 
     move-object v8, v9
 
-    :goto_18d
-    if-eqz v8, :cond_192
+    :goto_190
+    if-eqz v8, :cond_195
 
-    :try_start_18f
+    :try_start_192
     invoke-virtual {v8}, Ljava/io/DataInputStream;->close()V
-    :try_end_192
-    .catch Ljava/lang/Exception; {:try_start_18f .. :try_end_192} :catch_246
+    :try_end_195
+    .catch Ljava/lang/Exception; {:try_start_192 .. :try_end_195} :catch_24c
 
-    :cond_192
-    :goto_192
+    :cond_195
+    :goto_195
     throw v19
 
-    :cond_193
-    :try_start_193
+    :cond_196
+    :try_start_196
     const-string/jumbo v19, "proxySettings"
 
     move-object/from16 v0, v19
@@ -2608,7 +2613,7 @@
 
     move-result v19
 
-    if-eqz v19, :cond_1a8
+    if-eqz v19, :cond_1ab
 
     invoke-virtual {v9}, Ljava/io/DataInputStream;->readUTF()Ljava/lang/String;
 
@@ -2620,7 +2625,7 @@
 
     goto/16 :goto_7a
 
-    :cond_1a8
+    :cond_1ab
     const-string/jumbo v19, "proxyHost"
 
     move-object/from16 v0, v19
@@ -2629,7 +2634,7 @@
 
     move-result v19
 
-    if-eqz v19, :cond_1b9
+    if-eqz v19, :cond_1bc
 
     invoke-virtual {v9}, Ljava/io/DataInputStream;->readUTF()Ljava/lang/String;
 
@@ -2637,7 +2642,7 @@
 
     goto/16 :goto_7a
 
-    :cond_1b9
+    :cond_1bc
     const-string/jumbo v19, "proxyPort"
 
     move-object/from16 v0, v19
@@ -2646,7 +2651,7 @@
 
     move-result v19
 
-    if-eqz v19, :cond_1ca
+    if-eqz v19, :cond_1cd
 
     invoke-virtual {v9}, Ljava/io/DataInputStream;->readInt()I
 
@@ -2654,7 +2659,7 @@
 
     goto/16 :goto_7a
 
-    :cond_1ca
+    :cond_1cd
     const-string v19, "exclusionList"
 
     move-object/from16 v0, v19
@@ -2671,7 +2676,7 @@
 
     goto/16 :goto_7a
 
-    :cond_1da
+    :cond_1dd
     new-instance v19, Ljava/lang/StringBuilder;
 
     invoke-direct/range {v19 .. v19}, Ljava/lang/StringBuilder;-><init>()V
@@ -2703,16 +2708,16 @@
     move-object/from16 v1, v19
 
     invoke-direct {v0, v1}, Landroid/net/wifi/WifiConfigStore;->loge(Ljava/lang/String;)V
-    :try_end_1fd
-    .catchall {:try_start_193 .. :try_end_1fd} :catchall_18b
-    .catch Ljava/lang/IllegalArgumentException; {:try_start_193 .. :try_end_1fd} :catch_c3
-    .catch Ljava/io/EOFException; {:try_start_193 .. :try_end_1fd} :catch_e1
-    .catch Ljava/io/IOException; {:try_start_193 .. :try_end_1fd} :catch_117
+    :try_end_200
+    .catchall {:try_start_196 .. :try_end_200} :catchall_18e
+    .catch Ljava/lang/IllegalArgumentException; {:try_start_196 .. :try_end_200} :catch_c3
+    .catch Ljava/io/EOFException; {:try_start_196 .. :try_end_200} :catch_e1
+    .catch Ljava/io/IOException; {:try_start_196 .. :try_end_200} :catch_117
 
     goto/16 :goto_7a
 
-    :cond_1ff
-    :try_start_1ff
+    :cond_202
+    :try_start_202
     iput-object v13, v2, Landroid/net/wifi/WifiConfiguration;->linkProperties:Landroid/net/LinkProperties;
 
     sget-object v19, Landroid/net/wifi/WifiConfigStore$1;->$SwitchMap$android$net$wifi$WifiConfiguration$IpAssignment:[I
@@ -2723,7 +2728,7 @@
 
     aget v19, v19, v20
 
-    packed-switch v19, :pswitch_data_256
+    packed-switch v19, :pswitch_data_258
 
     const-string v19, "Ignore invalid ip assignment while reading"
 
@@ -2733,8 +2738,8 @@
 
     invoke-direct {v0, v1}, Landroid/net/wifi/WifiConfigStore;->loge(Ljava/lang/String;)V
 
-    :goto_215
-    :pswitch_215
+    :goto_218
+    :pswitch_218
     sget-object v19, Landroid/net/wifi/WifiConfigStore$1;->$SwitchMap$android$net$wifi$WifiConfiguration$ProxySettings:[I
 
     invoke-virtual/range {v17 .. v17}, Landroid/net/wifi/WifiConfiguration$ProxySettings;->ordinal()I
@@ -2743,7 +2748,7 @@
 
     aget v19, v19, v20
 
-    packed-switch v19, :pswitch_data_260
+    packed-switch v19, :pswitch_data_262
 
     const-string v19, "Ignore invalid proxy settings while reading"
 
@@ -2755,12 +2760,12 @@
 
     goto/16 :goto_6d
 
-    :pswitch_22b
+    :pswitch_22e
     iput-object v10, v2, Landroid/net/wifi/WifiConfiguration;->ipAssignment:Landroid/net/wifi/WifiConfiguration$IpAssignment;
 
-    goto :goto_215
+    goto :goto_218
 
-    :pswitch_22e
+    :pswitch_231
     move-object/from16 v0, v17
 
     iput-object v0, v2, Landroid/net/wifi/WifiConfiguration;->proxySettings:Landroid/net/wifi/WifiConfiguration$ProxySettings;
@@ -2777,55 +2782,53 @@
 
     goto/16 :goto_6d
 
-    :pswitch_240
+    :pswitch_243
     move-object/from16 v0, v17
 
     iput-object v0, v2, Landroid/net/wifi/WifiConfiguration;->proxySettings:Landroid/net/wifi/WifiConfiguration$ProxySettings;
-    :try_end_244
-    .catchall {:try_start_1ff .. :try_end_244} :catchall_18b
-    .catch Ljava/io/EOFException; {:try_start_1ff .. :try_end_244} :catch_e1
-    .catch Ljava/io/IOException; {:try_start_1ff .. :try_end_244} :catch_117
+    :try_end_247
+    .catchall {:try_start_202 .. :try_end_247} :catchall_18e
+    .catch Ljava/io/EOFException; {:try_start_202 .. :try_end_247} :catch_e1
+    .catch Ljava/io/IOException; {:try_start_202 .. :try_end_247} :catch_117
 
     goto/16 :goto_6d
 
-    :catch_246
-    move-exception v20
-
-    goto/16 :goto_192
-
     :catch_249
     move-exception v19
 
     goto/16 :goto_36
 
-    :catchall_24c
+    :catch_24c
+    move-exception v20
+
+    goto/16 :goto_195
+
+    :catchall_24f
     move-exception v19
 
-    goto/16 :goto_18d
+    goto/16 :goto_190
 
-    :catch_24f
+    :catch_252
     move-exception v4
 
     goto/16 :goto_119
 
-    :catch_252
+    :catch_255
     move-exception v19
 
     goto/16 :goto_e3
 
-    nop
-
-    :pswitch_data_256
+    :pswitch_data_258
     .packed-switch 0x1
-        :pswitch_22b
-        :pswitch_22b
-        :pswitch_215
+        :pswitch_22e
+        :pswitch_22e
+        :pswitch_218
     .end packed-switch
 
-    :pswitch_data_260
+    :pswitch_data_262
     .packed-switch 0x1
-        :pswitch_22e
-        :pswitch_240
+        :pswitch_231
+        :pswitch_243
         :pswitch_6d
     .end packed-switch
 .end method
diff -Npruw stock-framework/smali/android/net/wifi/WifiInfo.smali pdroid-framework/smali/android/net/wifi/WifiInfo.smali
--- stock-framework/smali/android/net/wifi/WifiInfo.smali	2013-07-15 18:10:55.934628004 -0500
+++ pdroid-framework/smali/android/net/wifi/WifiInfo.smali	2013-07-15 18:10:49.470628173 -0500
@@ -263,6 +263,40 @@
     return-void
 .end method
 
+.method public constructor <init>(Z)V
+    .registers 4
+
+    const/4 v1, -0x1
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    const-string v0, ""
+
+    iput-object v0, p0, Landroid/net/wifi/WifiInfo;->mSSID:Ljava/lang/String;
+
+    const-string v0, ""
+
+    iput-object v0, p0, Landroid/net/wifi/WifiInfo;->mBSSID:Ljava/lang/String;
+
+    iput v1, p0, Landroid/net/wifi/WifiInfo;->mNetworkId:I
+
+    sget-object v0, Landroid/net/wifi/SupplicantState;->UNINITIALIZED:Landroid/net/wifi/SupplicantState;
+
+    iput-object v0, p0, Landroid/net/wifi/WifiInfo;->mSupplicantState:Landroid/net/wifi/SupplicantState;
+
+    const/16 v0, -0x270f
+
+    iput v0, p0, Landroid/net/wifi/WifiInfo;->mRssi:I
+
+    iput v1, p0, Landroid/net/wifi/WifiInfo;->mLinkSpeed:I
+
+    const/4 v0, 0x0
+
+    iput-boolean v0, p0, Landroid/net/wifi/WifiInfo;->mHiddenSSID:Z
+
+    return-void
+.end method
+
 .method static synthetic access$002(Landroid/net/wifi/WifiInfo;Ljava/lang/String;)Ljava/lang/String;
     .registers 2
 
diff -Npruw stock-framework/smali/android/opengl/ETC1Util.smali pdroid-framework/smali/android/opengl/ETC1Util.smali
--- stock-framework/smali/android/opengl/ETC1Util.smali	2013-07-15 18:10:56.030628001 -0500
+++ pdroid-framework/smali/android/opengl/ETC1Util.smali	2013-07-15 18:10:49.566628170 -0500
@@ -477,7 +477,7 @@
     const/4 v5, 0x0
 
     :goto_36
-    if-ge v5, v2, :cond_4e
+    if-ge v5, v2, :cond_49
 
     array-length v9, v6
 
@@ -495,21 +495,21 @@
 
     invoke-virtual {p1, v6, v9, v0}, Ljava/io/OutputStream;->write([BII)V
     :try_end_47
-    .catchall {:try_start_8 .. :try_end_47} :catchall_49
+    .catchall {:try_start_8 .. :try_end_47} :catchall_4d
 
     add-int/2addr v5, v0
 
     goto :goto_36
 
-    :catchall_49
-    move-exception v9
-
+    :cond_49
     invoke-virtual {v1, v7}, Ljava/nio/ByteBuffer;->position(I)Ljava/nio/Buffer;
 
-    throw v9
+    return-void
+
+    :catchall_4d
+    move-exception v9
 
-    :cond_4e
     invoke-virtual {v1, v7}, Ljava/nio/ByteBuffer;->position(I)Ljava/nio/Buffer;
 
-    return-void
+    throw v9
 .end method
diff -Npruw stock-framework/smali/android/os/CancellationSignal.smali pdroid-framework/smali/android/os/CancellationSignal.smali
--- stock-framework/smali/android/os/CancellationSignal.smali	2013-07-15 18:10:56.094627999 -0500
+++ pdroid-framework/smali/android/os/CancellationSignal.smali	2013-07-15 18:10:49.626628169 -0500
@@ -136,7 +136,7 @@
     invoke-interface {v1}, Landroid/os/ICancellationSignal;->cancel()V
     :try_end_1c
     .catchall {:try_start_19 .. :try_end_1c} :catchall_2b
-    .catch Landroid/os/RemoteException; {:try_start_19 .. :try_end_1c} :catch_35
+    .catch Landroid/os/RemoteException; {:try_start_19 .. :try_end_1c} :catch_38
 
     :cond_1c
     :goto_1c
@@ -186,24 +186,24 @@
 
     monitor-exit p0
     :try_end_34
-    .catchall {:try_start_2e .. :try_end_34} :catchall_37
+    .catchall {:try_start_2e .. :try_end_34} :catchall_35
 
     throw v2
 
-    :catch_35
+    :catchall_35
     move-exception v2
 
-    goto :goto_1c
-
-    :catchall_37
-    move-exception v2
-
-    :try_start_38
+    :try_start_36
     monitor-exit p0
-    :try_end_39
-    .catchall {:try_start_38 .. :try_end_39} :catchall_37
+    :try_end_37
+    .catchall {:try_start_36 .. :try_end_37} :catchall_35
 
     throw v2
+
+    :catch_38
+    move-exception v2
+
+    goto :goto_1c
 .end method
 
 .method public isCanceled()Z
diff -Npruw stock-framework/smali/android/os/SystemProperties.smali pdroid-framework/smali/android/os/SystemProperties.smali
--- stock-framework/smali/android/os/SystemProperties.smali	2013-07-15 18:10:56.174627998 -0500
+++ pdroid-framework/smali/android/os/SystemProperties.smali	2013-07-15 18:10:49.698628167 -0500
@@ -4,12 +4,28 @@
 
 
 # static fields
+.field private static final GOT_ERROR:I = -0x3
+
+.field private static final IS_ALLOWED:I = -0x1
+
+.field private static final IS_NOT_ALLOWED:I = -0x2
+
+.field private static final PRIVACY_TAG:Ljava/lang/String; = "SystemProperties"
+
 .field public static final PROP_NAME_MAX:I = 0x1f
 
 .field public static final PROP_VALUE_MAX:I = 0x5b
 
 .field public static final QCOM_HARDWARE:Z
 
+.field private static context:Landroid/content/Context;
+
+.field private static mPm:Landroid/content/pm/IPackageManager;
+
+.field private static pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+.field private static privacyMode:Z
+
 .field private static final sChangeCallbacks:Ljava/util/ArrayList;
     .annotation system Ldalvik/annotation/Signature;
         value = {
@@ -26,10 +42,10 @@
 .method static constructor <clinit>()V
     .registers 2
 
-    const-string v0, "com.qc.hardware"
-
     const/4 v1, 0x0
 
+    const-string v0, "com.qc.hardware"
+
     invoke-static {v0, v1}, Landroid/os/SystemProperties;->native_get_boolean(Ljava/lang/String;Z)Z
 
     move-result v0
@@ -42,6 +58,8 @@
 
     sput-object v0, Landroid/os/SystemProperties;->sChangeCallbacks:Ljava/util/ArrayList;
 
+    sput-boolean v1, Landroid/os/SystemProperties;->privacyMode:Z
+
     return-void
 .end method
 
@@ -154,6 +172,205 @@
     throw v2
 .end method
 
+.method private static checkIfPackagesAllowed()I
+    .registers 8
+
+    const/4 v5, -0x3
+
+    :try_start_1
+    sget-object v6, Landroid/os/SystemProperties;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v6, :cond_41
+
+    const/4 v2, 0x0
+
+    invoke-static {}, Landroid/os/SystemProperties;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v4
+
+    if-eqz v3, :cond_2c
+
+    const/4 v1, 0x0
+
+    :goto_11
+    array-length v6, v3
+
+    if-ge v1, v6, :cond_2a
+
+    sget-object v6, Landroid/os/SystemProperties;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v7, v3, v1
+
+    invoke-virtual {v6, v7, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_26
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v6
+
+    if-eqz v6, :cond_26
+
+    const/4 v5, -0x2
+
+    :goto_25
+    return v5
+
+    :cond_26
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_11
+
+    :cond_2a
+    const/4 v5, -0x1
+
+    goto :goto_25
+
+    :cond_2c
+    const-string v6, "SystemProperties"
+
+    const-string/jumbo v7, "return GOT_ERROR, because package_names are NULL"
+
+    invoke-static {v6, v7}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_34
+    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_34} :catch_35
+
+    goto :goto_25
+
+    :catch_35
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v6, "SystemProperties"
+
+    const-string v7, "Got exception in checkIfPackagesAllowed"
+
+    invoke-static {v6, v7}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_25
+
+    :cond_41
+    :try_start_41
+    const-string v6, "SystemProperties"
+
+    const-string/jumbo v7, "return GOT_ERROR, because pSetMan is NULL"
+
+    invoke-static {v6, v7}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_49
+    .catch Ljava/lang/Exception; {:try_start_41 .. :try_end_49} :catch_35
+
+    goto :goto_25
+.end method
+
+.method private static dataAccess(Z)V
+    .registers 6
+
+    invoke-static {}, Landroid/os/SystemProperties;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v1
+
+    if-eqz p0, :cond_2f
+
+    if-eqz v1, :cond_2f
+
+    const/4 v0, 0x0
+
+    :goto_9
+    array-length v2, v1
+
+    if-ge v0, v2, :cond_58
+
+    const-string v2, "SystemProperties"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Allowed Package: -"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    aget-object v4, v1, v0
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, "- accessing networkinfo."
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    add-int/lit8 v0, v0, 0x1
+
+    goto :goto_9
+
+    :cond_2f
+    if-eqz v1, :cond_58
+
+    const/4 v0, 0x0
+
+    :goto_32
+    array-length v2, v1
+
+    if-ge v0, v2, :cond_58
+
+    const-string v2, "SystemProperties"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Blocked Package: -"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    aget-object v4, v1, v0
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, "- accessing networkinfo."
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    add-int/lit8 v0, v0, 0x1
+
+    goto :goto_32
+
+    :cond_58
+    return-void
+.end method
+
 .method public static get(Ljava/lang/String;)Ljava/lang/String;
     .registers 3
 
@@ -174,11 +391,53 @@
     throw v0
 
     :cond_10
+    const-string v0, "gsm.operator.alpha"
+
+    invoke-virtual {p0, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_20
+
+    const-string v0, "gsm.operator.numeric"
+
+    invoke-virtual {p0, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    if-eqz v0, :cond_35
+
+    :cond_20
+    invoke-static {}, Landroid/os/SystemProperties;->initiate()V
+
+    invoke-static {}, Landroid/os/SystemProperties;->checkIfPackagesAllowed()I
+
+    move-result v0
+
+    const/4 v1, -0x2
+
+    if-ne v0, v1, :cond_31
+
+    const/4 v0, 0x0
+
+    invoke-static {v0}, Landroid/os/SystemProperties;->dataAccess(Z)V
+
+    const-string v0, ""
+
+    :goto_30
+    return-object v0
+
+    :cond_31
+    const/4 v0, 0x1
+
+    invoke-static {v0}, Landroid/os/SystemProperties;->dataAccess(Z)V
+
+    :cond_35
     invoke-static {p0}, Landroid/os/SystemProperties;->native_get(Ljava/lang/String;)Ljava/lang/String;
 
     move-result-object v0
 
-    return-object v0
+    goto :goto_30
 .end method
 
 .method public static get(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
@@ -201,11 +460,53 @@
     throw v0
 
     :cond_10
+    const-string v0, "gsm.operator.alpha"
+
+    invoke-virtual {p0, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_20
+
+    const-string v0, "gsm.operator.numeric"
+
+    invoke-virtual {p0, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    if-eqz v0, :cond_35
+
+    :cond_20
+    invoke-static {}, Landroid/os/SystemProperties;->initiate()V
+
+    invoke-static {}, Landroid/os/SystemProperties;->checkIfPackagesAllowed()I
+
+    move-result v0
+
+    const/4 v1, -0x2
+
+    if-ne v0, v1, :cond_31
+
+    const/4 v0, 0x0
+
+    invoke-static {v0}, Landroid/os/SystemProperties;->dataAccess(Z)V
+
+    const-string v0, ""
+
+    :goto_30
+    return-object v0
+
+    :cond_31
+    const/4 v0, 0x1
+
+    invoke-static {v0}, Landroid/os/SystemProperties;->dataAccess(Z)V
+
+    :cond_35
     invoke-static {p0, p1}, Landroid/os/SystemProperties;->native_get(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
 
     move-result-object v0
 
-    return-object v0
+    goto :goto_30
 .end method
 
 .method public static getBoolean(Ljava/lang/String;Z)Z
@@ -388,6 +689,135 @@
     goto :goto_2c
 .end method
 
+.method private static getPackageName()[Ljava/lang/String;
+    .registers 5
+
+    :try_start_0
+    sget-object v3, Landroid/os/SystemProperties;->mPm:Landroid/content/pm/IPackageManager;
+
+    if-eqz v3, :cond_f
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    sget-object v3, Landroid/os/SystemProperties;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-interface {v3, v2}, Landroid/content/pm/IPackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v1
+
+    :goto_e
+    return-object v1
+
+    :cond_f
+    const-string/jumbo v3, "package"
+
+    invoke-static {v3}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v3
+
+    invoke-static {v3}, Landroid/content/pm/IPackageManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/content/pm/IPackageManager;
+
+    move-result-object v3
+
+    sput-object v3, Landroid/os/SystemProperties;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    sget-object v3, Landroid/os/SystemProperties;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-interface {v3, v2}, Landroid/content/pm/IPackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+    :try_end_25
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_25} :catch_27
+
+    move-result-object v1
+
+    goto :goto_e
+
+    :catch_27
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v3, "SystemProperties"
+
+    const-string/jumbo v4, "something went wrong with getting package name"
+
+    invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v1, 0x0
+
+    goto :goto_e
+.end method
+
+.method private static initiate()V
+    .registers 4
+
+    const/4 v1, 0x0
+
+    :try_start_1
+    sput-object v1, Landroid/os/SystemProperties;->context:Landroid/content/Context;
+
+    new-instance v1, Landroid/privacy/PrivacySettingsManager;
+
+    sget-object v2, Landroid/os/SystemProperties;->context:Landroid/content/Context;
+
+    const-string/jumbo v3, "privacy"
+
+    invoke-static {v3}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v3
+
+    invoke-static {v3}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v3
+
+    invoke-direct {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    sput-object v1, Landroid/os/SystemProperties;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "package"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/content/pm/IPackageManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/content/pm/IPackageManager;
+
+    move-result-object v1
+
+    sput-object v1, Landroid/os/SystemProperties;->mPm:Landroid/content/pm/IPackageManager;
+
+    const/4 v1, 0x1
+
+    sput-boolean v1, Landroid/os/SystemProperties;->privacyMode:Z
+    :try_end_27
+    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_27} :catch_28
+
+    :goto_27
+    return-void
+
+    :catch_28
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v1, "SystemProperties"
+
+    const-string v2, "Something went wrong with initalize variables"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v1, 0x0
+
+    sput-boolean v1, Landroid/os/SystemProperties;->privacyMode:Z
+
+    goto :goto_27
+.end method
+
 .method private static native native_add_change_callback()V
 .end method
 
diff -Npruw stock-framework/smali/android/privacy/IPrivacySettingsManager.smali pdroid-framework/smali/android/privacy/IPrivacySettingsManager.smali
--- stock-framework/smali/android/privacy/IPrivacySettingsManager.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/IPrivacySettingsManager.smali	2013-07-15 18:10:49.742628166 -0500
@@ -0,0 +1,96 @@
+.class public interface abstract Landroid/privacy/IPrivacySettingsManager;
+.super Ljava/lang/Object;
+.source "IPrivacySettingsManager.java"
+
+# interfaces
+.implements Landroid/os/IInterface;
+
+
+# annotations
+.annotation system Ldalvik/annotation/MemberClasses;
+    value = {
+        Landroid/privacy/IPrivacySettingsManager$Stub;
+    }
+.end annotation
+
+
+# virtual methods
+.method public abstract addObserver(Ljava/lang/String;)V
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
+
+.method public abstract deleteSettings(Ljava/lang/String;)Z
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
+
+.method public abstract getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
+
+.method public abstract notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
+
+.method public abstract purgeSettings()Z
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
+
+.method public abstract registerObservers()V
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
+
+.method public abstract saveSettings(Landroid/privacy/PrivacySettings;)Z
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
+
+.method public abstract setBootCompleted()V
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
+
+.method public abstract setEnabled(Z)Z
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
+
+.method public abstract setNotificationsEnabled(Z)Z
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
diff -Npruw stock-framework/smali/android/privacy/IPrivacySettingsManager$Stub$Proxy.smali pdroid-framework/smali/android/privacy/IPrivacySettingsManager$Stub$Proxy.smali
--- stock-framework/smali/android/privacy/IPrivacySettingsManager$Stub$Proxy.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/IPrivacySettingsManager$Stub$Proxy.smali	2013-07-15 18:10:49.742628166 -0500
@@ -0,0 +1,690 @@
+.class Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;
+.super Ljava/lang/Object;
+.source "IPrivacySettingsManager.java"
+
+# interfaces
+.implements Landroid/privacy/IPrivacySettingsManager;
+
+
+# annotations
+.annotation system Ldalvik/annotation/EnclosingClass;
+    value = Landroid/privacy/IPrivacySettingsManager$Stub;
+.end annotation
+
+.annotation system Ldalvik/annotation/InnerClass;
+    accessFlags = 0xa
+    name = "Proxy"
+.end annotation
+
+
+# instance fields
+.field private mRemote:Landroid/os/IBinder;
+
+
+# direct methods
+.method constructor <init>(Landroid/os/IBinder;)V
+    .registers 2
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    iput-object p1, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public addObserver(Ljava/lang/String;)V
+    .registers 7
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_8
+    const-string v2, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v2}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    invoke-virtual {v0, p1}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-object v2, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/4 v3, 0x6
+
+    const/4 v4, 0x0
+
+    invoke-interface {v2, v3, v0, v1, v4}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+    :try_end_1a
+    .catchall {:try_start_8 .. :try_end_1a} :catchall_21
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return-void
+
+    :catchall_21
+    move-exception v2
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v2
+.end method
+
+.method public asBinder()Landroid/os/IBinder;
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    return-object v0
+.end method
+
+.method public deleteSettings(Ljava/lang/String;)Z
+    .registers 8
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_9
+    const-string v3, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v3}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    invoke-virtual {v0, p1}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-object v3, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/4 v4, 0x3
+
+    const/4 v5, 0x0
+
+    invoke-interface {v3, v4, v0, v1, v5}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readInt()I
+    :try_end_1e
+    .catchall {:try_start_9 .. :try_end_1e} :catchall_29
+
+    move-result v3
+
+    if-eqz v3, :cond_22
+
+    const/4 v2, 0x1
+
+    :cond_22
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return v2
+
+    :catchall_29
+    move-exception v3
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v3
+.end method
+
+.method public getInterfaceDescriptor()Ljava/lang/String;
+    .registers 2
+
+    const-string v0, "android.privacy.IPrivacySettingsManager"
+
+    return-object v0
+.end method
+
+.method public getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+    .registers 8
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_8
+    const-string v3, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v3}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    invoke-virtual {v0, p1}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-object v3, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/4 v4, 0x1
+
+    const/4 v5, 0x0
+
+    invoke-interface {v3, v4, v0, v1, v5}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readInt()I
+
+    move-result v3
+
+    if-eqz v3, :cond_2f
+
+    sget-object v3, Landroid/privacy/PrivacySettings;->CREATOR:Landroid/os/Parcelable$Creator;
+
+    invoke-interface {v3, v1}, Landroid/os/Parcelable$Creator;->createFromParcel(Landroid/os/Parcel;)Ljava/lang/Object;
+
+    move-result-object v2
+
+    check-cast v2, Landroid/privacy/PrivacySettings;
+    :try_end_28
+    .catchall {:try_start_8 .. :try_end_28} :catchall_31
+
+    :goto_28
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return-object v2
+
+    :cond_2f
+    const/4 v2, 0x0
+
+    goto :goto_28
+
+    :catchall_31
+    move-exception v3
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v3
+.end method
+
+.method public notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+    .registers 10
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_8
+    const-string v2, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v2}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    invoke-virtual {v0, p1}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    invoke-virtual {v0, p2}, Landroid/os/Parcel;->writeByte(B)V
+
+    invoke-virtual {v0, p3}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    invoke-virtual {v0, p4}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-object v2, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/4 v3, 0x4
+
+    const/4 v4, 0x0
+
+    invoke-interface {v2, v3, v0, v1, v4}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+    :try_end_23
+    .catchall {:try_start_8 .. :try_end_23} :catchall_2a
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return-void
+
+    :catchall_2a
+    move-exception v2
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v2
+.end method
+
+.method public purgeSettings()Z
+    .registers 7
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_9
+    const-string v3, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v3}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    iget-object v3, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/4 v4, 0x7
+
+    const/4 v5, 0x0
+
+    invoke-interface {v3, v4, v0, v1, v5}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readInt()I
+    :try_end_1b
+    .catchall {:try_start_9 .. :try_end_1b} :catchall_26
+
+    move-result v3
+
+    if-eqz v3, :cond_1f
+
+    const/4 v2, 0x1
+
+    :cond_1f
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return v2
+
+    :catchall_26
+    move-exception v3
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v3
+.end method
+
+.method public registerObservers()V
+    .registers 6
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_8
+    const-string v2, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v2}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    iget-object v2, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/4 v3, 0x5
+
+    const/4 v4, 0x0
+
+    invoke-interface {v2, v3, v0, v1, v4}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+    :try_end_17
+    .catchall {:try_start_8 .. :try_end_17} :catchall_1e
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return-void
+
+    :catchall_1e
+    move-exception v2
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v2
+.end method
+
+.method public saveSettings(Landroid/privacy/PrivacySettings;)Z
+    .registers 9
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    const/4 v2, 0x1
+
+    const/4 v3, 0x0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_a
+    const-string v4, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v4}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    if-eqz p1, :cond_30
+
+    const/4 v4, 0x1
+
+    invoke-virtual {v0, v4}, Landroid/os/Parcel;->writeInt(I)V
+
+    const/4 v4, 0x0
+
+    invoke-virtual {p1, v0, v4}, Landroid/privacy/PrivacySettings;->writeToParcel(Landroid/os/Parcel;I)V
+
+    :goto_19
+    iget-object v4, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/4 v5, 0x2
+
+    const/4 v6, 0x0
+
+    invoke-interface {v4, v5, v0, v1, v6}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readInt()I
+    :try_end_26
+    .catchall {:try_start_a .. :try_end_26} :catchall_35
+
+    move-result v4
+
+    if-eqz v4, :cond_3d
+
+    :goto_29
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return v2
+
+    :cond_30
+    const/4 v4, 0x0
+
+    :try_start_31
+    invoke-virtual {v0, v4}, Landroid/os/Parcel;->writeInt(I)V
+    :try_end_34
+    .catchall {:try_start_31 .. :try_end_34} :catchall_35
+
+    goto :goto_19
+
+    :catchall_35
+    move-exception v3
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v3
+
+    :cond_3d
+    move v2, v3
+
+    goto :goto_29
+.end method
+
+.method public setBootCompleted()V
+    .registers 6
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_8
+    const-string v2, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v2}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    iget-object v2, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/16 v3, 0xa
+
+    const/4 v4, 0x0
+
+    invoke-interface {v2, v3, v0, v1, v4}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+    :try_end_18
+    .catchall {:try_start_8 .. :try_end_18} :catchall_1f
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return-void
+
+    :catchall_1f
+    move-exception v2
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v2
+.end method
+
+.method public setEnabled(Z)Z
+    .registers 9
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    const/4 v2, 0x1
+
+    const/4 v3, 0x0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_a
+    const-string v4, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v4}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    if-eqz p1, :cond_2d
+
+    move v4, v2
+
+    :goto_12
+    invoke-virtual {v0, v4}, Landroid/os/Parcel;->writeInt(I)V
+
+    iget-object v4, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/16 v5, 0x8
+
+    const/4 v6, 0x0
+
+    invoke-interface {v4, v5, v0, v1, v6}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readInt()I
+    :try_end_23
+    .catchall {:try_start_a .. :try_end_23} :catchall_31
+
+    move-result v4
+
+    if-eqz v4, :cond_2f
+
+    :goto_26
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return v2
+
+    :cond_2d
+    move v4, v3
+
+    goto :goto_12
+
+    :cond_2f
+    move v2, v3
+
+    goto :goto_26
+
+    :catchall_31
+    move-exception v3
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v3
+.end method
+
+.method public setNotificationsEnabled(Z)Z
+    .registers 9
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    const/4 v2, 0x1
+
+    const/4 v3, 0x0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_a
+    const-string v4, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v4}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    if-eqz p1, :cond_2d
+
+    move v4, v2
+
+    :goto_12
+    invoke-virtual {v0, v4}, Landroid/os/Parcel;->writeInt(I)V
+
+    iget-object v4, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/16 v5, 0x9
+
+    const/4 v6, 0x0
+
+    invoke-interface {v4, v5, v0, v1, v6}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readInt()I
+    :try_end_23
+    .catchall {:try_start_a .. :try_end_23} :catchall_31
+
+    move-result v4
+
+    if-eqz v4, :cond_2f
+
+    :goto_26
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return v2
+
+    :cond_2d
+    move v4, v3
+
+    goto :goto_12
+
+    :cond_2f
+    move v2, v3
+
+    goto :goto_26
+
+    :catchall_31
+    move-exception v3
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v3
+.end method
diff -Npruw stock-framework/smali/android/privacy/IPrivacySettingsManager$Stub.smali pdroid-framework/smali/android/privacy/IPrivacySettingsManager$Stub.smali
--- stock-framework/smali/android/privacy/IPrivacySettingsManager$Stub.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/IPrivacySettingsManager$Stub.smali	2013-07-15 18:10:49.742628166 -0500
@@ -0,0 +1,392 @@
+.class public abstract Landroid/privacy/IPrivacySettingsManager$Stub;
+.super Landroid/os/Binder;
+.source "IPrivacySettingsManager.java"
+
+# interfaces
+.implements Landroid/privacy/IPrivacySettingsManager;
+
+
+# annotations
+.annotation system Ldalvik/annotation/EnclosingClass;
+    value = Landroid/privacy/IPrivacySettingsManager;
+.end annotation
+
+.annotation system Ldalvik/annotation/InnerClass;
+    accessFlags = 0x409
+    name = "Stub"
+.end annotation
+
+.annotation system Ldalvik/annotation/MemberClasses;
+    value = {
+        Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;
+    }
+.end annotation
+
+
+# static fields
+.field private static final DESCRIPTOR:Ljava/lang/String; = "android.privacy.IPrivacySettingsManager"
+
+.field static final TRANSACTION_addObserver:I = 0x6
+
+.field static final TRANSACTION_deleteSettings:I = 0x3
+
+.field static final TRANSACTION_getSettings:I = 0x1
+
+.field static final TRANSACTION_notification:I = 0x4
+
+.field static final TRANSACTION_purgeSettings:I = 0x7
+
+.field static final TRANSACTION_registerObservers:I = 0x5
+
+.field static final TRANSACTION_saveSettings:I = 0x2
+
+.field static final TRANSACTION_setBootCompleted:I = 0xa
+
+.field static final TRANSACTION_setEnabled:I = 0x8
+
+.field static final TRANSACTION_setNotificationsEnabled:I = 0x9
+
+
+# direct methods
+.method public constructor <init>()V
+    .registers 2
+
+    invoke-direct {p0}, Landroid/os/Binder;-><init>()V
+
+    const-string v0, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p0, p0, v0}, Landroid/privacy/IPrivacySettingsManager$Stub;->attachInterface(Landroid/os/IInterface;Ljava/lang/String;)V
+
+    return-void
+.end method
+
+.method public static asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+    .registers 3
+
+    if-nez p0, :cond_4
+
+    const/4 v0, 0x0
+
+    :goto_3
+    return-object v0
+
+    :cond_4
+    const-string v1, "android.privacy.IPrivacySettingsManager"
+
+    invoke-interface {p0, v1}, Landroid/os/IBinder;->queryLocalInterface(Ljava/lang/String;)Landroid/os/IInterface;
+
+    move-result-object v0
+
+    if-eqz v0, :cond_13
+
+    instance-of v1, v0, Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v1, :cond_13
+
+    check-cast v0, Landroid/privacy/IPrivacySettingsManager;
+
+    goto :goto_3
+
+    :cond_13
+    new-instance v0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;
+
+    invoke-direct {v0, p0}, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;-><init>(Landroid/os/IBinder;)V
+
+    goto :goto_3
+.end method
+
+
+# virtual methods
+.method public asBinder()Landroid/os/IBinder;
+    .registers 1
+
+    return-object p0
+.end method
+
+.method public onTransact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+    .registers 13
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    const/4 v5, 0x0
+
+    const/4 v6, 0x1
+
+    sparse-switch p1, :sswitch_data_fc
+
+    invoke-super {p0, p1, p2, p3, p4}, Landroid/os/Binder;->onTransact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    move-result v6
+
+    :goto_9
+    return v6
+
+    :sswitch_a
+    const-string v5, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p3, v5}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    goto :goto_9
+
+    :sswitch_10
+    const-string v7, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v7}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-virtual {p0, v0}, Landroid/privacy/IPrivacySettingsManager$Stub;->getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+
+    move-result-object v4
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    if-eqz v4, :cond_29
+
+    invoke-virtual {p3, v6}, Landroid/os/Parcel;->writeInt(I)V
+
+    invoke-virtual {v4, p3, v6}, Landroid/privacy/PrivacySettings;->writeToParcel(Landroid/os/Parcel;I)V
+
+    goto :goto_9
+
+    :cond_29
+    invoke-virtual {p3, v5}, Landroid/os/Parcel;->writeInt(I)V
+
+    goto :goto_9
+
+    :sswitch_2d
+    const-string v7, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v7}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readInt()I
+
+    move-result v7
+
+    if-eqz v7, :cond_4e
+
+    sget-object v7, Landroid/privacy/PrivacySettings;->CREATOR:Landroid/os/Parcelable$Creator;
+
+    invoke-interface {v7, p2}, Landroid/os/Parcelable$Creator;->createFromParcel(Landroid/os/Parcel;)Ljava/lang/Object;
+
+    move-result-object v0
+
+    check-cast v0, Landroid/privacy/PrivacySettings;
+
+    :goto_40
+    invoke-virtual {p0, v0}, Landroid/privacy/IPrivacySettingsManager$Stub;->saveSettings(Landroid/privacy/PrivacySettings;)Z
+
+    move-result v4
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    if-eqz v4, :cond_4a
+
+    move v5, v6
+
+    :cond_4a
+    invoke-virtual {p3, v5}, Landroid/os/Parcel;->writeInt(I)V
+
+    goto :goto_9
+
+    :cond_4e
+    const/4 v0, 0x0
+
+    goto :goto_40
+
+    :sswitch_50
+    const-string v7, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v7}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-virtual {p0, v0}, Landroid/privacy/IPrivacySettingsManager$Stub;->deleteSettings(Ljava/lang/String;)Z
+
+    move-result v4
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    if-eqz v4, :cond_63
+
+    move v5, v6
+
+    :cond_63
+    invoke-virtual {p3, v5}, Landroid/os/Parcel;->writeInt(I)V
+
+    goto :goto_9
+
+    :sswitch_67
+    const-string v5, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v5}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {p0, v0, v1, v2, v3}, Landroid/privacy/IPrivacySettingsManager$Stub;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    goto :goto_9
+
+    :sswitch_83
+    const-string v5, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v5}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p0}, Landroid/privacy/IPrivacySettingsManager$Stub;->registerObservers()V
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    goto/16 :goto_9
+
+    :sswitch_90
+    const-string v5, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v5}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-virtual {p0, v0}, Landroid/privacy/IPrivacySettingsManager$Stub;->addObserver(Ljava/lang/String;)V
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    goto/16 :goto_9
+
+    :sswitch_a1
+    const-string v7, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v7}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p0}, Landroid/privacy/IPrivacySettingsManager$Stub;->purgeSettings()Z
+
+    move-result v4
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    if-eqz v4, :cond_b0
+
+    move v5, v6
+
+    :cond_b0
+    invoke-virtual {p3, v5}, Landroid/os/Parcel;->writeInt(I)V
+
+    goto/16 :goto_9
+
+    :sswitch_b5
+    const-string v7, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v7}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readInt()I
+
+    move-result v7
+
+    if-eqz v7, :cond_d0
+
+    move v0, v6
+
+    :goto_c1
+    invoke-virtual {p0, v0}, Landroid/privacy/IPrivacySettingsManager$Stub;->setEnabled(Z)Z
+
+    move-result v4
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    if-eqz v4, :cond_cb
+
+    move v5, v6
+
+    :cond_cb
+    invoke-virtual {p3, v5}, Landroid/os/Parcel;->writeInt(I)V
+
+    goto/16 :goto_9
+
+    :cond_d0
+    move v0, v5
+
+    goto :goto_c1
+
+    :sswitch_d2
+    const-string v7, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v7}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readInt()I
+
+    move-result v7
+
+    if-eqz v7, :cond_ed
+
+    move v0, v6
+
+    :goto_de
+    invoke-virtual {p0, v0}, Landroid/privacy/IPrivacySettingsManager$Stub;->setNotificationsEnabled(Z)Z
+
+    move-result v4
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    if-eqz v4, :cond_e8
+
+    move v5, v6
+
+    :cond_e8
+    invoke-virtual {p3, v5}, Landroid/os/Parcel;->writeInt(I)V
+
+    goto/16 :goto_9
+
+    :cond_ed
+    move v0, v5
+
+    goto :goto_de
+
+    :sswitch_ef
+    const-string v5, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v5}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p0}, Landroid/privacy/IPrivacySettingsManager$Stub;->setBootCompleted()V
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    goto/16 :goto_9
+
+    :sswitch_data_fc
+    .sparse-switch
+        0x1 -> :sswitch_10
+        0x2 -> :sswitch_2d
+        0x3 -> :sswitch_50
+        0x4 -> :sswitch_67
+        0x5 -> :sswitch_83
+        0x6 -> :sswitch_90
+        0x7 -> :sswitch_a1
+        0x8 -> :sswitch_b5
+        0x9 -> :sswitch_d2
+        0xa -> :sswitch_ef
+        0x5f4e5446 -> :sswitch_a
+    .end sparse-switch
+.end method
diff -Npruw stock-framework/smali/android/privacy/PrivacyFileObserver.smali pdroid-framework/smali/android/privacy/PrivacyFileObserver.smali
--- stock-framework/smali/android/privacy/PrivacyFileObserver.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/PrivacyFileObserver.smali	2013-07-15 18:10:49.742628166 -0500
@@ -0,0 +1,272 @@
+.class public final Landroid/privacy/PrivacyFileObserver;
+.super Landroid/os/FileObserver;
+.source "PrivacyFileObserver.java"
+
+
+# static fields
+.field public static final PACKAGE_PATH_INDEX:I = 0x3
+
+.field public static final SETTINGS_TYPE_INDEX:I = 0x4
+
+.field public static final TAG:Ljava/lang/String; = "PrivacyFileObserver"
+
+
+# instance fields
+.field public absolutePath:Ljava/lang/String;
+
+.field public children:Ljava/util/HashMap;
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "Ljava/util/HashMap",
+            "<",
+            "Ljava/lang/String;",
+            "Landroid/privacy/PrivacyFileObserver;",
+            ">;"
+        }
+    .end annotation
+.end field
+
+.field private pSetManServ:Landroid/privacy/PrivacySettingsManagerService;
+
+
+# direct methods
+.method public constructor <init>(Ljava/lang/String;Landroid/privacy/PrivacySettingsManagerService;)V
+    .registers 12
+
+    const/16 v8, 0xfff
+
+    invoke-direct {p0, p1, v8}, Landroid/os/FileObserver;-><init>(Ljava/lang/String;I)V
+
+    iput-object p1, p0, Landroid/privacy/PrivacyFileObserver;->absolutePath:Ljava/lang/String;
+
+    iput-object p2, p0, Landroid/privacy/PrivacyFileObserver;->pSetManServ:Landroid/privacy/PrivacySettingsManagerService;
+
+    new-instance v8, Ljava/util/HashMap;
+
+    invoke-direct {v8}, Ljava/util/HashMap;-><init>()V
+
+    iput-object v8, p0, Landroid/privacy/PrivacyFileObserver;->children:Ljava/util/HashMap;
+
+    new-instance v7, Ljava/io/File;
+
+    iget-object v8, p0, Landroid/privacy/PrivacyFileObserver;->absolutePath:Ljava/lang/String;
+
+    invoke-direct {v7, v8}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v7}, Ljava/io/File;->isDirectory()Z
+
+    move-result v8
+
+    if-eqz v8, :cond_42
+
+    invoke-virtual {v7}, Ljava/io/File;->listFiles()[Ljava/io/File;
+
+    move-result-object v6
+
+    move-object v0, v6
+
+    array-length v4, v0
+
+    const/4 v3, 0x0
+
+    :goto_24
+    if-ge v3, v4, :cond_42
+
+    aget-object v2, v0, v3
+
+    invoke-virtual {v2}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;
+
+    move-result-object v5
+
+    new-instance v1, Landroid/privacy/PrivacyFileObserver;
+
+    invoke-direct {v1, v5, p2}, Landroid/privacy/PrivacyFileObserver;-><init>(Ljava/lang/String;Landroid/privacy/PrivacySettingsManagerService;)V
+
+    iget-object v8, p0, Landroid/privacy/PrivacyFileObserver;->children:Ljava/util/HashMap;
+
+    invoke-virtual {v8, v5, v1}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
+
+    invoke-virtual {v2}, Ljava/io/File;->isFile()Z
+
+    move-result v8
+
+    if-eqz v8, :cond_3f
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacyFileObserver;->startWatching()V
+
+    :cond_3f
+    add-int/lit8 v3, v3, 0x1
+
+    goto :goto_24
+
+    :cond_42
+    return-void
+.end method
+
+
+# virtual methods
+.method public addObserver(Ljava/lang/String;)V
+    .registers 6
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    iget-object v3, p0, Landroid/privacy/PrivacyFileObserver;->absolutePath:Ljava/lang/String;
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    const-string v3, "/"
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/PrivacyFileObserver;->children:Ljava/util/HashMap;
+
+    invoke-virtual {v2, v1}, Ljava/util/HashMap;->remove(Ljava/lang/Object;)Ljava/lang/Object;
+
+    new-instance v0, Landroid/privacy/PrivacyFileObserver;
+
+    iget-object v2, p0, Landroid/privacy/PrivacyFileObserver;->pSetManServ:Landroid/privacy/PrivacySettingsManagerService;
+
+    invoke-direct {v0, v1, v2}, Landroid/privacy/PrivacyFileObserver;-><init>(Ljava/lang/String;Landroid/privacy/PrivacySettingsManagerService;)V
+
+    iget-object v2, p0, Landroid/privacy/PrivacyFileObserver;->children:Ljava/util/HashMap;
+
+    invoke-virtual {v2, v1, v0}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
+
+    return-void
+.end method
+
+.method public onEvent(ILjava/lang/String;)V
+    .registers 12
+
+    and-int/lit8 v5, p1, 0x1
+
+    if-eqz v5, :cond_48
+
+    new-instance v4, Ljava/util/StringTokenizer;
+
+    iget-object v5, p0, Landroid/privacy/PrivacyFileObserver;->absolutePath:Ljava/lang/String;
+
+    const-string v6, "/"
+
+    invoke-direct {v4, v5, v6}, Ljava/util/StringTokenizer;-><init>(Ljava/lang/String;Ljava/lang/String;)V
+
+    const/4 v0, 0x0
+
+    :goto_e
+    const/4 v5, 0x3
+
+    if-ge v0, v5, :cond_1d
+
+    invoke-virtual {v4}, Ljava/util/StringTokenizer;->hasMoreElements()Z
+
+    move-result v5
+
+    if-eqz v5, :cond_1d
+
+    invoke-virtual {v4}, Ljava/util/StringTokenizer;->nextToken()Ljava/lang/String;
+
+    add-int/lit8 v0, v0, 0x1
+
+    goto :goto_e
+
+    :cond_1d
+    invoke-virtual {v4}, Ljava/util/StringTokenizer;->nextToken()Ljava/lang/String;
+
+    move-result-object v2
+
+    const/4 v3, 0x0
+
+    invoke-virtual {v4}, Ljava/util/StringTokenizer;->hasMoreElements()Z
+
+    move-result v5
+
+    if-eqz v5, :cond_2c
+
+    invoke-virtual {v4}, Ljava/util/StringTokenizer;->nextToken()Ljava/lang/String;
+
+    move-result-object v3
+
+    :cond_2c
+    if-eqz v3, :cond_49
+
+    :try_start_2e
+    const-string v5, "ipTableProtectSetting"
+
+    invoke-virtual {v3, v5}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v5
+
+    if-eqz v5, :cond_49
+
+    iget-object v5, p0, Landroid/privacy/PrivacyFileObserver;->pSetManServ:Landroid/privacy/PrivacySettingsManagerService;
+
+    invoke-virtual {v5, v2}, Landroid/privacy/PrivacySettingsManagerService;->getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+
+    move-result-object v1
+
+    iget-object v5, p0, Landroid/privacy/PrivacyFileObserver;->pSetManServ:Landroid/privacy/PrivacySettingsManagerService;
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getIpTableProtectSetting()B
+
+    move-result v6
+
+    const-string v7, "iptables"
+
+    const/4 v8, 0x0
+
+    invoke-virtual {v5, v2, v6, v7, v8}, Landroid/privacy/PrivacySettingsManagerService;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+
+    :cond_48
+    :goto_48
+    return-void
+
+    :cond_49
+    iget-object v5, p0, Landroid/privacy/PrivacyFileObserver;->pSetManServ:Landroid/privacy/PrivacySettingsManagerService;
+
+    invoke-virtual {v5, v2}, Landroid/privacy/PrivacySettingsManagerService;->getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+
+    move-result-object v1
+
+    iget-object v5, p0, Landroid/privacy/PrivacyFileObserver;->pSetManServ:Landroid/privacy/PrivacySettingsManagerService;
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getSystemLogsSetting()B
+
+    move-result v6
+
+    const-string/jumbo v7, "systemLogs"
+
+    const/4 v8, 0x0
+
+    invoke-virtual {v5, v2, v6, v7, v8}, Landroid/privacy/PrivacySettingsManagerService;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+    :try_end_5c
+    .catch Ljava/lang/Exception; {:try_start_2e .. :try_end_5c} :catch_5d
+
+    goto :goto_48
+
+    :catch_5d
+    move-exception v5
+
+    goto :goto_48
+.end method
+
+.method public startWatching()V
+    .registers 1
+
+    invoke-super {p0}, Landroid/os/FileObserver;->startWatching()V
+
+    return-void
+.end method
diff -Npruw stock-framework/smali/android/privacy/PrivacyPersistenceAdapter.smali pdroid-framework/smali/android/privacy/PrivacyPersistenceAdapter.smali
--- stock-framework/smali/android/privacy/PrivacyPersistenceAdapter.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/PrivacyPersistenceAdapter.smali	2013-07-15 18:10:49.750628166 -0500
@@ -0,0 +1,5140 @@
+.class public final Landroid/privacy/PrivacyPersistenceAdapter;
+.super Ljava/lang/Object;
+.source "PrivacyPersistenceAdapter.java"
+
+
+# static fields
+.field private static final CREATE_TABLE_ALLOWED_CONTACTS:Ljava/lang/String; = "CREATE TABLE IF NOT EXISTS allowed_contacts ( settings_id, contact_id, PRIMARY KEY(settings_id, contact_id) );"
+
+.field private static final CREATE_TABLE_MAP:Ljava/lang/String; = "CREATE TABLE IF NOT EXISTS map ( name TEXT PRIMARY KEY, value TEXT );"
+
+.field private static final CREATE_TABLE_SETTINGS:Ljava/lang/String; = "CREATE TABLE IF NOT EXISTS settings (  _id INTEGER PRIMARY KEY AUTOINCREMENT,  packageName TEXT,  uid INTEGER,  deviceIdSetting INTEGER,  deviceId TEXT,  line1NumberSetting INTEGER,  line1Number TEXT,  locationGpsSetting INTEGER,  locationGpsLat TEXT,  locationGpsLon TEXT,  locationNetworkSetting INTEGER,  locationNetworkLat TEXT,  locationNetworkLon TEXT,  networkInfoSetting INTEGER,  simInfoSetting INTEGER,  simSerialNumberSetting INTEGER,  simSerialNumber TEXT,  subscriberIdSetting INTEGER,  subscriberId TEXT,  accountsSetting INTEGER,  accountsAuthTokensSetting INTEGER,  outgoingCallsSetting INTEGER,  incomingCallsSetting INTEGER,  contactsSetting INTEGER,  calendarSetting INTEGER,  mmsSetting INTEGER,  smsSetting INTEGER,  callLogSetting INTEGER,  bookmarksSetting INTEGER,  systemLogsSetting INTEGER,  externalStorageSetting INTEGER,  cameraSetting INTEGER,  recordAudioSetting INTEGER,  notificationSetting INTEGER,  intentBootCompletedSetting INTEGER, smsSendSetting INTEGER, phoneCallSetting INTEGER, ipTableProtectSetting INTEGER, iccAccessSetting INTEGER, addOnManagementSetting INTEGER, androidIdSetting INTEGER, androidId TEXT, wifiInfoSetting INTEGER, switchConnectivitySetting INTEGER, sendMmsSetting INTEGER, forceOnlineState INTEGER, switchWifiStateSetting INTEGER);"
+
+.field private static final DATABASE_FIELDS:[Ljava/lang/String; = null
+
+.field private static final DATABASE_FILE:Ljava/lang/String; = "/data/system/privacy.db"
+
+.field private static final DATABASE_VERSION:I = 0x4
+
+.field private static final DEFAULT_CACHE_ENTRIES:I = 0x14
+
+.field public static final DUMMY_UID:I = -0x1
+
+.field private static final INSERT_ENABLED:Ljava/lang/String; = "INSERT OR REPLACE INTO map (name, value) VALUES (\"enabled\", \"1\");"
+
+.field private static final INSERT_NOTIFICATIONS_ENABLED:Ljava/lang/String; = "INSERT OR REPLACE INTO map (name, value) VALUES (\"notifications_enabled\", \"1\");"
+
+.field private static final INSERT_VERSION:Ljava/lang/String; = "INSERT OR REPLACE INTO map (name, value) VALUES (\"db_version\", 4);"
+
+.field private static final LOG_CACHE:Z = false
+
+.field private static final LOG_LOCKING:Z = false
+
+.field private static final LOG_OPEN_AND_CLOSE:Z = false
+
+.field private static final MINIMUM_CACHE_ENTRIES:I = 0x0
+
+.field private static final RETRY_QUERY_COUNT:I = 0x5
+
+.field public static final SETTINGS_DIRECTORY:Ljava/lang/String; = "/data/system/privacy"
+
+.field public static final SETTING_DB_VERSION:Ljava/lang/String; = "db_version"
+
+.field public static final SETTING_ENABLED:Ljava/lang/String; = "enabled"
+
+.field public static final SETTING_NOTIFICATIONS_ENABLED:Ljava/lang/String; = "notifications_enabled"
+
+.field private static final TABLE_ALLOWED_CONTACTS:Ljava/lang/String; = "allowed_contacts"
+
+.field private static final TABLE_MAP:Ljava/lang/String; = "map"
+
+.field private static final TABLE_SETTINGS:Ljava/lang/String; = "settings"
+
+.field private static final TABLE_VERSION:Ljava/lang/String; = "version"
+
+.field private static final TAG:Ljava/lang/String; = "PrivacyPersistenceAdapter"
+
+.field public static final VALUE_FALSE:Ljava/lang/String; = "0"
+
+.field public static final VALUE_TRUE:Ljava/lang/String; = "1"
+
+.field private static final autoCloseDb:Z = false
+
+.field public static volatile sDbAccessThreads:Ljava/lang/Integer; = null
+
+.field private static sDbLock:Ljava/util/concurrent/locks/ReadWriteLock; = null
+
+.field public static volatile sDbVersion:I = 0x0
+
+.field private static settingsCache:Landroid/util/LruCache; = null
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "Landroid/util/LruCache",
+            "<",
+            "Ljava/lang/String;",
+            "Landroid/privacy/PrivacySettingsStub;",
+            ">;"
+        }
+    .end annotation
+.end field
+
+.field private static final useCache:Z = true
+
+
+# instance fields
+.field private mContext:Landroid/content/Context;
+
+.field private mDb:Landroid/database/sqlite/SQLiteDatabase;
+
+
+# direct methods
+.method static constructor <clinit>()V
+    .registers 4
+
+    const/16 v3, 0x14
+
+    const/4 v2, 0x0
+
+    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v0
+
+    sput-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    new-instance v0, Ljava/util/concurrent/locks/ReentrantReadWriteLock;
+
+    invoke-direct {v0}, Ljava/util/concurrent/locks/ReentrantReadWriteLock;-><init>()V
+
+    sput-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    new-instance v0, Landroid/util/LruCache;
+
+    invoke-direct {v0, v3}, Landroid/util/LruCache;-><init>(I)V
+
+    sput-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->settingsCache:Landroid/util/LruCache;
+
+    const/16 v0, 0x2f
+
+    new-array v0, v0, [Ljava/lang/String;
+
+    const-string v1, "_id"
+
+    aput-object v1, v0, v2
+
+    const/4 v1, 0x1
+
+    const-string/jumbo v2, "packageName"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x2
+
+    const-string/jumbo v2, "uid"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x3
+
+    const-string v2, "deviceIdSetting"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x4
+
+    const-string v2, "deviceId"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x5
+
+    const-string v2, "line1NumberSetting"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x6
+
+    const-string v2, "line1Number"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x7
+
+    const-string v2, "locationGpsSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x8
+
+    const-string v2, "locationGpsLat"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x9
+
+    const-string v2, "locationGpsLon"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xa
+
+    const-string v2, "locationNetworkSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xb
+
+    const-string v2, "locationNetworkLat"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xc
+
+    const-string v2, "locationNetworkLon"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xd
+
+    const-string/jumbo v2, "networkInfoSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xe
+
+    const-string/jumbo v2, "simInfoSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xf
+
+    const-string/jumbo v2, "simSerialNumberSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x10
+
+    const-string/jumbo v2, "simSerialNumber"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x11
+
+    const-string/jumbo v2, "subscriberIdSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x12
+
+    const-string/jumbo v2, "subscriberId"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x13
+
+    const-string v2, "accountsSetting"
+
+    aput-object v2, v0, v1
+
+    const-string v1, "accountsAuthTokensSetting"
+
+    aput-object v1, v0, v3
+
+    const/16 v1, 0x15
+
+    const-string/jumbo v2, "outgoingCallsSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x16
+
+    const-string v2, "incomingCallsSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x17
+
+    const-string v2, "contactsSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x18
+
+    const-string v2, "calendarSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x19
+
+    const-string/jumbo v2, "mmsSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x1a
+
+    const-string/jumbo v2, "smsSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x1b
+
+    const-string v2, "callLogSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x1c
+
+    const-string v2, "bookmarksSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x1d
+
+    const-string/jumbo v2, "systemLogsSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x1e
+
+    const-string v2, "externalStorageSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x1f
+
+    const-string v2, "cameraSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x20
+
+    const-string/jumbo v2, "recordAudioSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x21
+
+    const-string/jumbo v2, "notificationSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x22
+
+    const-string v2, "intentBootCompletedSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x23
+
+    const-string/jumbo v2, "smsSendSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x24
+
+    const-string/jumbo v2, "phoneCallSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x25
+
+    const-string v2, "ipTableProtectSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x26
+
+    const-string v2, "iccAccessSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x27
+
+    const-string v2, "addOnManagementSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x28
+
+    const-string v2, "androidIdSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x29
+
+    const-string v2, "androidId"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x2a
+
+    const-string/jumbo v2, "wifiInfoSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x2b
+
+    const-string/jumbo v2, "switchConnectivitySetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x2c
+
+    const-string/jumbo v2, "sendMmsSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x2d
+
+    const-string v2, "forceOnlineState"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x2e
+
+    const-string/jumbo v2, "switchWifiStateSetting"
+
+    aput-object v2, v0, v1
+
+    sput-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->DATABASE_FIELDS:[Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public constructor <init>(Landroid/content/Context;)V
+    .registers 4
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    iput-object p1, p0, Landroid/privacy/PrivacyPersistenceAdapter;->mContext:Landroid/content/Context;
+
+    new-instance v0, Ljava/io/File;
+
+    const-string v1, "/data/system/"
+
+    invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v0}, Ljava/io/File;->canWrite()Z
+
+    move-result v0
+
+    if-eqz v0, :cond_6c
+
+    new-instance v0, Ljava/io/File;
+
+    const-string v1, "/data/system/privacy.db"
+
+    invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v0}, Ljava/io/File;->exists()Z
+
+    move-result v0
+
+    if-eqz v0, :cond_2c
+
+    new-instance v0, Ljava/io/File;
+
+    const-string v1, "/data/system/privacy"
+
+    invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v0}, Ljava/io/File;->exists()Z
+
+    move-result v0
+
+    if-nez v0, :cond_5e
+
+    :cond_2c
+    sget-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v0}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v0
+
+    invoke-interface {v0}, Ljava/util/concurrent/locks/Lock;->lock()V
+
+    :try_start_35
+    new-instance v0, Ljava/io/File;
+
+    const-string v1, "/data/system/privacy.db"
+
+    invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v0}, Ljava/io/File;->exists()Z
+
+    move-result v0
+
+    if-nez v0, :cond_45
+
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->createDatabase()V
+
+    :cond_45
+    new-instance v0, Ljava/io/File;
+
+    const-string v1, "/data/system/privacy"
+
+    invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v0}, Ljava/io/File;->exists()Z
+
+    move-result v0
+
+    if-nez v0, :cond_55
+
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->createSettingsDir()V
+    :try_end_55
+    .catchall {:try_start_35 .. :try_end_55} :catchall_6d
+
+    :cond_55
+    sget-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v0}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v0
+
+    invoke-interface {v0}, Ljava/util/concurrent/locks/Lock;->unlock()V
+
+    :cond_5e
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getDbVersion()I
+
+    move-result v0
+
+    sput v0, Landroid/privacy/PrivacyPersistenceAdapter;->sDbVersion:I
+
+    sget v0, Landroid/privacy/PrivacyPersistenceAdapter;->sDbVersion:I
+
+    const/4 v1, 0x4
+
+    if-ge v0, v1, :cond_6c
+
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->upgradeDatabase()V
+
+    :cond_6c
+    return-void
+
+    :catchall_6d
+    move-exception v0
+
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v1}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v1
+
+    invoke-interface {v1}, Ljava/util/concurrent/locks/Lock;->unlock()V
+
+    throw v0
+.end method
+
+.method private closeIdleDatabase()V
+    .registers 3
+
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    monitor-enter v1
+
+    :try_start_3
+    sget-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    sget-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v0}, Ljava/lang/Integer;->intValue()I
+
+    move-result v0
+
+    add-int/lit8 v0, v0, -0x1
+
+    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v0
+
+    sput-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    sget-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v0}, Ljava/lang/Integer;->intValue()I
+
+    move-result v0
+
+    if-nez v0, :cond_27
+
+    iget-object v0, p0, Landroid/privacy/PrivacyPersistenceAdapter;->mDb:Landroid/database/sqlite/SQLiteDatabase;
+
+    if-eqz v0, :cond_27
+
+    iget-object v0, p0, Landroid/privacy/PrivacyPersistenceAdapter;->mDb:Landroid/database/sqlite/SQLiteDatabase;
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v0
+
+    if-eqz v0, :cond_27
+
+    :cond_27
+    monitor-exit v1
+
+    return-void
+
+    :catchall_29
+    move-exception v0
+
+    monitor-exit v1
+    :try_end_2b
+    .catchall {:try_start_3 .. :try_end_2b} :catchall_29
+
+    throw v0
+.end method
+
+.method private createDatabase()V
+    .registers 6
+
+    const-string v2, "PrivacyPersistenceAdapter"
+
+    const-string v3, "createDatabase - creating privacy database file"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :try_start_7
+    const-string v2, "/data/system/privacy.db"
+
+    const/4 v3, 0x0
+
+    const/high16 v4, 0x1000
+
+    invoke-static {v2, v3, v4}, Landroid/database/sqlite/SQLiteDatabase;->openDatabase(Ljava/lang/String;Landroid/database/sqlite/SQLiteDatabase$CursorFactory;I)Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object v0
+
+    const-string v2, "PrivacyPersistenceAdapter"
+
+    const-string v3, "createDatabase - creating privacy database"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    const-string v2, "CREATE TABLE IF NOT EXISTS settings (  _id INTEGER PRIMARY KEY AUTOINCREMENT,  packageName TEXT,  uid INTEGER,  deviceIdSetting INTEGER,  deviceId TEXT,  line1NumberSetting INTEGER,  line1Number TEXT,  locationGpsSetting INTEGER,  locationGpsLat TEXT,  locationGpsLon TEXT,  locationNetworkSetting INTEGER,  locationNetworkLat TEXT,  locationNetworkLon TEXT,  networkInfoSetting INTEGER,  simInfoSetting INTEGER,  simSerialNumberSetting INTEGER,  simSerialNumber TEXT,  subscriberIdSetting INTEGER,  subscriberId TEXT,  accountsSetting INTEGER,  accountsAuthTokensSetting INTEGER,  outgoingCallsSetting INTEGER,  incomingCallsSetting INTEGER,  contactsSetting INTEGER,  calendarSetting INTEGER,  mmsSetting INTEGER,  smsSetting INTEGER,  callLogSetting INTEGER,  bookmarksSetting INTEGER,  systemLogsSetting INTEGER,  externalStorageSetting INTEGER,  cameraSetting INTEGER,  recordAudioSetting INTEGER,  notificationSetting INTEGER,  intentBootCompletedSetting INTEGER, smsSendSetting INTEGER, phoneCallSetting INTEGER, ipTableProtectSetting INTEGER, iccAccessSetting INTEGER, addOnManagementSetting INTEGER, androidIdSetting INTEGER, androidId TEXT, wifiInfoSetting INTEGER, switchConnectivitySetting INTEGER, sendMmsSetting INTEGER, forceOnlineState INTEGER, switchWifiStateSetting INTEGER);"
+
+    invoke-virtual {v0, v2}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v2, "CREATE TABLE IF NOT EXISTS allowed_contacts ( settings_id, contact_id, PRIMARY KEY(settings_id, contact_id) );"
+
+    invoke-virtual {v0, v2}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v2, "CREATE TABLE IF NOT EXISTS map ( name TEXT PRIMARY KEY, value TEXT );"
+
+    invoke-virtual {v0, v2}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v2, "INSERT OR REPLACE INTO map (name, value) VALUES (\"db_version\", 4);"
+
+    invoke-virtual {v0, v2}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v2, "INSERT OR REPLACE INTO map (name, value) VALUES (\"enabled\", \"1\");"
+
+    invoke-virtual {v0, v2}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v2, "INSERT OR REPLACE INTO map (name, value) VALUES (\"notifications_enabled\", \"1\");"
+
+    invoke-virtual {v0, v2}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    if-eqz v0, :cond_40
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v2
+
+    if-eqz v2, :cond_40
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+    :try_end_40
+    .catch Landroid/database/SQLException; {:try_start_7 .. :try_end_40} :catch_41
+
+    :cond_40
+    :goto_40
+    return-void
+
+    :catch_41
+    move-exception v1
+
+    const-string v2, "PrivacyPersistenceAdapter"
+
+    const-string v3, "createDatabase - failed to create privacy database"
+
+    invoke-static {v2, v3, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_40
+.end method
+
+.method private createSettingsDir()V
+    .registers 5
+
+    const/4 v3, 0x1
+
+    const/4 v2, 0x0
+
+    new-instance v0, Ljava/io/File;
+
+    const-string v1, "/data/system/privacy/"
+
+    invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v0}, Ljava/io/File;->mkdirs()Z
+
+    invoke-virtual {v0, v3, v2}, Ljava/io/File;->setReadable(ZZ)Z
+
+    invoke-virtual {v0, v3, v2}, Ljava/io/File;->setExecutable(ZZ)Z
+
+    return-void
+.end method
+
+.method private deleteRecursive(Ljava/io/File;)V
+    .registers 7
+
+    invoke-virtual {p1}, Ljava/io/File;->isDirectory()Z
+
+    move-result v4
+
+    if-eqz v4, :cond_16
+
+    invoke-virtual {p1}, Ljava/io/File;->listFiles()[Ljava/io/File;
+
+    move-result-object v0
+
+    array-length v3, v0
+
+    const/4 v2, 0x0
+
+    :goto_c
+    if-ge v2, v3, :cond_16
+
+    aget-object v1, v0, v2
+
+    invoke-direct {p0, v1}, Landroid/privacy/PrivacyPersistenceAdapter;->deleteRecursive(Ljava/io/File;)V
+
+    add-int/lit8 v2, v2, 0x1
+
+    goto :goto_c
+
+    :cond_16
+    invoke-virtual {p1}, Ljava/io/File;->delete()Z
+
+    return-void
+.end method
+
+.method private declared-synchronized getDatabase()Landroid/database/sqlite/SQLiteDatabase;
+    .registers 4
+
+    monitor-enter p0
+
+    :try_start_1
+    iget-object v0, p0, Landroid/privacy/PrivacyPersistenceAdapter;->mDb:Landroid/database/sqlite/SQLiteDatabase;
+
+    if-eqz v0, :cond_15
+
+    iget-object v0, p0, Landroid/privacy/PrivacyPersistenceAdapter;->mDb:Landroid/database/sqlite/SQLiteDatabase;
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v0
+
+    if-eqz v0, :cond_15
+
+    iget-object v0, p0, Landroid/privacy/PrivacyPersistenceAdapter;->mDb:Landroid/database/sqlite/SQLiteDatabase;
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->isReadOnly()Z
+
+    move-result v0
+
+    if-eqz v0, :cond_1f
+
+    :cond_15
+    const-string v0, "/data/system/privacy.db"
+
+    const/4 v1, 0x0
+
+    const/4 v2, 0x0
+
+    invoke-static {v0, v1, v2}, Landroid/database/sqlite/SQLiteDatabase;->openDatabase(Ljava/lang/String;Landroid/database/sqlite/SQLiteDatabase$CursorFactory;I)Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object v0
+
+    iput-object v0, p0, Landroid/privacy/PrivacyPersistenceAdapter;->mDb:Landroid/database/sqlite/SQLiteDatabase;
+
+    :cond_1f
+    iget-object v0, p0, Landroid/privacy/PrivacyPersistenceAdapter;->mDb:Landroid/database/sqlite/SQLiteDatabase;
+    :try_end_21
+    .catchall {:try_start_1 .. :try_end_21} :catchall_23
+
+    monitor-exit p0
+
+    return-object v0
+
+    :catchall_23
+    move-exception v0
+
+    monitor-exit p0
+
+    throw v0
+.end method
+
+.method private getDbVersion()I
+    .registers 6
+
+    const/4 v2, 0x1
+
+    const-string v3, "db_version"
+
+    invoke-virtual {p0, v3}, Landroid/privacy/PrivacyPersistenceAdapter;->getValue(Ljava/lang/String;)Ljava/lang/String;
+
+    move-result-object v1
+
+    if-nez v1, :cond_11
+
+    const-string v3, "PrivacyPersistenceAdapter"
+
+    const-string v4, "PrivacyPersistenceAdapter:getDbVersion: getValue returned null; assuming version = 1"
+
+    invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_10
+    return v2
+
+    :cond_11
+    :try_start_11
+    invoke-static {v1}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    :try_end_14
+    .catch Ljava/lang/Exception; {:try_start_11 .. :try_end_14} :catch_16
+
+    move-result v2
+
+    goto :goto_10
+
+    :catch_16
+    move-exception v0
+
+    const-string v3, "PrivacyPersistenceAdapter"
+
+    const-string v4, "PrivacyPersistenceAdapter:getDbVersion: failed to parse database version; returning 1"
+
+    invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_10
+.end method
+
+.method private query(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
+    .registers 16
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Ljava/lang/Exception;
+        }
+    .end annotation
+
+    const/4 v0, 0x0
+
+    const/4 v3, 0x0
+
+    const/4 v2, 0x0
+
+    :goto_3
+    if-nez v3, :cond_27
+
+    const/4 v4, 0x5
+
+    if-ge v2, v4, :cond_27
+
+    if-eqz v0, :cond_d
+
+    :try_start_a
+    invoke-interface {v0}, Landroid/database/Cursor;->close()V
+
+    :cond_d
+    invoke-virtual/range {p1 .. p9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
+    :try_end_10
+    .catch Ljava/lang/IllegalStateException; {:try_start_a .. :try_end_10} :catch_15
+
+    move-result-object v0
+
+    const/4 v3, 0x1
+
+    :goto_12
+    add-int/lit8 v2, v2, 0x1
+
+    goto :goto_3
+
+    :catch_15
+    move-exception v1
+
+    const/4 v3, 0x0
+
+    if-eqz p1, :cond_22
+
+    invoke-virtual {p1}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v4
+
+    if-eqz v4, :cond_22
+
+    invoke-virtual {p1}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+
+    :cond_22
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getDatabase()Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object p1
+
+    goto :goto_12
+
+    :cond_27
+    if-nez v3, :cond_32
+
+    new-instance v4, Ljava/lang/Exception;
+
+    const-string/jumbo v5, "query - failed to execute query on the DB"
+
+    invoke-direct {v4, v5}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v4
+
+    :cond_32
+    return-object v0
+.end method
+
+.method private rawQuery(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)Landroid/database/Cursor;
+    .registers 9
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Ljava/lang/Exception;
+        }
+    .end annotation
+
+    const/4 v0, 0x0
+
+    const/4 v3, 0x0
+
+    const/4 v2, 0x0
+
+    :goto_3
+    if-nez v3, :cond_28
+
+    const/4 v4, 0x5
+
+    if-ge v2, v4, :cond_28
+
+    if-eqz v0, :cond_d
+
+    :try_start_a
+    invoke-interface {v0}, Landroid/database/Cursor;->close()V
+
+    :cond_d
+    const/4 v4, 0x0
+
+    invoke-virtual {p1, p2, v4}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;
+    :try_end_11
+    .catch Ljava/lang/IllegalStateException; {:try_start_a .. :try_end_11} :catch_16
+
+    move-result-object v0
+
+    const/4 v3, 0x1
+
+    :goto_13
+    add-int/lit8 v2, v2, 0x1
+
+    goto :goto_3
+
+    :catch_16
+    move-exception v1
+
+    const/4 v3, 0x0
+
+    if-eqz p1, :cond_23
+
+    invoke-virtual {p1}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v4
+
+    if-eqz v4, :cond_23
+
+    invoke-virtual {p1}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+
+    :cond_23
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getDatabase()Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object p1
+
+    goto :goto_13
+
+    :cond_28
+    if-nez v3, :cond_33
+
+    new-instance v4, Ljava/lang/Exception;
+
+    const-string/jumbo v5, "query - failed to execute query on the DB"
+
+    invoke-direct {v4, v5}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v4
+
+    :cond_33
+    return-object v0
+.end method
+
+.method private upgradeDatabase()V
+    .registers 18
+
+    sget v14, Landroid/privacy/PrivacyPersistenceAdapter;->sDbVersion:I
+
+    const/4 v15, 0x4
+
+    if-ge v14, v15, :cond_31
+
+    const-string v14, "PrivacyPersistenceAdapter"
+
+    new-instance v15, Ljava/lang/StringBuilder;
+
+    invoke-direct {v15}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v16, "PrivacyPersistenceAdapter:upgradeDatabase - upgrading DB from version "
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    sget v16, Landroid/privacy/PrivacyPersistenceAdapter;->sDbVersion:I
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    const-string v16, " to "
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    const/16 v16, 0x4
+
+    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v15
+
+    invoke-virtual {v15}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v15
+
+    invoke-static {v14, v15}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v3, 0x0
+
+    sget v14, Landroid/privacy/PrivacyPersistenceAdapter;->sDbVersion:I
+
+    packed-switch v14, :pswitch_data_12c
+
+    :cond_31
+    :goto_31
+    return-void
+
+    :pswitch_32
+    :try_start_32
+    sget-object v15, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    monitor-enter v15
+    :try_end_35
+    .catchall {:try_start_32 .. :try_end_35} :catchall_11e
+    .catch Landroid/database/SQLException; {:try_start_32 .. :try_end_35} :catch_e6
+
+    :try_start_35
+    sget-object v14, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    sget-object v14, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v14}, Ljava/lang/Integer;->intValue()I
+
+    move-result v14
+
+    add-int/lit8 v14, v14, 0x1
+
+    invoke-static {v14}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v14
+
+    sput-object v14, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    monitor-exit v15
+    :try_end_46
+    .catchall {:try_start_35 .. :try_end_46} :catchall_e3
+
+    :try_start_46
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getDatabase()Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object v3
+
+    if-eqz v3, :cond_109
+
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v14
+
+    if-eqz v14, :cond_109
+
+    sget-object v14, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v14}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v14
+
+    invoke-interface {v14}, Ljava/util/concurrent/locks/Lock;->lock()V
+    :try_end_5b
+    .catchall {:try_start_46 .. :try_end_5b} :catchall_11e
+    .catch Landroid/database/SQLException; {:try_start_46 .. :try_end_5b} :catch_e6
+
+    :try_start_5b
+    sget v14, Landroid/privacy/PrivacyPersistenceAdapter;->sDbVersion:I
+
+    const/4 v15, 0x4
+
+    if-ge v14, v15, :cond_100
+
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V
+    :try_end_63
+    .catchall {:try_start_5b .. :try_end_63} :catchall_113
+
+    :try_start_63
+    const-string v14, "DROP TABLE IF EXISTS version;"
+
+    invoke-virtual {v3, v14}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v14, "CREATE TABLE IF NOT EXISTS allowed_contacts ( settings_id, contact_id, PRIMARY KEY(settings_id, contact_id) );"
+
+    invoke-virtual {v3, v14}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v14, "CREATE TABLE IF NOT EXISTS map ( name TEXT PRIMARY KEY, value TEXT );"
+
+    invoke-virtual {v3, v14}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v14, "INSERT OR REPLACE INTO map (name, value) VALUES (\"db_version\", 4);"
+
+    invoke-virtual {v3, v14}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v14, "INSERT OR REPLACE INTO map (name, value) VALUES (\"enabled\", \"1\");"
+
+    invoke-virtual {v3, v14}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v14, "INSERT OR REPLACE INTO map (name, value) VALUES (\"notifications_enabled\", \"1\");"
+
+    invoke-virtual {v3, v14}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    invoke-virtual/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->purgeSettings()Z
+
+    new-instance v11, Ljava/io/File;
+
+    const-string v14, "/data/system/privacy"
+
+    invoke-direct {v11, v14}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v11}, Ljava/io/File;->listFiles()[Ljava/io/File;
+
+    move-result-object v1
+
+    array-length v7, v1
+
+    const/4 v5, 0x0
+
+    move v6, v5
+
+    :goto_92
+    if-ge v6, v7, :cond_f7
+
+    aget-object v10, v1, v6
+
+    invoke-virtual {v10}, Ljava/io/File;->listFiles()[Ljava/io/File;
+
+    move-result-object v2
+
+    array-length v8, v2
+
+    const/4 v5, 0x0
+
+    :goto_9c
+    if-ge v5, v8, :cond_f3
+
+    aget-object v13, v2, v5
+
+    invoke-virtual {v13}, Ljava/io/File;->isDirectory()Z
+
+    move-result v14
+
+    if-eqz v14, :cond_e0
+
+    invoke-virtual {v13}, Ljava/io/File;->listFiles()[Ljava/io/File;
+
+    move-result-object v12
+
+    const/4 v14, 0x0
+
+    aget-object v14, v12, v14
+
+    if-eqz v14, :cond_e0
+
+    new-instance v9, Ljava/io/File;
+
+    new-instance v14, Ljava/lang/StringBuilder;
+
+    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v14, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v14
+
+    const-string v15, "/"
+
+    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v14
+
+    const/4 v15, 0x0
+
+    aget-object v15, v12, v15
+
+    invoke-virtual {v15}, Ljava/io/File;->getName()Ljava/lang/String;
+
+    move-result-object v15
+
+    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v14
+
+    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v14
+
+    invoke-direct {v9, v14}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v9}, Ljava/io/File;->delete()Z
+
+    const/4 v14, 0x0
+
+    aget-object v14, v12, v14
+
+    invoke-virtual {v14, v9}, Ljava/io/File;->renameTo(Ljava/io/File;)Z
+
+    move-object/from16 v0, p0
+
+    invoke-direct {v0, v13}, Landroid/privacy/PrivacyPersistenceAdapter;->deleteRecursive(Ljava/io/File;)V
+    :try_end_e0
+    .catchall {:try_start_63 .. :try_end_e0} :catchall_10e
+
+    :cond_e0
+    add-int/lit8 v5, v5, 0x1
+
+    goto :goto_9c
+
+    :catchall_e3
+    move-exception v14
+
+    :try_start_e4
+    monitor-exit v15
+    :try_end_e5
+    .catchall {:try_start_e4 .. :try_end_e5} :catchall_e3
+
+    :try_start_e5
+    throw v14
+    :try_end_e6
+    .catchall {:try_start_e5 .. :try_end_e6} :catchall_11e
+    .catch Landroid/database/SQLException; {:try_start_e5 .. :try_end_e6} :catch_e6
+
+    :catch_e6
+    move-exception v4
+
+    :try_start_e7
+    const-string v14, "PrivacyPersistenceAdapter"
+
+    const-string v15, "PrivacyPersistenceAdapter:upgradeDatabase: SQLException occurred performing database upgrade"
+
+    invoke-static {v14, v15, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+    :try_end_ee
+    .catchall {:try_start_e7 .. :try_end_ee} :catchall_11e
+
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    goto/16 :goto_31
+
+    :cond_f3
+    add-int/lit8 v5, v6, 0x1
+
+    move v6, v5
+
+    goto :goto_92
+
+    :cond_f7
+    :try_start_f7
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V
+
+    const/4 v14, 0x4
+
+    sput v14, Landroid/privacy/PrivacyPersistenceAdapter;->sDbVersion:I
+    :try_end_fd
+    .catchall {:try_start_f7 .. :try_end_fd} :catchall_10e
+
+    :try_start_fd
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
+    :try_end_100
+    .catchall {:try_start_fd .. :try_end_100} :catchall_113
+
+    :cond_100
+    :try_start_100
+    sget-object v14, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v14}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v14
+
+    invoke-interface {v14}, Ljava/util/concurrent/locks/Lock;->unlock()V
+    :try_end_109
+    .catchall {:try_start_100 .. :try_end_109} :catchall_11e
+    .catch Landroid/database/SQLException; {:try_start_100 .. :try_end_109} :catch_e6
+
+    :cond_109
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    goto/16 :goto_31
+
+    :catchall_10e
+    move-exception v14
+
+    :try_start_10f
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
+
+    throw v14
+    :try_end_113
+    .catchall {:try_start_10f .. :try_end_113} :catchall_113
+
+    :catchall_113
+    move-exception v14
+
+    :try_start_114
+    sget-object v15, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v15}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v15
+
+    invoke-interface {v15}, Ljava/util/concurrent/locks/Lock;->unlock()V
+
+    throw v14
+    :try_end_11e
+    .catchall {:try_start_114 .. :try_end_11e} :catchall_11e
+    .catch Landroid/database/SQLException; {:try_start_114 .. :try_end_11e} :catch_e6
+
+    :catchall_11e
+    move-exception v14
+
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    throw v14
+
+    :pswitch_123
+    const-string v14, "PrivacyPersistenceAdapter"
+
+    const-string v15, "PrivacyPersistenceAdapter:upgradeDatabase: Database is already at the most recent version"
+
+    invoke-static {v14, v15}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_31
+
+    :pswitch_data_12c
+    .packed-switch 0x1
+        :pswitch_32
+        :pswitch_32
+        :pswitch_32
+        :pswitch_123
+    .end packed-switch
+.end method
+
+.method private writeExternalSettings(Ljava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)Z
+    .registers 12
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Ljava/lang/Exception;
+        }
+    .end annotation
+
+    const/4 v7, 0x1
+
+    new-instance v2, Ljava/io/File;
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v6, "/data/system/privacy/"
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v6, "/"
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-direct {v2, v5}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    new-instance v3, Ljava/io/File;
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v6, "/data/system/privacy/"
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v6, "/"
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v6, "/"
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-direct {v3, v5}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    const/4 v1, 0x0
+
+    sget-object v5, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v5}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v5
+
+    invoke-interface {v5}, Ljava/util/concurrent/locks/Lock;->lock()V
+
+    :try_start_51
+    invoke-virtual {v2}, Ljava/io/File;->mkdirs()Z
+
+    const/4 v5, 0x1
+
+    const/4 v6, 0x0
+
+    invoke-virtual {v2, v5, v6}, Ljava/io/File;->setReadable(ZZ)Z
+
+    const/4 v5, 0x1
+
+    const/4 v6, 0x0
+
+    invoke-virtual {v2, v5, v6}, Ljava/io/File;->setExecutable(ZZ)Z
+
+    invoke-virtual {v3}, Ljava/io/File;->createNewFile()Z
+
+    const/4 v5, 0x1
+
+    const/4 v6, 0x0
+
+    invoke-virtual {v3, v5, v6}, Ljava/io/File;->setReadable(ZZ)Z
+
+    new-instance v4, Ljava/io/OutputStreamWriter;
+
+    new-instance v5, Ljava/io/FileOutputStream;
+
+    invoke-direct {v5, v3}, Ljava/io/FileOutputStream;-><init>(Ljava/io/File;)V
+
+    invoke-direct {v4, v5}, Ljava/io/OutputStreamWriter;-><init>(Ljava/io/OutputStream;)V
+
+    const-string/jumbo v5, "systemLogsSetting"
+
+    invoke-virtual {p1, v5}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v5
+
+    if-eqz v5, :cond_a4
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {p3}, Landroid/privacy/PrivacySettings;->getSystemLogsSetting()B
+
+    move-result v6
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v6, ""
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/io/OutputStreamWriter;->append(Ljava/lang/CharSequence;)Ljava/io/Writer;
+
+    :cond_93
+    :goto_93
+    invoke-virtual {v4}, Ljava/io/OutputStreamWriter;->flush()V
+
+    invoke-virtual {v4}, Ljava/io/OutputStreamWriter;->close()V
+    :try_end_99
+    .catchall {:try_start_51 .. :try_end_99} :catchall_d1
+    .catch Ljava/io/IOException; {:try_start_51 .. :try_end_99} :catch_c7
+
+    const/4 v1, 0x1
+
+    sget-object v5, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v5}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v5
+
+    invoke-interface {v5}, Ljava/util/concurrent/locks/Lock;->unlock()V
+
+    return v7
+
+    :cond_a4
+    :try_start_a4
+    const-string v5, "ipTableProtectSetting"
+
+    invoke-virtual {p1, v5}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v5
+
+    if-eqz v5, :cond_93
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {p3}, Landroid/privacy/PrivacySettings;->getIpTableProtectSetting()B
+
+    move-result v6
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v6, ""
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/io/OutputStreamWriter;->append(Ljava/lang/CharSequence;)Ljava/io/Writer;
+    :try_end_c6
+    .catchall {:try_start_a4 .. :try_end_c6} :catchall_d1
+    .catch Ljava/io/IOException; {:try_start_a4 .. :try_end_c6} :catch_c7
+
+    goto :goto_93
+
+    :catch_c7
+    move-exception v0
+
+    :try_start_c8
+    new-instance v5, Ljava/lang/Exception;
+
+    const-string/jumbo v6, "saveSettings - could not write settings to file"
+
+    invoke-direct {v5, v6, v0}, Ljava/lang/Exception;-><init>(Ljava/lang/String;Ljava/lang/Throwable;)V
+
+    throw v5
+    :try_end_d1
+    .catchall {:try_start_c8 .. :try_end_d1} :catchall_d1
+
+    :catchall_d1
+    move-exception v5
+
+    sget-object v6, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v6}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v6
+
+    invoke-interface {v6}, Ljava/util/concurrent/locks/Lock;->unlock()V
+
+    throw v5
+.end method
+
+
+# virtual methods
+.method public deleteSettings(Ljava/lang/String;)Z
+    .registers 16
+
+    const/4 v11, 0x1
+
+    const/4 v0, 0x0
+
+    :try_start_2
+    sget-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    monitor-enter v2
+    :try_end_5
+    .catchall {:try_start_2 .. :try_end_5} :catchall_14d
+    .catch Landroid/database/sqlite/SQLiteException; {:try_start_2 .. :try_end_5} :catch_103
+    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_5} :catch_140
+
+    :try_start_5
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v1}, Ljava/lang/Integer;->intValue()I
+
+    move-result v1
+
+    add-int/lit8 v1, v1, 0x1
+
+    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v1
+
+    sput-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    monitor-exit v2
+    :try_end_16
+    .catchall {:try_start_5 .. :try_end_16} :catchall_100
+
+    :try_start_16
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getDatabase()Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object v0
+
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v1}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v1
+
+    invoke-interface {v1}, Ljava/util/concurrent/locks/Lock;->lock()V
+    :try_end_23
+    .catchall {:try_start_16 .. :try_end_23} :catchall_14d
+    .catch Landroid/database/sqlite/SQLiteException; {:try_start_16 .. :try_end_23} :catch_103
+    .catch Ljava/lang/Exception; {:try_start_16 .. :try_end_23} :catch_140
+
+    :try_start_23
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V
+    :try_end_26
+    .catchall {:try_start_23 .. :try_end_26} :catchall_135
+
+    :try_start_26
+    const-string/jumbo v1, "settings"
+
+    const/4 v2, 0x1
+
+    new-array v2, v2, [Ljava/lang/String;
+
+    const/4 v3, 0x0
+
+    const-string v4, "_id"
+
+    aput-object v4, v2, v3
+
+    const-string/jumbo v3, "packageName=?"
+
+    const/4 v4, 0x1
+
+    new-array v4, v4, [Ljava/lang/String;
+
+    const/4 v5, 0x0
+
+    aput-object p1, v4, v5
+
+    const/4 v5, 0x0
+
+    const/4 v6, 0x0
+
+    const/4 v7, 0x0
+
+    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
+
+    move-result-object v8
+
+    if-eqz v8, :cond_110
+
+    invoke-interface {v8}, Landroid/database/Cursor;->getCount()I
+
+    move-result v1
+
+    if-lez v1, :cond_110
+
+    invoke-interface {v8}, Landroid/database/Cursor;->moveToFirst()Z
+
+    move-result v1
+
+    if-eqz v1, :cond_110
+
+    const/4 v1, 0x0
+
+    invoke-interface {v8, v1}, Landroid/database/Cursor;->getInt(I)I
+
+    move-result v10
+
+    const-string v1, "allowed_contacts"
+
+    const-string/jumbo v2, "settings_id=?"
+
+    const/4 v3, 0x1
+
+    new-array v3, v3, [Ljava/lang/String;
+
+    const/4 v4, 0x0
+
+    invoke-static {v10}, Ljava/lang/Integer;->toString(I)Ljava/lang/String;
+
+    move-result-object v5
+
+    aput-object v5, v3, v4
+
+    invoke-virtual {v0, v1, v2, v3}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I
+
+    invoke-interface {v8}, Landroid/database/Cursor;->close()V
+
+    :goto_69
+    const-string/jumbo v1, "settings"
+
+    const-string/jumbo v2, "packageName=?"
+
+    const/4 v3, 0x1
+
+    new-array v3, v3, [Ljava/lang/String;
+
+    const/4 v4, 0x0
+
+    aput-object p1, v3, v4
+
+    invoke-virtual {v0, v1, v2, v3}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I
+
+    move-result v1
+
+    if-nez v1, :cond_99
+
+    const-string v1, "PrivacyPersistenceAdapter"
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "deleteSettings - database entry for "
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    const-string v3, " not found"
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    :cond_99
+    new-instance v12, Ljava/io/File;
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "/data/system/privacy/"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, "/"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-direct {v12, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    new-instance v13, Ljava/io/File;
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "/data/system/privacy/"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, "/systemLogsSetting"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-direct {v13, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v13}, Ljava/io/File;->delete()Z
+
+    invoke-virtual {v12}, Ljava/io/File;->list()[Ljava/lang/String;
+
+    move-result-object v1
+
+    if-eqz v1, :cond_e5
+
+    invoke-virtual {v12}, Ljava/io/File;->list()[Ljava/lang/String;
+
+    move-result-object v1
+
+    array-length v1, v1
+
+    if-nez v1, :cond_e8
+
+    :cond_e5
+    invoke-virtual {v12}, Ljava/io/File;->delete()Z
+
+    :cond_e8
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V
+
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->settingsCache:Landroid/util/LruCache;
+
+    invoke-virtual {v1, p1}, Landroid/util/LruCache;->remove(Ljava/lang/Object;)Ljava/lang/Object;
+    :try_end_f0
+    .catchall {:try_start_26 .. :try_end_f0} :catchall_130
+
+    :try_start_f0
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
+    :try_end_f3
+    .catchall {:try_start_f0 .. :try_end_f3} :catchall_135
+
+    :try_start_f3
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v1}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v1
+
+    invoke-interface {v1}, Ljava/util/concurrent/locks/Lock;->unlock()V
+    :try_end_fc
+    .catchall {:try_start_f3 .. :try_end_fc} :catchall_14d
+    .catch Landroid/database/sqlite/SQLiteException; {:try_start_f3 .. :try_end_fc} :catch_103
+    .catch Ljava/lang/Exception; {:try_start_f3 .. :try_end_fc} :catch_140
+
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    :goto_ff
+    return v11
+
+    :catchall_100
+    move-exception v1
+
+    :try_start_101
+    monitor-exit v2
+    :try_end_102
+    .catchall {:try_start_101 .. :try_end_102} :catchall_100
+
+    :try_start_102
+    throw v1
+    :try_end_103
+    .catchall {:try_start_102 .. :try_end_103} :catchall_14d
+    .catch Landroid/database/sqlite/SQLiteException; {:try_start_102 .. :try_end_103} :catch_103
+    .catch Ljava/lang/Exception; {:try_start_102 .. :try_end_103} :catch_140
+
+    :catch_103
+    move-exception v9
+
+    const/4 v11, 0x0
+
+    :try_start_105
+    const-string v1, "PrivacyPersistenceAdapter"
+
+    const-string v2, "PrivacyPersistenceAdapter:deleteSettings: failed to open the database, or open a transaction"
+
+    invoke-static {v1, v2, v9}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+    :try_end_10c
+    .catchall {:try_start_105 .. :try_end_10c} :catchall_14d
+
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    goto :goto_ff
+
+    :cond_110
+    :try_start_110
+    const-string v1, "PrivacyPersistenceAdapter"
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "deleteSettings - database entry for "
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    const-string v3, " not found"
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_12e
+    .catchall {:try_start_110 .. :try_end_12e} :catchall_130
+
+    goto/16 :goto_69
+
+    :catchall_130
+    move-exception v1
+
+    :try_start_131
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
+
+    throw v1
+    :try_end_135
+    .catchall {:try_start_131 .. :try_end_135} :catchall_135
+
+    :catchall_135
+    move-exception v1
+
+    :try_start_136
+    sget-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v2}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v2
+
+    invoke-interface {v2}, Ljava/util/concurrent/locks/Lock;->unlock()V
+
+    throw v1
+    :try_end_140
+    .catchall {:try_start_136 .. :try_end_140} :catchall_14d
+    .catch Landroid/database/sqlite/SQLiteException; {:try_start_136 .. :try_end_140} :catch_103
+    .catch Ljava/lang/Exception; {:try_start_136 .. :try_end_140} :catch_140
+
+    :catch_140
+    move-exception v9
+
+    const/4 v11, 0x0
+
+    :try_start_142
+    const-string v1, "PrivacyPersistenceAdapter"
+
+    const-string v2, "PrivacyPersistenceAdapter:deleteSettings - could not delete settings"
+
+    invoke-static {v1, v2, v9}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+    :try_end_149
+    .catchall {:try_start_142 .. :try_end_149} :catchall_14d
+
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    goto :goto_ff
+
+    :catchall_14d
+    move-exception v1
+
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    throw v1
+.end method
+
+.method public getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+    .registers 59
+
+    const/16 v56, 0x0
+
+    if-nez p1, :cond_c
+
+    new-instance v1, Ljava/security/InvalidParameterException;
+
+    const-string v4, "PrivacyPersistenceAdapter:getSettings:insufficient application identifier - package name is required"
+
+    invoke-direct {v1, v4}, Ljava/security/InvalidParameterException;-><init>(Ljava/lang/String;)V
+
+    throw v1
+
+    :cond_c
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->settingsCache:Landroid/util/LruCache;
+
+    move-object/from16 v0, p1
+
+    invoke-virtual {v1, v0}, Landroid/util/LruCache;->get(Ljava/lang/Object;)Ljava/lang/Object;
+
+    move-result-object v53
+
+    check-cast v53, Landroid/privacy/PrivacySettingsStub;
+
+    if-eqz v53, :cond_28
+
+    move-object/from16 v0, v53
+
+    instance-of v1, v0, Landroid/privacy/PrivacySettings;
+
+    if-eqz v1, :cond_23
+
+    check-cast v53, Landroid/privacy/PrivacySettings;
+
+    move-object/from16 v3, v56
+
+    :goto_22
+    return-object v53
+
+    :cond_23
+    const/16 v53, 0x0
+
+    move-object/from16 v3, v56
+
+    goto :goto_22
+
+    :cond_28
+    :try_start_28
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    monitor-enter v4
+    :try_end_2b
+    .catch Landroid/database/sqlite/SQLiteException; {:try_start_28 .. :try_end_2b} :catch_a8
+
+    :try_start_2b
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v1}, Ljava/lang/Integer;->intValue()I
+
+    move-result v1
+
+    add-int/lit8 v1, v1, 0x1
+
+    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v1
+
+    sput-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    monitor-exit v4
+    :try_end_3c
+    .catchall {:try_start_2b .. :try_end_3c} :catchall_a5
+
+    :try_start_3c
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getDatabase()Landroid/database/sqlite/SQLiteDatabase;
+    :try_end_3f
+    .catch Landroid/database/sqlite/SQLiteException; {:try_start_3c .. :try_end_3f} :catch_a8
+
+    move-result-object v2
+
+    const/16 v54, 0x0
+
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v1}, Ljava/util/concurrent/locks/ReadWriteLock;->readLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v1
+
+    invoke-interface {v1}, Ljava/util/concurrent/locks/Lock;->lock()V
+
+    :try_start_4b
+    const-string/jumbo v3, "settings"
+
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->DATABASE_FIELDS:[Ljava/lang/String;
+
+    const-string/jumbo v5, "packageName=?"
+
+    const/4 v1, 0x1
+
+    new-array v6, v1, [Ljava/lang/String;
+
+    const/4 v1, 0x0
+
+    aput-object p1, v6, v1
+
+    const/4 v7, 0x0
+
+    const/4 v8, 0x0
+
+    const/4 v9, 0x0
+
+    const/4 v10, 0x0
+
+    move-object/from16 v1, p0
+
+    invoke-direct/range {v1 .. v10}, Landroid/privacy/PrivacyPersistenceAdapter;->query(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
+
+    move-result-object v54
+
+    if-eqz v54, :cond_367
+
+    invoke-interface/range {v54 .. v54}, Landroid/database/Cursor;->getCount()I
+
+    move-result v1
+
+    if-nez v1, :cond_b6
+
+    const-string v1, "PrivacyPersistenceAdapter"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "PrivacyPersistenceAdapter:getSettingsfound for package "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p1
+
+    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_85
+    .catchall {:try_start_4b .. :try_end_85} :catchall_35f
+    .catch Ljava/lang/Exception; {:try_start_4b .. :try_end_85} :catch_363
+
+    move-object/from16 v3, v56
+
+    :cond_87
+    :goto_87
+    if-eqz v3, :cond_351
+
+    :try_start_89
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->settingsCache:Landroid/util/LruCache;
+
+    move-object/from16 v0, p1
+
+    invoke-virtual {v1, v0, v3}, Landroid/util/LruCache;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
+    :try_end_90
+    .catchall {:try_start_89 .. :try_end_90} :catchall_33e
+    .catch Ljava/lang/Exception; {:try_start_89 .. :try_end_90} :catch_307
+
+    :goto_90
+    if-eqz v54, :cond_95
+
+    invoke-interface/range {v54 .. v54}, Landroid/database/Cursor;->close()V
+
+    :cond_95
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v1}, Ljava/util/concurrent/locks/ReadWriteLock;->readLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v1
+
+    invoke-interface {v1}, Ljava/util/concurrent/locks/Lock;->unlock()V
+
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    :goto_a1
+    move-object/from16 v53, v3
+
+    goto/16 :goto_22
+
+    :catchall_a5
+    move-exception v1
+
+    :try_start_a6
+    monitor-exit v4
+    :try_end_a7
+    .catchall {:try_start_a6 .. :try_end_a7} :catchall_a5
+
+    :try_start_a7
+    throw v1
+    :try_end_a8
+    .catch Landroid/database/sqlite/SQLiteException; {:try_start_a7 .. :try_end_a8} :catch_a8
+
+    :catch_a8
+    move-exception v55
+
+    const-string v1, "PrivacyPersistenceAdapter"
+
+    const-string v4, "getSettings - database could not be opened"
+
+    move-object/from16 v0, v55
+
+    invoke-static {v1, v4, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    throw v55
+
+    :cond_b6
+    :try_start_b6
+    invoke-interface/range {v54 .. v54}, Landroid/database/Cursor;->getCount()I
+
+    move-result v1
+
+    const/4 v4, 0x1
+
+    if-le v1, v4, :cond_d7
+
+    const-string v1, "PrivacyPersistenceAdapter"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "Multiple privacy settings found for package "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p1
+
+    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
+
+    :cond_d7
+    invoke-interface/range {v54 .. v54}, Landroid/database/Cursor;->moveToFirst()Z
+
+    move-result v1
+
+    if-eqz v1, :cond_367
+
+    new-instance v3, Landroid/privacy/PrivacySettings;
+
+    const/4 v1, 0x0
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getInt(I)I
+
+    move-result v1
+
+    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v4
+
+    const/4 v1, 0x1
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v5
+
+    const/4 v1, 0x2
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getInt(I)I
+
+    move-result v6
+
+    const/4 v1, 0x3
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v7, v1
+
+    const/4 v1, 0x4
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v8
+
+    const/4 v1, 0x5
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v9, v1
+
+    const/4 v1, 0x6
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v10
+
+    const/4 v1, 0x7
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v11, v1
+
+    const/16 v1, 0x8
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v12
+
+    const/16 v1, 0x9
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v13
+
+    const/16 v1, 0xa
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v14, v1
+
+    const/16 v1, 0xb
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v15
+
+    const/16 v1, 0xc
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v16
+
+    const/16 v1, 0xd
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v17, v0
+
+    const/16 v1, 0xe
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v18, v0
+
+    const/16 v1, 0xf
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v19, v0
+
+    const/16 v1, 0x10
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v20
+
+    const/16 v1, 0x11
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v21, v0
+
+    const/16 v1, 0x12
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v22
+
+    const/16 v1, 0x13
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v23, v0
+
+    const/16 v1, 0x14
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v24, v0
+
+    const/16 v1, 0x15
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v25, v0
+
+    const/16 v1, 0x16
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v26, v0
+
+    const/16 v1, 0x17
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v27, v0
+
+    const/16 v1, 0x18
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v28, v0
+
+    const/16 v1, 0x19
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v29, v0
+
+    const/16 v1, 0x1a
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v30, v0
+
+    const/16 v1, 0x1b
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v31, v0
+
+    const/16 v1, 0x1c
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v32, v0
+
+    const/16 v1, 0x1d
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v33, v0
+
+    const/16 v1, 0x1e
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v34, v0
+
+    const/16 v1, 0x1f
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v35, v0
+
+    const/16 v1, 0x20
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v36, v0
+
+    const/16 v1, 0x21
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v37, v0
+
+    const/16 v1, 0x22
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v38, v0
+
+    const/16 v39, 0x0
+
+    const/16 v1, 0x23
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v40, v0
+
+    const/16 v1, 0x24
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v41, v0
+
+    const/16 v1, 0x25
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v42, v0
+
+    const/16 v1, 0x26
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v43, v0
+
+    const/16 v1, 0x27
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v44, v0
+
+    const/16 v1, 0x28
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v45, v0
+
+    const/16 v1, 0x29
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v46
+
+    const/16 v1, 0x2a
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v47, v0
+
+    const/16 v1, 0x2b
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v48, v0
+
+    const/16 v1, 0x2c
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v49, v0
+
+    const/16 v1, 0x2d
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v50, v0
+
+    const/16 v1, 0x2e
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v51, v0
+
+    invoke-direct/range {v3 .. v51}, Landroid/privacy/PrivacySettings;-><init>(Ljava/lang/Integer;Ljava/lang/String;IBLjava/lang/String;BLjava/lang/String;BLjava/lang/String;Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;BBBLjava/lang/String;BLjava/lang/String;BBBBBBBBBBBBBBBB[IBBBBBBLjava/lang/String;BBBBB)V
+    :try_end_2b9
+    .catchall {:try_start_b6 .. :try_end_2b9} :catchall_35f
+    .catch Ljava/lang/Exception; {:try_start_b6 .. :try_end_2b9} :catch_363
+
+    :try_start_2b9
+    const-string v6, "allowed_contacts"
+
+    const/4 v1, 0x1
+
+    new-array v7, v1, [Ljava/lang/String;
+
+    const/4 v1, 0x0
+
+    const-string v4, "contact_id"
+
+    aput-object v4, v7, v1
+
+    const-string/jumbo v8, "settings_id=?"
+
+    const/4 v1, 0x1
+
+    new-array v9, v1, [Ljava/lang/String;
+
+    const/4 v1, 0x0
+
+    invoke-virtual {v3}, Landroid/privacy/PrivacySettings;->get_id()Ljava/lang/Integer;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Integer;->toString(I)Ljava/lang/String;
+
+    move-result-object v4
+
+    aput-object v4, v9, v1
+
+    const/4 v10, 0x0
+
+    const/4 v11, 0x0
+
+    const/4 v12, 0x0
+
+    const/4 v13, 0x0
+
+    move-object/from16 v4, p0
+
+    move-object v5, v2
+
+    invoke-direct/range {v4 .. v13}, Landroid/privacy/PrivacyPersistenceAdapter;->query(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
+
+    move-result-object v54
+
+    if-eqz v54, :cond_87
+
+    invoke-interface/range {v54 .. v54}, Landroid/database/Cursor;->getCount()I
+
+    move-result v1
+
+    if-lez v1, :cond_87
+
+    invoke-interface/range {v54 .. v54}, Landroid/database/Cursor;->getCount()I
+
+    move-result v1
+
+    new-array v0, v1, [I
+
+    move-object/from16 v52, v0
+
+    :goto_2f3
+    invoke-interface/range {v54 .. v54}, Landroid/database/Cursor;->moveToNext()Z
+
+    move-result v1
+
+    if-eqz v1, :cond_337
+
+    invoke-interface/range {v54 .. v54}, Landroid/database/Cursor;->getPosition()I
+
+    move-result v1
+
+    const/4 v4, 0x0
+
+    move-object/from16 v0, v54
+
+    invoke-interface {v0, v4}, Landroid/database/Cursor;->getInt(I)I
+
+    move-result v4
+
+    aput v4, v52, v1
+    :try_end_306
+    .catchall {:try_start_2b9 .. :try_end_306} :catchall_33e
+    .catch Ljava/lang/Exception; {:try_start_2b9 .. :try_end_306} :catch_307
+
+    goto :goto_2f3
+
+    :catch_307
+    move-exception v55
+
+    :goto_308
+    :try_start_308
+    const-string v1, "PrivacyPersistenceAdapter"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "getSettings - failed to get settings for package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p1
+
+    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    move-object/from16 v0, v55
+
+    invoke-static {v1, v4, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+    :try_end_324
+    .catchall {:try_start_308 .. :try_end_324} :catchall_33e
+
+    if-eqz v54, :cond_329
+
+    invoke-interface/range {v54 .. v54}, Landroid/database/Cursor;->close()V
+
+    :cond_329
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v1}, Ljava/util/concurrent/locks/ReadWriteLock;->readLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v1
+
+    invoke-interface {v1}, Ljava/util/concurrent/locks/Lock;->unlock()V
+
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    goto/16 :goto_a1
+
+    :cond_337
+    :try_start_337
+    move-object/from16 v0, v52
+
+    invoke-virtual {v3, v0}, Landroid/privacy/PrivacySettings;->setAllowedContacts([I)V
+    :try_end_33c
+    .catchall {:try_start_337 .. :try_end_33c} :catchall_33e
+    .catch Ljava/lang/Exception; {:try_start_337 .. :try_end_33c} :catch_307
+
+    goto/16 :goto_87
+
+    :catchall_33e
+    move-exception v1
+
+    :goto_33f
+    if-eqz v54, :cond_344
+
+    invoke-interface/range {v54 .. v54}, Landroid/database/Cursor;->close()V
+
+    :cond_344
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v4}, Ljava/util/concurrent/locks/ReadWriteLock;->readLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v4
+
+    invoke-interface {v4}, Ljava/util/concurrent/locks/Lock;->unlock()V
+
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    throw v1
+
+    :cond_351
+    :try_start_351
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->settingsCache:Landroid/util/LruCache;
+
+    new-instance v4, Landroid/privacy/PrivacySettingsStub;
+
+    invoke-direct {v4}, Landroid/privacy/PrivacySettingsStub;-><init>()V
+
+    move-object/from16 v0, p1
+
+    invoke-virtual {v1, v0, v4}, Landroid/util/LruCache;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
+    :try_end_35d
+    .catchall {:try_start_351 .. :try_end_35d} :catchall_33e
+    .catch Ljava/lang/Exception; {:try_start_351 .. :try_end_35d} :catch_307
+
+    goto/16 :goto_90
+
+    :catchall_35f
+    move-exception v1
+
+    move-object/from16 v3, v56
+
+    goto :goto_33f
+
+    :catch_363
+    move-exception v55
+
+    move-object/from16 v3, v56
+
+    goto :goto_308
+
+    :cond_367
+    move-object/from16 v3, v56
+
+    goto/16 :goto_87
+.end method
+
+.method public getValue(Ljava/lang/String;)Ljava/lang/String;
+    .registers 15
+
+    const/4 v0, 0x0
+
+    const/4 v12, 0x0
+
+    :try_start_2
+    sget-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    monitor-enter v2
+    :try_end_5
+    .catchall {:try_start_2 .. :try_end_5} :catchall_41
+
+    :try_start_5
+    sget-object v3, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    sget-object v3, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v3}, Ljava/lang/Integer;->intValue()I
+
+    move-result v3
+
+    add-int/lit8 v3, v3, 0x1
+
+    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v3
+
+    sput-object v3, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    monitor-exit v2
+    :try_end_16
+    .catchall {:try_start_5 .. :try_end_16} :catchall_3e
+
+    :try_start_16
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getDatabase()Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object v1
+
+    if-eqz v1, :cond_22
+
+    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v2
+
+    if-nez v2, :cond_46
+
+    :cond_22
+    const-string v2, "PrivacyPersistenceAdapter"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "PrivacyPersistenceAdapter:getValue: Database not obtained while getting value for name: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v2, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_3a
+    .catchall {:try_start_16 .. :try_end_3a} :catchall_41
+
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    :goto_3d
+    return-object v0
+
+    :catchall_3e
+    move-exception v0
+
+    :try_start_3f
+    monitor-exit v2
+    :try_end_40
+    .catchall {:try_start_3f .. :try_end_40} :catchall_3e
+
+    :try_start_40
+    throw v0
+    :try_end_41
+    .catchall {:try_start_40 .. :try_end_41} :catchall_41
+
+    :catchall_41
+    move-exception v0
+
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    throw v0
+
+    :cond_46
+    :try_start_46
+    sget-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v0}, Ljava/util/concurrent/locks/ReadWriteLock;->readLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v0
+
+    invoke-interface {v0}, Ljava/util/concurrent/locks/Lock;->lock()V
+    :try_end_4f
+    .catchall {:try_start_46 .. :try_end_4f} :catchall_41
+
+    :try_start_4f
+    const-string/jumbo v2, "map"
+
+    const/4 v0, 0x1
+
+    new-array v3, v0, [Ljava/lang/String;
+
+    const/4 v0, 0x0
+
+    const-string/jumbo v4, "value"
+
+    aput-object v4, v3, v0
+
+    const-string/jumbo v4, "name=?"
+
+    const/4 v0, 0x1
+
+    new-array v5, v0, [Ljava/lang/String;
+
+    const/4 v0, 0x0
+
+    aput-object p1, v5, v0
+
+    const/4 v6, 0x0
+
+    const/4 v7, 0x0
+
+    const/4 v8, 0x0
+
+    const/4 v9, 0x0
+
+    move-object v0, p0
+
+    invoke-direct/range {v0 .. v9}, Landroid/privacy/PrivacyPersistenceAdapter;->query(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
+
+    move-result-object v10
+
+    if-eqz v10, :cond_97
+
+    invoke-interface {v10}, Landroid/database/Cursor;->getCount()I
+
+    move-result v0
+
+    if-lez v0, :cond_97
+
+    invoke-interface {v10}, Landroid/database/Cursor;->moveToFirst()Z
+
+    move-result v0
+
+    if-eqz v0, :cond_97
+
+    const-string/jumbo v0, "value"
+
+    invoke-interface {v10, v0}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
+
+    move-result v0
+
+    invoke-interface {v10, v0}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v12
+
+    invoke-interface {v10}, Landroid/database/Cursor;->close()V
+    :try_end_89
+    .catchall {:try_start_4f .. :try_end_89} :catchall_d3
+    .catch Ljava/lang/Exception; {:try_start_4f .. :try_end_89} :catch_b0
+
+    :goto_89
+    :try_start_89
+    sget-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v0}, Ljava/util/concurrent/locks/ReadWriteLock;->readLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v0
+
+    invoke-interface {v0}, Ljava/util/concurrent/locks/Lock;->unlock()V
+    :try_end_92
+    .catchall {:try_start_89 .. :try_end_92} :catchall_41
+
+    :goto_92
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    move-object v0, v12
+
+    goto :goto_3d
+
+    :cond_97
+    :try_start_97
+    const-string v0, "PrivacyPersistenceAdapter"
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "PrivacyPersistenceAdapter:getValue: Could not get value for name: "
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {v0, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_af
+    .catchall {:try_start_97 .. :try_end_af} :catchall_d3
+    .catch Ljava/lang/Exception; {:try_start_97 .. :try_end_af} :catch_b0
+
+    goto :goto_89
+
+    :catch_b0
+    move-exception v11
+
+    :try_start_b1
+    const-string v0, "PrivacyPersistenceAdapter"
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "PrivacyPersistenceAdapter:getValue: Exception occurred while getting value for name: "
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {v0, v2, v11}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+    :try_end_c9
+    .catchall {:try_start_b1 .. :try_end_c9} :catchall_d3
+
+    :try_start_c9
+    sget-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v0}, Ljava/util/concurrent/locks/ReadWriteLock;->readLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v0
+
+    invoke-interface {v0}, Ljava/util/concurrent/locks/Lock;->unlock()V
+
+    goto :goto_92
+
+    :catchall_d3
+    move-exception v0
+
+    sget-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v2}, Ljava/util/concurrent/locks/ReadWriteLock;->readLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v2
+
+    invoke-interface {v2}, Ljava/util/concurrent/locks/Lock;->unlock()V
+
+    throw v0
+    :try_end_de
+    .catchall {:try_start_c9 .. :try_end_de} :catchall_41
+.end method
+
+.method public purgeSettings()Z
+    .registers 26
+
+    const/16 v23, 0x1
+
+    new-instance v13, Ljava/util/HashSet;
+
+    invoke-direct {v13}, Ljava/util/HashSet;-><init>()V
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/privacy/PrivacyPersistenceAdapter;->mContext:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageManager()Landroid/content/pm/PackageManager;
+
+    move-result-object v20
+
+    const/4 v2, 0x0
+
+    move-object/from16 v0, v20
+
+    invoke-virtual {v0, v2}, Landroid/content/pm/PackageManager;->getInstalledApplications(I)Ljava/util/List;
+
+    move-result-object v18
+
+    invoke-interface/range {v18 .. v18}, Ljava/util/List;->iterator()Ljava/util/Iterator;
+
+    move-result-object v17
+
+    :goto_1a
+    invoke-interface/range {v17 .. v17}, Ljava/util/Iterator;->hasNext()Z
+
+    move-result v2
+
+    if-eqz v2, :cond_2c
+
+    invoke-interface/range {v17 .. v17}, Ljava/util/Iterator;->next()Ljava/lang/Object;
+
+    move-result-object v12
+
+    check-cast v12, Landroid/content/pm/ApplicationInfo;
+
+    iget-object v2, v12, Landroid/content/pm/ApplicationInfo;->packageName:Ljava/lang/String;
+
+    invoke-interface {v13, v2}, Ljava/util/Set;->add(Ljava/lang/Object;)Z
+
+    goto :goto_1a
+
+    :cond_2c
+    const/4 v3, 0x0
+
+    :try_start_2d
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    monitor-enter v4
+    :try_end_30
+    .catchall {:try_start_2d .. :try_end_30} :catchall_11b
+    .catch Ljava/lang/Exception; {:try_start_2d .. :try_end_30} :catch_56
+
+    :try_start_30
+    sget-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    sget-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v2}, Ljava/lang/Integer;->intValue()I
+
+    move-result v2
+
+    add-int/lit8 v2, v2, 0x1
+
+    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v2
+
+    sput-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    monitor-exit v4
+    :try_end_41
+    .catchall {:try_start_30 .. :try_end_41} :catchall_53
+
+    :try_start_41
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getDatabase()Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object v3
+
+    if-nez v3, :cond_68
+
+    const-string v2, "PrivacyPersistenceAdapter"
+
+    const-string v4, "PrivacyPersistenceAdapter:purgeSettings: db could not be obtained"
+
+    invoke-static {v2, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_4e
+    .catchall {:try_start_41 .. :try_end_4e} :catchall_11b
+    .catch Ljava/lang/Exception; {:try_start_41 .. :try_end_4e} :catch_56
+
+    const/4 v2, 0x0
+
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    :goto_52
+    return v2
+
+    :catchall_53
+    move-exception v2
+
+    :try_start_54
+    monitor-exit v4
+    :try_end_55
+    .catchall {:try_start_54 .. :try_end_55} :catchall_53
+
+    :try_start_55
+    throw v2
+    :try_end_56
+    .catchall {:try_start_55 .. :try_end_56} :catchall_11b
+    .catch Ljava/lang/Exception; {:try_start_55 .. :try_end_56} :catch_56
+
+    :catch_56
+    move-exception v16
+
+    :try_start_57
+    const-string v2, "PrivacyPersistenceAdapter"
+
+    const-string v4, "PrivacyPersistenceAdapter:purgeSettings - purging DB failed"
+
+    move-object/from16 v0, v16
+
+    invoke-static {v2, v4, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+    :try_end_60
+    .catchall {:try_start_57 .. :try_end_60} :catchall_11b
+
+    const/16 v23, 0x0
+
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    :goto_65
+    move/from16 v2, v23
+
+    goto :goto_52
+
+    :cond_68
+    :try_start_68
+    sget-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v2}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v2
+
+    invoke-interface {v2}, Ljava/util/concurrent/locks/Lock;->lock()V
+    :try_end_71
+    .catchall {:try_start_68 .. :try_end_71} :catchall_11b
+    .catch Ljava/lang/Exception; {:try_start_68 .. :try_end_71} :catch_56
+
+    const/4 v15, 0x0
+
+    :try_start_72
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V
+    :try_end_75
+    .catchall {:try_start_72 .. :try_end_75} :catchall_110
+
+    :try_start_75
+    const-string/jumbo v4, "settings"
+
+    const/4 v2, 0x1
+
+    new-array v5, v2, [Ljava/lang/String;
+
+    const/4 v2, 0x0
+
+    const-string/jumbo v6, "packageName"
+
+    aput-object v6, v5, v2
+
+    const/4 v6, 0x0
+
+    const/4 v7, 0x0
+
+    const/4 v8, 0x0
+
+    const/4 v9, 0x0
+
+    const/4 v10, 0x0
+
+    const/4 v11, 0x0
+
+    move-object/from16 v2, p0
+
+    invoke-direct/range {v2 .. v11}, Landroid/privacy/PrivacyPersistenceAdapter;->query(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
+
+    move-result-object v15
+
+    if-eqz v15, :cond_bd
+
+    invoke-interface {v15}, Landroid/database/Cursor;->getCount()I
+
+    move-result v2
+
+    if-lez v2, :cond_bd
+
+    invoke-interface {v15}, Landroid/database/Cursor;->moveToFirst()Z
+
+    move-result v2
+
+    if-eqz v2, :cond_bd
+
+    :cond_9b
+    const/4 v2, 0x0
+
+    invoke-interface {v15, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v22
+
+    move-object/from16 v0, v22
+
+    invoke-interface {v13, v0}, Ljava/util/Set;->contains(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-nez v2, :cond_b7
+
+    const-string/jumbo v2, "settings"
+
+    const-string/jumbo v4, "packageName = ?"
+
+    const/4 v5, 0x1
+
+    new-array v5, v5, [Ljava/lang/String;
+
+    const/4 v6, 0x0
+
+    aput-object v22, v5, v6
+
+    invoke-virtual {v3, v2, v4, v5}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I
+
+    :cond_b7
+    invoke-interface {v15}, Landroid/database/Cursor;->moveToNext()Z
+
+    move-result v2
+
+    if-nez v2, :cond_9b
+
+    :cond_bd
+    new-instance v24, Ljava/io/File;
+
+    const-string v2, "/data/system/privacy"
+
+    move-object/from16 v0, v24
+
+    invoke-direct {v0, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual/range {v24 .. v24}, Ljava/io/File;->listFiles()[Ljava/io/File;
+
+    move-result-object v14
+
+    array-length v0, v14
+
+    move/from16 v19, v0
+
+    const/16 v17, 0x0
+
+    :goto_cf
+    move/from16 v0, v17
+
+    move/from16 v1, v19
+
+    if-ge v0, v1, :cond_ed
+
+    aget-object v21, v14, v17
+
+    invoke-virtual/range {v21 .. v21}, Ljava/io/File;->getName()Ljava/lang/String;
+
+    move-result-object v22
+
+    move-object/from16 v0, v22
+
+    invoke-interface {v13, v0}, Ljava/util/Set;->contains(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-nez v2, :cond_ea
+
+    move-object/from16 v0, p0
+
+    move-object/from16 v1, v21
+
+    invoke-direct {v0, v1}, Landroid/privacy/PrivacyPersistenceAdapter;->deleteRecursive(Ljava/io/File;)V
+
+    :cond_ea
+    add-int/lit8 v17, v17, 0x1
+
+    goto :goto_cf
+
+    :cond_ed
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V
+    :try_end_f0
+    .catchall {:try_start_75 .. :try_end_f0} :catchall_106
+
+    if-eqz v15, :cond_f5
+
+    :try_start_f2
+    invoke-interface {v15}, Landroid/database/Cursor;->close()V
+
+    :cond_f5
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
+    :try_end_f8
+    .catchall {:try_start_f2 .. :try_end_f8} :catchall_110
+
+    :try_start_f8
+    sget-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v2}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v2
+
+    invoke-interface {v2}, Ljava/util/concurrent/locks/Lock;->unlock()V
+    :try_end_101
+    .catchall {:try_start_f8 .. :try_end_101} :catchall_11b
+    .catch Ljava/lang/Exception; {:try_start_f8 .. :try_end_101} :catch_56
+
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    goto/16 :goto_65
+
+    :catchall_106
+    move-exception v2
+
+    if-eqz v15, :cond_10c
+
+    :try_start_109
+    invoke-interface {v15}, Landroid/database/Cursor;->close()V
+
+    :cond_10c
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
+
+    throw v2
+    :try_end_110
+    .catchall {:try_start_109 .. :try_end_110} :catchall_110
+
+    :catchall_110
+    move-exception v2
+
+    :try_start_111
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v4}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v4
+
+    invoke-interface {v4}, Ljava/util/concurrent/locks/Lock;->unlock()V
+
+    throw v2
+    :try_end_11b
+    .catchall {:try_start_111 .. :try_end_11b} :catchall_11b
+    .catch Ljava/lang/Exception; {:try_start_111 .. :try_end_11b} :catch_56
+
+    :catchall_11b
+    move-exception v2
+
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    throw v2
+.end method
+
+.method public saveSettings(Landroid/privacy/PrivacySettings;)Z
+    .registers 25
+
+    const/16 v19, 0x0
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getPackageName()Ljava/lang/String;
+
+    move-result-object v18
+
+    if-eqz v18, :cond_e
+
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/String;->isEmpty()Z
+
+    move-result v4
+
+    if-eqz v4, :cond_18
+
+    :cond_e
+    const-string v4, "PrivacyPersistenceAdapter"
+
+    const-string/jumbo v5, "saveSettings - either package name is missing"
+
+    invoke-static {v4, v5}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v4, 0x0
+
+    :goto_17
+    return v4
+
+    :cond_18
+    new-instance v22, Landroid/content/ContentValues;
+
+    invoke-direct/range {v22 .. v22}, Landroid/content/ContentValues;-><init>()V
+
+    const-string/jumbo v4, "packageName"
+
+    move-object/from16 v0, v22
+
+    move-object/from16 v1, v18
+
+    invoke-virtual {v0, v4, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string/jumbo v4, "uid"
+
+    const/4 v5, -0x1
+
+    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
+
+    const-string v4, "deviceIdSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v4, "deviceId"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string v4, "line1NumberSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string v4, "locationGpsSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v4, "locationGpsLat"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getLocationGpsLat()Ljava/lang/String;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string v4, "locationGpsLon"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getLocationGpsLon()Ljava/lang/String;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string v4, "locationNetworkSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v4, "locationNetworkLat"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getLocationNetworkLat()Ljava/lang/String;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string v4, "locationNetworkLon"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getLocationNetworkLon()Ljava/lang/String;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string/jumbo v4, "networkInfoSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v4, "simInfoSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getSimInfoSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v4, "simSerialNumberSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getSimSerialNumberSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v4, "simSerialNumber"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getSimSerialNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string/jumbo v4, "subscriberIdSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v4, "subscriberId"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string v4, "accountsSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getAccountsSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v4, "accountsAuthTokensSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getAccountsAuthTokensSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v4, "outgoingCallsSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getOutgoingCallsSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v4, "incomingCallsSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getIncomingCallsSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v4, "contactsSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getContactsSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v4, "calendarSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getCalendarSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v4, "mmsSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getMmsSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v4, "smsSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getSmsSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v4, "callLogSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getCallLogSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v4, "bookmarksSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getBookmarksSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v4, "systemLogsSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getSystemLogsSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v4, "notificationSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getNotificationSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v4, "intentBootCompletedSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getIntentBootCompletedSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v4, "cameraSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getCameraSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v4, "recordAudioSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getRecordAudioSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v4, "smsSendSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getSmsSendSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v4, "phoneCallSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v4, "ipTableProtectSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getIpTableProtectSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v4, "iccAccessSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getIccAccessSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v4, "addOnManagementSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getAddOnManagementSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v4, "androidIdSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getAndroidIdSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v4, "androidId"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getAndroidID()Ljava/lang/String;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string/jumbo v4, "wifiInfoSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getWifiInfoSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v4, "switchConnectivitySetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getSwitchConnectivitySetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v4, "sendMmsSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getSendMmsSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v4, "forceOnlineState"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getForceOnlineState()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v4, "switchWifiStateSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getSwitchWifiStateSetting()B
+
+    move-result v5
+
+    invoke-static {v5}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v5
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const/4 v3, 0x0
+
+    const/4 v13, 0x0
+
+    :try_start_2a9
+    sget-object v5, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    monitor-enter v5
+    :try_end_2ac
+    .catchall {:try_start_2a9 .. :try_end_2ac} :catchall_33c
+    .catch Ljava/lang/Exception; {:try_start_2a9 .. :try_end_2ac} :catch_311
+
+    :try_start_2ac
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I
+
+    move-result v4
+
+    add-int/lit8 v4, v4, 0x1
+
+    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v4
+
+    sput-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    monitor-exit v5
+    :try_end_2bd
+    .catchall {:try_start_2ac .. :try_end_2bd} :catchall_339
+
+    :try_start_2bd
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getDatabase()Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object v3
+
+    if-eqz v3, :cond_4f9
+
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v4
+
+    if-eqz v4, :cond_4f9
+
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v4}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v4
+
+    invoke-interface {v4}, Ljava/util/concurrent/locks/Lock;->lock()V
+    :try_end_2d2
+    .catchall {:try_start_2bd .. :try_end_2d2} :catchall_33c
+    .catch Ljava/lang/Exception; {:try_start_2bd .. :try_end_2d2} :catch_311
+
+    :try_start_2d2
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V
+    :try_end_2d5
+    .catchall {:try_start_2d2 .. :try_end_2d5} :catchall_306
+
+    :try_start_2d5
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->get_id()Ljava/lang/Integer;
+
+    move-result-object v16
+
+    if-eqz v16, :cond_38d
+
+    const-string/jumbo v4, "settings"
+
+    const-string v5, "_id=?"
+
+    const/4 v6, 0x1
+
+    new-array v6, v6, [Ljava/lang/String;
+
+    const/4 v7, 0x0
+
+    invoke-virtual/range {v16 .. v16}, Ljava/lang/Integer;->toString()Ljava/lang/String;
+
+    move-result-object v8
+
+    aput-object v8, v6, v7
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v3, v4, v0, v5, v6}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
+
+    move-result v4
+
+    const/4 v5, 0x1
+
+    if-ge v4, v5, :cond_341
+
+    new-instance v4, Ljava/lang/Exception;
+
+    const-string/jumbo v5, "saveSettings - failed to update database entry"
+
+    invoke-direct {v4, v5}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v4
+    :try_end_2fc
+    .catchall {:try_start_2d5 .. :try_end_2fc} :catchall_2fc
+
+    :catchall_2fc
+    move-exception v4
+
+    :try_start_2fd
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
+
+    if-eqz v13, :cond_305
+
+    invoke-interface {v13}, Landroid/database/Cursor;->close()V
+
+    :cond_305
+    throw v4
+    :try_end_306
+    .catchall {:try_start_2fd .. :try_end_306} :catchall_306
+
+    :catchall_306
+    move-exception v4
+
+    :try_start_307
+    sget-object v5, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v5}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v5
+
+    invoke-interface {v5}, Ljava/util/concurrent/locks/Lock;->unlock()V
+
+    throw v4
+    :try_end_311
+    .catchall {:try_start_307 .. :try_end_311} :catchall_33c
+    .catch Ljava/lang/Exception; {:try_start_307 .. :try_end_311} :catch_311
+
+    :catch_311
+    move-exception v14
+
+    :try_start_312
+    const-string v4, "PrivacyPersistenceAdapter"
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v6, "PrivacyPersistenceAdapter:saveSettings: saving for "
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    move-object/from16 v0, v18
+
+    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v6, " failed"
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-static {v4, v5, v14}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+    :try_end_332
+    .catchall {:try_start_312 .. :try_end_332} :catchall_33c
+
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    :goto_335
+    move/from16 v4, v19
+
+    goto/16 :goto_17
+
+    :catchall_339
+    move-exception v4
+
+    :try_start_33a
+    monitor-exit v5
+    :try_end_33b
+    .catchall {:try_start_33a .. :try_end_33b} :catchall_339
+
+    :try_start_33b
+    throw v4
+    :try_end_33c
+    .catchall {:try_start_33b .. :try_end_33c} :catchall_33c
+    .catch Ljava/lang/Exception; {:try_start_33b .. :try_end_33c} :catch_311
+
+    :catchall_33c
+    move-exception v4
+
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    throw v4
+
+    :cond_341
+    :try_start_341
+    const-string v4, "allowed_contacts"
+
+    const-string/jumbo v5, "settings_id=?"
+
+    const/4 v6, 0x1
+
+    new-array v6, v6, [Ljava/lang/String;
+
+    const/4 v7, 0x0
+
+    invoke-virtual/range {v16 .. v16}, Ljava/lang/Integer;->toString()Ljava/lang/String;
+
+    move-result-object v8
+
+    aput-object v8, v6, v7
+
+    invoke-virtual {v3, v4, v5, v6}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getAllowedContacts()[I
+
+    move-result-object v11
+
+    if-eqz v11, :cond_4af
+
+    new-instance v12, Landroid/content/ContentValues;
+
+    invoke-direct {v12}, Landroid/content/ContentValues;-><init>()V
+
+    const/4 v15, 0x0
+
+    :goto_35f
+    array-length v4, v11
+
+    if-ge v15, v4, :cond_4af
+
+    const-string/jumbo v4, "settings_id"
+
+    move-object/from16 v0, v16
+
+    invoke-virtual {v12, v4, v0}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
+
+    const-string v4, "contact_id"
+
+    aget v5, v11, v15
+
+    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v5
+
+    invoke-virtual {v12, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
+
+    const-string v4, "allowed_contacts"
+
+    const/4 v5, 0x0
+
+    invoke-virtual {v3, v4, v5, v12}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J
+
+    move-result-wide v4
+
+    const-wide/16 v6, -0x1
+
+    cmp-long v4, v4, v6
+
+    if-nez v4, :cond_38a
+
+    new-instance v4, Ljava/lang/Exception;
+
+    const-string v5, "PrivacyPersistenceAdapter:saveSettings: failed to update database entry (contacts)"
+
+    invoke-direct {v4, v5}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v4
+
+    :cond_38a
+    add-int/lit8 v15, v15, 0x1
+
+    goto :goto_35f
+
+    :cond_38d
+    const-string/jumbo v4, "settings"
+
+    const/4 v5, 0x1
+
+    new-array v5, v5, [Ljava/lang/String;
+
+    const/4 v6, 0x0
+
+    const-string v7, "_id"
+
+    aput-object v7, v5, v6
+
+    const-string/jumbo v6, "packageName=?"
+
+    const/4 v7, 0x1
+
+    new-array v7, v7, [Ljava/lang/String;
+
+    const/4 v8, 0x0
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getPackageName()Ljava/lang/String;
+
+    move-result-object v9
+
+    aput-object v9, v7, v8
+
+    const/4 v8, 0x0
+
+    const/4 v9, 0x0
+
+    const/4 v10, 0x0
+
+    invoke-virtual/range {v3 .. v10}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
+
+    move-result-object v13
+
+    if-eqz v13, :cond_4a7
+
+    invoke-interface {v13}, Landroid/database/Cursor;->getCount()I
+
+    move-result v4
+
+    const/4 v5, 0x1
+
+    if-ne v4, v5, :cond_433
+
+    const-string/jumbo v4, "settings"
+
+    const-string/jumbo v5, "packageName=?"
+
+    const/4 v6, 0x1
+
+    new-array v6, v6, [Ljava/lang/String;
+
+    const/4 v7, 0x0
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getPackageName()Ljava/lang/String;
+
+    move-result-object v8
+
+    aput-object v8, v6, v7
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v3, v4, v0, v5, v6}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
+
+    move-result v4
+
+    const/4 v5, 0x1
+
+    if-ge v4, v5, :cond_3d7
+
+    new-instance v4, Ljava/lang/Exception;
+
+    const-string/jumbo v5, "saveSettings - failed to update database entry"
+
+    invoke-direct {v4, v5}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v4
+
+    :cond_3d7
+    invoke-interface {v13}, Landroid/database/Cursor;->moveToFirst()Z
+
+    move-result v4
+
+    if-eqz v4, :cond_4af
+
+    const/4 v4, 0x0
+
+    invoke-interface {v13, v4}, Landroid/database/Cursor;->getInt(I)I
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v17
+
+    const-string v4, "allowed_contacts"
+
+    const-string/jumbo v5, "settings_id=?"
+
+    const/4 v6, 0x1
+
+    new-array v6, v6, [Ljava/lang/String;
+
+    const/4 v7, 0x0
+
+    invoke-virtual/range {v17 .. v17}, Ljava/lang/Integer;->toString()Ljava/lang/String;
+
+    move-result-object v8
+
+    aput-object v8, v6, v7
+
+    invoke-virtual {v3, v4, v5, v6}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getAllowedContacts()[I
+
+    move-result-object v11
+
+    if-eqz v11, :cond_4af
+
+    new-instance v12, Landroid/content/ContentValues;
+
+    invoke-direct {v12}, Landroid/content/ContentValues;-><init>()V
+
+    const/4 v15, 0x0
+
+    :goto_404
+    array-length v4, v11
+
+    if-ge v15, v4, :cond_4af
+
+    const-string/jumbo v4, "settings_id"
+
+    move-object/from16 v0, v17
+
+    invoke-virtual {v12, v4, v0}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
+
+    const-string v4, "contact_id"
+
+    aget v5, v11, v15
+
+    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v5
+
+    invoke-virtual {v12, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
+
+    const-string v4, "allowed_contacts"
+
+    const/4 v5, 0x0
+
+    invoke-virtual {v3, v4, v5, v12}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J
+
+    move-result-wide v4
+
+    const-wide/16 v6, -0x1
+
+    cmp-long v4, v4, v6
+
+    if-nez v4, :cond_430
+
+    new-instance v4, Ljava/lang/Exception;
+
+    const-string/jumbo v5, "saveSettings - failed to update database entry (contacts)"
+
+    invoke-direct {v4, v5}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v4
+
+    :cond_430
+    add-int/lit8 v15, v15, 0x1
+
+    goto :goto_404
+
+    :cond_433
+    invoke-interface {v13}, Landroid/database/Cursor;->getCount()I
+
+    move-result v4
+
+    if-nez v4, :cond_49f
+
+    const-string/jumbo v4, "settings"
+
+    const/4 v5, 0x0
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v3, v4, v5, v0}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J
+
+    move-result-wide v20
+
+    const-wide/16 v4, -0x1
+
+    cmp-long v4, v20, v4
+
+    if-nez v4, :cond_451
+
+    new-instance v4, Ljava/lang/Exception;
+
+    const-string v5, "PrivacyPersistenceAdapter:saveSettings - failed to insert new record into DB"
+
+    invoke-direct {v4, v5}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v4
+
+    :cond_451
+    const-string v4, "allowed_contacts"
+
+    const-string/jumbo v5, "settings_id=?"
+
+    const/4 v6, 0x1
+
+    new-array v6, v6, [Ljava/lang/String;
+
+    const/4 v7, 0x0
+
+    invoke-static/range {v20 .. v21}, Ljava/lang/Long;->toString(J)Ljava/lang/String;
+
+    move-result-object v8
+
+    aput-object v8, v6, v7
+
+    invoke-virtual {v3, v4, v5, v6}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getAllowedContacts()[I
+
+    move-result-object v11
+
+    if-eqz v11, :cond_4af
+
+    new-instance v12, Landroid/content/ContentValues;
+
+    invoke-direct {v12}, Landroid/content/ContentValues;-><init>()V
+
+    const/4 v15, 0x0
+
+    :goto_46f
+    array-length v4, v11
+
+    if-ge v15, v4, :cond_4af
+
+    const-string/jumbo v4, "settings_id"
+
+    invoke-static/range {v20 .. v21}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
+
+    move-result-object v5
+
+    invoke-virtual {v12, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V
+
+    const-string v4, "contact_id"
+
+    aget v5, v11, v15
+
+    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v5
+
+    invoke-virtual {v12, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
+
+    const-string v4, "allowed_contacts"
+
+    const/4 v5, 0x0
+
+    invoke-virtual {v3, v4, v5, v12}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J
+
+    move-result-wide v4
+
+    const-wide/16 v6, -0x1
+
+    cmp-long v4, v4, v6
+
+    if-nez v4, :cond_49c
+
+    new-instance v4, Ljava/lang/Exception;
+
+    const-string v5, "PrivacyPersistenceAdapter:saveSettings:failed to update database entry (contacts)"
+
+    invoke-direct {v4, v5}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v4
+
+    :cond_49c
+    add-int/lit8 v15, v15, 0x1
+
+    goto :goto_46f
+
+    :cond_49f
+    new-instance v4, Ljava/lang/Exception;
+
+    const-string v5, "PrivacyPersistenceAdapter:saveSettings:duplicate entries in the privacy.db"
+
+    invoke-direct {v4, v5}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v4
+
+    :cond_4a7
+    new-instance v4, Ljava/lang/Exception;
+
+    const-string v5, "PrivacyPersistenceAdapter:saveSettings:cursor is null, database access failed"
+
+    invoke-direct {v4, v5}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v4
+
+    :cond_4af
+    const-string/jumbo v4, "systemLogsSetting"
+
+    move-object/from16 v0, p0
+
+    move-object/from16 v1, v18
+
+    move-object/from16 v2, p1
+
+    invoke-direct {v0, v4, v1, v2}, Landroid/privacy/PrivacyPersistenceAdapter;->writeExternalSettings(Ljava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)Z
+
+    move-result v4
+
+    if-nez v4, :cond_4c6
+
+    new-instance v4, Ljava/lang/Exception;
+
+    const-string v5, "PrivacyPersistenceAdapter:saveSettings:failed to write systemLogsSettings file"
+
+    invoke-direct {v4, v5}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v4
+
+    :cond_4c6
+    const-string v4, "ipTableProtectSetting"
+
+    move-object/from16 v0, p0
+
+    move-object/from16 v1, v18
+
+    move-object/from16 v2, p1
+
+    invoke-direct {v0, v4, v1, v2}, Landroid/privacy/PrivacyPersistenceAdapter;->writeExternalSettings(Ljava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)Z
+
+    move-result v4
+
+    if-nez v4, :cond_4dc
+
+    new-instance v4, Ljava/lang/Exception;
+
+    const-string v5, "PrivacyPersistenceAdapter:saveSettings:failed to write ipTableProtectSetting file"
+
+    invoke-direct {v4, v5}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v4
+
+    :cond_4dc
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V
+
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->settingsCache:Landroid/util/LruCache;
+
+    move-object/from16 v0, v18
+
+    invoke-virtual {v4, v0}, Landroid/util/LruCache;->remove(Ljava/lang/Object;)Ljava/lang/Object;
+    :try_end_4e6
+    .catchall {:try_start_341 .. :try_end_4e6} :catchall_2fc
+
+    :try_start_4e6
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
+
+    if-eqz v13, :cond_4ee
+
+    invoke-interface {v13}, Landroid/database/Cursor;->close()V
+    :try_end_4ee
+    .catchall {:try_start_4e6 .. :try_end_4ee} :catchall_306
+
+    :cond_4ee
+    :try_start_4ee
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v4}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v4
+
+    invoke-interface {v4}, Ljava/util/concurrent/locks/Lock;->unlock()V
+    :try_end_4f7
+    .catchall {:try_start_4ee .. :try_end_4f7} :catchall_33c
+    .catch Ljava/lang/Exception; {:try_start_4ee .. :try_end_4f7} :catch_311
+
+    const/16 v19, 0x1
+
+    :cond_4f9
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    goto/16 :goto_335
+.end method
+
+.method public setValue(Ljava/lang/String;Ljava/lang/String;)Z
+    .registers 11
+
+    const/4 v3, 0x0
+
+    const-string v4, "PrivacyPersistenceAdapter"
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v6, "setValue - name "
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v6, " value "
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-static {v4, v5}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    new-instance v2, Landroid/content/ContentValues;
+
+    invoke-direct {v2}, Landroid/content/ContentValues;-><init>()V
+
+    const-string/jumbo v4, "name"
+
+    invoke-virtual {v2, v4, p1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string/jumbo v4, "value"
+
+    invoke-virtual {v2, v4, p2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const/4 v1, 0x0
+
+    :try_start_36
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    monitor-enter v4
+    :try_end_39
+    .catchall {:try_start_36 .. :try_end_39} :catchall_75
+
+    :try_start_39
+    sget-object v5, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    sget-object v5, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v5}, Ljava/lang/Integer;->intValue()I
+
+    move-result v5
+
+    add-int/lit8 v5, v5, 0x1
+
+    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v5
+
+    sput-object v5, Landroid/privacy/PrivacyPersistenceAdapter;->sDbAccessThreads:Ljava/lang/Integer;
+
+    monitor-exit v4
+    :try_end_4a
+    .catchall {:try_start_39 .. :try_end_4a} :catchall_72
+
+    :try_start_4a
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getDatabase()Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object v0
+
+    if-eqz v0, :cond_56
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v4
+
+    if-nez v4, :cond_7a
+
+    :cond_56
+    const-string v4, "PrivacyPersistenceAdapter"
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v6, "PrivacyPersistenceAdapter:setValue: Database not obtained while setting value for name: "
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-static {v4, v5}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_6e
+    .catchall {:try_start_4a .. :try_end_6e} :catchall_75
+
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    :goto_71
+    return v3
+
+    :catchall_72
+    move-exception v3
+
+    :try_start_73
+    monitor-exit v4
+    :try_end_74
+    .catchall {:try_start_73 .. :try_end_74} :catchall_72
+
+    :try_start_74
+    throw v3
+    :try_end_75
+    .catchall {:try_start_74 .. :try_end_75} :catchall_75
+
+    :catchall_75
+    move-exception v3
+
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    throw v3
+
+    :cond_7a
+    :try_start_7a
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v4}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v4
+
+    invoke-interface {v4}, Ljava/util/concurrent/locks/Lock;->lock()V
+    :try_end_83
+    .catchall {:try_start_7a .. :try_end_83} :catchall_75
+
+    :try_start_83
+    const-string/jumbo v4, "map"
+
+    const/4 v5, 0x0
+
+    invoke-virtual {v0, v4, v5, v2}, Landroid/database/sqlite/SQLiteDatabase;->replace(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J
+    :try_end_8a
+    .catchall {:try_start_83 .. :try_end_8a} :catchall_a2
+
+    move-result-wide v4
+
+    const-wide/16 v6, -0x1
+
+    cmp-long v4, v4, v6
+
+    if-eqz v4, :cond_a0
+
+    const/4 v1, 0x1
+
+    :goto_92
+    :try_start_92
+    sget-object v3, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v3}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v3
+
+    invoke-interface {v3}, Ljava/util/concurrent/locks/Lock;->unlock()V
+    :try_end_9b
+    .catchall {:try_start_92 .. :try_end_9b} :catchall_75
+
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->closeIdleDatabase()V
+
+    move v3, v1
+
+    goto :goto_71
+
+    :cond_a0
+    move v1, v3
+
+    goto :goto_92
+
+    :catchall_a2
+    move-exception v3
+
+    :try_start_a3
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->sDbLock:Ljava/util/concurrent/locks/ReadWriteLock;
+
+    invoke-interface {v4}, Ljava/util/concurrent/locks/ReadWriteLock;->writeLock()Ljava/util/concurrent/locks/Lock;
+
+    move-result-object v4
+
+    invoke-interface {v4}, Ljava/util/concurrent/locks/Lock;->unlock()V
+
+    throw v3
+    :try_end_ad
+    .catchall {:try_start_a3 .. :try_end_ad} :catchall_75
+.end method
diff -Npruw stock-framework/smali/android/privacy/PrivacySettings$1.smali pdroid-framework/smali/android/privacy/PrivacySettings$1.smali
--- stock-framework/smali/android/privacy/PrivacySettings$1.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/PrivacySettings$1.smali	2013-07-15 18:10:49.750628166 -0500
@@ -0,0 +1,77 @@
+.class final Landroid/privacy/PrivacySettings$1;
+.super Ljava/lang/Object;
+.source "PrivacySettings.java"
+
+# interfaces
+.implements Landroid/os/Parcelable$Creator;
+
+
+# annotations
+.annotation system Ldalvik/annotation/EnclosingClass;
+    value = Landroid/privacy/PrivacySettings;
+.end annotation
+
+.annotation system Ldalvik/annotation/InnerClass;
+    accessFlags = 0x8
+    name = null
+.end annotation
+
+.annotation system Ldalvik/annotation/Signature;
+    value = {
+        "Ljava/lang/Object;",
+        "Landroid/os/Parcelable$Creator",
+        "<",
+        "Landroid/privacy/PrivacySettings;",
+        ">;"
+    }
+.end annotation
+
+
+# direct methods
+.method constructor <init>()V
+    .registers 1
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public createFromParcel(Landroid/os/Parcel;)Landroid/privacy/PrivacySettings;
+    .registers 3
+
+    new-instance v0, Landroid/privacy/PrivacySettings;
+
+    invoke-direct {v0, p1}, Landroid/privacy/PrivacySettings;-><init>(Landroid/os/Parcel;)V
+
+    return-object v0
+.end method
+
+.method public bridge synthetic createFromParcel(Landroid/os/Parcel;)Ljava/lang/Object;
+    .registers 3
+
+    invoke-virtual {p0, p1}, Landroid/privacy/PrivacySettings$1;->createFromParcel(Landroid/os/Parcel;)Landroid/privacy/PrivacySettings;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public newArray(I)[Landroid/privacy/PrivacySettings;
+    .registers 3
+
+    new-array v0, p1, [Landroid/privacy/PrivacySettings;
+
+    return-object v0
+.end method
+
+.method public bridge synthetic newArray(I)[Ljava/lang/Object;
+    .registers 3
+
+    invoke-virtual {p0, p1}, Landroid/privacy/PrivacySettings$1;->newArray(I)[Landroid/privacy/PrivacySettings;
+
+    move-result-object v0
+
+    return-object v0
+.end method
diff -Npruw stock-framework/smali/android/privacy/PrivacySettingsManagerService.smali pdroid-framework/smali/android/privacy/PrivacySettingsManagerService.smali
--- stock-framework/smali/android/privacy/PrivacySettingsManagerService.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/PrivacySettingsManagerService.smali	2013-07-15 18:10:49.754628166 -0500
@@ -0,0 +1,677 @@
+.class public final Landroid/privacy/PrivacySettingsManagerService;
+.super Landroid/privacy/IPrivacySettingsManager$Stub;
+.source "PrivacySettingsManagerService.java"
+
+
+# static fields
+.field static final API_VERSION:D = 1.51
+
+.field static final MOD_DETAILS:Ljava/lang/String; = "OpenPDroid 1.0 by FFU5y, Mateor, wbedard; forked from PDroid 2.0\nPDroid 2.0 by CollegeDev; forked from PDroid\nPDroid by Syvat\'s\nAdditional contributions by Pastime1971"
+
+.field static final MOD_VERSION:D = 1.0
+
+.field private static final READ_PRIVACY_SETTINGS:Ljava/lang/String; = "android.privacy.READ_PRIVACY_SETTINGS"
+
+.field private static final TAG:Ljava/lang/String; = "PrivacySettingsManagerService"
+
+.field private static final WRITE_PRIVACY_SETTINGS:Ljava/lang/String; = "android.privacy.WRITE_PRIVACY_SETTINGS"
+
+.field public static obs:Landroid/privacy/PrivacyFileObserver;
+
+.field private static sendNotifications:Z
+
+
+# instance fields
+.field private bootCompleted:Z
+
+.field private context:Landroid/content/Context;
+
+.field private enabled:Z
+
+.field private notificationsEnabled:Z
+
+.field private persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+
+# direct methods
+.method static constructor <clinit>()V
+    .registers 1
+
+    const/4 v0, 0x1
+
+    sput-boolean v0, Landroid/privacy/PrivacySettingsManagerService;->sendNotifications:Z
+
+    return-void
+.end method
+
+.method public constructor <init>(Landroid/content/Context;)V
+    .registers 5
+
+    invoke-direct {p0}, Landroid/privacy/IPrivacySettingsManager$Stub;-><init>()V
+
+    const-string v0, "PrivacySettingsManagerService"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "PrivacySettingsManagerService - initializing for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " UID: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettingsManagerService;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacyPersistenceAdapter;
+
+    invoke-direct {v0, p1}, Landroid/privacy/PrivacyPersistenceAdapter;-><init>(Landroid/content/Context;)V
+
+    iput-object v0, p0, Landroid/privacy/PrivacySettingsManagerService;->persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+    new-instance v0, Landroid/privacy/PrivacyFileObserver;
+
+    const-string v1, "/data/system/privacy"
+
+    invoke-direct {v0, v1, p0}, Landroid/privacy/PrivacyFileObserver;-><init>(Ljava/lang/String;Landroid/privacy/PrivacySettingsManagerService;)V
+
+    sput-object v0, Landroid/privacy/PrivacySettingsManagerService;->obs:Landroid/privacy/PrivacyFileObserver;
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettingsManagerService;->persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+    const-string v1, "enabled"
+
+    invoke-virtual {v0, v1}, Landroid/privacy/PrivacyPersistenceAdapter;->getValue(Ljava/lang/String;)Ljava/lang/String;
+
+    move-result-object v0
+
+    const-string v1, "1"
+
+    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    iput-boolean v0, p0, Landroid/privacy/PrivacySettingsManagerService;->enabled:Z
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettingsManagerService;->persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+    const-string/jumbo v1, "notifications_enabled"
+
+    invoke-virtual {v0, v1}, Landroid/privacy/PrivacyPersistenceAdapter;->getValue(Ljava/lang/String;)Ljava/lang/String;
+
+    move-result-object v0
+
+    const-string v1, "1"
+
+    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    iput-boolean v0, p0, Landroid/privacy/PrivacySettingsManagerService;->notificationsEnabled:Z
+
+    const/4 v0, 0x0
+
+    iput-boolean v0, p0, Landroid/privacy/PrivacySettingsManagerService;->bootCompleted:Z
+
+    return-void
+.end method
+
+.method private checkCallerCanReadOrThrow()V
+    .registers 4
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v0
+
+    const/16 v1, 0x3e8
+
+    if-ne v0, v1, :cond_9
+
+    :goto_8
+    return-void
+
+    :cond_9
+    iget-object v0, p0, Landroid/privacy/PrivacySettingsManagerService;->context:Landroid/content/Context;
+
+    const-string v1, "android.privacy.READ_PRIVACY_SETTINGS"
+
+    const-string v2, "Requires READ_PRIVACY_SETTINGS"
+
+    invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingPermission(Ljava/lang/String;Ljava/lang/String;)V
+
+    goto :goto_8
+.end method
+
+.method private checkCallerCanReadSettings()Z
+    .registers 3
+
+    :try_start_0
+    invoke-direct {p0}, Landroid/privacy/PrivacySettingsManagerService;->checkCallerCanReadOrThrow()V
+    :try_end_3
+    .catch Ljava/lang/SecurityException; {:try_start_0 .. :try_end_3} :catch_5
+
+    const/4 v1, 0x1
+
+    :goto_4
+    return v1
+
+    :catch_5
+    move-exception v0
+
+    const/4 v1, 0x0
+
+    goto :goto_4
+.end method
+
+.method private checkCallerCanWriteOrThrow()V
+    .registers 4
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettingsManagerService;->context:Landroid/content/Context;
+
+    const-string v1, "android.privacy.WRITE_PRIVACY_SETTINGS"
+
+    const-string v2, "Requires WRITE_PRIVACY_SETTINGS"
+
+    invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingPermission(Ljava/lang/String;Ljava/lang/String;)V
+
+    return-void
+.end method
+
+.method private checkCallerCanWriteSettings()Z
+    .registers 3
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    :try_start_0
+    invoke-direct {p0}, Landroid/privacy/PrivacySettingsManagerService;->checkCallerCanWriteOrThrow()V
+    :try_end_3
+    .catch Ljava/lang/SecurityException; {:try_start_0 .. :try_end_3} :catch_5
+
+    const/4 v1, 0x1
+
+    :goto_4
+    return v1
+
+    :catch_5
+    move-exception v0
+
+    const/4 v1, 0x0
+
+    goto :goto_4
+.end method
+
+
+# virtual methods
+.method public addObserver(Ljava/lang/String;)V
+    .registers 3
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    invoke-direct {p0}, Landroid/privacy/PrivacySettingsManagerService;->checkCallerCanWriteOrThrow()V
+
+    sget-object v0, Landroid/privacy/PrivacySettingsManagerService;->obs:Landroid/privacy/PrivacyFileObserver;
+
+    invoke-virtual {v0, p1}, Landroid/privacy/PrivacyFileObserver;->addObserver(Ljava/lang/String;)V
+
+    return-void
+.end method
+
+.method public deleteSettings(Ljava/lang/String;)Z
+    .registers 7
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    const/4 v4, 0x1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    const/16 v3, 0x3e8
+
+    if-eq v2, v3, :cond_c
+
+    invoke-direct {p0}, Landroid/privacy/PrivacySettingsManagerService;->checkCallerCanWriteOrThrow()V
+
+    :cond_c
+    iget-object v2, p0, Landroid/privacy/PrivacySettingsManagerService;->persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+    invoke-virtual {v2, p1}, Landroid/privacy/PrivacyPersistenceAdapter;->deleteSettings(Ljava/lang/String;)Z
+
+    move-result v1
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "/data/system/privacy/"
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v0
+
+    new-instance v2, Ljava/io/File;
+
+    invoke-direct {v2, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v2}, Ljava/io/File;->exists()Z
+
+    move-result v2
+
+    if-eqz v2, :cond_38
+
+    if-ne v1, v4, :cond_38
+
+    sget-object v2, Landroid/privacy/PrivacySettingsManagerService;->obs:Landroid/privacy/PrivacyFileObserver;
+
+    invoke-virtual {v2, v0}, Landroid/privacy/PrivacyFileObserver;->addObserver(Ljava/lang/String;)V
+
+    :cond_37
+    :goto_37
+    return v1
+
+    :cond_38
+    if-ne v1, v4, :cond_37
+
+    sget-object v2, Landroid/privacy/PrivacySettingsManagerService;->obs:Landroid/privacy/PrivacyFileObserver;
+
+    iget-object v2, v2, Landroid/privacy/PrivacyFileObserver;->children:Ljava/util/HashMap;
+
+    invoke-virtual {v2, v0}, Ljava/util/HashMap;->remove(Ljava/lang/Object;)Ljava/lang/Object;
+
+    goto :goto_37
+.end method
+
+.method public getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+    .registers 4
+
+    iget-boolean v0, p0, Landroid/privacy/PrivacySettingsManagerService;->enabled:Z
+
+    if-nez v0, :cond_2e
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettingsManagerService;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v0
+
+    const-string v1, "com.privacy.pdroid"
+
+    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_2e
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettingsManagerService;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v0
+
+    const-string v1, "com.privacy.pdroid.Addon"
+
+    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_2e
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettingsManagerService;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v0
+
+    const-string v1, "com.android.privacy.pdroid.extension"
+
+    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    if-eqz v0, :cond_35
+
+    :cond_2e
+    iget-object v0, p0, Landroid/privacy/PrivacySettingsManagerService;->persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+    invoke-virtual {v0, p1}, Landroid/privacy/PrivacyPersistenceAdapter;->getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+
+    move-result-object v0
+
+    :goto_34
+    return-object v0
+
+    :cond_35
+    const/4 v0, 0x0
+
+    goto :goto_34
+.end method
+
+.method public notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+    .registers 8
+
+    iget-boolean v1, p0, Landroid/privacy/PrivacySettingsManagerService;->bootCompleted:Z
+
+    if-eqz v1, :cond_38
+
+    iget-boolean v1, p0, Landroid/privacy/PrivacySettingsManagerService;->notificationsEnabled:Z
+
+    if-eqz v1, :cond_38
+
+    sget-boolean v1, Landroid/privacy/PrivacySettingsManagerService;->sendNotifications:Z
+
+    if-eqz v1, :cond_38
+
+    new-instance v0, Landroid/content/Intent;
+
+    invoke-direct {v0}, Landroid/content/Intent;-><init>()V
+
+    const-string v1, "com.privacy.pdroid.PRIVACY_NOTIFICATION"
+
+    invoke-virtual {v0, v1}, Landroid/content/Intent;->setAction(Ljava/lang/String;)Landroid/content/Intent;
+
+    const-string/jumbo v1, "packageName"
+
+    invoke-virtual {v0, v1, p1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
+
+    const-string/jumbo v1, "uid"
+
+    const/4 v2, -0x1
+
+    invoke-virtual {v0, v1, v2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;
+
+    const-string v1, "accessMode"
+
+    invoke-virtual {v0, v1, p2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;B)Landroid/content/Intent;
+
+    const-string v1, "dataType"
+
+    invoke-virtual {v0, v1, p3}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
+
+    const-string/jumbo v1, "output"
+
+    invoke-virtual {v0, v1, p4}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManagerService;->context:Landroid/content/Context;
+
+    invoke-virtual {v1, v0}, Landroid/content/Context;->sendBroadcast(Landroid/content/Intent;)V
+
+    :cond_38
+    return-void
+.end method
+
+.method public purgeSettings()Z
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettingsManagerService;->persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+    invoke-virtual {v0}, Landroid/privacy/PrivacyPersistenceAdapter;->purgeSettings()Z
+
+    move-result v0
+
+    return v0
+.end method
+
+.method public registerObservers()V
+    .registers 3
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    invoke-direct {p0}, Landroid/privacy/PrivacySettingsManagerService;->checkCallerCanWriteOrThrow()V
+
+    new-instance v0, Landroid/privacy/PrivacyFileObserver;
+
+    const-string v1, "/data/system/privacy"
+
+    invoke-direct {v0, v1, p0}, Landroid/privacy/PrivacyFileObserver;-><init>(Ljava/lang/String;Landroid/privacy/PrivacySettingsManagerService;)V
+
+    sput-object v0, Landroid/privacy/PrivacySettingsManagerService;->obs:Landroid/privacy/PrivacyFileObserver;
+
+    return-void
+.end method
+
+.method public saveSettings(Landroid/privacy/PrivacySettings;)Z
+    .registers 6
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    const-string v1, "PrivacySettingsManagerService"
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v3, "saveSettings - checking if caller (UID: "
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v3
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    const-string v3, ") has sufficient permissions"
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {v1, v2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v1
+
+    const/16 v2, 0x3e8
+
+    if-eq v1, v2, :cond_2e
+
+    invoke-direct {p0}, Landroid/privacy/PrivacySettingsManagerService;->checkCallerCanWriteOrThrow()V
+
+    :cond_2e
+    const-string v1, "PrivacySettingsManagerService"
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v3, "saveSettings - "
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {v1, v2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManagerService;->persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+    invoke-virtual {v1, p1}, Landroid/privacy/PrivacyPersistenceAdapter;->saveSettings(Landroid/privacy/PrivacySettings;)Z
+
+    move-result v0
+
+    const/4 v1, 0x1
+
+    if-ne v0, v1, :cond_59
+
+    sget-object v1, Landroid/privacy/PrivacySettingsManagerService;->obs:Landroid/privacy/PrivacyFileObserver;
+
+    invoke-virtual {p1}, Landroid/privacy/PrivacySettings;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Landroid/privacy/PrivacyFileObserver;->addObserver(Ljava/lang/String;)V
+
+    :cond_59
+    return v0
+.end method
+
+.method public setBootCompleted()V
+    .registers 2
+
+    const/4 v0, 0x1
+
+    iput-boolean v0, p0, Landroid/privacy/PrivacySettingsManagerService;->bootCompleted:Z
+
+    return-void
+.end method
+
+.method public setEnabled(Z)Z
+    .registers 6
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    const/4 v1, 0x1
+
+    invoke-direct {p0}, Landroid/privacy/PrivacySettingsManagerService;->checkCallerCanWriteOrThrow()V
+
+    if-eqz p1, :cond_15
+
+    const-string v0, "1"
+
+    :goto_8
+    iget-object v2, p0, Landroid/privacy/PrivacySettingsManagerService;->persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+    const-string v3, "enabled"
+
+    invoke-virtual {v2, v3, v0}, Landroid/privacy/PrivacyPersistenceAdapter;->setValue(Ljava/lang/String;Ljava/lang/String;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_18
+
+    iput-boolean v1, p0, Landroid/privacy/PrivacySettingsManagerService;->enabled:Z
+
+    :goto_14
+    return v1
+
+    :cond_15
+    const-string v0, "0"
+
+    goto :goto_8
+
+    :cond_18
+    const/4 v1, 0x0
+
+    goto :goto_14
+.end method
+
+.method public setNotificationsEnabled(Z)Z
+    .registers 6
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    const/4 v1, 0x1
+
+    invoke-direct {p0}, Landroid/privacy/PrivacySettingsManagerService;->checkCallerCanWriteOrThrow()V
+
+    if-eqz p1, :cond_18
+
+    const-string v0, "1"
+
+    :goto_8
+    iget-object v2, p0, Landroid/privacy/PrivacySettingsManagerService;->persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+    const-string/jumbo v3, "notifications_enabled"
+
+    invoke-virtual {v2, v3, v0}, Landroid/privacy/PrivacyPersistenceAdapter;->setValue(Ljava/lang/String;Ljava/lang/String;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_1b
+
+    iput-boolean v1, p0, Landroid/privacy/PrivacySettingsManagerService;->notificationsEnabled:Z
+
+    iput-boolean v1, p0, Landroid/privacy/PrivacySettingsManagerService;->bootCompleted:Z
+
+    :goto_17
+    return v1
+
+    :cond_18
+    const-string v0, "0"
+
+    goto :goto_8
+
+    :cond_1b
+    const/4 v1, 0x0
+
+    goto :goto_17
+.end method
diff -Npruw stock-framework/smali/android/privacy/PrivacySettingsManager.smali pdroid-framework/smali/android/privacy/PrivacySettingsManager.smali
--- stock-framework/smali/android/privacy/PrivacySettingsManager.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/PrivacySettingsManager.smali	2013-07-15 18:10:49.750628166 -0500
@@ -0,0 +1,528 @@
+.class public final Landroid/privacy/PrivacySettingsManager;
+.super Ljava/lang/Object;
+.source "PrivacySettingsManager.java"
+
+
+# static fields
+.field public static final ACTION_PRIVACY_NOTIFICATION:Ljava/lang/String; = "com.privacy.pdroid.PRIVACY_NOTIFICATION"
+
+.field public static final ACTION_PRIVACY_NOTIFICATION_ADDON:Ljava/lang/String; = "com.privacy.pdroid.PRIVACY_NOTIFICATION_ADDON"
+
+.field private static final TAG:Ljava/lang/String; = "PrivacySettingsManager"
+
+
+# instance fields
+.field private service:Landroid/privacy/IPrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+    .registers 3
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    iput-object p2, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public addObserver(Ljava/lang/String;)V
+    .registers 5
+
+    :try_start_0
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v1, :cond_a
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v1, p1}, Landroid/privacy/IPrivacySettingsManager;->addObserver(Ljava/lang/String;)V
+
+    :goto_9
+    return-void
+
+    :cond_a
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "PrivacySettingsManager:addObserver: PrivacySettingsManagerService is null"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_11
+    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_11} :catch_12
+
+    goto :goto_9
+
+    :catch_12
+    move-exception v0
+
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "RemoteException in addObserver: "
+
+    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_9
+.end method
+
+.method public deleteSettings(Ljava/lang/String;)Z
+    .registers 6
+
+    const/4 v1, 0x0
+
+    :try_start_1
+    iget-object v2, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v2, :cond_c
+
+    iget-object v2, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v2, p1}, Landroid/privacy/IPrivacySettingsManager;->deleteSettings(Ljava/lang/String;)Z
+
+    move-result v1
+
+    :goto_b
+    return v1
+
+    :cond_c
+    const-string v2, "PrivacySettingsManager"
+
+    const-string v3, "PrivacySettingsManager:deleteSettings: PrivacySettingsManagerService is null"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_13
+    .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_13} :catch_14
+
+    goto :goto_b
+
+    :catch_14
+    move-exception v0
+
+    const-string v2, "PrivacySettingsManager"
+
+    const-string v3, "RemoteException in deleteSettings: "
+
+    invoke-static {v2, v3, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_b
+.end method
+
+.method public deleteSettings(Ljava/lang/String;I)Z
+    .registers 4
+    .annotation runtime Ljava/lang/Deprecated;
+    .end annotation
+
+    invoke-virtual {p0, p1}, Landroid/privacy/PrivacySettingsManager;->deleteSettings(Ljava/lang/String;)Z
+
+    move-result v0
+
+    return v0
+.end method
+
+.method public getApiVersion()D
+    .registers 3
+
+    const-wide v0, 0x3ff828f5c28f5c29L
+
+    return-wide v0
+.end method
+
+.method public getModDetails()Ljava/lang/String;
+    .registers 2
+
+    const-string v0, "OpenPDroid 1.0 by FFU5y, Mateor, wbedard; forked from PDroid 2.0\nPDroid 2.0 by CollegeDev; forked from PDroid\nPDroid by Syvat\'s\nAdditional contributions by Pastime1971"
+
+    return-object v0
+.end method
+
+.method public getModVersion()D
+    .registers 3
+
+    const-wide/high16 v0, 0x3ff0
+
+    return-wide v0
+.end method
+
+.method public getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+    .registers 6
+
+    const/4 v1, 0x0
+
+    :try_start_1
+    iget-object v2, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v2, :cond_c
+
+    iget-object v2, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v2, p1}, Landroid/privacy/IPrivacySettingsManager;->getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+
+    move-result-object v1
+
+    :goto_b
+    return-object v1
+
+    :cond_c
+    const-string v2, "PrivacySettingsManager"
+
+    const-string v3, "getSettings - PrivacySettingsManagerService is null"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_13
+    .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_13} :catch_14
+
+    goto :goto_b
+
+    :catch_14
+    move-exception v0
+
+    invoke-virtual {v0}, Landroid/os/RemoteException;->printStackTrace()V
+
+    goto :goto_b
+.end method
+
+.method public getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+    .registers 4
+    .annotation runtime Ljava/lang/Deprecated;
+    .end annotation
+
+    invoke-virtual {p0, p1}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getVersion()D
+    .registers 3
+    .annotation runtime Ljava/lang/Deprecated;
+    .end annotation
+
+    const-wide v0, 0x3ff828f5c28f5c29L
+
+    return-wide v0
+.end method
+
+.method public isServiceAvailable()Z
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v0, :cond_6
+
+    const/4 v0, 0x1
+
+    :goto_5
+    return v0
+
+    :cond_6
+    const/4 v0, 0x0
+
+    goto :goto_5
+.end method
+
+.method public notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+    .registers 8
+
+    :try_start_0
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v1, :cond_a
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v1, p1, p2, p3, p4}, Landroid/privacy/IPrivacySettingsManager;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+
+    :goto_9
+    return-void
+
+    :cond_a
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "PrivacySettingsManager:notification: PrivacySettingsManagerService is null"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_11
+    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_11} :catch_12
+
+    goto :goto_9
+
+    :catch_12
+    move-exception v0
+
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "RemoteException in notification: "
+
+    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_9
+.end method
+
+.method public notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    .registers 6
+    .annotation runtime Ljava/lang/Deprecated;
+    .end annotation
+
+    invoke-virtual {p0, p1, p2, p3, p4}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+
+    return-void
+.end method
+
+.method public notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    .registers 7
+    .annotation runtime Ljava/lang/Deprecated;
+    .end annotation
+
+    invoke-virtual {p0, p1, p3, p4, p5}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+
+    return-void
+.end method
+
+.method public purgeSettings()Z
+    .registers 4
+
+    :try_start_0
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v1, :cond_b
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v1}, Landroid/privacy/IPrivacySettingsManager;->purgeSettings()Z
+
+    move-result v1
+
+    :goto_a
+    return v1
+
+    :cond_b
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "PrivacySettingsManager:purgeSettings: PrivacySettingsManagerService is null"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_12
+    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_12} :catch_14
+
+    :goto_12
+    const/4 v1, 0x0
+
+    goto :goto_a
+
+    :catch_14
+    move-exception v0
+
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "RemoteException in purgeSettings: "
+
+    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_12
+.end method
+
+.method public registerObservers()V
+    .registers 4
+
+    :try_start_0
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v1, :cond_a
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v1}, Landroid/privacy/IPrivacySettingsManager;->registerObservers()V
+
+    :goto_9
+    return-void
+
+    :cond_a
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "PrivacySettingsManager:registerObservers: PrivacySettingsManagerService is null"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_11
+    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_11} :catch_12
+
+    goto :goto_9
+
+    :catch_12
+    move-exception v0
+
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "RemoteException in registerObservers: "
+
+    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_9
+.end method
+
+.method public saveSettings(Landroid/privacy/PrivacySettings;)Z
+    .registers 6
+
+    const/4 v1, 0x0
+
+    :try_start_1
+    iget-object v2, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v2, :cond_c
+
+    iget-object v2, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v2, p1}, Landroid/privacy/IPrivacySettingsManager;->saveSettings(Landroid/privacy/PrivacySettings;)Z
+
+    move-result v1
+
+    :goto_b
+    return v1
+
+    :cond_c
+    const-string v2, "PrivacySettingsManager"
+
+    const-string/jumbo v3, "saveSettings - PrivacySettingsManagerService is null"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_14
+    .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_14} :catch_15
+
+    goto :goto_b
+
+    :catch_15
+    move-exception v0
+
+    const-string v2, "PrivacySettingsManager"
+
+    const-string v3, "RemoteException in saveSettings: "
+
+    invoke-static {v2, v3, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_b
+.end method
+
+.method public setBootCompleted()V
+    .registers 4
+
+    :try_start_0
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v1, :cond_a
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v1}, Landroid/privacy/IPrivacySettingsManager;->setBootCompleted()V
+
+    :goto_9
+    return-void
+
+    :cond_a
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "PrivacySettingsManager:setBootCompleted: PrivacySettingsManagerService is null"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_11
+    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_11} :catch_12
+
+    goto :goto_9
+
+    :catch_12
+    move-exception v0
+
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "RemoteException in setBootCompleted: "
+
+    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_9
+.end method
+
+.method public setEnabled(Z)Z
+    .registers 5
+
+    :try_start_0
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v1, :cond_b
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v1, p1}, Landroid/privacy/IPrivacySettingsManager;->setEnabled(Z)Z
+
+    move-result v1
+
+    :goto_a
+    return v1
+
+    :cond_b
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "PrivacySettingsManager:setEnabled: PrivacySettingsManagerService is null"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_12
+    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_12} :catch_14
+
+    :goto_12
+    const/4 v1, 0x0
+
+    goto :goto_a
+
+    :catch_14
+    move-exception v0
+
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "RemoteException in setEnabled: "
+
+    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_12
+.end method
+
+.method public setNotificationsEnabled(Z)Z
+    .registers 5
+
+    :try_start_0
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v1, :cond_b
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v1, p1}, Landroid/privacy/IPrivacySettingsManager;->setNotificationsEnabled(Z)Z
+
+    move-result v1
+
+    :goto_a
+    return v1
+
+    :cond_b
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "PrivacySettingsManager:setNotificationsEnabled: PrivacySettingsManagerService is null"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_12
+    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_12} :catch_14
+
+    :goto_12
+    const/4 v1, 0x0
+
+    goto :goto_a
+
+    :catch_14
+    move-exception v0
+
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "RemoteException in setNotificationsEnabled: "
+
+    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_12
+.end method
diff -Npruw stock-framework/smali/android/privacy/PrivacySettings.smali pdroid-framework/smali/android/privacy/PrivacySettings.smali
--- stock-framework/smali/android/privacy/PrivacySettings.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/PrivacySettings.smali	2013-07-15 18:10:49.750628166 -0500
@@ -0,0 +1,3295 @@
+.class public final Landroid/privacy/PrivacySettings;
+.super Landroid/privacy/PrivacySettingsStub;
+.source "PrivacySettings.java"
+
+# interfaces
+.implements Landroid/os/Parcelable;
+
+
+# static fields
+.field public static final CREATOR:Landroid/os/Parcelable$Creator; = null
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "Landroid/os/Parcelable$Creator",
+            "<",
+            "Landroid/privacy/PrivacySettings;",
+            ">;"
+        }
+    .end annotation
+.end field
+
+.field public static final CUSTOM:B = 0x2t
+
+.field public static final DATA_ACCOUNTS_LIST:Ljava/lang/String; = "accountsList"
+
+.field public static final DATA_ANDROID_ID:Ljava/lang/String; = "android_id"
+
+.field public static final DATA_AUTH_TOKENS:Ljava/lang/String; = "authTokens"
+
+.field public static final DATA_BOOKMARKS:Ljava/lang/String; = "bookmarks"
+
+.field public static final DATA_CALENDAR:Ljava/lang/String; = "calendar"
+
+.field public static final DATA_CALL_LOG:Ljava/lang/String; = "callLog"
+
+.field public static final DATA_CAMERA:Ljava/lang/String; = "camera"
+
+.field public static final DATA_CONTACTS:Ljava/lang/String; = "contacts"
+
+.field public static final DATA_DEVICE_ID:Ljava/lang/String; = "deviceID"
+
+.field public static final DATA_ICC_ACCESS:Ljava/lang/String; = "iccAccess"
+
+.field public static final DATA_INCOMING_CALL:Ljava/lang/String; = "incomingCall"
+
+.field public static final DATA_INTENT_BOOT_COMPLETED:Ljava/lang/String; = "intentBootCompleted"
+
+.field public static final DATA_IP_TABLES:Ljava/lang/String; = "iptables"
+
+.field public static final DATA_LINE_1_NUMBER:Ljava/lang/String; = "line1Number"
+
+.field public static final DATA_LOCATION_GPS:Ljava/lang/String; = "locationGPS"
+
+.field public static final DATA_LOCATION_NETWORK:Ljava/lang/String; = "locationNetwork"
+
+.field public static final DATA_MMS:Ljava/lang/String; = "mms"
+
+.field public static final DATA_MMS_SMS:Ljava/lang/String; = "mmsSms"
+
+.field public static final DATA_NETWORK_INFO_CURRENT:Ljava/lang/String; = "networkInfoCurrent"
+
+.field public static final DATA_NETWORK_INFO_SIM:Ljava/lang/String; = "networkInfoSIM"
+
+.field public static final DATA_OUTGOING_CALL:Ljava/lang/String; = "outgoingCall"
+
+.field public static final DATA_PHONE_CALL:Ljava/lang/String; = "phoneCall"
+
+.field public static final DATA_RECORD_AUDIO:Ljava/lang/String; = "recordAudio"
+
+.field public static final DATA_SEND_MMS:Ljava/lang/String; = "sendMms"
+
+.field public static final DATA_SIM_SERIAL:Ljava/lang/String; = "simSerial"
+
+.field public static final DATA_SMS:Ljava/lang/String; = "sms"
+
+.field public static final DATA_SMS_SEND:Ljava/lang/String; = "SmsSend"
+
+.field public static final DATA_SUBSCRIBER_ID:Ljava/lang/String; = "subscriberID"
+
+.field public static final DATA_SWITCH_CONNECTIVITY:Ljava/lang/String; = "switchconnectivity"
+
+.field public static final DATA_SWITCH_WIFI_STATE:Ljava/lang/String; = "switchWifiState"
+
+.field public static final DATA_SYSTEM_LOGS:Ljava/lang/String; = "systemLogs"
+
+.field public static final DATA_WIFI_INFO:Ljava/lang/String; = "wifiInfo"
+
+.field public static final EMPTY:B = 0x1t
+
+.field public static final ID_PATTERN:[Ljava/lang/String; = null
+
+.field public static final RANDOM:B = 0x3t
+
+.field public static final REAL:B = 0x0t
+
+.field public static final SETTING_NOTIFY_OFF:B = 0x0t
+
+.field public static final SETTING_NOTIFY_ON:B = 0x1t
+
+
+# instance fields
+.field private final _id:Ljava/lang/Integer;
+
+.field private accountsAuthTokensSetting:B
+
+.field private accountsSetting:B
+
+.field private addOnManagementSetting:B
+
+.field private allowedContacts:[I
+
+.field private androidID:Ljava/lang/String;
+
+.field private androidIdSetting:B
+
+.field private bookmarksSetting:B
+
+.field private calendarSetting:B
+
+.field private callLogSetting:B
+
+.field private cameraSetting:B
+
+.field private contactsSetting:B
+
+.field private deviceId:Ljava/lang/String;
+
+.field private deviceIdSetting:B
+
+.field private forceOnlineState:B
+
+.field private iccAccessSetting:B
+
+.field private incomingCallsSetting:B
+
+.field private intentBootCompletedSetting:B
+
+.field private ipTableProtectSetting:B
+
+.field private line1Number:Ljava/lang/String;
+
+.field private line1NumberSetting:B
+
+.field private locationGpsLat:Ljava/lang/String;
+
+.field private locationGpsLon:Ljava/lang/String;
+
+.field private locationGpsSetting:B
+
+.field private locationNetworkLat:Ljava/lang/String;
+
+.field private locationNetworkLon:Ljava/lang/String;
+
+.field private locationNetworkSetting:B
+
+.field private mmsSetting:B
+
+.field private networkInfoSetting:B
+
+.field private notificationSetting:B
+
+.field private outgoingCallsSetting:B
+
+.field private packageName:Ljava/lang/String;
+
+.field private phoneCallSetting:B
+
+.field private recordAudioSetting:B
+
+.field private sendMmsSetting:B
+
+.field private simInfoSetting:B
+
+.field private simSerialNumber:Ljava/lang/String;
+
+.field private simSerialNumberSetting:B
+
+.field private smsSendSetting:B
+
+.field private smsSetting:B
+
+.field private subscriberId:Ljava/lang/String;
+
+.field private subscriberIdSetting:B
+
+.field private switchConnectivitySetting:B
+
+.field private switchWifiStateSetting:B
+
+.field private systemLogsSetting:B
+
+.field private uid:I
+
+.field private wifiInfoSetting:B
+
+
+# direct methods
+.method static constructor <clinit>()V
+    .registers 3
+
+    const/16 v0, 0x10
+
+    new-array v0, v0, [Ljava/lang/String;
+
+    const/4 v1, 0x0
+
+    const-string v2, "0"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x1
+
+    const-string v2, "1"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x2
+
+    const-string v2, "2"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x3
+
+    const-string v2, "3"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x4
+
+    const-string v2, "4"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x5
+
+    const-string v2, "5"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x6
+
+    const-string v2, "6"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x7
+
+    const-string v2, "7"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x8
+
+    const-string v2, "8"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x9
+
+    const-string v2, "9"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xa
+
+    const-string v2, "a"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xb
+
+    const-string v2, "b"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xc
+
+    const-string v2, "c"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xd
+
+    const-string v2, "d"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xe
+
+    const-string v2, "e"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xf
+
+    const-string v2, "f"
+
+    aput-object v2, v0, v1
+
+    sput-object v0, Landroid/privacy/PrivacySettings;->ID_PATTERN:[Ljava/lang/String;
+
+    new-instance v0, Landroid/privacy/PrivacySettings$1;
+
+    invoke-direct {v0}, Landroid/privacy/PrivacySettings$1;-><init>()V
+
+    sput-object v0, Landroid/privacy/PrivacySettings;->CREATOR:Landroid/os/Parcelable$Creator;
+
+    return-void
+.end method
+
+.method public constructor <init>(Landroid/os/Parcel;)V
+    .registers 4
+
+    invoke-direct {p0}, Landroid/privacy/PrivacySettingsStub;-><init>()V
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readInt()I
+
+    move-result v0
+
+    const/4 v1, -0x1
+
+    if-ne v0, v1, :cond_122
+
+    const/4 v1, 0x0
+
+    :goto_b
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->_id:Ljava/lang/Integer;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->packageName:Ljava/lang/String;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readInt()I
+
+    move-result v1
+
+    iput v1, p0, Landroid/privacy/PrivacySettings;->uid:I
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->deviceId:Ljava/lang/String;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->line1Number:Ljava/lang/String;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationGpsLat:Ljava/lang/String;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationGpsLon:Ljava/lang/String;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLat:Ljava/lang/String;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLon:Ljava/lang/String;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->networkInfoSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->simInfoSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->simSerialNumber:Ljava/lang/String;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->subscriberId:Ljava/lang/String;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->accountsSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->accountsAuthTokensSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->outgoingCallsSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->incomingCallsSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->contactsSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->calendarSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->mmsSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->smsSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->callLogSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->bookmarksSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->systemLogsSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->notificationSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->intentBootCompletedSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->cameraSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->recordAudioSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->createIntArray()[I
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->allowedContacts:[I
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->smsSendSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->phoneCallSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->ipTableProtectSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->iccAccessSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->addOnManagementSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->androidIdSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->androidID:Ljava/lang/String;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->wifiInfoSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->switchConnectivitySetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->sendMmsSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->forceOnlineState:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->switchWifiStateSetting:B
+
+    return-void
+
+    :cond_122
+    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v1
+
+    goto/16 :goto_b
+.end method
+
+.method public constructor <init>(Ljava/lang/Integer;Ljava/lang/String;I)V
+    .registers 7
+
+    const/4 v2, 0x1
+
+    const/4 v1, 0x0
+
+    const/4 v0, 0x0
+
+    invoke-direct {p0}, Landroid/privacy/PrivacySettingsStub;-><init>()V
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->_id:Ljava/lang/Integer;
+
+    iput-object p2, p0, Landroid/privacy/PrivacySettings;->packageName:Ljava/lang/String;
+
+    iput p3, p0, Landroid/privacy/PrivacySettings;->uid:I
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->deviceId:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->line1Number:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationGpsLat:Ljava/lang/String;
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationGpsLon:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLat:Ljava/lang/String;
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLon:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->networkInfoSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->simInfoSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->simSerialNumber:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->subscriberId:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsAuthTokensSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->outgoingCallsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->incomingCallsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->contactsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->calendarSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->mmsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->smsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->callLogSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->bookmarksSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->systemLogsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->notificationSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->intentBootCompletedSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->cameraSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->recordAudioSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->allowedContacts:[I
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->smsSendSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->phoneCallSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->ipTableProtectSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->iccAccessSetting:B
+
+    iput-byte v2, p0, Landroid/privacy/PrivacySettings;->addOnManagementSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->androidIdSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->androidID:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->wifiInfoSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->switchConnectivitySetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->sendMmsSetting:B
+
+    iput-byte v2, p0, Landroid/privacy/PrivacySettings;->forceOnlineState:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->switchWifiStateSetting:B
+
+    return-void
+.end method
+
+.method public constructor <init>(Ljava/lang/Integer;Ljava/lang/String;IBLjava/lang/String;BLjava/lang/String;BLjava/lang/String;Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;BBBLjava/lang/String;BLjava/lang/String;BBBBBBBBBBBBBBBB[IBBBBBBLjava/lang/String;BBBBB)V
+    .registers 50
+
+    invoke-direct {p0}, Landroid/privacy/PrivacySettingsStub;-><init>()V
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->_id:Ljava/lang/Integer;
+
+    iput-object p2, p0, Landroid/privacy/PrivacySettings;->packageName:Ljava/lang/String;
+
+    iput p3, p0, Landroid/privacy/PrivacySettings;->uid:I
+
+    iput-byte p4, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    iput-object p5, p0, Landroid/privacy/PrivacySettings;->deviceId:Ljava/lang/String;
+
+    iput-byte p6, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    iput-object p7, p0, Landroid/privacy/PrivacySettings;->line1Number:Ljava/lang/String;
+
+    iput-byte p8, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    iput-object p9, p0, Landroid/privacy/PrivacySettings;->locationGpsLat:Ljava/lang/String;
+
+    iput-object p10, p0, Landroid/privacy/PrivacySettings;->locationGpsLon:Ljava/lang/String;
+
+    iput-byte p11, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    iput-object p12, p0, Landroid/privacy/PrivacySettings;->locationNetworkLat:Ljava/lang/String;
+
+    iput-object p13, p0, Landroid/privacy/PrivacySettings;->locationNetworkLon:Ljava/lang/String;
+
+    iput-byte p14, p0, Landroid/privacy/PrivacySettings;->networkInfoSetting:B
+
+    move/from16 v0, p15
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->simInfoSetting:B
+
+    move/from16 v0, p16
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    move-object/from16 v0, p17
+
+    iput-object v0, p0, Landroid/privacy/PrivacySettings;->simSerialNumber:Ljava/lang/String;
+
+    move/from16 v0, p18
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    move-object/from16 v0, p19
+
+    iput-object v0, p0, Landroid/privacy/PrivacySettings;->subscriberId:Ljava/lang/String;
+
+    move/from16 v0, p20
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsSetting:B
+
+    move/from16 v0, p21
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsAuthTokensSetting:B
+
+    move/from16 v0, p22
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->outgoingCallsSetting:B
+
+    move/from16 v0, p23
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->incomingCallsSetting:B
+
+    move/from16 v0, p24
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->contactsSetting:B
+
+    move/from16 v0, p25
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->calendarSetting:B
+
+    move/from16 v0, p26
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->mmsSetting:B
+
+    move/from16 v0, p27
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->smsSetting:B
+
+    move/from16 v0, p28
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->callLogSetting:B
+
+    move/from16 v0, p29
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->bookmarksSetting:B
+
+    move/from16 v0, p30
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->systemLogsSetting:B
+
+    move/from16 v0, p34
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->notificationSetting:B
+
+    move/from16 v0, p35
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->intentBootCompletedSetting:B
+
+    move/from16 v0, p32
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->cameraSetting:B
+
+    move/from16 v0, p33
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->recordAudioSetting:B
+
+    move-object/from16 v0, p36
+
+    iput-object v0, p0, Landroid/privacy/PrivacySettings;->allowedContacts:[I
+
+    move/from16 v0, p37
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->smsSendSetting:B
+
+    move/from16 v0, p38
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->phoneCallSetting:B
+
+    move/from16 v0, p39
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->ipTableProtectSetting:B
+
+    move/from16 v0, p40
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->iccAccessSetting:B
+
+    move/from16 v0, p41
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->addOnManagementSetting:B
+
+    move/from16 v0, p42
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->androidIdSetting:B
+
+    move-object/from16 v0, p43
+
+    iput-object v0, p0, Landroid/privacy/PrivacySettings;->androidID:Ljava/lang/String;
+
+    move/from16 v0, p44
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->wifiInfoSetting:B
+
+    move/from16 v0, p45
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->switchConnectivitySetting:B
+
+    move/from16 v0, p46
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->sendMmsSetting:B
+
+    move/from16 v0, p47
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->forceOnlineState:B
+
+    move/from16 v0, p48
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->switchWifiStateSetting:B
+
+    return-void
+.end method
+
+.method public constructor <init>(Ljava/lang/Integer;Ljava/lang/String;IZ)V
+    .registers 9
+
+    const/4 v3, 0x0
+
+    const/4 v2, 0x3
+
+    const/4 v1, 0x0
+
+    const/4 v0, 0x1
+
+    invoke-direct {p0}, Landroid/privacy/PrivacySettingsStub;-><init>()V
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->_id:Ljava/lang/Integer;
+
+    iput-object p2, p0, Landroid/privacy/PrivacySettings;->packageName:Ljava/lang/String;
+
+    iput p3, p0, Landroid/privacy/PrivacySettings;->uid:I
+
+    if-eqz p4, :cond_68
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->deviceId:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->line1Number:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationGpsLat:Ljava/lang/String;
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationGpsLon:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLat:Ljava/lang/String;
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLon:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->networkInfoSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->simInfoSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->simSerialNumber:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->subscriberId:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsAuthTokensSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->outgoingCallsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->incomingCallsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->contactsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->calendarSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->mmsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->smsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->callLogSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->bookmarksSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->systemLogsSetting:B
+
+    iput-byte v3, p0, Landroid/privacy/PrivacySettings;->notificationSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->intentBootCompletedSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->cameraSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->recordAudioSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->allowedContacts:[I
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->smsSendSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->phoneCallSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->ipTableProtectSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->iccAccessSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->addOnManagementSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->androidIdSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->androidID:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->wifiInfoSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->switchConnectivitySetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->sendMmsSetting:B
+
+    iput-byte v3, p0, Landroid/privacy/PrivacySettings;->forceOnlineState:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->switchWifiStateSetting:B
+
+    :goto_67
+    return-void
+
+    :cond_68
+    iput-byte v2, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->deviceId:Ljava/lang/String;
+
+    iput-byte v2, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->line1Number:Ljava/lang/String;
+
+    iput-byte v2, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationGpsLat:Ljava/lang/String;
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationGpsLon:Ljava/lang/String;
+
+    iput-byte v2, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLat:Ljava/lang/String;
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLon:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->networkInfoSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->simInfoSetting:B
+
+    iput-byte v2, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->simSerialNumber:Ljava/lang/String;
+
+    iput-byte v2, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->subscriberId:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsAuthTokensSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->outgoingCallsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->incomingCallsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->contactsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->calendarSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->mmsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->smsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->callLogSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->bookmarksSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->systemLogsSetting:B
+
+    iput-byte v3, p0, Landroid/privacy/PrivacySettings;->notificationSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->intentBootCompletedSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->cameraSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->recordAudioSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->allowedContacts:[I
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->smsSendSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->phoneCallSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->ipTableProtectSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->iccAccessSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->addOnManagementSetting:B
+
+    iput-byte v2, p0, Landroid/privacy/PrivacySettings;->androidIdSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->androidID:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->wifiInfoSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->switchConnectivitySetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->sendMmsSetting:B
+
+    iput-byte v3, p0, Landroid/privacy/PrivacySettings;->forceOnlineState:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->switchWifiStateSetting:B
+
+    goto :goto_67
+.end method
+
+.method private getRandomLat()Ljava/lang/String;
+    .registers 10
+
+    const-wide v7, 0x4056800000000000L
+
+    invoke-static {}, Ljava/lang/Math;->random()D
+
+    move-result-wide v3
+
+    const-wide v5, 0x4066800000000000L
+
+    mul-double v0, v3, v5
+
+    cmpl-double v3, v0, v7
+
+    if-lez v3, :cond_35
+
+    new-instance v2, Ljava/math/BigDecimal;
+
+    sub-double v3, v0, v7
+
+    invoke-direct {v2, v3, v4}, Ljava/math/BigDecimal;-><init>(D)V
+
+    :goto_1b
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const/4 v4, 0x6
+
+    const/4 v5, 0x4
+
+    invoke-virtual {v2, v4, v5}, Ljava/math/BigDecimal;->setScale(II)Ljava/math/BigDecimal;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, ""
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    return-object v3
+
+    :cond_35
+    new-instance v2, Ljava/math/BigDecimal;
+
+    neg-double v3, v0
+
+    invoke-direct {v2, v3, v4}, Ljava/math/BigDecimal;-><init>(D)V
+
+    goto :goto_1b
+.end method
+
+.method private getRandomLon()Ljava/lang/String;
+    .registers 10
+
+    const-wide v7, 0x4066800000000000L
+
+    invoke-static {}, Ljava/lang/Math;->random()D
+
+    move-result-wide v3
+
+    const-wide v5, 0x4076800000000000L
+
+    mul-double v0, v3, v5
+
+    cmpl-double v3, v0, v7
+
+    if-lez v3, :cond_35
+
+    new-instance v2, Ljava/math/BigDecimal;
+
+    sub-double v3, v0, v7
+
+    invoke-direct {v2, v3, v4}, Ljava/math/BigDecimal;-><init>(D)V
+
+    :goto_1b
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const/4 v4, 0x6
+
+    const/4 v5, 0x4
+
+    invoke-virtual {v2, v4, v5}, Ljava/math/BigDecimal;->setScale(II)Ljava/math/BigDecimal;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, ""
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    return-object v3
+
+    :cond_35
+    new-instance v2, Ljava/math/BigDecimal;
+
+    neg-double v3, v0
+
+    invoke-direct {v2, v3, v4}, Ljava/math/BigDecimal;-><init>(D)V
+
+    goto :goto_1b
+.end method
+
+
+# virtual methods
+.method public describeContents()I
+    .registers 2
+
+    const/4 v0, 0x0
+
+    return v0
+.end method
+
+.method public getAccountsAuthTokensSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsAuthTokensSetting:B
+
+    return v0
+.end method
+
+.method public getAccountsSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsSetting:B
+
+    return v0
+.end method
+
+.method public getAddOnManagementSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->addOnManagementSetting:B
+
+    return v0
+.end method
+
+.method public getAllowedContacts()[I
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->allowedContacts:[I
+
+    return-object v0
+.end method
+
+.method public getAndroidID()Ljava/lang/String;
+    .registers 6
+
+    iget-byte v3, p0, Landroid/privacy/PrivacySettings;->androidIdSetting:B
+
+    const/4 v4, 0x1
+
+    if-ne v3, v4, :cond_9
+
+    const-string/jumbo v3, "q4a5w896ay21dr46"
+
+    :goto_8
+    return-object v3
+
+    :cond_9
+    iget-byte v3, p0, Landroid/privacy/PrivacySettings;->androidIdSetting:B
+
+    const/4 v4, 0x3
+
+    if-ne v3, v4, :cond_36
+
+    new-instance v2, Ljava/util/Random;
+
+    invoke-direct {v2}, Ljava/util/Random;-><init>()V
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const/4 v0, 0x0
+
+    :goto_19
+    sget-object v3, Landroid/privacy/PrivacySettings;->ID_PATTERN:[Ljava/lang/String;
+
+    array-length v3, v3
+
+    if-ge v0, v3, :cond_31
+
+    sget-object v3, Landroid/privacy/PrivacySettings;->ID_PATTERN:[Ljava/lang/String;
+
+    sget-object v4, Landroid/privacy/PrivacySettings;->ID_PATTERN:[Ljava/lang/String;
+
+    array-length v4, v4
+
+    add-int/lit8 v4, v4, -0x1
+
+    invoke-virtual {v2, v4}, Ljava/util/Random;->nextInt(I)I
+
+    move-result v4
+
+    aget-object v3, v3, v4
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    add-int/lit8 v0, v0, 0x1
+
+    goto :goto_19
+
+    :cond_31
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    goto :goto_8
+
+    :cond_36
+    iget-object v3, p0, Landroid/privacy/PrivacySettings;->androidID:Ljava/lang/String;
+
+    goto :goto_8
+.end method
+
+.method public getAndroidIdSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->androidIdSetting:B
+
+    return v0
+.end method
+
+.method public getBookmarksSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->bookmarksSetting:B
+
+    return v0
+.end method
+
+.method public getCalendarSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->calendarSetting:B
+
+    return v0
+.end method
+
+.method public getCallLogSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->callLogSetting:B
+
+    return v0
+.end method
+
+.method public getCameraSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->cameraSetting:B
+
+    return v0
+.end method
+
+.method public getContactsSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->contactsSetting:B
+
+    return v0
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 9
+
+    const/4 v7, 0x0
+
+    const/16 v6, 0xf
+
+    iget-byte v3, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    const/4 v4, 0x1
+
+    if-ne v3, v4, :cond_b
+
+    const-string v3, ""
+
+    :goto_a
+    return-object v3
+
+    :cond_b
+    iget-byte v3, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    const/4 v4, 0x3
+
+    if-ne v3, v4, :cond_62
+
+    new-instance v1, Ljava/util/Random;
+
+    invoke-direct {v1}, Ljava/util/Random;-><init>()V
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v1}, Ljava/util/Random;->nextLong()J
+
+    move-result-wide v4
+
+    invoke-static {v4, v5}, Ljava/lang/Math;->abs(J)J
+
+    move-result-wide v4
+
+    invoke-virtual {v3, v4, v5}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, ""
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/String;->length()I
+
+    move-result v3
+
+    if-le v3, v6, :cond_3b
+
+    invoke-virtual {v2, v7, v6}, Ljava/lang/String;->substring(II)Ljava/lang/String;
+
+    move-result-object v3
+
+    goto :goto_a
+
+    :cond_3b
+    invoke-virtual {v2}, Ljava/lang/String;->length()I
+
+    move-result v0
+
+    :goto_3f
+    const/16 v3, 0x10
+
+    if-gt v0, v3, :cond_5d
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v3, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const/16 v4, 0x9
+
+    invoke-virtual {v1, v4}, Ljava/util/Random;->nextInt(I)I
+
+    move-result v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    add-int/lit8 v0, v0, 0x1
+
+    goto :goto_3f
+
+    :cond_5d
+    invoke-virtual {v2, v7, v6}, Ljava/lang/String;->substring(II)Ljava/lang/String;
+
+    move-result-object v3
+
+    goto :goto_a
+
+    :cond_62
+    iget-object v3, p0, Landroid/privacy/PrivacySettings;->deviceId:Ljava/lang/String;
+
+    goto :goto_a
+.end method
+
+.method public getDeviceIdSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    return v0
+.end method
+
+.method public getForceOnlineState()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->forceOnlineState:B
+
+    return v0
+.end method
+
+.method public getIccAccessSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->iccAccessSetting:B
+
+    return v0
+.end method
+
+.method public getIncomingCallsSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->incomingCallsSetting:B
+
+    return v0
+.end method
+
+.method public getIntentBootCompletedSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->intentBootCompletedSetting:B
+
+    return v0
+.end method
+
+.method public getIpTableProtectSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->ipTableProtectSetting:B
+
+    return v0
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 9
+
+    const/4 v7, 0x0
+
+    const/16 v6, 0xd
+
+    iget-byte v3, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    const/4 v4, 0x1
+
+    if-ne v3, v4, :cond_b
+
+    const-string v3, ""
+
+    :goto_a
+    return-object v3
+
+    :cond_b
+    iget-byte v3, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    const/4 v4, 0x3
+
+    if-ne v3, v4, :cond_68
+
+    new-instance v1, Ljava/util/Random;
+
+    invoke-direct {v1}, Ljava/util/Random;-><init>()V
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "+"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v1}, Ljava/util/Random;->nextLong()J
+
+    move-result-wide v4
+
+    invoke-static {v4, v5}, Ljava/lang/Math;->abs(J)J
+
+    move-result-wide v4
+
+    invoke-virtual {v3, v4, v5}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, ""
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/String;->length()I
+
+    move-result v3
+
+    if-le v3, v6, :cond_41
+
+    invoke-virtual {v2, v7, v6}, Ljava/lang/String;->substring(II)Ljava/lang/String;
+
+    move-result-object v3
+
+    goto :goto_a
+
+    :cond_41
+    invoke-virtual {v2}, Ljava/lang/String;->length()I
+
+    move-result v0
+
+    :goto_45
+    const/16 v3, 0xe
+
+    if-gt v0, v3, :cond_63
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v3, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const/16 v4, 0x9
+
+    invoke-virtual {v1, v4}, Ljava/util/Random;->nextInt(I)I
+
+    move-result v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    add-int/lit8 v0, v0, 0x1
+
+    goto :goto_45
+
+    :cond_63
+    invoke-virtual {v2, v7, v6}, Ljava/lang/String;->substring(II)Ljava/lang/String;
+
+    move-result-object v3
+
+    goto :goto_a
+
+    :cond_68
+    iget-object v3, p0, Landroid/privacy/PrivacySettings;->line1Number:Ljava/lang/String;
+
+    goto :goto_a
+.end method
+
+.method public getLine1NumberSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    return v0
+.end method
+
+.method public getLocationGpsLat()Ljava/lang/String;
+    .registers 3
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    const/4 v1, 0x1
+
+    if-ne v0, v1, :cond_8
+
+    const-string v0, ""
+
+    :goto_7
+    return-object v0
+
+    :cond_8
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    const/4 v1, 0x3
+
+    if-ne v0, v1, :cond_12
+
+    invoke-direct {p0}, Landroid/privacy/PrivacySettings;->getRandomLat()Ljava/lang/String;
+
+    move-result-object v0
+
+    goto :goto_7
+
+    :cond_12
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->locationGpsLat:Ljava/lang/String;
+
+    goto :goto_7
+.end method
+
+.method public getLocationGpsLon()Ljava/lang/String;
+    .registers 3
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    const/4 v1, 0x1
+
+    if-ne v0, v1, :cond_8
+
+    const-string v0, ""
+
+    :goto_7
+    return-object v0
+
+    :cond_8
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    const/4 v1, 0x3
+
+    if-ne v0, v1, :cond_12
+
+    invoke-direct {p0}, Landroid/privacy/PrivacySettings;->getRandomLon()Ljava/lang/String;
+
+    move-result-object v0
+
+    goto :goto_7
+
+    :cond_12
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->locationGpsLon:Ljava/lang/String;
+
+    goto :goto_7
+.end method
+
+.method public getLocationGpsSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    return v0
+.end method
+
+.method public getLocationNetworkLat()Ljava/lang/String;
+    .registers 3
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    const/4 v1, 0x1
+
+    if-ne v0, v1, :cond_8
+
+    const-string v0, ""
+
+    :goto_7
+    return-object v0
+
+    :cond_8
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    const/4 v1, 0x3
+
+    if-ne v0, v1, :cond_12
+
+    invoke-direct {p0}, Landroid/privacy/PrivacySettings;->getRandomLat()Ljava/lang/String;
+
+    move-result-object v0
+
+    goto :goto_7
+
+    :cond_12
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkLat:Ljava/lang/String;
+
+    goto :goto_7
+.end method
+
+.method public getLocationNetworkLon()Ljava/lang/String;
+    .registers 3
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    const/4 v1, 0x1
+
+    if-ne v0, v1, :cond_8
+
+    const-string v0, ""
+
+    :goto_7
+    return-object v0
+
+    :cond_8
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    const/4 v1, 0x3
+
+    if-ne v0, v1, :cond_12
+
+    invoke-direct {p0}, Landroid/privacy/PrivacySettings;->getRandomLon()Ljava/lang/String;
+
+    move-result-object v0
+
+    goto :goto_7
+
+    :cond_12
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkLon:Ljava/lang/String;
+
+    goto :goto_7
+.end method
+
+.method public getLocationNetworkSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    return v0
+.end method
+
+.method public getMmsSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->mmsSetting:B
+
+    return v0
+.end method
+
+.method public getNetworkInfoSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->networkInfoSetting:B
+
+    return v0
+.end method
+
+.method public getNotificationSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->notificationSetting:B
+
+    return v0
+.end method
+
+.method public getOutgoingCallsSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->outgoingCallsSetting:B
+
+    return v0
+.end method
+
+.method public getPackageName()Ljava/lang/String;
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->packageName:Ljava/lang/String;
+
+    return-object v0
+.end method
+
+.method public getPhoneCallSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->phoneCallSetting:B
+
+    return v0
+.end method
+
+.method public getRecordAudioSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->recordAudioSetting:B
+
+    return v0
+.end method
+
+.method public getSendMmsSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->sendMmsSetting:B
+
+    return v0
+.end method
+
+.method public getSimInfoSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->simInfoSetting:B
+
+    return v0
+.end method
+
+.method public getSimSerialNumber()Ljava/lang/String;
+    .registers 5
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    const/4 v2, 0x1
+
+    if-ne v1, v2, :cond_8
+
+    const-string v1, ""
+
+    :goto_7
+    return-object v1
+
+    :cond_8
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    const/4 v2, 0x3
+
+    if-ne v1, v2, :cond_2e
+
+    new-instance v0, Ljava/util/Random;
+
+    invoke-direct {v0}, Ljava/util/Random;-><init>()V
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v0}, Ljava/util/Random;->nextLong()J
+
+    move-result-wide v2
+
+    invoke-static {v2, v3}, Ljava/lang/Math;->abs(J)J
+
+    move-result-wide v2
+
+    invoke-virtual {v1, v2, v3}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, ""
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    goto :goto_7
+
+    :cond_2e
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->simSerialNumber:Ljava/lang/String;
+
+    goto :goto_7
+.end method
+
+.method public getSimSerialNumberSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    return v0
+.end method
+
+.method public getSmsSendSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->smsSendSetting:B
+
+    return v0
+.end method
+
+.method public getSmsSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->smsSetting:B
+
+    return v0
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 9
+
+    const/4 v7, 0x0
+
+    const/16 v6, 0xf
+
+    iget-byte v3, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    const/4 v4, 0x1
+
+    if-ne v3, v4, :cond_b
+
+    const-string v3, ""
+
+    :goto_a
+    return-object v3
+
+    :cond_b
+    iget-byte v3, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    const/4 v4, 0x3
+
+    if-ne v3, v4, :cond_62
+
+    new-instance v1, Ljava/util/Random;
+
+    invoke-direct {v1}, Ljava/util/Random;-><init>()V
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v1}, Ljava/util/Random;->nextLong()J
+
+    move-result-wide v4
+
+    invoke-static {v4, v5}, Ljava/lang/Math;->abs(J)J
+
+    move-result-wide v4
+
+    invoke-virtual {v3, v4, v5}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, ""
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/String;->length()I
+
+    move-result v3
+
+    if-le v3, v6, :cond_3b
+
+    invoke-virtual {v2, v7, v6}, Ljava/lang/String;->substring(II)Ljava/lang/String;
+
+    move-result-object v3
+
+    goto :goto_a
+
+    :cond_3b
+    invoke-virtual {v2}, Ljava/lang/String;->length()I
+
+    move-result v0
+
+    :goto_3f
+    const/16 v3, 0x10
+
+    if-gt v0, v3, :cond_5d
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v3, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const/16 v4, 0x9
+
+    invoke-virtual {v1, v4}, Ljava/util/Random;->nextInt(I)I
+
+    move-result v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    add-int/lit8 v0, v0, 0x1
+
+    goto :goto_3f
+
+    :cond_5d
+    invoke-virtual {v2, v7, v6}, Ljava/lang/String;->substring(II)Ljava/lang/String;
+
+    move-result-object v3
+
+    goto :goto_a
+
+    :cond_62
+    iget-object v3, p0, Landroid/privacy/PrivacySettings;->subscriberId:Ljava/lang/String;
+
+    goto :goto_a
+.end method
+
+.method public getSubscriberIdSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    return v0
+.end method
+
+.method public getSwitchConnectivitySetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->switchConnectivitySetting:B
+
+    return v0
+.end method
+
+.method public getSwitchWifiStateSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->switchWifiStateSetting:B
+
+    return v0
+.end method
+
+.method public getSystemLogsSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->systemLogsSetting:B
+
+    return v0
+.end method
+
+.method public getUid()I
+    .registers 2
+
+    iget v0, p0, Landroid/privacy/PrivacySettings;->uid:I
+
+    return v0
+.end method
+
+.method public getWifiInfoSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->wifiInfoSetting:B
+
+    return v0
+.end method
+
+.method public get_id()Ljava/lang/Integer;
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->_id:Ljava/lang/Integer;
+
+    return-object v0
+.end method
+
+.method public setAccountsAuthTokensSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->accountsAuthTokensSetting:B
+
+    return-void
+.end method
+
+.method public setAccountsSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->accountsSetting:B
+
+    return-void
+.end method
+
+.method public setAddOnManagementSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->addOnManagementSetting:B
+
+    return-void
+.end method
+
+.method public setAllowedContacts([I)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->allowedContacts:[I
+
+    return-void
+.end method
+
+.method public setAndroidID(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->androidID:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setAndroidIdSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->androidIdSetting:B
+
+    return-void
+.end method
+
+.method public setBookmarksSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->bookmarksSetting:B
+
+    return-void
+.end method
+
+.method public setCalendarSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->calendarSetting:B
+
+    return-void
+.end method
+
+.method public setCallLogSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->callLogSetting:B
+
+    return-void
+.end method
+
+.method public setCameraSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->cameraSetting:B
+
+    return-void
+.end method
+
+.method public setContactsSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->contactsSetting:B
+
+    return-void
+.end method
+
+.method public setDeviceId(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->deviceId:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setDeviceIdSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    return-void
+.end method
+
+.method public setForceOnlineState(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->forceOnlineState:B
+
+    return-void
+.end method
+
+.method public setIccAccessSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->iccAccessSetting:B
+
+    return-void
+.end method
+
+.method public setIncomingCallsSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->incomingCallsSetting:B
+
+    return-void
+.end method
+
+.method public setIntentBootCompletedSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->intentBootCompletedSetting:B
+
+    return-void
+.end method
+
+.method public setIpTableProtectSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->ipTableProtectSetting:B
+
+    return-void
+.end method
+
+.method public setLine1Number(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->line1Number:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setLine1NumberSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    return-void
+.end method
+
+.method public setLocationGpsLat(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->locationGpsLat:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setLocationGpsLon(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->locationGpsLon:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setLocationGpsSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    return-void
+.end method
+
+.method public setLocationNetworkLat(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLat:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setLocationNetworkLon(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLon:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setLocationNetworkSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    return-void
+.end method
+
+.method public setMmsSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->mmsSetting:B
+
+    return-void
+.end method
+
+.method public setNetworkInfoSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->networkInfoSetting:B
+
+    return-void
+.end method
+
+.method public setNotificationSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->notificationSetting:B
+
+    return-void
+.end method
+
+.method public setOutgoingCallsSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->outgoingCallsSetting:B
+
+    return-void
+.end method
+
+.method public setPackageName(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->packageName:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setPhoneCallSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->phoneCallSetting:B
+
+    return-void
+.end method
+
+.method public setRecordAudioSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->recordAudioSetting:B
+
+    return-void
+.end method
+
+.method public setSendMmsSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->sendMmsSetting:B
+
+    return-void
+.end method
+
+.method public setSimInfoSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->simInfoSetting:B
+
+    return-void
+.end method
+
+.method public setSimSerialNumber(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->simSerialNumber:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setSimSerialNumberSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    return-void
+.end method
+
+.method public setSmsSendSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->smsSendSetting:B
+
+    return-void
+.end method
+
+.method public setSmsSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->smsSetting:B
+
+    return-void
+.end method
+
+.method public setSubscriberId(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->subscriberId:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setSubscriberIdSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    return-void
+.end method
+
+.method public setSwitchConnectivitySetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->switchConnectivitySetting:B
+
+    return-void
+.end method
+
+.method public setSwitchWifiStateSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->switchWifiStateSetting:B
+
+    return-void
+.end method
+
+.method public setSystemLogsSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->systemLogsSetting:B
+
+    return-void
+.end method
+
+.method public setUid(I)V
+    .registers 2
+
+    iput p1, p0, Landroid/privacy/PrivacySettings;->uid:I
+
+    return-void
+.end method
+
+.method public setWifiInfoSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->wifiInfoSetting:B
+
+    return-void
+.end method
+
+.method public toString()Ljava/lang/String;
+    .registers 3
+
+    new-instance v0, Ljava/lang/StringBuilder;
+
+    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v1, "PrivacySettings [_id="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->_id:Ljava/lang/Integer;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", accountsAuthTokensSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->accountsAuthTokensSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", accountsSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->accountsSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", bookmarksSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->bookmarksSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", calendarSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->calendarSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", callLogSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->callLogSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", contactsSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->contactsSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", deviceId="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->deviceId:Ljava/lang/String;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", deviceIdSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", incomingCallsSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->incomingCallsSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", intentBootCompletedSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->intentBootCompletedSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", line1Number="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->line1Number:Ljava/lang/String;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", line1NumberSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", locationGpsLat="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->locationGpsLat:Ljava/lang/String;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", locationGpsLon="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->locationGpsLon:Ljava/lang/String;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", locationGpsSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", locationNetworkLat="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLat:Ljava/lang/String;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", locationNetworkLon="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLon:Ljava/lang/String;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", locationNetworkSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", mmsSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->mmsSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", networkInfoSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->networkInfoSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", notificationSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->notificationSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", outgoingCallsSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->outgoingCallsSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", packageName="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->packageName:Ljava/lang/String;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", simInfoSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->simInfoSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", simSerialNumber="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->simSerialNumber:Ljava/lang/String;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", simSerialNumberSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", smsSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->smsSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", subscriberId="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->subscriberId:Ljava/lang/String;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", subscriberIdSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", systemLogsSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->systemLogsSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", uid="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget v1, p0, Landroid/privacy/PrivacySettings;->uid:I
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", phoneCallSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->phoneCallSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", smsSendSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->smsSendSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", recordAudioSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->recordAudioSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", cameraSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->cameraSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", ipTableProtectSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->ipTableProtectSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", iccAccessSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->iccAccessSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", addOnManagementSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->addOnManagementSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", android ID="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->androidID:Ljava/lang/String;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", androidIdSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->androidIdSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", wifiInfoSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->wifiInfoSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", switchConnectivitySetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->switchConnectivitySetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", sendMmsSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->sendMmsSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", forceOnlineState="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->forceOnlineState:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", switchWifiStateSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->switchWifiStateSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, "]"
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public writeToParcel(Landroid/os/Parcel;I)V
+    .registers 4
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->_id:Ljava/lang/Integer;
+
+    if-nez v0, :cond_ef
+
+    const/4 v0, -0x1
+
+    :goto_5
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeInt(I)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->packageName:Ljava/lang/String;
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget v0, p0, Landroid/privacy/PrivacySettings;->uid:I
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeInt(I)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->deviceId:Ljava/lang/String;
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->line1Number:Ljava/lang/String;
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->locationGpsLat:Ljava/lang/String;
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->locationGpsLon:Ljava/lang/String;
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkLat:Ljava/lang/String;
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkLon:Ljava/lang/String;
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->networkInfoSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->simInfoSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->simSerialNumber:Ljava/lang/String;
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->subscriberId:Ljava/lang/String;
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsAuthTokensSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->outgoingCallsSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->incomingCallsSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->contactsSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->calendarSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->mmsSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->smsSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->callLogSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->bookmarksSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->systemLogsSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->notificationSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->intentBootCompletedSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->cameraSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->recordAudioSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->allowedContacts:[I
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeIntArray([I)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->smsSendSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->phoneCallSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->ipTableProtectSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->iccAccessSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->addOnManagementSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->androidIdSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->androidID:Ljava/lang/String;
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->wifiInfoSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->switchConnectivitySetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->sendMmsSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->forceOnlineState:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->switchWifiStateSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    return-void
+
+    :cond_ef
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->_id:Ljava/lang/Integer;
+
+    invoke-virtual {v0}, Ljava/lang/Integer;->intValue()I
+
+    move-result v0
+
+    goto/16 :goto_5
+.end method
diff -Npruw stock-framework/smali/android/privacy/PrivacySettingsStub.smali pdroid-framework/smali/android/privacy/PrivacySettingsStub.smali
--- stock-framework/smali/android/privacy/PrivacySettingsStub.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/PrivacySettingsStub.smali	2013-07-15 18:10:49.750628166 -0500
@@ -0,0 +1,27 @@
+.class Landroid/privacy/PrivacySettingsStub;
+.super Ljava/lang/Object;
+.source "PrivacySettingsStub.java"
+
+
+# static fields
+.field private static final isStub:Z = true
+
+
+# direct methods
+.method constructor <init>()V
+    .registers 1
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    return-void
+.end method
+
+
+# virtual methods
+.method isStub()Z
+    .registers 2
+
+    const/4 v0, 0x1
+
+    return v0
+.end method
diff -Npruw stock-framework/smali/android/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture.smali pdroid-framework/smali/android/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture.smali
--- stock-framework/smali/android/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture.smali	2013-07-15 18:10:49.754628166 -0500
@@ -0,0 +1,129 @@
+.class Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;
+.super Ljava/lang/Object;
+.source "PrivacyAccountManager.java"
+
+# interfaces
+.implements Landroid/accounts/AccountManagerFuture;
+
+
+# annotations
+.annotation system Ldalvik/annotation/EnclosingClass;
+    value = Landroid/privacy/surrogate/PrivacyAccountManager;
+.end annotation
+
+.annotation system Ldalvik/annotation/InnerClass;
+    accessFlags = 0x2
+    name = "PrivacyAccountManagerFuture"
+.end annotation
+
+.annotation system Ldalvik/annotation/Signature;
+    value = {
+        "<V:",
+        "Ljava/lang/Object;",
+        ">",
+        "Ljava/lang/Object;",
+        "Landroid/accounts/AccountManagerFuture",
+        "<TV;>;"
+    }
+.end annotation
+
+
+# instance fields
+.field private result:Ljava/lang/Object;
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "TV;"
+        }
+    .end annotation
+.end field
+
+.field final synthetic this$0:Landroid/privacy/surrogate/PrivacyAccountManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/privacy/surrogate/PrivacyAccountManager;Ljava/lang/Object;)V
+    .registers 3
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "(TV;)V"
+        }
+    .end annotation
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;->this$0:Landroid/privacy/surrogate/PrivacyAccountManager;
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    iput-object p2, p0, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;->result:Ljava/lang/Object;
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public cancel(Z)Z
+    .registers 3
+
+    const/4 v0, 0x0
+
+    return v0
+.end method
+
+.method public getResult()Ljava/lang/Object;
+    .registers 2
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "()TV;"
+        }
+    .end annotation
+
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/accounts/OperationCanceledException;,
+            Ljava/io/IOException;,
+            Landroid/accounts/AuthenticatorException;
+        }
+    .end annotation
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;->result:Ljava/lang/Object;
+
+    return-object v0
+.end method
+
+.method public getResult(JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
+    .registers 5
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "(J",
+            "Ljava/util/concurrent/TimeUnit;",
+            ")TV;"
+        }
+    .end annotation
+
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/accounts/OperationCanceledException;,
+            Ljava/io/IOException;,
+            Landroid/accounts/AuthenticatorException;
+        }
+    .end annotation
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;->result:Ljava/lang/Object;
+
+    return-object v0
+.end method
+
+.method public isCancelled()Z
+    .registers 2
+
+    const/4 v0, 0x0
+
+    return v0
+.end method
+
+.method public isDone()Z
+    .registers 2
+
+    const/4 v0, 0x1
+
+    return v0
+.end method
diff -Npruw stock-framework/smali/android/privacy/surrogate/PrivacyAccountManager.smali pdroid-framework/smali/android/privacy/surrogate/PrivacyAccountManager.smali
--- stock-framework/smali/android/privacy/surrogate/PrivacyAccountManager.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/surrogate/PrivacyAccountManager.smali	2013-07-15 18:10:49.754628166 -0500
@@ -0,0 +1,701 @@
+.class public final Landroid/privacy/surrogate/PrivacyAccountManager;
+.super Landroid/accounts/AccountManager;
+.source "PrivacyAccountManager.java"
+
+
+# annotations
+.annotation system Ldalvik/annotation/MemberClasses;
+    value = {
+        Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;
+    }
+.end annotation
+
+
+# static fields
+.field private static final TAG:Ljava/lang/String; = "PrivacyAccountManager"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Landroid/accounts/IAccountManager;)V
+    .registers 5
+
+    invoke-direct {p0, p1, p2}, Landroid/accounts/AccountManager;-><init>(Landroid/content/Context;Landroid/accounts/IAccountManager;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    return-void
+.end method
+
+.method public constructor <init>(Landroid/content/Context;Landroid/accounts/IAccountManager;Landroid/os/Handler;)V
+    .registers 6
+
+    invoke-direct {p0, p1, p2, p3}, Landroid/accounts/AccountManager;-><init>(Landroid/content/Context;Landroid/accounts/IAccountManager;Landroid/os/Handler;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public blockingGetAuthToken(Landroid/accounts/Account;Ljava/lang/String;Z)Ljava/lang/String;
+    .registers 12
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/accounts/OperationCanceledException;,
+            Ljava/io/IOException;,
+            Landroid/accounts/AuthenticatorException;
+        }
+    .end annotation
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_23
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getAccountsAuthTokensSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_23
+
+    const/4 v7, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string v4, "authTokens"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_22
+    return-object v7
+
+    :cond_23
+    invoke-super {p0, p1, p2, p3}, Landroid/accounts/AccountManager;->blockingGetAuthToken(Landroid/accounts/Account;Ljava/lang/String;Z)Ljava/lang/String;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "authTokens"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_22
+.end method
+
+.method public getAccounts()[Landroid/accounts/Account;
+    .registers 10
+
+    const/4 v5, 0x0
+
+    const/4 v3, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_27
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getAccountsSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_27
+
+    const-string v8, "[empty accounts list]"
+
+    new-array v7, v3, [Landroid/accounts/Account;
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string v4, "accountsList"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_26
+    return-object v7
+
+    :cond_27
+    const-string v8, "[real value]"
+
+    invoke-super {p0}, Landroid/accounts/AccountManager;->getAccounts()[Landroid/accounts/Account;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "accountsList"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_26
+.end method
+
+.method public getAccountsByType(Ljava/lang/String;)[Landroid/accounts/Account;
+    .registers 11
+
+    const/4 v5, 0x0
+
+    const/4 v3, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_27
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getAccountsSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_27
+
+    const-string v8, "[empty accounts list]"
+
+    new-array v7, v3, [Landroid/accounts/Account;
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string v4, "accountsList"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_26
+    return-object v7
+
+    :cond_27
+    const-string v8, "[real value]"
+
+    invoke-super {p0, p1}, Landroid/accounts/AccountManager;->getAccountsByType(Ljava/lang/String;)[Landroid/accounts/Account;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "accountsList"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_26
+.end method
+
+.method public getAccountsByTypeAndFeatures(Ljava/lang/String;[Ljava/lang/String;Landroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+    .registers 14
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "(",
+            "Ljava/lang/String;",
+            "[",
+            "Ljava/lang/String;",
+            "Landroid/accounts/AccountManagerCallback",
+            "<[",
+            "Landroid/accounts/Account;",
+            ">;",
+            "Landroid/os/Handler;",
+            ")",
+            "Landroid/accounts/AccountManagerFuture",
+            "<[",
+            "Landroid/accounts/Account;",
+            ">;"
+        }
+    .end annotation
+
+    const/4 v5, 0x0
+
+    const/4 v3, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_2c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getAccountsSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_2c
+
+    const-string v8, "[false]"
+
+    new-instance v7, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;
+
+    new-array v0, v3, [Landroid/accounts/Account;
+
+    invoke-direct {v7, p0, v0}, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;-><init>(Landroid/privacy/surrogate/PrivacyAccountManager;Ljava/lang/Object;)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string v4, "accountsList"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_2b
+    return-object v7
+
+    :cond_2c
+    const-string v8, "[real value]"
+
+    invoke-super {p0, p1, p2, p3, p4}, Landroid/accounts/AccountManager;->getAccountsByTypeAndFeatures(Ljava/lang/String;[Ljava/lang/String;Landroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "accountsList"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_2b
+.end method
+
+.method public getAuthToken(Landroid/accounts/Account;Ljava/lang/String;Landroid/os/Bundle;Landroid/app/Activity;Landroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+    .registers 16
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "(",
+            "Landroid/accounts/Account;",
+            "Ljava/lang/String;",
+            "Landroid/os/Bundle;",
+            "Landroid/app/Activity;",
+            "Landroid/accounts/AccountManagerCallback",
+            "<",
+            "Landroid/os/Bundle;",
+            ">;",
+            "Landroid/os/Handler;",
+            ")",
+            "Landroid/accounts/AccountManagerFuture",
+            "<",
+            "Landroid/os/Bundle;",
+            ">;"
+        }
+    .end annotation
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_2e
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getAccountsAuthTokensSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_2e
+
+    const-string v8, "[empty]"
+
+    new-instance v7, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;
+
+    new-instance v0, Landroid/os/Bundle;
+
+    invoke-direct {v0}, Landroid/os/Bundle;-><init>()V
+
+    invoke-direct {v7, p0, v0}, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;-><init>(Landroid/privacy/surrogate/PrivacyAccountManager;Ljava/lang/Object;)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string v4, "authTokens"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_2d
+    return-object v7
+
+    :cond_2e
+    const-string v8, "[real value]"
+
+    invoke-super/range {p0 .. p6}, Landroid/accounts/AccountManager;->getAuthToken(Landroid/accounts/Account;Ljava/lang/String;Landroid/os/Bundle;Landroid/app/Activity;Landroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "authTokens"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_2d
+.end method
+
+.method public getAuthToken(Landroid/accounts/Account;Ljava/lang/String;ZLandroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+    .registers 15
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "(",
+            "Landroid/accounts/Account;",
+            "Ljava/lang/String;",
+            "Z",
+            "Landroid/accounts/AccountManagerCallback",
+            "<",
+            "Landroid/os/Bundle;",
+            ">;",
+            "Landroid/os/Handler;",
+            ")",
+            "Landroid/accounts/AccountManagerFuture",
+            "<",
+            "Landroid/os/Bundle;",
+            ">;"
+        }
+    .end annotation
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_2e
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getAccountsAuthTokensSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_2e
+
+    const-string v8, "[empty]"
+
+    new-instance v7, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;
+
+    new-instance v0, Landroid/os/Bundle;
+
+    invoke-direct {v0}, Landroid/os/Bundle;-><init>()V
+
+    invoke-direct {v7, p0, v0}, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;-><init>(Landroid/privacy/surrogate/PrivacyAccountManager;Ljava/lang/Object;)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string v4, "authTokens"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_2d
+    return-object v7
+
+    :cond_2e
+    const-string v8, "[real value]"
+
+    invoke-super/range {p0 .. p5}, Landroid/accounts/AccountManager;->getAuthToken(Landroid/accounts/Account;Ljava/lang/String;ZLandroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "authTokens"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_2d
+.end method
+
+.method public getAuthTokenByFeatures(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Landroid/app/Activity;Landroid/os/Bundle;Landroid/os/Bundle;Landroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+    .registers 18
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "(",
+            "Ljava/lang/String;",
+            "Ljava/lang/String;",
+            "[",
+            "Ljava/lang/String;",
+            "Landroid/app/Activity;",
+            "Landroid/os/Bundle;",
+            "Landroid/os/Bundle;",
+            "Landroid/accounts/AccountManagerCallback",
+            "<",
+            "Landroid/os/Bundle;",
+            ">;",
+            "Landroid/os/Handler;",
+            ")",
+            "Landroid/accounts/AccountManagerFuture",
+            "<",
+            "Landroid/os/Bundle;",
+            ">;"
+        }
+    .end annotation
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_2e
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getAccountsAuthTokensSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_2e
+
+    const-string v8, "[empty]"
+
+    new-instance v7, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;
+
+    new-instance v0, Landroid/os/Bundle;
+
+    invoke-direct {v0}, Landroid/os/Bundle;-><init>()V
+
+    invoke-direct {v7, p0, v0}, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;-><init>(Landroid/privacy/surrogate/PrivacyAccountManager;Ljava/lang/Object;)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string v4, "authTokens"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_2d
+    return-object v7
+
+    :cond_2e
+    const-string v8, "[real value]"
+
+    invoke-super/range {p0 .. p8}, Landroid/accounts/AccountManager;->getAuthTokenByFeatures(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Landroid/app/Activity;Landroid/os/Bundle;Landroid/os/Bundle;Landroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "authTokens"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_2d
+.end method
+
+.method public hasFeatures(Landroid/accounts/Account;[Ljava/lang/String;Landroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+    .registers 14
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "(",
+            "Landroid/accounts/Account;",
+            "[",
+            "Ljava/lang/String;",
+            "Landroid/accounts/AccountManagerCallback",
+            "<",
+            "Ljava/lang/Boolean;",
+            ">;",
+            "Landroid/os/Handler;",
+            ")",
+            "Landroid/accounts/AccountManagerFuture",
+            "<",
+            "Ljava/lang/Boolean;",
+            ">;"
+        }
+    .end annotation
+
+    const/4 v5, 0x0
+
+    const/4 v3, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_2e
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getAccountsSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_2e
+
+    const-string v8, "[false]"
+
+    new-instance v7, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;
+
+    invoke-static {v3}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;
+
+    move-result-object v0
+
+    invoke-direct {v7, p0, v0}, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;-><init>(Landroid/privacy/surrogate/PrivacyAccountManager;Ljava/lang/Object;)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string v4, "accountsList"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_2d
+    return-object v7
+
+    :cond_2e
+    const-string v8, "[real value]"
+
+    invoke-super {p0, p1, p2, p3, p4}, Landroid/accounts/AccountManager;->hasFeatures(Landroid/accounts/Account;[Ljava/lang/String;Landroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "accountsList"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_2d
+.end method
diff -Npruw stock-framework/smali/android/privacy/surrogate/PrivacyActivityManagerService.smali pdroid-framework/smali/android/privacy/surrogate/PrivacyActivityManagerService.smali
--- stock-framework/smali/android/privacy/surrogate/PrivacyActivityManagerService.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/surrogate/PrivacyActivityManagerService.smali	2013-07-15 18:10:49.754628166 -0500
@@ -0,0 +1,1217 @@
+.class public final Landroid/privacy/surrogate/PrivacyActivityManagerService;
+.super Ljava/lang/Object;
+.source "PrivacyActivityManagerService.java"
+
+
+# static fields
+.field private static final TAG:Ljava/lang/String; = "PrivacyActivityManagerService"
+
+.field private static pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+.field private static tmpIn:Landroid/content/Intent;
+
+.field private static tmpInHash:J
+
+.field private static tmpInReceivers:I
+
+.field private static tmpMms:Landroid/content/Intent;
+
+.field private static tmpMmsHash:J
+
+.field private static tmpMmsReceivers:I
+
+.field private static tmpOut:Landroid/content/Intent;
+
+.field private static tmpOutHash:J
+
+.field private static tmpOutReceivers:I
+
+.field private static tmpPackageAddedHash:J
+
+.field private static tmpSms:Landroid/content/Intent;
+
+.field private static tmpSmsHash:J
+
+.field private static tmpSmsReceivers:I
+
+
+# direct methods
+.method static constructor <clinit>()V
+    .registers 3
+
+    const/4 v2, 0x0
+
+    const-wide/16 v0, 0x0
+
+    sput-wide v0, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpInHash:J
+
+    sput v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpInReceivers:I
+
+    sput-wide v0, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOutHash:J
+
+    sput v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOutReceivers:I
+
+    sput-wide v0, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSmsHash:J
+
+    sput v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSmsReceivers:I
+
+    sput-wide v0, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMmsHash:J
+
+    sput v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMmsReceivers:I
+
+    sput-wide v0, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpPackageAddedHash:J
+
+    return-void
+.end method
+
+.method public constructor <init>()V
+    .registers 1
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    return-void
+.end method
+
+.method public static enforcePrivacyPermission(Ljava/lang/String;ILandroid/content/Intent;Landroid/content/Context;I)V
+    .registers 29
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v2, :cond_13
+
+    if-eqz p3, :cond_13
+
+    const-string/jumbo v2, "privacy"
+
+    move-object/from16 v0, p3
+
+    invoke-virtual {v0, v2}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;
+
+    move-result-object v2
+
+    check-cast v2, Landroid/privacy/PrivacySettingsManager;
+
+    sput-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_13
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v2, :cond_2c
+
+    if-nez p3, :cond_2c
+
+    new-instance v2, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "privacy"
+
+    invoke-static {v4}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v4
+
+    invoke-static {v4}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v4
+
+    invoke-direct {v2, v3, v4}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    sput-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_2c
+    invoke-virtual/range {p2 .. p2}, Landroid/content/Intent;->getAction()Ljava/lang/String;
+
+    move-result-object v16
+
+    const-string v2, "android.intent.action.NEW_OUTGOING_CALL"
+
+    move-object/from16 v0, v16
+
+    invoke-virtual {v0, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_cc
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
+
+    move/from16 v1, p1
+
+    invoke-virtual {v2, v0, v1}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    const-string v2, "android.intent.extra.PHONE_NUMBER"
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;
+
+    move-result-object v23
+
+    sget-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOutHash:J
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v4
+
+    cmp-long v2, v2, v4
+
+    if-eqz v2, :cond_66
+
+    invoke-virtual/range {p2 .. p2}, Landroid/content/Intent;->clone()Ljava/lang/Object;
+
+    move-result-object v2
+
+    check-cast v2, Landroid/content/Intent;
+
+    sput-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOut:Landroid/content/Intent;
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v2
+
+    sput-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOutHash:J
+
+    sput p4, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOutReceivers:I
+
+    :cond_66
+    if-eqz v8, :cond_93
+
+    :try_start_68
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getOutgoingCallsSetting()B
+
+    move-result v2
+
+    if-eqz v2, :cond_93
+
+    const-string v23, ""
+
+    const-string v2, "android.intent.extra.PHONE_NUMBER"
+
+    move-object/from16 v0, p2
+
+    move-object/from16 v1, v23
+
+    invoke-virtual {v0, v2, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v5, 0x1
+
+    const-string/jumbo v6, "outgoingCall"
+
+    const/4 v7, 0x0
+
+    move-object/from16 v3, p0
+
+    move/from16 v4, p1
+
+    invoke-virtual/range {v2 .. v8}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_87
+    .catch Ljava/lang/Exception; {:try_start_68 .. :try_end_87} :catch_bd
+
+    :cond_87
+    :goto_87
+    sget v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOutReceivers:I
+
+    const/4 v3, 0x1
+
+    if-le v2, v3, :cond_c8
+
+    sget v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOutReceivers:I
+
+    add-int/lit8 v2, v2, -0x1
+
+    sput v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOutReceivers:I
+
+    :cond_92
+    :goto_92
+    return-void
+
+    :cond_93
+    :try_start_93
+    sget-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOutHash:J
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v4
+
+    cmp-long v2, v2, v4
+
+    if-nez v2, :cond_87
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOut:Landroid/content/Intent;
+
+    const-string v3, "android.intent.extra.PHONE_NUMBER"
+
+    invoke-virtual {v2, v3}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;
+
+    move-result-object v23
+
+    const-string v2, "android.intent.extra.PHONE_NUMBER"
+
+    move-object/from16 v0, p2
+
+    move-object/from16 v1, v23
+
+    invoke-virtual {v0, v2, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v5, 0x0
+
+    const-string/jumbo v6, "outgoingCall"
+
+    const/4 v7, 0x0
+
+    move-object/from16 v3, p0
+
+    move/from16 v4, p1
+
+    invoke-virtual/range {v2 .. v8}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_bc
+    .catch Ljava/lang/Exception; {:try_start_93 .. :try_end_bc} :catch_bd
+
+    goto :goto_87
+
+    :catch_bd
+    move-exception v20
+
+    const-string v2, "PrivacyActivityManagerService"
+
+    const-string v3, "failed to enforce intent broadcast permission"
+
+    move-object/from16 v0, v20
+
+    invoke-static {v2, v3, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_87
+
+    :cond_c8
+    const/4 v2, 0x0
+
+    sput-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOut:Landroid/content/Intent;
+
+    goto :goto_92
+
+    :cond_cc
+    const-string v2, "android.intent.action.PHONE_STATE"
+
+    move-object/from16 v0, v16
+
+    invoke-virtual {v0, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_170
+
+    const-string v2, "incoming_number"
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;
+
+    move-result-object v23
+
+    if-eqz v23, :cond_92
+
+    invoke-virtual/range {v23 .. v23}, Ljava/lang/String;->isEmpty()Z
+
+    move-result v2
+
+    if-nez v2, :cond_92
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
+
+    move/from16 v1, p1
+
+    invoke-virtual {v2, v0, v1}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    sget-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpInHash:J
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v4
+
+    cmp-long v2, v2, v4
+
+    if-eqz v2, :cond_10a
+
+    invoke-virtual/range {p2 .. p2}, Landroid/content/Intent;->clone()Ljava/lang/Object;
+
+    move-result-object v2
+
+    check-cast v2, Landroid/content/Intent;
+
+    sput-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpIn:Landroid/content/Intent;
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v2
+
+    sput-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpInHash:J
+
+    sput p4, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpInReceivers:I
+
+    :cond_10a
+    if-eqz v8, :cond_137
+
+    :try_start_10c
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getIncomingCallsSetting()B
+
+    move-result v2
+
+    if-eqz v2, :cond_137
+
+    const-string v23, ""
+
+    const-string v2, "incoming_number"
+
+    move-object/from16 v0, p2
+
+    move-object/from16 v1, v23
+
+    invoke-virtual {v0, v2, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v5, 0x1
+
+    const-string v6, "incomingCall"
+
+    const/4 v7, 0x0
+
+    move-object/from16 v3, p0
+
+    move/from16 v4, p1
+
+    invoke-virtual/range {v2 .. v8}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_12a
+    .catch Ljava/lang/Exception; {:try_start_10c .. :try_end_12a} :catch_160
+
+    :cond_12a
+    :goto_12a
+    sget v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpInReceivers:I
+
+    const/4 v3, 0x1
+
+    if-le v2, v3, :cond_16b
+
+    sget v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpInReceivers:I
+
+    add-int/lit8 v2, v2, -0x1
+
+    sput v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpInReceivers:I
+
+    goto/16 :goto_92
+
+    :cond_137
+    :try_start_137
+    sget-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpInHash:J
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v4
+
+    cmp-long v2, v2, v4
+
+    if-nez v2, :cond_12a
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpIn:Landroid/content/Intent;
+
+    const-string v3, "incoming_number"
+
+    invoke-virtual {v2, v3}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;
+
+    move-result-object v23
+
+    const-string v2, "incoming_number"
+
+    move-object/from16 v0, p2
+
+    move-object/from16 v1, v23
+
+    invoke-virtual {v0, v2, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v5, 0x0
+
+    const-string v6, "incomingCall"
+
+    const/4 v7, 0x0
+
+    move-object/from16 v3, p0
+
+    move/from16 v4, p1
+
+    invoke-virtual/range {v2 .. v8}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_15f
+    .catch Ljava/lang/Exception; {:try_start_137 .. :try_end_15f} :catch_160
+
+    goto :goto_12a
+
+    :catch_160
+    move-exception v20
+
+    const-string v2, "PrivacyActivityManagerService"
+
+    const-string v3, "failed to enforce intent broadcast permission"
+
+    move-object/from16 v0, v20
+
+    invoke-static {v2, v3, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_12a
+
+    :cond_16b
+    const/4 v2, 0x0
+
+    sput-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpIn:Landroid/content/Intent;
+
+    goto/16 :goto_92
+
+    :cond_170
+    const-string v2, "android.provider.Telephony.SMS_RECEIVED"
+
+    move-object/from16 v0, v16
+
+    invoke-virtual {v0, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_253
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
+
+    move/from16 v1, p1
+
+    invoke-virtual {v2, v0, v1}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    const-string v23, "[real]"
+
+    const-string/jumbo v2, "pdus"
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2}, Landroid/content/Intent;->getSerializableExtra(Ljava/lang/String;)Ljava/io/Serializable;
+
+    move-result-object v2
+
+    check-cast v2, [Ljava/lang/Object;
+
+    move-object/from16 v22, v2
+
+    check-cast v22, [Ljava/lang/Object;
+
+    if-eqz v22, :cond_1f8
+
+    const/4 v2, 0x0
+
+    aget-object v2, v22, v2
+
+    check-cast v2, [B
+
+    check-cast v2, [B
+
+    move-object/from16 v19, v2
+
+    :goto_1a0
+    sget-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSmsHash:J
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v4
+
+    cmp-long v2, v2, v4
+
+    if-eqz v2, :cond_1ba
+
+    invoke-virtual/range {p2 .. p2}, Landroid/content/Intent;->clone()Ljava/lang/Object;
+
+    move-result-object v2
+
+    check-cast v2, Landroid/content/Intent;
+
+    sput-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSms:Landroid/content/Intent;
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v2
+
+    sput-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSmsHash:J
+
+    sput p4, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSmsReceivers:I
+
+    :cond_1ba
+    if-eqz v8, :cond_1fb
+
+    :try_start_1bc
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getSmsSetting()B
+
+    move-result v2
+
+    if-eqz v2, :cond_1fb
+
+    const-string v23, "[empty]"
+
+    const/4 v2, 0x1
+
+    new-array v0, v2, [Ljava/lang/Object;
+
+    move-object/from16 v21, v0
+
+    const/4 v2, 0x0
+
+    const/16 v3, 0x10
+
+    new-array v3, v3, [B
+
+    fill-array-data v3, :array_3da
+
+    aput-object v3, v21, v2
+
+    const-string/jumbo v2, "pdus"
+
+    move-object/from16 v0, p2
+
+    move-object/from16 v1, v21
+
+    invoke-virtual {v0, v2, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/io/Serializable;)Landroid/content/Intent;
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v5, 0x1
+
+    const-string/jumbo v6, "sms"
+
+    const/4 v7, 0x0
+
+    move-object/from16 v3, p0
+
+    move/from16 v4, p1
+
+    invoke-virtual/range {v2 .. v8}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_1eb
+    .catch Ljava/lang/Exception; {:try_start_1bc .. :try_end_1eb} :catch_240
+
+    :cond_1eb
+    :goto_1eb
+    sget v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSmsReceivers:I
+
+    const/4 v3, 0x1
+
+    if-le v2, v3, :cond_24e
+
+    sget v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSmsReceivers:I
+
+    add-int/lit8 v2, v2, -0x1
+
+    sput v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSmsReceivers:I
+
+    goto/16 :goto_92
+
+    :cond_1f8
+    const/16 v19, 0x0
+
+    goto :goto_1a0
+
+    :cond_1fb
+    :try_start_1fb
+    sget-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSmsHash:J
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v4
+
+    cmp-long v2, v2, v4
+
+    if-nez v2, :cond_1eb
+
+    const-string/jumbo v2, "pdus"
+
+    sget-object v3, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSms:Landroid/content/Intent;
+
+    const-string/jumbo v4, "pdus"
+
+    invoke-virtual {v3, v4}, Landroid/content/Intent;->getSerializableExtra(Ljava/lang/String;)Ljava/io/Serializable;
+
+    move-result-object v3
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2, v3}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/io/Serializable;)Landroid/content/Intent;
+
+    const-string/jumbo v2, "pdus"
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2}, Landroid/content/Intent;->getSerializableExtra(Ljava/lang/String;)Ljava/io/Serializable;
+
+    move-result-object v2
+
+    check-cast v2, [Ljava/lang/Object;
+
+    move-object v0, v2
+
+    check-cast v0, [Ljava/lang/Object;
+
+    move-object/from16 v22, v0
+
+    if-eqz v22, :cond_24b
+
+    const/4 v2, 0x0
+
+    aget-object v2, v22, v2
+
+    check-cast v2, [B
+
+    check-cast v2, [B
+
+    move-object/from16 v19, v2
+
+    :goto_231
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v5, 0x0
+
+    const-string/jumbo v6, "sms"
+
+    const/4 v7, 0x0
+
+    move-object/from16 v3, p0
+
+    move/from16 v4, p1
+
+    invoke-virtual/range {v2 .. v8}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_23f
+    .catch Ljava/lang/Exception; {:try_start_1fb .. :try_end_23f} :catch_240
+
+    goto :goto_1eb
+
+    :catch_240
+    move-exception v20
+
+    const-string v2, "PrivacyActivityManagerService"
+
+    const-string v3, "failed to enforce intent broadcast permission"
+
+    move-object/from16 v0, v20
+
+    invoke-static {v2, v3, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_1eb
+
+    :cond_24b
+    const/16 v19, 0x0
+
+    goto :goto_231
+
+    :cond_24e
+    const/4 v2, 0x0
+
+    sput-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSms:Landroid/content/Intent;
+
+    goto/16 :goto_92
+
+    :cond_253
+    const-string v2, "android.provider.Telephony.WAP_PUSH_RECEIVED"
+
+    move-object/from16 v0, v16
+
+    invoke-virtual {v0, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-nez v2, :cond_267
+
+    const-string v2, "android.intent.action.DATA_SMS_RECEIVED"
+
+    move-object/from16 v0, v16
+
+    invoke-virtual {v0, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_340
+
+    :cond_267
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
+
+    move/from16 v1, p1
+
+    invoke-virtual {v2, v0, v1}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    const-string v23, "[real]"
+
+    const-string/jumbo v2, "pdus"
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2}, Landroid/content/Intent;->getSerializableExtra(Ljava/lang/String;)Ljava/io/Serializable;
+
+    move-result-object v2
+
+    check-cast v2, [Ljava/lang/Object;
+
+    move-object/from16 v22, v2
+
+    check-cast v22, [Ljava/lang/Object;
+
+    if-eqz v22, :cond_2e5
+
+    const/4 v2, 0x0
+
+    aget-object v2, v22, v2
+
+    check-cast v2, [B
+
+    check-cast v2, [B
+
+    move-object/from16 v19, v2
+
+    :goto_28d
+    sget-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMmsHash:J
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v4
+
+    cmp-long v2, v2, v4
+
+    if-eqz v2, :cond_2a7
+
+    invoke-virtual/range {p2 .. p2}, Landroid/content/Intent;->clone()Ljava/lang/Object;
+
+    move-result-object v2
+
+    check-cast v2, Landroid/content/Intent;
+
+    sput-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMms:Landroid/content/Intent;
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v2
+
+    sput-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMmsHash:J
+
+    sput p4, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMmsReceivers:I
+
+    :cond_2a7
+    if-eqz v8, :cond_2e8
+
+    :try_start_2a9
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getMmsSetting()B
+
+    move-result v2
+
+    if-eqz v2, :cond_2e8
+
+    const-string v23, "[empty]"
+
+    const/4 v2, 0x1
+
+    new-array v0, v2, [Ljava/lang/Object;
+
+    move-object/from16 v21, v0
+
+    const/4 v2, 0x0
+
+    const/16 v3, 0x10
+
+    new-array v3, v3, [B
+
+    fill-array-data v3, :array_3e6
+
+    aput-object v3, v21, v2
+
+    const-string/jumbo v2, "pdus"
+
+    move-object/from16 v0, p2
+
+    move-object/from16 v1, v21
+
+    invoke-virtual {v0, v2, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/io/Serializable;)Landroid/content/Intent;
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v5, 0x1
+
+    const-string/jumbo v6, "mms"
+
+    const/4 v7, 0x0
+
+    move-object/from16 v3, p0
+
+    move/from16 v4, p1
+
+    invoke-virtual/range {v2 .. v8}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_2d8
+    .catch Ljava/lang/Exception; {:try_start_2a9 .. :try_end_2d8} :catch_32d
+
+    :cond_2d8
+    :goto_2d8
+    sget v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMmsReceivers:I
+
+    const/4 v3, 0x1
+
+    if-le v2, v3, :cond_33b
+
+    sget v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMmsReceivers:I
+
+    add-int/lit8 v2, v2, -0x1
+
+    sput v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMmsReceivers:I
+
+    goto/16 :goto_92
+
+    :cond_2e5
+    const/16 v19, 0x0
+
+    goto :goto_28d
+
+    :cond_2e8
+    :try_start_2e8
+    sget-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMmsHash:J
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v4
+
+    cmp-long v2, v2, v4
+
+    if-nez v2, :cond_2d8
+
+    const-string/jumbo v2, "pdus"
+
+    sget-object v3, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMms:Landroid/content/Intent;
+
+    const-string/jumbo v4, "pdus"
+
+    invoke-virtual {v3, v4}, Landroid/content/Intent;->getSerializableExtra(Ljava/lang/String;)Ljava/io/Serializable;
+
+    move-result-object v3
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2, v3}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/io/Serializable;)Landroid/content/Intent;
+
+    const-string/jumbo v2, "pdus"
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2}, Landroid/content/Intent;->getSerializableExtra(Ljava/lang/String;)Ljava/io/Serializable;
+
+    move-result-object v2
+
+    check-cast v2, [Ljava/lang/Object;
+
+    move-object v0, v2
+
+    check-cast v0, [Ljava/lang/Object;
+
+    move-object/from16 v22, v0
+
+    if-eqz v22, :cond_338
+
+    const/4 v2, 0x0
+
+    aget-object v2, v22, v2
+
+    check-cast v2, [B
+
+    check-cast v2, [B
+
+    move-object/from16 v19, v2
+
+    :goto_31e
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v5, 0x0
+
+    const-string/jumbo v6, "mms"
+
+    const/4 v7, 0x0
+
+    move-object/from16 v3, p0
+
+    move/from16 v4, p1
+
+    invoke-virtual/range {v2 .. v8}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_32c
+    .catch Ljava/lang/Exception; {:try_start_2e8 .. :try_end_32c} :catch_32d
+
+    goto :goto_2d8
+
+    :catch_32d
+    move-exception v20
+
+    const-string v2, "PrivacyActivityManagerService"
+
+    const-string v3, "failed to enforce intent broadcast permission"
+
+    move-object/from16 v0, v20
+
+    invoke-static {v2, v3, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_2d8
+
+    :cond_338
+    const/16 v19, 0x0
+
+    goto :goto_31e
+
+    :cond_33b
+    const/4 v2, 0x0
+
+    sput-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMms:Landroid/content/Intent;
+
+    goto/16 :goto_92
+
+    :cond_340
+    const-string v2, "android.intent.action.BOOT_COMPLETED"
+
+    move-object/from16 v0, v16
+
+    invoke-virtual {v0, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_38d
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettingsManager;->setBootCompleted()V
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
+
+    invoke-virtual {v2, v0}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    if-eqz v8, :cond_376
+
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getIntentBootCompletedSetting()B
+
+    move-result v2
+
+    if-eqz v2, :cond_376
+
+    const-string v2, "catchBootComplete"
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2}, Landroid/content/Intent;->setAction(Ljava/lang/String;)Landroid/content/Intent;
+
+    sget-object v9, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v12, 0x1
+
+    const-string v13, "intentBootCompleted"
+
+    const/4 v14, 0x0
+
+    const/4 v15, 0x0
+
+    move-object/from16 v10, p0
+
+    move/from16 v11, p1
+
+    invoke-virtual/range {v9 .. v15}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_92
+
+    :cond_376
+    const-string v2, "android.intent.action.BOOT_COMPLETED"
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2}, Landroid/content/Intent;->setAction(Ljava/lang/String;)Landroid/content/Intent;
+
+    sget-object v9, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v12, 0x0
+
+    const-string v13, "intentBootCompleted"
+
+    const/4 v14, 0x0
+
+    const/4 v15, 0x0
+
+    move-object/from16 v10, p0
+
+    move/from16 v11, p1
+
+    invoke-virtual/range {v9 .. v15}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_92
+
+    :cond_38d
+    const-string v2, "android.intent.action.PACKAGE_ADDED"
+
+    move-object/from16 v0, v16
+
+    invoke-virtual {v0, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_92
+
+    sget-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpPackageAddedHash:J
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v4
+
+    cmp-long v2, v2, v4
+
+    if-eqz v2, :cond_92
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v2
+
+    sput-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpPackageAddedHash:J
+
+    invoke-virtual/range {p2 .. p2}, Landroid/content/Intent;->getData()Landroid/net/Uri;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Landroid/net/Uri;->getSchemeSpecificPart()Ljava/lang/String;
+
+    move-result-object v17
+
+    invoke-virtual/range {p2 .. p2}, Landroid/content/Intent;->getExtras()Landroid/os/Bundle;
+
+    move-result-object v2
+
+    const-string v3, "android.intent.extra.UID"
+
+    invoke-virtual {v2, v3}, Landroid/os/Bundle;->getInt(Ljava/lang/String;)I
+
+    move-result v18
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, v17
+
+    move/from16 v1, v18
+
+    invoke-virtual {v2, v0, v1}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    if-eqz v8, :cond_92
+
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getUid()I
+
+    move-result v2
+
+    move/from16 v0, v18
+
+    if-eq v2, v0, :cond_92
+
+    move/from16 v0, v18
+
+    invoke-virtual {v8, v0}, Landroid/privacy/PrivacySettings;->setUid(I)V
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v2, v8}, Landroid/privacy/PrivacySettingsManager;->saveSettings(Landroid/privacy/PrivacySettings;)Z
+
+    goto/16 :goto_92
+
+    nop
+
+    :array_3da
+    .array-data 0x1
+        0x0t
+        0x20t
+        0x1t
+        0x81t
+        0xf0t
+        0x0t
+        0x0t
+        0x11t
+        0x90t
+        0x1t
+        0x30t
+        0x22t
+        0x22t
+        0x80t
+        0x1t
+        0x20t
+    .end array-data
+
+    :array_3e6
+    .array-data 0x1
+        0x0t
+        0x20t
+        0x1t
+        0x81t
+        0xf0t
+        0x0t
+        0x0t
+        0x11t
+        0x90t
+        0x1t
+        0x30t
+        0x22t
+        0x22t
+        0x80t
+        0x1t
+        0x20t
+    .end array-data
+.end method
+
+.method private static hashCode(Landroid/content/Intent;)J
+    .registers 7
+
+    const-wide/16 v3, 0x0
+
+    const-string/jumbo v2, "privacy_hash"
+
+    invoke-virtual {p0, v2, v3, v4}, Landroid/content/Intent;->getLongExtra(Ljava/lang/String;J)J
+
+    move-result-wide v0
+
+    cmp-long v2, v0, v3
+
+    if-nez v2, :cond_1e
+
+    invoke-virtual {p0}, Landroid/content/Intent;->filterHashCode()I
+
+    move-result v2
+
+    int-to-long v2, v2
+
+    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J
+
+    move-result-wide v4
+
+    add-long v0, v2, v4
+
+    const-string/jumbo v2, "privacy_hash"
+
+    invoke-virtual {p0, v2, v0, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;J)Landroid/content/Intent;
+
+    :cond_1e
+    return-wide v0
+.end method
diff -Npruw stock-framework/smali/android/privacy/surrogate/PrivacyCDMALTEPhone.smali pdroid-framework/smali/android/privacy/surrogate/PrivacyCDMALTEPhone.smali
--- stock-framework/smali/android/privacy/surrogate/PrivacyCDMALTEPhone.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/surrogate/PrivacyCDMALTEPhone.smali	2013-07-15 18:10:49.766628166 -0500
@@ -0,0 +1,1696 @@
+.class public Landroid/privacy/surrogate/PrivacyCDMALTEPhone;
+.super Lcom/android/internal/telephony/cdma/CDMALTEPhone;
+.source "PrivacyCDMALTEPhone.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyCDMALTEPhone"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    .registers 7
+
+    invoke-direct {p0, p1, p2, p3}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 10
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_31
+
+    if-eqz v7, :cond_31
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_31
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_31
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 11
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_31
+
+    if-eqz v7, :cond_31
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_31
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_31
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getCellLocation()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5f
+
+    if-eqz v6, :cond_5f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_48
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5f
+
+    :cond_48
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v0}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    :goto_5e
+    return-object v0
+
+    :cond_5f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v0
+
+    goto :goto_5e
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceSvn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getDeviceSvn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getEsn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getEsn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getImei"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getImei()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1AlphaTag()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getLine1AlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1Number()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMeid()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getMeid()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getMsisdn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMsisdn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getMsisdn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getPhoneSubInfo()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_54
+
+    if-eqz v6, :cond_54
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_54
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_53
+    return-object v5
+
+    :cond_54
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+
+    move-result-object v5
+
+    goto :goto_53
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 10
+
+    :try_start_0
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " asked for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_61
+
+    if-eqz v6, :cond_61
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_61
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_60
+    return-object v8
+
+    :cond_61
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getServiceState()Landroid/telephony/ServiceState;
+    :try_end_74
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_74} :catch_76
+
+    move-result-object v8
+
+    goto :goto_60
+
+    :catch_76
+    move-exception v7
+
+    invoke-virtual {v7}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    const-string v1, "We got exception in getServiceState()-> give fake state"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto :goto_60
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getSubscriberId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4d
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4d
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v3
+
+    const-string/jumbo v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4c
+    return-object v5
+
+    :cond_4d
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4c
+.end method
+
+.method public getVoiceMailAlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailAlphaTag()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getVoiceMailAlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMALTEPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailNumber()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;->getVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
diff -Npruw stock-framework/smali/android/privacy/surrogate/PrivacyCDMAPhone.smali pdroid-framework/smali/android/privacy/surrogate/PrivacyCDMAPhone.smali
--- stock-framework/smali/android/privacy/surrogate/PrivacyCDMAPhone.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/surrogate/PrivacyCDMAPhone.smali	2013-07-15 18:10:49.770628166 -0500
@@ -0,0 +1,1602 @@
+.class public Landroid/privacy/surrogate/PrivacyCDMAPhone;
+.super Lcom/android/internal/telephony/cdma/CDMAPhone;
+.source "PrivacyCDMAPhone.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyCDMAPhone"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    .registers 7
+
+    invoke-direct {p0, p1, p2, p3}, Lcom/android/internal/telephony/cdma/CDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 10
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_31
+
+    if-eqz v7, :cond_31
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_31
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_31
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/cdma/CDMAPhone;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 11
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_31
+
+    if-eqz v7, :cond_31
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_31
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_31
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/cdma/CDMAPhone;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getCellLocation()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5f
+
+    if-eqz v6, :cond_5f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_48
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5f
+
+    :cond_48
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v0}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    :goto_5e
+    return-object v0
+
+    :cond_5f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v0
+
+    goto :goto_5e
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceSvn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getDeviceSvn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getEsn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getEsn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getImei"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getImei()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1AlphaTag()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getLine1AlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1Number()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMeid()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getMeid()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getPhoneSubInfo()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_54
+
+    if-eqz v6, :cond_54
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_54
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_53
+    return-object v5
+
+    :cond_54
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+
+    move-result-object v5
+
+    goto :goto_53
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 10
+
+    :try_start_0
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " asked for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_61
+
+    if-eqz v6, :cond_61
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_61
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_60
+    return-object v8
+
+    :cond_61
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getServiceState()Landroid/telephony/ServiceState;
+    :try_end_74
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_74} :catch_76
+
+    move-result-object v8
+
+    goto :goto_60
+
+    :catch_76
+    move-exception v7
+
+    invoke-virtual {v7}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    const-string v1, "We got exception in getServiceState()-> give fake state"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto :goto_60
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getSubscriberId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4d
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4d
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v3
+
+    const-string/jumbo v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4c
+    return-object v5
+
+    :cond_4d
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4c
+.end method
+
+.method public getVoiceMailAlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailAlphaTag()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getVoiceMailAlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyCDMAPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailNumber()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCDMAPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
diff -Npruw stock-framework/smali/android/privacy/surrogate/PrivacyConnectivityManager.smali pdroid-framework/smali/android/privacy/surrogate/PrivacyConnectivityManager.smali
--- stock-framework/smali/android/privacy/surrogate/PrivacyConnectivityManager.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/surrogate/PrivacyConnectivityManager.smali	2013-07-15 18:10:49.770628166 -0500
@@ -0,0 +1,1045 @@
+.class public Landroid/privacy/surrogate/PrivacyConnectivityManager;
+.super Landroid/net/ConnectivityManager;
+.source "PrivacyConnectivityManager.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyConnectivityManager"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/net/IConnectivityManager;Landroid/content/Context;)V
+    .registers 6
+
+    invoke-direct {p0, p1}, Landroid/net/ConnectivityManager;-><init>(Landroid/net/IConnectivityManager;)V
+
+    iput-object p2, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p2, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyConnectivityManager"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v2, "now in constructor for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public getActiveLinkProperties()Landroid/net/LinkProperties;
+    .registers 10
+
+    const/4 v2, -0x1
+
+    const/4 v5, 0x0
+
+    new-instance v7, Landroid/net/LinkProperties;
+
+    invoke-direct {v7}, Landroid/net/LinkProperties;-><init>()V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_34
+
+    if-eqz v8, :cond_34
+
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_34
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_33
+    return-object v7
+
+    :cond_34
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Landroid/net/ConnectivityManager;->getActiveLinkProperties()Landroid/net/LinkProperties;
+
+    move-result-object v7
+
+    goto :goto_33
+.end method
+
+.method public getActiveNetworkInfo()Landroid/net/NetworkInfo;
+    .registers 10
+
+    const/4 v3, 0x1
+
+    const/4 v2, -0x1
+
+    const/4 v6, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v4
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    new-instance v7, Landroid/net/NetworkInfo;
+
+    const-string v0, "MOBILE"
+
+    const-string v1, "UNKNOWN"
+
+    invoke-direct {v7, v6, v6, v0, v1}, Landroid/net/NetworkInfo;-><init>(IILjava/lang/String;Ljava/lang/String;)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_31
+
+    if-eqz v8, :cond_31
+
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getForceOnlineState()B
+
+    move-result v0
+
+    if-nez v0, :cond_31
+
+    invoke-virtual {v7, v3}, Landroid/net/NetworkInfo;->setIsAvailable(Z)V
+
+    sget-object v0, Landroid/net/NetworkInfo$State;->CONNECTED:Landroid/net/NetworkInfo$State;
+
+    invoke-virtual {v7, v0}, Landroid/net/NetworkInfo;->setState(Landroid/net/NetworkInfo$State;)V
+
+    :cond_31
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_4d
+
+    if-eqz v8, :cond_4d
+
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4d
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4c
+    return-object v7
+
+    :cond_4d
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move v3, v6
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Landroid/net/ConnectivityManager;->getActiveNetworkInfo()Landroid/net/NetworkInfo;
+
+    move-result-object v7
+
+    goto :goto_4c
+.end method
+
+.method public getActiveNetworkInfoForUid(I)Landroid/net/NetworkInfo;
+    .registers 11
+
+    const/4 v3, 0x1
+
+    const/4 v2, -0x1
+
+    const/4 v6, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v4
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    new-instance v7, Landroid/net/NetworkInfo;
+
+    const-string v0, "MOBILE"
+
+    const-string v1, "UNKNOWN"
+
+    invoke-direct {v7, v6, v6, v0, v1}, Landroid/net/NetworkInfo;-><init>(IILjava/lang/String;Ljava/lang/String;)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_31
+
+    if-eqz v8, :cond_31
+
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getForceOnlineState()B
+
+    move-result v0
+
+    if-nez v0, :cond_31
+
+    invoke-virtual {v7, v3}, Landroid/net/NetworkInfo;->setIsAvailable(Z)V
+
+    sget-object v0, Landroid/net/NetworkInfo$State;->CONNECTED:Landroid/net/NetworkInfo$State;
+
+    invoke-virtual {v7, v0}, Landroid/net/NetworkInfo;->setState(Landroid/net/NetworkInfo$State;)V
+
+    :cond_31
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_4d
+
+    if-eqz v8, :cond_4d
+
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4d
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4c
+    return-object v7
+
+    :cond_4d
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move v3, v6
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Landroid/net/ConnectivityManager;->getActiveNetworkInfoForUid(I)Landroid/net/NetworkInfo;
+
+    move-result-object v7
+
+    goto :goto_4c
+.end method
+
+.method public getAllNetworkInfo()[Landroid/net/NetworkInfo;
+    .registers 10
+
+    const/4 v2, -0x1
+
+    const/4 v3, 0x1
+
+    const/4 v5, 0x0
+
+    const/4 v6, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v4
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    new-array v7, v3, [Landroid/net/NetworkInfo;
+
+    new-instance v0, Landroid/net/NetworkInfo;
+
+    const-string v1, "MOBILE"
+
+    const-string v4, "CONNECTED"
+
+    invoke-direct {v0, v6, v6, v1, v4}, Landroid/net/NetworkInfo;-><init>(IILjava/lang/String;Ljava/lang/String;)V
+
+    aput-object v0, v7, v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_39
+
+    if-eqz v8, :cond_39
+
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getForceOnlineState()B
+
+    move-result v0
+
+    if-nez v0, :cond_39
+
+    aget-object v0, v7, v6
+
+    invoke-virtual {v0, v3}, Landroid/net/NetworkInfo;->setIsAvailable(Z)V
+
+    aget-object v0, v7, v6
+
+    sget-object v1, Landroid/net/NetworkInfo$State;->CONNECTED:Landroid/net/NetworkInfo$State;
+
+    invoke-virtual {v0, v1}, Landroid/net/NetworkInfo;->setState(Landroid/net/NetworkInfo$State;)V
+
+    :cond_39
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_55
+
+    if-eqz v8, :cond_55
+
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_55
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_54
+    return-object v7
+
+    :cond_55
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move v3, v6
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Landroid/net/ConnectivityManager;->getAllNetworkInfo()[Landroid/net/NetworkInfo;
+
+    move-result-object v7
+
+    goto :goto_54
+.end method
+
+.method public getLinkProperties(I)Landroid/net/LinkProperties;
+    .registers 11
+
+    const/4 v2, -0x1
+
+    const/4 v5, 0x0
+
+    new-instance v7, Landroid/net/LinkProperties;
+
+    invoke-direct {v7}, Landroid/net/LinkProperties;-><init>()V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_34
+
+    if-eqz v8, :cond_34
+
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_34
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_33
+    return-object v7
+
+    :cond_34
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Landroid/net/ConnectivityManager;->getLinkProperties(I)Landroid/net/LinkProperties;
+
+    move-result-object v7
+
+    goto :goto_33
+.end method
+
+.method public getMobileDataEnabled()Z
+    .registers 9
+
+    const/4 v3, 0x1
+
+    const/4 v2, -0x1
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v4
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_2f
+
+    if-eqz v7, :cond_2f
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getForceOnlineState()B
+
+    move-result v0
+
+    if-nez v0, :cond_2f
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_2e
+    return v3
+
+    :cond_2f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Landroid/net/ConnectivityManager;->getMobileDataEnabled()Z
+
+    move-result v3
+
+    goto :goto_2e
+.end method
+
+.method public getNetworkInfo(I)Landroid/net/NetworkInfo;
+    .registers 11
+
+    const/4 v3, 0x1
+
+    const/4 v2, -0x1
+
+    const/4 v6, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v4
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    new-instance v7, Landroid/net/NetworkInfo;
+
+    const-string v0, "MOBILE"
+
+    const-string v1, "CONNECTED"
+
+    invoke-direct {v7, v6, v6, v0, v1}, Landroid/net/NetworkInfo;-><init>(IILjava/lang/String;Ljava/lang/String;)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_31
+
+    if-eqz v8, :cond_31
+
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getForceOnlineState()B
+
+    move-result v0
+
+    if-nez v0, :cond_31
+
+    invoke-virtual {v7, v3}, Landroid/net/NetworkInfo;->setIsAvailable(Z)V
+
+    sget-object v0, Landroid/net/NetworkInfo$State;->CONNECTED:Landroid/net/NetworkInfo$State;
+
+    invoke-virtual {v7, v0}, Landroid/net/NetworkInfo;->setState(Landroid/net/NetworkInfo$State;)V
+
+    :cond_31
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_4d
+
+    if-eqz v8, :cond_4d
+
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4d
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4c
+    return-object v7
+
+    :cond_4d
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move v3, v6
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Landroid/net/ConnectivityManager;->getNetworkInfo(I)Landroid/net/NetworkInfo;
+
+    move-result-object v7
+
+    goto :goto_4c
+.end method
+
+.method public requestRouteToHost(II)Z
+    .registers 12
+
+    const/4 v8, 0x0
+
+    const/4 v3, 0x1
+
+    const/4 v2, -0x1
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v4
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getForceOnlineState()B
+
+    move-result v0
+
+    if-nez v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_2f
+    return v3
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_4d
+
+    if-eqz v7, :cond_4d
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4d
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    move v3, v8
+
+    goto :goto_2f
+
+    :cond_4d
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move v3, v8
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Landroid/net/ConnectivityManager;->requestRouteToHost(II)Z
+
+    move-result v3
+
+    goto :goto_2f
+.end method
+
+.method public requestRouteToHostAddress(ILjava/net/InetAddress;)Z
+    .registers 12
+
+    const/4 v8, 0x0
+
+    const/4 v3, 0x1
+
+    const/4 v2, -0x1
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v4
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getForceOnlineState()B
+
+    move-result v0
+
+    if-nez v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_2f
+    return v3
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_4d
+
+    if-eqz v7, :cond_4d
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4d
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    move v3, v8
+
+    goto :goto_2f
+
+    :cond_4d
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move v3, v8
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Landroid/net/ConnectivityManager;->requestRouteToHostAddress(ILjava/net/InetAddress;)Z
+
+    move-result v3
+
+    goto :goto_2f
+.end method
+
+.method public setMobileDataEnabled(Z)V
+    .registers 10
+
+    const/4 v2, -0x1
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_2f
+
+    if-eqz v7, :cond_2f
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getSwitchConnectivitySetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_2f
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "switchconnectivity"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_2e
+    return-void
+
+    :cond_2f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyConnectivityManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "switchconnectivity"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Landroid/net/ConnectivityManager;->setMobileDataEnabled(Z)V
+
+    goto :goto_2e
+.end method
diff -Npruw stock-framework/smali/android/privacy/surrogate/PrivacyContentResolver.smali pdroid-framework/smali/android/privacy/surrogate/PrivacyContentResolver.smali
--- stock-framework/smali/android/privacy/surrogate/PrivacyContentResolver.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/surrogate/PrivacyContentResolver.smali	2013-07-15 18:10:49.770628166 -0500
@@ -0,0 +1,874 @@
+.class public final Landroid/privacy/surrogate/PrivacyContentResolver;
+.super Ljava/lang/Object;
+.source "PrivacyContentResolver.java"
+
+
+# static fields
+.field private static final TAG:Ljava/lang/String; = "PrivacyContentResolver"
+
+.field private static pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>()V
+    .registers 1
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    return-void
+.end method
+
+.method private static arrayToString([Ljava/lang/String;)Ljava/lang/String;
+    .registers 8
+
+    new-instance v4, Ljava/lang/StringBuffer;
+
+    invoke-direct {v4}, Ljava/lang/StringBuffer;-><init>()V
+
+    if-eqz p0, :cond_2d
+
+    move-object v0, p0
+
+    array-length v3, v0
+
+    const/4 v2, 0x0
+
+    :goto_a
+    if-ge v2, v3, :cond_30
+
+    aget-object v1, v0, v2
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v6, "["
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v6, "]"
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuffer;->append(Ljava/lang/String;)Ljava/lang/StringBuffer;
+
+    add-int/lit8 v2, v2, 0x1
+
+    goto :goto_a
+
+    :cond_2d
+    const-string v5, ""
+
+    :goto_2f
+    return-object v5
+
+    :cond_30
+    invoke-virtual {v4}, Ljava/lang/StringBuffer;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_2f
+.end method
+
+.method public static enforcePrivacyPermission(Landroid/net/Uri;[Ljava/lang/String;Landroid/content/Context;Landroid/database/Cursor;)Landroid/database/Cursor;
+    .registers 21
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    if-eqz p0, :cond_1e4
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v1, :cond_13
+
+    const-string/jumbo v1, "privacy"
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v1}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;
+
+    move-result-object v1
+
+    check-cast v1, Landroid/privacy/PrivacySettingsManager;
+
+    sput-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_13
+    invoke-virtual/range {p2 .. p2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v3
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    invoke-virtual/range {p0 .. p0}, Landroid/net/Uri;->getAuthority()Ljava/lang/String;
+
+    move-result-object v9
+
+    const-string v15, "[real]"
+
+    move-object/from16 v13, p3
+
+    if-eqz v9, :cond_54
+
+    const-string v1, "contacts"
+
+    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-nez v1, :cond_3b
+
+    const-string v1, "com.android.contacts"
+
+    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_ab
+
+    :cond_3b
+    if-eqz v7, :cond_54
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getContactsSetting()B
+
+    move-result v1
+
+    const/4 v4, 0x1
+
+    if-ne v1, v4, :cond_55
+
+    const-string v15, "[empty]"
+
+    new-instance v13, Landroid/privacy/surrogate/PrivacyCursor;
+
+    invoke-direct {v13}, Landroid/privacy/surrogate/PrivacyCursor;-><init>()V
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string v5, "contacts"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_54
+    :goto_54
+    return-object v13
+
+    :cond_55
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getContactsSetting()B
+
+    move-result v1
+
+    const/4 v4, 0x2
+
+    if-ne v1, v4, :cond_a1
+
+    invoke-virtual/range {p0 .. p0}, Landroid/net/Uri;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    sget-object v4, Landroid/provider/ContactsContract$Contacts;->CONTENT_URI:Landroid/net/Uri;
+
+    invoke-virtual {v4}, Landroid/net/Uri;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v1, v4}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_a1
+
+    const/4 v11, 0x0
+
+    if-eqz p1, :cond_82
+
+    move-object/from16 v8, p1
+
+    array-length v12, v8
+
+    const/4 v10, 0x0
+
+    :goto_73
+    if-ge v10, v12, :cond_82
+
+    aget-object v16, v8, v10
+
+    const-string v1, "_id"
+
+    move-object/from16 v0, v16
+
+    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_93
+
+    const/4 v11, 0x1
+
+    :cond_82
+    if-nez v11, :cond_96
+
+    new-instance v13, Landroid/privacy/surrogate/PrivacyCursor;
+
+    invoke-direct {v13}, Landroid/privacy/surrogate/PrivacyCursor;-><init>()V
+
+    :goto_89
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x2
+
+    const-string v5, "contacts"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_54
+
+    :cond_93
+    add-int/lit8 v10, v10, 0x1
+
+    goto :goto_73
+
+    :cond_96
+    new-instance v14, Landroid/privacy/surrogate/PrivacyCursor;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getAllowedContacts()[I
+
+    move-result-object v1
+
+    invoke-direct {v14, v13, v1}, Landroid/privacy/surrogate/PrivacyCursor;-><init>(Landroid/database/Cursor;[I)V
+
+    move-object v13, v14
+
+    goto :goto_89
+
+    :cond_a1
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "contacts"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_54
+
+    :cond_ab
+    const-string v1, "com.android.calendar"
+
+    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_d8
+
+    if-eqz v7, :cond_cd
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getCalendarSetting()B
+
+    move-result v1
+
+    const/4 v4, 0x1
+
+    if-ne v1, v4, :cond_cd
+
+    const-string v15, "[empty]"
+
+    new-instance v13, Landroid/privacy/surrogate/PrivacyCursor;
+
+    invoke-direct {v13}, Landroid/privacy/surrogate/PrivacyCursor;-><init>()V
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string v5, "calendar"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_54
+
+    :cond_cd
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "calendar"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_d8
+    sget-object v1, Landroid/provider/Telephony$Mms;->CONTENT_URI:Landroid/net/Uri;
+
+    invoke-virtual {v1}, Landroid/net/Uri;->getAuthority()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_10c
+
+    if-eqz v7, :cond_100
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getMmsSetting()B
+
+    move-result v1
+
+    const/4 v4, 0x1
+
+    if-ne v1, v4, :cond_100
+
+    const-string v15, "[empty]"
+
+    new-instance v13, Landroid/privacy/surrogate/PrivacyCursor;
+
+    invoke-direct {v13}, Landroid/privacy/surrogate/PrivacyCursor;-><init>()V
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string/jumbo v5, "mms"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_100
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string/jumbo v5, "mms"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_10c
+    sget-object v1, Landroid/provider/Telephony$Sms;->CONTENT_URI:Landroid/net/Uri;
+
+    invoke-virtual {v1}, Landroid/net/Uri;->getAuthority()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_140
+
+    if-eqz v7, :cond_134
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getSmsSetting()B
+
+    move-result v1
+
+    const/4 v4, 0x1
+
+    if-ne v1, v4, :cond_134
+
+    const-string v15, "[empty]"
+
+    new-instance v13, Landroid/privacy/surrogate/PrivacyCursor;
+
+    invoke-direct {v13}, Landroid/privacy/surrogate/PrivacyCursor;-><init>()V
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string/jumbo v5, "sms"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_134
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string/jumbo v5, "sms"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_140
+    sget-object v1, Landroid/provider/Telephony$MmsSms;->CONTENT_URI:Landroid/net/Uri;
+
+    invoke-virtual {v1}, Landroid/net/Uri;->getAuthority()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-nez v1, :cond_155
+
+    const-string/jumbo v1, "mms-sms-v2"
+
+    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_184
+
+    :cond_155
+    if-eqz v7, :cond_178
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getMmsSetting()B
+
+    move-result v1
+
+    const/4 v4, 0x1
+
+    if-eq v1, v4, :cond_165
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getSmsSetting()B
+
+    move-result v1
+
+    const/4 v4, 0x1
+
+    if-ne v1, v4, :cond_178
+
+    :cond_165
+    const-string v15, "[empty]"
+
+    new-instance v13, Landroid/privacy/surrogate/PrivacyCursor;
+
+    invoke-direct {v13}, Landroid/privacy/surrogate/PrivacyCursor;-><init>()V
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string/jumbo v5, "mmsSms"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_178
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string/jumbo v5, "mmsSms"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_184
+    const-string v1, "call_log"
+
+    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_1b2
+
+    if-eqz v7, :cond_1a7
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getCallLogSetting()B
+
+    move-result v1
+
+    const/4 v4, 0x1
+
+    if-ne v1, v4, :cond_1a7
+
+    const-string v15, "[empty]"
+
+    new-instance v13, Landroid/privacy/surrogate/PrivacyCursor;
+
+    invoke-direct {v13}, Landroid/privacy/surrogate/PrivacyCursor;-><init>()V
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string v5, "callLog"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_1a7
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "callLog"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_1b2
+    sget-object v1, Landroid/provider/Browser;->BOOKMARKS_URI:Landroid/net/Uri;
+
+    invoke-virtual {v1}, Landroid/net/Uri;->getAuthority()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_54
+
+    if-eqz v7, :cond_1d9
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getBookmarksSetting()B
+
+    move-result v1
+
+    const/4 v4, 0x1
+
+    if-ne v1, v4, :cond_1d9
+
+    const-string v15, "[empty]"
+
+    new-instance v13, Landroid/privacy/surrogate/PrivacyCursor;
+
+    invoke-direct {v13}, Landroid/privacy/surrogate/PrivacyCursor;-><init>()V
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string v5, "bookmarks"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_1d9
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "bookmarks"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_1e4
+    move-object/from16 v13, p3
+
+    goto/16 :goto_54
+.end method
+
+.method public static enforcePrivacyPermission(Landroid/net/Uri;[Ljava/lang/String;Landroid/content/Context;Landroid/database/Cursor;Z)Landroid/database/Cursor;
+    .registers 20
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    if-eqz p0, :cond_dd
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v1, :cond_13
+
+    const-string/jumbo v1, "privacy"
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v1}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;
+
+    move-result-object v1
+
+    check-cast v1, Landroid/privacy/PrivacySettingsManager;
+
+    sput-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_13
+    invoke-virtual/range {p2 .. p2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v3
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    invoke-virtual {p0}, Landroid/net/Uri;->getAuthority()Ljava/lang/String;
+
+    move-result-object v9
+
+    const-string v14, "[real]"
+
+    move-object/from16 v13, p3
+
+    if-eqz v9, :cond_6d
+
+    const-string v1, "com.google.android.gsf.gservices"
+
+    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_6d
+
+    if-eqz v7, :cond_cb
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getSimInfoSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_cb
+
+    invoke-interface/range {p3 .. p3}, Landroid/database/Cursor;->getPosition()I
+
+    move-result v8
+
+    const/4 v11, -0x1
+
+    const/4 v12, 0x0
+
+    :goto_41
+    :try_start_41
+    invoke-interface/range {p3 .. p3}, Landroid/database/Cursor;->getCount()I
+
+    move-result v1
+
+    if-ge v12, v1, :cond_5d
+
+    invoke-interface/range {p3 .. p3}, Landroid/database/Cursor;->moveToNext()Z
+
+    const/4 v1, 0x0
+
+    move-object/from16 v0, p3
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "android_id"
+
+    invoke-virtual {v1, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_6e
+
+    invoke-interface/range {p3 .. p3}, Landroid/database/Cursor;->getPosition()I
+    :try_end_5c
+    .catchall {:try_start_41 .. :try_end_5c} :catchall_8b
+    .catch Ljava/lang/Exception; {:try_start_41 .. :try_end_5c} :catch_71
+
+    move-result v11
+
+    :cond_5d
+    move-object/from16 v0, p3
+
+    invoke-interface {v0, v8}, Landroid/database/Cursor;->moveToPosition(I)Z
+
+    const/4 v1, -0x1
+
+    if-ne v11, v1, :cond_9e
+
+    const-string v1, "PrivacyContentResolver"
+
+    const-string/jumbo v4, "now we return real cursor, because forbidden_pos is -1"
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :cond_6d
+    :goto_6d
+    return-object v13
+
+    :cond_6e
+    add-int/lit8 v12, v12, 0x1
+
+    goto :goto_41
+
+    :catch_71
+    move-exception v10
+
+    :try_start_72
+    const-string v1, "PrivacyContentResolver"
+
+    const-string/jumbo v4, "something went wrong while getting blocked permission for android id"
+
+    invoke-static {v1, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_7a
+    .catchall {:try_start_72 .. :try_end_7a} :catchall_8b
+
+    move-object/from16 v0, p3
+
+    invoke-interface {v0, v8}, Landroid/database/Cursor;->moveToPosition(I)Z
+
+    const/4 v1, -0x1
+
+    if-ne v11, v1, :cond_9e
+
+    const-string v1, "PrivacyContentResolver"
+
+    const-string/jumbo v4, "now we return real cursor, because forbidden_pos is -1"
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_6d
+
+    :catchall_8b
+    move-exception v1
+
+    move-object/from16 v0, p3
+
+    invoke-interface {v0, v8}, Landroid/database/Cursor;->moveToPosition(I)Z
+
+    const/4 v4, -0x1
+
+    if-ne v11, v4, :cond_9d
+
+    const-string v1, "PrivacyContentResolver"
+
+    const-string/jumbo v4, "now we return real cursor, because forbidden_pos is -1"
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_6d
+
+    :cond_9d
+    throw v1
+
+    :cond_9e
+    const-string v1, "PrivacyContentResolver"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v5, "now blocking google access to android id and give fake cursor. forbidden_position: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4, v11}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    const-string v14, "[fake]"
+
+    new-instance v13, Landroid/privacy/surrogate/PrivacyCursor;
+
+    move-object/from16 v0, p3
+
+    invoke-direct {v13, v0, v11}, Landroid/privacy/surrogate/PrivacyCursor;-><init>(Landroid/database/Cursor;I)V
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string/jumbo v5, "networkInfoSIM"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_6d
+
+    :cond_cb
+    const-string v1, "PrivacyContentResolver"
+
+    const-string v4, "google is allowed to get real cursor"
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string/jumbo v5, "networkInfoSIM"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_6d
+
+    :cond_dd
+    move-object/from16 v13, p3
+
+    goto :goto_6d
+.end method
diff -Npruw stock-framework/smali/android/privacy/surrogate/PrivacyCursor.smali pdroid-framework/smali/android/privacy/surrogate/PrivacyCursor.smali
--- stock-framework/smali/android/privacy/surrogate/PrivacyCursor.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/surrogate/PrivacyCursor.smali	2013-07-15 18:10:49.770628166 -0500
@@ -0,0 +1,1765 @@
+.class public Landroid/privacy/surrogate/PrivacyCursor;
+.super Ljava/lang/Object;
+.source "PrivacyCursor.java"
+
+# interfaces
+.implements Landroid/database/Cursor;
+
+
+# static fields
+.field private static final TAG:Ljava/lang/String; = "PrivacyCursor"
+
+.field private static final mask:[Ljava/lang/String;
+
+
+# instance fields
+.field private allowedIdMapping:[I
+
+.field private allowedIds:[I
+
+.field private blockedColumnAndroidID:I
+
+.field private googleCursor:Z
+
+.field private realCursor:Landroid/database/Cursor;
+
+
+# direct methods
+.method static constructor <clinit>()V
+    .registers 3
+
+    const/16 v0, 0x10
+
+    new-array v0, v0, [Ljava/lang/String;
+
+    const/4 v1, 0x0
+
+    const-string v2, "0"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x1
+
+    const-string v2, "1"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x2
+
+    const-string v2, "2"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x3
+
+    const-string v2, "3"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x4
+
+    const-string v2, "4"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x5
+
+    const-string v2, "5"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x6
+
+    const-string v2, "6"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x7
+
+    const-string v2, "7"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x8
+
+    const-string v2, "8"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x9
+
+    const-string v2, "9"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xa
+
+    const-string v2, "a"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xb
+
+    const-string v2, "b"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xc
+
+    const-string v2, "c"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xd
+
+    const-string v2, "d"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xe
+
+    const-string v2, "e"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xf
+
+    const-string v2, "f"
+
+    aput-object v2, v0, v1
+
+    sput-object v0, Landroid/privacy/surrogate/PrivacyCursor;->mask:[Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public constructor <init>()V
+    .registers 1
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    return-void
+.end method
+
+.method public constructor <init>(Landroid/database/Cursor;I)V
+    .registers 6
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    const/16 v0, -0xb
+
+    if-ne p2, v0, :cond_28
+
+    const/4 v0, 0x0
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    :goto_a
+    iput p2, p0, Landroid/privacy/surrogate/PrivacyCursor;->blockedColumnAndroidID:I
+
+    const/4 v0, 0x1
+
+    iput-boolean v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->googleCursor:Z
+
+    const-string v0, "PrivacyCursor"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "constructor is ready for google cursor! forbidden_position: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+
+    :cond_28
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    goto :goto_a
+.end method
+
+.method public constructor <init>(Landroid/database/Cursor;[I)V
+    .registers 7
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    if-eqz p2, :cond_8
+
+    array-length v2, p2
+
+    if-nez v2, :cond_9
+
+    :cond_8
+    const/4 p1, 0x0
+
+    :cond_9
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    iput-object p2, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIds:[I
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v2, :cond_3f
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v2}, Landroid/database/Cursor;->getPosition()I
+
+    move-result v0
+
+    array-length v2, p2
+
+    new-array v2, v2, [I
+
+    iput-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    const/4 v1, 0x0
+
+    :cond_1d
+    :goto_1d
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v2}, Landroid/database/Cursor;->moveToNext()Z
+
+    move-result v2
+
+    if-eqz v2, :cond_3a
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-direct {p0, v2}, Landroid/privacy/surrogate/PrivacyCursor;->isAllowed(Landroid/database/Cursor;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_1d
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v3}, Landroid/database/Cursor;->getPosition()I
+
+    move-result v3
+
+    aput v3, v2, v1
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_1d
+
+    :cond_3a
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v2, v0}, Landroid/database/Cursor;->moveToPosition(I)Z
+
+    :cond_3f
+    return-void
+.end method
+
+.method private getContactId(Landroid/database/Cursor;)I
+    .registers 5
+
+    const-string v2, "_id"
+
+    invoke-interface {p1, v2}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
+
+    move-result v0
+
+    const/4 v1, -0x1
+
+    const/4 v2, -0x1
+
+    if-eq v0, v2, :cond_e
+
+    invoke-interface {p1, v0}, Landroid/database/Cursor;->getInt(I)I
+
+    move-result v1
+
+    :cond_e
+    return v1
+.end method
+
+.method private getFakeID()Ljava/lang/String;
+    .registers 8
+
+    :try_start_0
+    new-instance v3, Ljava/util/Random;
+
+    invoke-direct {v3}, Ljava/util/Random;-><init>()V
+
+    const-string v2, ""
+
+    const/4 v1, 0x0
+
+    :goto_8
+    const/16 v4, 0x10
+
+    if-ge v1, v4, :cond_34
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v4, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    sget-object v5, Landroid/privacy/surrogate/PrivacyCursor;->mask:[Ljava/lang/String;
+
+    const/16 v6, 0xf
+
+    invoke-virtual {v3, v6}, Ljava/util/Random;->nextInt(I)I
+
+    move-result v6
+
+    aget-object v5, v5, v6
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    :try_end_26
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_26} :catch_2a
+
+    move-result-object v2
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_8
+
+    :catch_2a
+    move-exception v0
+
+    const-string v4, "PrivacyCursor"
+
+    const-string/jumbo v5, "something went wrong with creating fake ID"
+
+    invoke-static {v4, v5}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v2, 0x0
+
+    :cond_34
+    return-object v2
+.end method
+
+.method private getMappedPos(I)I
+    .registers 4
+
+    const/4 v0, 0x0
+
+    :goto_1
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    array-length v1, v1
+
+    if-ge v0, v1, :cond_10
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    aget v1, v1, v0
+
+    if-ne v1, p1, :cond_d
+
+    :goto_c
+    return v0
+
+    :cond_d
+    add-int/lit8 v0, v0, 0x1
+
+    goto :goto_1
+
+    :cond_10
+    const/4 v0, -0x1
+
+    goto :goto_c
+.end method
+
+.method private isAllowed(I)Z
+    .registers 7
+
+    const/4 v4, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIds:[I
+
+    array-length v3, v0
+
+    const/4 v2, 0x0
+
+    :goto_5
+    if-ge v2, v3, :cond_c
+
+    aget v1, v0, v2
+
+    if-ne p1, v1, :cond_d
+
+    const/4 v4, 0x1
+
+    :cond_c
+    return v4
+
+    :cond_d
+    add-int/lit8 v2, v2, 0x1
+
+    goto :goto_5
+.end method
+
+.method private isAllowed(Landroid/database/Cursor;)Z
+    .registers 3
+
+    invoke-direct {p0, p1}, Landroid/privacy/surrogate/PrivacyCursor;->getContactId(Landroid/database/Cursor;)I
+
+    move-result v0
+
+    invoke-direct {p0, v0}, Landroid/privacy/surrogate/PrivacyCursor;->isAllowed(I)Z
+
+    move-result v0
+
+    return v0
+.end method
+
+
+# virtual methods
+.method public close()V
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_9
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->close()V
+
+    :cond_9
+    return-void
+.end method
+
+.method public copyStringToBuffer(ILandroid/database/CharArrayBuffer;)V
+    .registers 4
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_9
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1, p2}, Landroid/database/Cursor;->copyStringToBuffer(ILandroid/database/CharArrayBuffer;)V
+
+    :cond_9
+    return-void
+.end method
+
+.method public deactivate()V
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_9
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->deactivate()V
+
+    :cond_9
+    return-void
+.end method
+
+.method public getBlob(I)[B
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->getBlob(I)[B
+
+    move-result-object v0
+
+    :goto_a
+    return-object v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    new-array v0, v0, [B
+
+    goto :goto_a
+.end method
+
+.method public getColumnCount()I
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->getColumnCount()I
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public getColumnIndex(Ljava/lang/String;)I
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, -0x1
+
+    goto :goto_a
+.end method
+
+.method public getColumnIndexOrThrow(Ljava/lang/String;)I
+    .registers 3
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Ljava/lang/IllegalArgumentException;
+        }
+    .end annotation
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->getColumnIndexOrThrow(Ljava/lang/String;)I
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, -0x1
+
+    goto :goto_a
+.end method
+
+.method public getColumnName(I)Ljava/lang/String;
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->getColumnName(I)Ljava/lang/String;
+
+    move-result-object v0
+
+    :goto_a
+    return-object v0
+
+    :cond_b
+    const-string v0, ""
+
+    goto :goto_a
+.end method
+
+.method public getColumnNames()[Ljava/lang/String;
+    .registers 4
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->getColumnNames()[Ljava/lang/String;
+
+    move-result-object v0
+
+    :goto_a
+    return-object v0
+
+    :cond_b
+    const/4 v0, 0x1
+
+    new-array v0, v0, [Ljava/lang/String;
+
+    const/4 v1, 0x0
+
+    const-string v2, ""
+
+    aput-object v2, v0, v1
+
+    goto :goto_a
+.end method
+
+.method public getCount()I
+    .registers 4
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_2b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    if-eqz v0, :cond_2b
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->googleCursor:Z
+
+    if-nez v0, :cond_2b
+
+    const-string v0, "PrivacyCursor"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "getCount: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    array-length v2, v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    array-length v0, v0
+
+    :goto_2a
+    return v0
+
+    :cond_2b
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_36
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->getCount()I
+
+    move-result v0
+
+    goto :goto_2a
+
+    :cond_36
+    const/4 v0, 0x0
+
+    goto :goto_2a
+.end method
+
+.method public getDouble(I)D
+    .registers 4
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->getDouble(I)D
+
+    move-result-wide v0
+
+    :goto_a
+    return-wide v0
+
+    :cond_b
+    const-wide/16 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public getExtras()Landroid/os/Bundle;
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->getExtras()Landroid/os/Bundle;
+
+    move-result-object v0
+
+    :goto_a
+    return-object v0
+
+    :cond_b
+    new-instance v0, Landroid/os/Bundle;
+
+    invoke-direct {v0}, Landroid/os/Bundle;-><init>()V
+
+    goto :goto_a
+.end method
+
+.method public getFloat(I)F
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->getFloat(I)F
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public getInt(I)I
+    .registers 4
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_b
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v1, p1}, Landroid/database/Cursor;->getInt(I)I
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public getLong(I)J
+    .registers 4
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->getLong(I)J
+
+    move-result-wide v0
+
+    :goto_a
+    return-wide v0
+
+    :cond_b
+    const-wide/16 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public getPosition()I
+    .registers 5
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_3f
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    if-eqz v1, :cond_3f
+
+    iget-boolean v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->googleCursor:Z
+
+    if-nez v1, :cond_3f
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v1}, Landroid/database/Cursor;->getPosition()I
+
+    move-result v1
+
+    invoke-direct {p0, v1}, Landroid/privacy/surrogate/PrivacyCursor;->getMappedPos(I)I
+
+    move-result v0
+
+    const-string v1, "PrivacyCursor"
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "getPosition - mapped position: "
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    const-string v3, " real position: "
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v3}, Landroid/database/Cursor;->getPosition()I
+
+    move-result v3
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {v1, v2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_3e
+    return v0
+
+    :cond_3f
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_4a
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v1}, Landroid/database/Cursor;->getPosition()I
+
+    move-result v0
+
+    goto :goto_3e
+
+    :cond_4a
+    const/4 v0, -0x1
+
+    goto :goto_3e
+.end method
+
+.method public getShort(I)S
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public getString(I)Ljava/lang/String;
+    .registers 9
+
+    iget-boolean v4, p0, Landroid/privacy/surrogate/PrivacyCursor;->googleCursor:Z
+
+    if-eqz v4, :cond_63
+
+    const/4 v4, 0x1
+
+    if-ne p1, v4, :cond_63
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v4}, Landroid/database/Cursor;->getPosition()I
+
+    move-result v4
+
+    iget v5, p0, Landroid/privacy/surrogate/PrivacyCursor;->blockedColumnAndroidID:I
+
+    if-ne v4, v5, :cond_63
+
+    const-string v4, "PrivacyCursor"
+
+    const-string v5, "google tries to get android_id with getString()"
+
+    invoke-static {v4, v5}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyCursor;->getFakeID()Ljava/lang/String;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_58
+
+    :try_start_1e
+    new-instance v3, Ljava/math/BigInteger;
+
+    const/16 v4, 0x10
+
+    invoke-direct {v3, v2, v4}, Ljava/math/BigInteger;-><init>(Ljava/lang/String;I)V
+
+    invoke-static {v3}, Ljava/lang/String;->valueOf(Ljava/lang/Object;)Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "PrivacyCursor"
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v6, "returned : "
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v6, "(String) as fake android id"
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-static {v4, v5}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_48
+    .catch Ljava/lang/Exception; {:try_start_1e .. :try_end_48} :catch_49
+
+    :goto_48
+    return-object v1
+
+    :catch_49
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v4, "PrivacyCursor"
+
+    const-string/jumbo v5, "returned \"\" as android_id"
+
+    invoke-static {v4, v5}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    const-string v1, ""
+
+    goto :goto_48
+
+    :cond_58
+    const-string v4, "PrivacyCursor"
+
+    const-string/jumbo v5, "returned \"\" as android_id"
+
+    invoke-static {v4, v5}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    const-string v1, ""
+
+    goto :goto_48
+
+    :cond_63
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v4, :cond_6e
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v4, p1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v1
+
+    goto :goto_48
+
+    :cond_6e
+    const-string v1, ""
+
+    goto :goto_48
+.end method
+
+.method public getType(I)I
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->getType(I)I
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public getWantsAllOnMoveCalls()Z
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->getWantsAllOnMoveCalls()Z
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public isAfterLast()Z
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->isAfterLast()Z
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public isBeforeFirst()Z
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->isBeforeFirst()Z
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public isClosed()Z
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->isClosed()Z
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public isFirst()Z
+    .registers 4
+
+    const/4 v0, 0x0
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_1b
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    if-eqz v1, :cond_1b
+
+    iget-boolean v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->googleCursor:Z
+
+    if-nez v1, :cond_1b
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v1}, Landroid/database/Cursor;->getPosition()I
+
+    move-result v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    aget v2, v2, v0
+
+    if-ne v1, v2, :cond_1a
+
+    const/4 v0, 0x1
+
+    :cond_1a
+    :goto_1a
+    return v0
+
+    :cond_1b
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_1a
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->isFirst()Z
+
+    move-result v0
+
+    goto :goto_1a
+.end method
+
+.method public isLast()Z
+    .registers 4
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_1f
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    if-eqz v0, :cond_1f
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->googleCursor:Z
+
+    if-nez v0, :cond_1f
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->getPosition()I
+
+    move-result v0
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    array-length v2, v2
+
+    add-int/lit8 v2, v2, -0x1
+
+    aget v1, v1, v2
+
+    if-ne v0, v1, :cond_2a
+
+    const/4 v0, 0x1
+
+    :goto_1e
+    return v0
+
+    :cond_1f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_2a
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->isLast()Z
+
+    move-result v0
+
+    goto :goto_1e
+
+    :cond_2a
+    const/4 v0, 0x0
+
+    goto :goto_1e
+.end method
+
+.method public isNull(I)Z
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->isNull(I)Z
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public move(I)Z
+    .registers 8
+
+    const/4 v2, 0x0
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v3, :cond_3e
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    if-eqz v3, :cond_3e
+
+    iget-boolean v3, p0, Landroid/privacy/surrogate/PrivacyCursor;->googleCursor:Z
+
+    if-nez v3, :cond_3e
+
+    const-string v3, "PrivacyCursor"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v5, "move - offset: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v3, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    :try_start_26
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v4}, Landroid/database/Cursor;->getPosition()I
+
+    move-result v4
+
+    invoke-direct {p0, v4}, Landroid/privacy/surrogate/PrivacyCursor;->getMappedPos(I)I
+
+    move-result v4
+
+    add-int/2addr v4, p1
+
+    aget v1, v3, v4
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v3, v1}, Landroid/database/Cursor;->moveToPosition(I)Z
+    :try_end_3a
+    .catch Ljava/lang/ArrayIndexOutOfBoundsException; {:try_start_26 .. :try_end_3a} :catch_3c
+
+    move-result v2
+
+    :cond_3b
+    :goto_3b
+    return v2
+
+    :catch_3c
+    move-exception v0
+
+    goto :goto_3b
+
+    :cond_3e
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v3, :cond_3b
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v3, p1}, Landroid/database/Cursor;->move(I)Z
+
+    goto :goto_3b
+.end method
+
+.method public moveToFirst()Z
+    .registers 4
+
+    const/4 v0, 0x0
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_18
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    if-eqz v1, :cond_18
+
+    iget-boolean v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->googleCursor:Z
+
+    if-nez v1, :cond_18
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    aget v2, v2, v0
+
+    invoke-interface {v1, v2}, Landroid/database/Cursor;->moveToPosition(I)Z
+
+    move-result v0
+
+    :cond_17
+    :goto_17
+    return v0
+
+    :cond_18
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_17
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v1}, Landroid/database/Cursor;->moveToFirst()Z
+
+    move-result v0
+
+    goto :goto_17
+.end method
+
+.method public moveToLast()Z
+    .registers 5
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_1c
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    if-eqz v1, :cond_1c
+
+    iget-boolean v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->googleCursor:Z
+
+    if-nez v1, :cond_1c
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    array-length v3, v3
+
+    add-int/lit8 v3, v3, -0x1
+
+    aget v2, v2, v3
+
+    invoke-interface {v1, v2}, Landroid/database/Cursor;->moveToPosition(I)Z
+
+    move-result v0
+
+    :goto_1b
+    return v0
+
+    :cond_1c
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_27
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v1}, Landroid/database/Cursor;->moveToLast()Z
+
+    move-result v0
+
+    goto :goto_1b
+
+    :cond_27
+    const/4 v0, 0x0
+
+    goto :goto_1b
+.end method
+
+.method public moveToNext()Z
+    .registers 3
+
+    const/4 v0, 0x0
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_29
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    if-eqz v1, :cond_29
+
+    iget-boolean v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->googleCursor:Z
+
+    if-nez v1, :cond_29
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v1}, Landroid/database/Cursor;->moveToNext()Z
+
+    move-result v1
+
+    if-nez v1, :cond_16
+
+    :cond_15
+    :goto_15
+    return v0
+
+    :cond_16
+    const/4 v0, 0x1
+
+    :goto_17
+    const/4 v1, 0x1
+
+    if-ne v0, v1, :cond_15
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-direct {p0, v1}, Landroid/privacy/surrogate/PrivacyCursor;->isAllowed(Landroid/database/Cursor;)Z
+
+    move-result v1
+
+    if-nez v1, :cond_15
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v1}, Landroid/database/Cursor;->moveToNext()Z
+
+    move-result v0
+
+    goto :goto_17
+
+    :cond_29
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_15
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v1}, Landroid/database/Cursor;->moveToNext()Z
+
+    move-result v0
+
+    goto :goto_15
+.end method
+
+.method public moveToPosition(I)Z
+    .registers 6
+
+    const/4 v1, 0x0
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v2, :cond_1a
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    if-eqz v2, :cond_1a
+
+    iget-boolean v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->googleCursor:Z
+
+    if-nez v2, :cond_1a
+
+    :try_start_d
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    aget v3, v3, p1
+
+    invoke-interface {v2, v3}, Landroid/database/Cursor;->moveToPosition(I)Z
+    :try_end_16
+    .catch Ljava/lang/ArrayIndexOutOfBoundsException; {:try_start_d .. :try_end_16} :catch_18
+
+    move-result v1
+
+    :cond_17
+    :goto_17
+    return v1
+
+    :catch_18
+    move-exception v0
+
+    goto :goto_17
+
+    :cond_1a
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v2, :cond_17
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v2, p1}, Landroid/database/Cursor;->moveToPosition(I)Z
+
+    move-result v1
+
+    goto :goto_17
+.end method
+
+.method public moveToPrevious()Z
+    .registers 3
+
+    const/4 v0, 0x0
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_29
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    if-eqz v1, :cond_29
+
+    iget-boolean v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->googleCursor:Z
+
+    if-nez v1, :cond_29
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v1}, Landroid/database/Cursor;->moveToPrevious()Z
+
+    move-result v1
+
+    if-nez v1, :cond_16
+
+    :cond_15
+    :goto_15
+    return v0
+
+    :cond_16
+    const/4 v0, 0x1
+
+    :goto_17
+    const/4 v1, 0x1
+
+    if-ne v0, v1, :cond_15
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-direct {p0, v1}, Landroid/privacy/surrogate/PrivacyCursor;->isAllowed(Landroid/database/Cursor;)Z
+
+    move-result v1
+
+    if-nez v1, :cond_15
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v1}, Landroid/database/Cursor;->moveToPrevious()Z
+
+    move-result v0
+
+    goto :goto_17
+
+    :cond_29
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_15
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v1}, Landroid/database/Cursor;->moveToPrevious()Z
+
+    move-result v0
+
+    goto :goto_15
+.end method
+
+.method public registerContentObserver(Landroid/database/ContentObserver;)V
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_9
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->registerContentObserver(Landroid/database/ContentObserver;)V
+
+    :cond_9
+    return-void
+.end method
+
+.method public registerDataSetObserver(Landroid/database/DataSetObserver;)V
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_9
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->registerDataSetObserver(Landroid/database/DataSetObserver;)V
+
+    :cond_9
+    return-void
+.end method
+
+.method public requery()Z
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->requery()Z
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public respond(Landroid/os/Bundle;)Landroid/os/Bundle;
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->respond(Landroid/os/Bundle;)Landroid/os/Bundle;
+
+    move-result-object v0
+
+    :goto_a
+    return-object v0
+
+    :cond_b
+    new-instance v0, Landroid/os/Bundle;
+
+    invoke-direct {v0}, Landroid/os/Bundle;-><init>()V
+
+    goto :goto_a
+.end method
+
+.method public setNotificationUri(Landroid/content/ContentResolver;Landroid/net/Uri;)V
+    .registers 4
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_9
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1, p2}, Landroid/database/Cursor;->setNotificationUri(Landroid/content/ContentResolver;Landroid/net/Uri;)V
+
+    :cond_9
+    return-void
+.end method
+
+.method public unregisterContentObserver(Landroid/database/ContentObserver;)V
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_9
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->unregisterContentObserver(Landroid/database/ContentObserver;)V
+
+    :cond_9
+    return-void
+.end method
+
+.method public unregisterDataSetObserver(Landroid/database/DataSetObserver;)V
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_9
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->unregisterDataSetObserver(Landroid/database/DataSetObserver;)V
+
+    :cond_9
+    return-void
+.end method
diff -Npruw stock-framework/smali/android/privacy/surrogate/PrivacyGSMPhone.smali pdroid-framework/smali/android/privacy/surrogate/PrivacyGSMPhone.smali
--- stock-framework/smali/android/privacy/surrogate/PrivacyGSMPhone.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/surrogate/PrivacyGSMPhone.smali	2013-07-15 18:10:49.778628164 -0500
@@ -0,0 +1,1602 @@
+.class public Landroid/privacy/surrogate/PrivacyGSMPhone;
+.super Lcom/android/internal/telephony/gsm/GSMPhone;
+.source "PrivacyGSMPhone.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyGSMPhone"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    .registers 7
+
+    invoke-direct {p0, p1, p2, p3}, Lcom/android/internal/telephony/gsm/GSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 10
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_31
+
+    if-eqz v7, :cond_31
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_31
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_31
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/gsm/GSMPhone;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 11
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_31
+
+    if-eqz v7, :cond_31
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_31
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_31
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/gsm/GSMPhone;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getCellLocation()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5f
+
+    if-eqz v6, :cond_5f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_48
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5f
+
+    :cond_48
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v0}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    :goto_5e
+    return-object v0
+
+    :cond_5f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v0
+
+    goto :goto_5e
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceSvn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getDeviceSvn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getEsn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getEsn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getImei"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getImei()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1AlphaTag()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getLine1AlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1Number()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMeid()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getMeid()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getPhoneSubInfo()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_54
+
+    if-eqz v6, :cond_54
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_54
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_53
+    return-object v5
+
+    :cond_54
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+
+    move-result-object v5
+
+    goto :goto_53
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 10
+
+    :try_start_0
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " asked for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_61
+
+    if-eqz v6, :cond_61
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_61
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_60
+    return-object v8
+
+    :cond_61
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getServiceState()Landroid/telephony/ServiceState;
+    :try_end_74
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_74} :catch_76
+
+    move-result-object v8
+
+    goto :goto_60
+
+    :catch_76
+    move-exception v7
+
+    invoke-virtual {v7}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v0, "PrivacyGSMPhone"
+
+    const-string v1, "We got exception in getServiceState()-> give fake state"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto :goto_60
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getSubscriberId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4d
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4d
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v3
+
+    const-string/jumbo v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4c
+    return-object v5
+
+    :cond_4d
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4c
+.end method
+
+.method public getVoiceMailAlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailAlphaTag()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getVoiceMailAlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailNumber()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/gsm/GSMPhone;->getVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyGSMPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
diff -Npruw stock-framework/smali/android/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater.smali pdroid-framework/smali/android/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater.smali
--- stock-framework/smali/android/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater.smali	2013-07-15 18:10:49.778628164 -0500
@@ -0,0 +1,134 @@
+.class Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;
+.super Ljava/lang/Thread;
+.source "PrivacyLocationManager.java"
+
+
+# annotations
+.annotation system Ldalvik/annotation/EnclosingClass;
+    value = Landroid/privacy/surrogate/PrivacyLocationManager;
+.end annotation
+
+.annotation system Ldalvik/annotation/InnerClass;
+    accessFlags = 0x2
+    name = "PrivacyLocationUpdater"
+.end annotation
+
+
+# instance fields
+.field private intent:Landroid/app/PendingIntent;
+
+.field private latitude:D
+
+.field private listener:Landroid/location/LocationListener;
+
+.field private longitude:D
+
+.field private provider:Ljava/lang/String;
+
+.field final synthetic this$0:Landroid/privacy/surrogate/PrivacyLocationManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/privacy/surrogate/PrivacyLocationManager;Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;DD)V
+    .registers 9
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->this$0:Landroid/privacy/surrogate/PrivacyLocationManager;
+
+    invoke-direct {p0}, Ljava/lang/Thread;-><init>()V
+
+    iput-object p2, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->provider:Ljava/lang/String;
+
+    iput-object p3, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->listener:Landroid/location/LocationListener;
+
+    iput-object p4, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->intent:Landroid/app/PendingIntent;
+
+    iput-wide p5, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->latitude:D
+
+    iput-wide p7, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->longitude:D
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public run()V
+    .registers 8
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->provider:Ljava/lang/String;
+
+    if-eqz v3, :cond_43
+
+    new-instance v2, Landroid/location/Location;
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->provider:Ljava/lang/String;
+
+    invoke-direct {v2, v3}, Landroid/location/Location;-><init>(Ljava/lang/String;)V
+
+    iget-wide v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->latitude:D
+
+    invoke-virtual {v2, v3, v4}, Landroid/location/Location;->setLatitude(D)V
+
+    iget-wide v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->longitude:D
+
+    invoke-virtual {v2, v3, v4}, Landroid/location/Location;->setLongitude(D)V
+
+    const/4 v1, 0x0
+
+    :goto_16
+    const/4 v3, 0x5
+
+    if-ge v1, v3, :cond_43
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->listener:Landroid/location/LocationListener;
+
+    if-eqz v3, :cond_34
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->listener:Landroid/location/LocationListener;
+
+    invoke-interface {v3, v2}, Landroid/location/LocationListener;->onLocationChanged(Landroid/location/Location;)V
+
+    :cond_22
+    :goto_22
+    :try_start_22
+    invoke-static {}, Ljava/lang/Math;->random()D
+
+    move-result-wide v3
+
+    const-wide v5, 0x408f400000000000L
+
+    mul-double/2addr v3, v5
+
+    double-to-int v3, v3
+
+    int-to-long v3, v3
+
+    invoke-static {v3, v4}, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->sleep(J)V
+    :try_end_31
+    .catch Ljava/lang/InterruptedException; {:try_start_22 .. :try_end_31} :catch_3e
+
+    :goto_31
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_16
+
+    :cond_34
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->intent:Landroid/app/PendingIntent;
+
+    if-eqz v3, :cond_22
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->intent:Landroid/app/PendingIntent;
+
+    invoke-virtual {v3}, Landroid/app/PendingIntent;->cancel()V
+
+    goto :goto_22
+
+    :catch_3e
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/InterruptedException;->printStackTrace()V
+
+    goto :goto_31
+
+    :cond_43
+    return-void
+.end method
diff -Npruw stock-framework/smali/android/privacy/surrogate/PrivacyLocationManager.smali pdroid-framework/smali/android/privacy/surrogate/PrivacyLocationManager.smali
--- stock-framework/smali/android/privacy/surrogate/PrivacyLocationManager.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/surrogate/PrivacyLocationManager.smali	2013-07-15 18:10:49.782628164 -0500
@@ -0,0 +1,2091 @@
+.class public final Landroid/privacy/surrogate/PrivacyLocationManager;
+.super Landroid/location/LocationManager;
+.source "PrivacyLocationManager.java"
+
+
+# annotations
+.annotation system Ldalvik/annotation/MemberClasses;
+    value = {
+        Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;
+    }
+.end annotation
+
+
+# static fields
+.field private static final CUSTOM_LOCATION_UPDATE_COUNT:I = 0x5
+
+.field private static final TAG:Ljava/lang/String; = "PrivacyLocationManager"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private lock:Ljava/lang/Object;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/location/ILocationManager;Landroid/content/Context;)V
+    .registers 5
+
+    invoke-direct {p0, p2, p1}, Landroid/location/LocationManager;-><init>(Landroid/content/Context;Landroid/location/ILocationManager;)V
+
+    new-instance v0, Ljava/lang/Object;
+
+    invoke-direct {v0}, Ljava/lang/Object;-><init>()V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->lock:Ljava/lang/Object;
+
+    iput-object p2, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p2, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    return-void
+.end method
+
+.method private requestLocationUpdates(Landroid/location/Criteria;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+    .registers 7
+
+    const/4 v2, 0x3
+
+    if-nez p1, :cond_5
+
+    const/4 v0, 0x0
+
+    :goto_4
+    return v0
+
+    :cond_5
+    invoke-virtual {p1}, Landroid/location/Criteria;->getAccuracy()I
+
+    move-result v0
+
+    const/4 v1, 0x1
+
+    if-eq v0, v1, :cond_24
+
+    invoke-virtual {p1}, Landroid/location/Criteria;->getBearingAccuracy()I
+
+    move-result v0
+
+    if-eq v0, v2, :cond_24
+
+    invoke-virtual {p1}, Landroid/location/Criteria;->getHorizontalAccuracy()I
+
+    move-result v0
+
+    if-eq v0, v2, :cond_24
+
+    invoke-virtual {p1}, Landroid/location/Criteria;->getVerticalAccuracy()I
+
+    move-result v0
+
+    if-eq v0, v2, :cond_24
+
+    invoke-virtual {p1}, Landroid/location/Criteria;->getSpeedAccuracy()I
+
+    move-result v0
+
+    if-ne v0, v2, :cond_2b
+
+    :cond_24
+    const-string v0, "gps"
+
+    invoke-direct {p0, v0, p2, p3}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    goto :goto_4
+
+    :cond_2b
+    const-string/jumbo v0, "network"
+
+    invoke-direct {p0, v0, p2, p3}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    goto :goto_4
+.end method
+
+.method private requestLocationUpdates(Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+    .registers 24
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->lock:Ljava/lang/Object;
+
+    move-object/from16 v19, v0
+
+    monitor-enter v19
+
+    :try_start_7
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v3
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    const/16 v18, 0x0
+
+    if-eqz v7, :cond_239
+
+    const-string v1, "gps"
+
+    move-object/from16 v0, p1
+
+    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_111
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v1
+
+    packed-switch v1, :pswitch_data_25e
+
+    :cond_30
+    :goto_30
+    monitor-exit v19
+
+    return v18
+
+    :pswitch_32
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "locationGPS"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_30
+
+    :catchall_3e
+    move-exception v1
+
+    monitor-exit v19
+    :try_end_40
+    .catchall {:try_start_7 .. :try_end_40} :catchall_3e
+
+    throw v1
+
+    :pswitch_41
+    if-eqz p3, :cond_46
+
+    :try_start_43
+    invoke-virtual/range {p3 .. p3}, Landroid/app/PendingIntent;->cancel()V
+
+    :cond_46
+    const/16 v18, 0x1
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string v5, "locationGPS"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_53
+    .catchall {:try_start_43 .. :try_end_53} :catchall_3e
+
+    goto :goto_30
+
+    :pswitch_54
+    :try_start_54
+    new-instance v8, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsLat()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v1}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v13
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsLon()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v1}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v15
+
+    move-object/from16 v9, p0
+
+    move-object/from16 v10, p1
+
+    move-object/from16 v11, p2
+
+    move-object/from16 v12, p3
+
+    invoke-direct/range {v8 .. v16}, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;-><init>(Landroid/privacy/surrogate/PrivacyLocationManager;Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;DD)V
+
+    invoke-virtual {v8}, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->start()V
+    :try_end_74
+    .catchall {:try_start_54 .. :try_end_74} :catchall_3e
+    .catch Ljava/lang/NumberFormatException; {:try_start_54 .. :try_end_74} :catch_a6
+
+    const/16 v18, 0x1
+
+    :goto_76
+    :try_start_76
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x2
+
+    const-string v5, "locationGPS"
+
+    new-instance v6, Ljava/lang/StringBuilder;
+
+    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v8, "Lat: "
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsLat()Ljava/lang/String;
+
+    move-result-object v8
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    const-string v8, " Lon: "
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsLon()Ljava/lang/String;
+
+    move-result-object v8
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v6
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_30
+
+    :catch_a6
+    move-exception v17
+
+    const-string v1, "PrivacyLocationManager"
+
+    const-string/jumbo v4, "requestLocationUpdates: invalid coordinates"
+
+    invoke-static {v1, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_af
+    .catchall {:try_start_76 .. :try_end_af} :catchall_3e
+
+    const/16 v18, 0x1
+
+    goto :goto_76
+
+    :pswitch_b2
+    :try_start_b2
+    new-instance v8, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsLat()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v1}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v13
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsLon()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v1}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v15
+
+    move-object/from16 v9, p0
+
+    move-object/from16 v10, p1
+
+    move-object/from16 v11, p2
+
+    move-object/from16 v12, p3
+
+    invoke-direct/range {v8 .. v16}, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;-><init>(Landroid/privacy/surrogate/PrivacyLocationManager;Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;DD)V
+
+    invoke-virtual {v8}, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->start()V
+    :try_end_d2
+    .catchall {:try_start_b2 .. :try_end_d2} :catchall_3e
+    .catch Ljava/lang/NumberFormatException; {:try_start_b2 .. :try_end_d2} :catch_105
+
+    const/16 v18, 0x1
+
+    :goto_d4
+    :try_start_d4
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x3
+
+    const-string v5, "locationGPS"
+
+    new-instance v6, Ljava/lang/StringBuilder;
+
+    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v8, "Lat: "
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsLat()Ljava/lang/String;
+
+    move-result-object v8
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    const-string v8, " Lon: "
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsLon()Ljava/lang/String;
+
+    move-result-object v8
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v6
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_30
+
+    :catch_105
+    move-exception v17
+
+    const-string v1, "PrivacyLocationManager"
+
+    const-string/jumbo v4, "requestLocationUpdates: invalid coordinates"
+
+    invoke-static {v1, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/16 v18, 0x1
+
+    goto :goto_d4
+
+    :cond_111
+    const-string/jumbo v1, "network"
+
+    move-object/from16 v0, p1
+
+    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_204
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v1
+
+    packed-switch v1, :pswitch_data_26a
+
+    goto/16 :goto_30
+
+    :pswitch_125
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "locationNetwork"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_30
+
+    :pswitch_132
+    if-eqz p3, :cond_137
+
+    invoke-virtual/range {p3 .. p3}, Landroid/app/PendingIntent;->cancel()V
+
+    :cond_137
+    const/16 v18, 0x1
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string v5, "locationNetwork"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_144
+    .catchall {:try_start_d4 .. :try_end_144} :catchall_3e
+
+    goto/16 :goto_30
+
+    :pswitch_146
+    :try_start_146
+    new-instance v8, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkLat()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v1}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v13
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkLon()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v1}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v15
+
+    move-object/from16 v9, p0
+
+    move-object/from16 v10, p1
+
+    move-object/from16 v11, p2
+
+    move-object/from16 v12, p3
+
+    invoke-direct/range {v8 .. v16}, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;-><init>(Landroid/privacy/surrogate/PrivacyLocationManager;Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;DD)V
+
+    invoke-virtual {v8}, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->start()V
+    :try_end_166
+    .catchall {:try_start_146 .. :try_end_166} :catchall_3e
+    .catch Ljava/lang/NumberFormatException; {:try_start_146 .. :try_end_166} :catch_199
+
+    const/16 v18, 0x1
+
+    :goto_168
+    :try_start_168
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x2
+
+    const-string v5, "locationNetwork"
+
+    new-instance v6, Ljava/lang/StringBuilder;
+
+    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v8, "Lat: "
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkLat()Ljava/lang/String;
+
+    move-result-object v8
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    const-string v8, " Lon: "
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkLon()Ljava/lang/String;
+
+    move-result-object v8
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v6
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_30
+
+    :catch_199
+    move-exception v17
+
+    const-string v1, "PrivacyLocationManager"
+
+    const-string/jumbo v4, "requestLocationUpdates: invalid coordinates"
+
+    invoke-static {v1, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_1a2
+    .catchall {:try_start_168 .. :try_end_1a2} :catchall_3e
+
+    const/16 v18, 0x1
+
+    goto :goto_168
+
+    :pswitch_1a5
+    :try_start_1a5
+    new-instance v8, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkLat()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v1}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v13
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkLon()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v1}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v15
+
+    move-object/from16 v9, p0
+
+    move-object/from16 v10, p1
+
+    move-object/from16 v11, p2
+
+    move-object/from16 v12, p3
+
+    invoke-direct/range {v8 .. v16}, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;-><init>(Landroid/privacy/surrogate/PrivacyLocationManager;Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;DD)V
+
+    invoke-virtual {v8}, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->start()V
+    :try_end_1c5
+    .catchall {:try_start_1a5 .. :try_end_1c5} :catchall_3e
+    .catch Ljava/lang/NumberFormatException; {:try_start_1a5 .. :try_end_1c5} :catch_1f8
+
+    const/16 v18, 0x1
+
+    :goto_1c7
+    :try_start_1c7
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x3
+
+    const-string v5, "locationNetwork"
+
+    new-instance v6, Ljava/lang/StringBuilder;
+
+    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v8, "Lat: "
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkLat()Ljava/lang/String;
+
+    move-result-object v8
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    const-string v8, " Lon: "
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkLon()Ljava/lang/String;
+
+    move-result-object v8
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v6
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_30
+
+    :catch_1f8
+    move-exception v17
+
+    const-string v1, "PrivacyLocationManager"
+
+    const-string/jumbo v4, "requestLocationUpdates: invalid coordinates"
+
+    invoke-static {v1, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/16 v18, 0x1
+
+    goto :goto_1c7
+
+    :cond_204
+    const-string/jumbo v1, "passive"
+
+    move-object/from16 v0, p1
+
+    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v1
+
+    if-nez v1, :cond_22a
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v1
+
+    if-nez v1, :cond_22a
+
+    const/16 v18, 0x0
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "locationGPS"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_30
+
+    :cond_22a
+    const/16 v18, 0x1
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string v5, "locationGPS"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_30
+
+    :cond_239
+    const-string/jumbo v1, "network"
+
+    move-object/from16 v0, p1
+
+    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_251
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "locationNetwork"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_30
+
+    :cond_251
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "locationGPS"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_25c
+    .catchall {:try_start_1c7 .. :try_end_25c} :catchall_3e
+
+    goto/16 :goto_30
+
+    :pswitch_data_25e
+    .packed-switch 0x0
+        :pswitch_32
+        :pswitch_41
+        :pswitch_54
+        :pswitch_b2
+    .end packed-switch
+
+    :pswitch_data_26a
+    .packed-switch 0x0
+        :pswitch_125
+        :pswitch_132
+        :pswitch_146
+        :pswitch_1a5
+    .end packed-switch
+.end method
+
+
+# virtual methods
+.method public addNmeaListener(Landroid/location/GpsStatus$NmeaListener;)Z
+    .registers 10
+
+    const/4 v5, 0x0
+
+    const/4 v7, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_24
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_24
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string v4, "locationGPS"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    move v0, v7
+
+    :goto_23
+    return v0
+
+    :cond_24
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationGPS"
+
+    move v3, v7
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->addNmeaListener(Landroid/location/GpsStatus$NmeaListener;)Z
+
+    move-result v0
+
+    goto :goto_23
+.end method
+
+.method public getLastKnownLocation(Ljava/lang/String;)Landroid/location/Location;
+    .registers 14
+
+    const/4 v11, 0x3
+
+    const/4 v10, 0x2
+
+    const/4 v8, 0x1
+
+    const/4 v3, 0x0
+
+    const/4 v5, 0x0
+
+    if-nez p1, :cond_c
+
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getLastKnownLocation(Ljava/lang/String;)Landroid/location/Location;
+
+    move-result-object v7
+
+    :cond_b
+    :goto_b
+    return-object v7
+
+    :cond_c
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const/4 v7, 0x0
+
+    if-eqz v6, :cond_22c
+
+    const-string v0, "gps"
+
+    invoke-virtual {p1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    if-eqz v0, :cond_ff
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    packed-switch v0, :pswitch_data_29a
+
+    goto :goto_b
+
+    :pswitch_2f
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getLastKnownLocation(Ljava/lang/String;)Landroid/location/Location;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationGPS"
+
+    if-eqz v7, :cond_5e
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v8, "Lat: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLatitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v8, " Lon: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLongitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    :cond_5e
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_b
+
+    :pswitch_62
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationGPS"
+
+    move v3, v8
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_b
+
+    :pswitch_6b
+    new-instance v7, Landroid/location/Location;
+
+    invoke-direct {v7, p1}, Landroid/location/Location;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsLat()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-static {v0}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v3
+
+    invoke-virtual {v7, v3, v4}, Landroid/location/Location;->setLatitude(D)V
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsLon()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-static {v0}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v3
+
+    invoke-virtual {v7, v3, v4}, Landroid/location/Location;->setLongitude(D)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationGPS"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "Lat: "
+
+    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLatitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v3, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v5, " Lon: "
+
+    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLongitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v3, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    move v3, v10
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_b
+
+    :pswitch_b5
+    new-instance v7, Landroid/location/Location;
+
+    invoke-direct {v7, p1}, Landroid/location/Location;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsLat()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-static {v0}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v3
+
+    invoke-virtual {v7, v3, v4}, Landroid/location/Location;->setLatitude(D)V
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsLon()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-static {v0}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v3
+
+    invoke-virtual {v7, v3, v4}, Landroid/location/Location;->setLongitude(D)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationGPS"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "Lat: "
+
+    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLatitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v3, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v5, " Lon: "
+
+    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLongitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v3, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    move v3, v11
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_b
+
+    :cond_ff
+    const-string/jumbo v0, "network"
+
+    invoke-virtual {p1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    if-eqz v0, :cond_1e3
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    packed-switch v0, :pswitch_data_2a6
+
+    goto/16 :goto_b
+
+    :pswitch_111
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getLastKnownLocation(Ljava/lang/String;)Landroid/location/Location;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationNetwork"
+
+    if-eqz v7, :cond_140
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v8, "Lat: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLatitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v8, " Lon: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLongitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    :cond_140
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_b
+
+    :pswitch_145
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationNetwork"
+
+    move v3, v8
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_b
+
+    :pswitch_14f
+    new-instance v7, Landroid/location/Location;
+
+    invoke-direct {v7, p1}, Landroid/location/Location;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkLat()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-static {v0}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v3
+
+    invoke-virtual {v7, v3, v4}, Landroid/location/Location;->setLatitude(D)V
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkLon()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-static {v0}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v3
+
+    invoke-virtual {v7, v3, v4}, Landroid/location/Location;->setLongitude(D)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationNetwork"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "Lat: "
+
+    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLatitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v3, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v5, " Lon: "
+
+    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLongitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v3, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    move v3, v10
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_b
+
+    :pswitch_199
+    new-instance v7, Landroid/location/Location;
+
+    invoke-direct {v7, p1}, Landroid/location/Location;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkLat()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-static {v0}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v3
+
+    invoke-virtual {v7, v3, v4}, Landroid/location/Location;->setLatitude(D)V
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkLon()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-static {v0}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v3
+
+    invoke-virtual {v7, v3, v4}, Landroid/location/Location;->setLongitude(D)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationNetwork"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "Lat: "
+
+    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLatitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v3, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v5, " Lon: "
+
+    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLongitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v3, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    move v3, v11
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_b
+
+    :cond_1e3
+    const-string/jumbo v0, "passive"
+
+    invoke-virtual {p1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    if-eqz v0, :cond_b
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_b
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_b
+
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getLastKnownLocation(Ljava/lang/String;)Landroid/location/Location;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationGPS"
+
+    if-eqz v7, :cond_227
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v8, "Lat: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLatitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v8, " Lon: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLongitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    :cond_227
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_b
+
+    :cond_22c
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getLastKnownLocation(Ljava/lang/String;)Landroid/location/Location;
+
+    move-result-object v7
+
+    const-string/jumbo v0, "network"
+
+    invoke-virtual {p1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    if-eqz v0, :cond_269
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationNetwork"
+
+    if-eqz v7, :cond_264
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v8, "Lat: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLatitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v8, " Lon: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLongitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    :cond_264
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_b
+
+    :cond_269
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationGPS"
+
+    if-eqz v7, :cond_294
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v8, "Lat: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLatitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v8, " Lon: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLongitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    :cond_294
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_b
+
+    nop
+
+    :pswitch_data_29a
+    .packed-switch 0x0
+        :pswitch_2f
+        :pswitch_62
+        :pswitch_6b
+        :pswitch_b5
+    .end packed-switch
+
+    :pswitch_data_2a6
+    .packed-switch 0x0
+        :pswitch_111
+        :pswitch_145
+        :pswitch_14f
+        :pswitch_199
+    .end packed-switch
+.end method
+
+.method public getProvider(Ljava/lang/String;)Landroid/location/LocationProvider;
+    .registers 7
+
+    if-nez p1, :cond_7
+
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getProvider(Ljava/lang/String;)Landroid/location/LocationProvider;
+
+    move-result-object v0
+
+    :cond_6
+    :goto_6
+    return-object v0
+
+    :cond_7
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v4
+
+    invoke-virtual {v2, v3, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v1
+
+    const/4 v0, 0x0
+
+    if-eqz v1, :cond_5f
+
+    const-string v2, "gps"
+
+    invoke-virtual {p1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_2f
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v2
+
+    packed-switch v2, :pswitch_data_64
+
+    :pswitch_29
+    goto :goto_6
+
+    :pswitch_2a
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getProvider(Ljava/lang/String;)Landroid/location/LocationProvider;
+
+    move-result-object v0
+
+    goto :goto_6
+
+    :cond_2f
+    const-string/jumbo v2, "network"
+
+    invoke-virtual {p1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_45
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v2
+
+    packed-switch v2, :pswitch_data_70
+
+    :pswitch_3f
+    goto :goto_6
+
+    :pswitch_40
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getProvider(Ljava/lang/String;)Landroid/location/LocationProvider;
+
+    move-result-object v0
+
+    goto :goto_6
+
+    :cond_45
+    const-string/jumbo v2, "passive"
+
+    invoke-virtual {p1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_6
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v2
+
+    if-eqz v2, :cond_5a
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v2
+
+    if-nez v2, :cond_6
+
+    :cond_5a
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getProvider(Ljava/lang/String;)Landroid/location/LocationProvider;
+
+    move-result-object v0
+
+    goto :goto_6
+
+    :cond_5f
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getProvider(Ljava/lang/String;)Landroid/location/LocationProvider;
+
+    move-result-object v0
+
+    goto :goto_6
+
+    :pswitch_data_64
+    .packed-switch 0x0
+        :pswitch_2a
+        :pswitch_29
+        :pswitch_2a
+        :pswitch_2a
+    .end packed-switch
+
+    :pswitch_data_70
+    .packed-switch 0x0
+        :pswitch_40
+        :pswitch_3f
+        :pswitch_40
+        :pswitch_40
+    .end packed-switch
+.end method
+
+.method public isProviderEnabled(Ljava/lang/String;)Z
+    .registers 7
+
+    if-nez p1, :cond_7
+
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->isProviderEnabled(Ljava/lang/String;)Z
+
+    move-result v0
+
+    :cond_6
+    :goto_6
+    :pswitch_6
+    return v0
+
+    :cond_7
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v4
+
+    invoke-virtual {v2, v3, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v1
+
+    const/4 v0, 0x0
+
+    if-eqz v1, :cond_65
+
+    const-string v2, "gps"
+
+    invoke-virtual {p1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_31
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v2
+
+    packed-switch v2, :pswitch_data_6a
+
+    goto :goto_6
+
+    :pswitch_2a
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->isProviderEnabled(Ljava/lang/String;)Z
+
+    move-result v0
+
+    goto :goto_6
+
+    :pswitch_2f
+    const/4 v0, 0x1
+
+    goto :goto_6
+
+    :cond_31
+    const-string/jumbo v2, "network"
+
+    invoke-virtual {p1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_49
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v2
+
+    packed-switch v2, :pswitch_data_76
+
+    goto :goto_6
+
+    :pswitch_42
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->isProviderEnabled(Ljava/lang/String;)Z
+
+    move-result v0
+
+    goto :goto_6
+
+    :pswitch_47
+    const/4 v0, 0x1
+
+    goto :goto_6
+
+    :cond_49
+    const-string/jumbo v2, "passive"
+
+    invoke-virtual {p1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_6
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v2
+
+    if-eqz v2, :cond_5e
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v2
+
+    if-nez v2, :cond_63
+
+    :cond_5e
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->isProviderEnabled(Ljava/lang/String;)Z
+
+    move-result v0
+
+    goto :goto_6
+
+    :cond_63
+    const/4 v0, 0x0
+
+    goto :goto_6
+
+    :cond_65
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->isProviderEnabled(Ljava/lang/String;)Z
+
+    move-result v0
+
+    goto :goto_6
+
+    :pswitch_data_6a
+    .packed-switch 0x0
+        :pswitch_2a
+        :pswitch_6
+        :pswitch_2f
+        :pswitch_2f
+    .end packed-switch
+
+    :pswitch_data_76
+    .packed-switch 0x0
+        :pswitch_42
+        :pswitch_6
+        :pswitch_47
+        :pswitch_47
+    .end packed-switch
+.end method
+
+.method public requestLocationUpdates(JFLandroid/location/Criteria;Landroid/app/PendingIntent;)V
+    .registers 7
+
+    if-eqz p4, :cond_4
+
+    if-nez p5, :cond_8
+
+    :cond_4
+    invoke-super/range {p0 .. p5}, Landroid/location/LocationManager;->requestLocationUpdates(JFLandroid/location/Criteria;Landroid/app/PendingIntent;)V
+
+    :cond_7
+    :goto_7
+    return-void
+
+    :cond_8
+    const/4 v0, 0x0
+
+    invoke-direct {p0, p4, v0, p5}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Landroid/location/Criteria;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_7
+
+    invoke-super/range {p0 .. p5}, Landroid/location/LocationManager;->requestLocationUpdates(JFLandroid/location/Criteria;Landroid/app/PendingIntent;)V
+
+    goto :goto_7
+.end method
+
+.method public requestLocationUpdates(JFLandroid/location/Criteria;Landroid/location/LocationListener;Landroid/os/Looper;)V
+    .registers 8
+
+    if-eqz p4, :cond_4
+
+    if-nez p5, :cond_8
+
+    :cond_4
+    invoke-super/range {p0 .. p6}, Landroid/location/LocationManager;->requestLocationUpdates(JFLandroid/location/Criteria;Landroid/location/LocationListener;Landroid/os/Looper;)V
+
+    :cond_7
+    :goto_7
+    return-void
+
+    :cond_8
+    const/4 v0, 0x0
+
+    invoke-direct {p0, p4, p5, v0}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Landroid/location/Criteria;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_7
+
+    invoke-super/range {p0 .. p6}, Landroid/location/LocationManager;->requestLocationUpdates(JFLandroid/location/Criteria;Landroid/location/LocationListener;Landroid/os/Looper;)V
+
+    goto :goto_7
+.end method
+
+.method public requestLocationUpdates(Ljava/lang/String;JFLandroid/app/PendingIntent;)V
+    .registers 7
+
+    if-eqz p1, :cond_4
+
+    if-nez p5, :cond_8
+
+    :cond_4
+    invoke-super/range {p0 .. p5}, Landroid/location/LocationManager;->requestLocationUpdates(Ljava/lang/String;JFLandroid/app/PendingIntent;)V
+
+    :cond_7
+    :goto_7
+    return-void
+
+    :cond_8
+    const/4 v0, 0x0
+
+    invoke-direct {p0, p1, v0, p5}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_7
+
+    invoke-super/range {p0 .. p5}, Landroid/location/LocationManager;->requestLocationUpdates(Ljava/lang/String;JFLandroid/app/PendingIntent;)V
+
+    goto :goto_7
+.end method
+
+.method public requestLocationUpdates(Ljava/lang/String;JFLandroid/location/LocationListener;)V
+    .registers 7
+
+    if-eqz p1, :cond_4
+
+    if-nez p5, :cond_8
+
+    :cond_4
+    invoke-super/range {p0 .. p5}, Landroid/location/LocationManager;->requestLocationUpdates(Ljava/lang/String;JFLandroid/location/LocationListener;)V
+
+    :cond_7
+    :goto_7
+    return-void
+
+    :cond_8
+    const/4 v0, 0x0
+
+    invoke-direct {p0, p1, p5, v0}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_7
+
+    invoke-super/range {p0 .. p5}, Landroid/location/LocationManager;->requestLocationUpdates(Ljava/lang/String;JFLandroid/location/LocationListener;)V
+
+    goto :goto_7
+.end method
+
+.method public requestLocationUpdates(Ljava/lang/String;JFLandroid/location/LocationListener;Landroid/os/Looper;)V
+    .registers 8
+
+    if-eqz p1, :cond_4
+
+    if-nez p5, :cond_8
+
+    :cond_4
+    invoke-super/range {p0 .. p6}, Landroid/location/LocationManager;->requestLocationUpdates(Ljava/lang/String;JFLandroid/location/LocationListener;Landroid/os/Looper;)V
+
+    :cond_7
+    :goto_7
+    return-void
+
+    :cond_8
+    const/4 v0, 0x0
+
+    invoke-direct {p0, p1, p5, v0}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_7
+
+    invoke-super/range {p0 .. p6}, Landroid/location/LocationManager;->requestLocationUpdates(Ljava/lang/String;JFLandroid/location/LocationListener;Landroid/os/Looper;)V
+
+    goto :goto_7
+.end method
+
+.method public requestSingleUpdate(Landroid/location/Criteria;Landroid/app/PendingIntent;)V
+    .registers 4
+
+    if-eqz p1, :cond_4
+
+    if-nez p2, :cond_8
+
+    :cond_4
+    invoke-super {p0, p1, p2}, Landroid/location/LocationManager;->requestSingleUpdate(Landroid/location/Criteria;Landroid/app/PendingIntent;)V
+
+    :cond_7
+    :goto_7
+    return-void
+
+    :cond_8
+    const/4 v0, 0x0
+
+    invoke-direct {p0, p1, v0, p2}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Landroid/location/Criteria;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_7
+
+    invoke-super {p0, p1, p2}, Landroid/location/LocationManager;->requestSingleUpdate(Landroid/location/Criteria;Landroid/app/PendingIntent;)V
+
+    goto :goto_7
+.end method
+
+.method public requestSingleUpdate(Landroid/location/Criteria;Landroid/location/LocationListener;Landroid/os/Looper;)V
+    .registers 5
+
+    if-eqz p1, :cond_4
+
+    if-nez p2, :cond_8
+
+    :cond_4
+    invoke-super {p0, p1, p2, p3}, Landroid/location/LocationManager;->requestSingleUpdate(Landroid/location/Criteria;Landroid/location/LocationListener;Landroid/os/Looper;)V
+
+    :cond_7
+    :goto_7
+    return-void
+
+    :cond_8
+    const/4 v0, 0x0
+
+    invoke-direct {p0, p1, p2, v0}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Landroid/location/Criteria;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_7
+
+    invoke-super {p0, p1, p2, p3}, Landroid/location/LocationManager;->requestSingleUpdate(Landroid/location/Criteria;Landroid/location/LocationListener;Landroid/os/Looper;)V
+
+    goto :goto_7
+.end method
+
+.method public requestSingleUpdate(Ljava/lang/String;Landroid/app/PendingIntent;)V
+    .registers 4
+
+    if-eqz p1, :cond_4
+
+    if-nez p2, :cond_8
+
+    :cond_4
+    invoke-super {p0, p1, p2}, Landroid/location/LocationManager;->requestSingleUpdate(Ljava/lang/String;Landroid/app/PendingIntent;)V
+
+    :cond_7
+    :goto_7
+    return-void
+
+    :cond_8
+    const/4 v0, 0x0
+
+    invoke-direct {p0, p1, v0, p2}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_7
+
+    invoke-super {p0, p1, p2}, Landroid/location/LocationManager;->requestSingleUpdate(Ljava/lang/String;Landroid/app/PendingIntent;)V
+
+    goto :goto_7
+.end method
+
+.method public requestSingleUpdate(Ljava/lang/String;Landroid/location/LocationListener;Landroid/os/Looper;)V
+    .registers 5
+
+    if-eqz p1, :cond_4
+
+    if-nez p2, :cond_8
+
+    :cond_4
+    invoke-super {p0, p1, p2, p3}, Landroid/location/LocationManager;->requestSingleUpdate(Ljava/lang/String;Landroid/location/LocationListener;Landroid/os/Looper;)V
+
+    :cond_7
+    :goto_7
+    return-void
+
+    :cond_8
+    const/4 v0, 0x0
+
+    invoke-direct {p0, p1, p2, v0}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_7
+
+    invoke-super {p0, p1, p2, p3}, Landroid/location/LocationManager;->requestSingleUpdate(Ljava/lang/String;Landroid/location/LocationListener;Landroid/os/Looper;)V
+
+    goto :goto_7
+.end method
diff -Npruw stock-framework/smali/android/privacy/surrogate/PrivacyPhoneProxy.smali pdroid-framework/smali/android/privacy/surrogate/PrivacyPhoneProxy.smali
--- stock-framework/smali/android/privacy/surrogate/PrivacyPhoneProxy.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/surrogate/PrivacyPhoneProxy.smali	2013-07-15 18:10:49.786628165 -0500
@@ -0,0 +1,3064 @@
+.class public Landroid/privacy/surrogate/PrivacyPhoneProxy;
+.super Lcom/android/internal/telephony/PhoneProxy;
+.source "PrivacyPhoneProxy.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyPhoneProxy"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private context_available:Z
+
+.field private mPm:Landroid/content/pm/IPackageManager;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Lcom/android/internal/telephony/Phone;Landroid/content/Context;)V
+    .registers 6
+
+    invoke-direct {p0, p1}, Lcom/android/internal/telephony/PhoneProxy;-><init>(Lcom/android/internal/telephony/Phone;)V
+
+    if-eqz p2, :cond_3e
+
+    iput-object p2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    const/4 v0, 0x1
+
+    iput-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    :goto_a
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    invoke-direct {p0, v0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->initiate(Z)V
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p2, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+
+    :cond_3e
+    const/4 v0, 0x0
+
+    iput-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    goto :goto_a
+.end method
+
+.method private getPackageName()[Ljava/lang/String;
+    .registers 6
+
+    :try_start_0
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    if-eqz v3, :cond_f
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-interface {v3, v2}, Landroid/content/pm/IPackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v1
+
+    :goto_e
+    return-object v1
+
+    :cond_f
+    const-string/jumbo v3, "package"
+
+    invoke-static {v3}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v3
+
+    invoke-static {v3}, Landroid/content/pm/IPackageManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/content/pm/IPackageManager;
+
+    move-result-object v3
+
+    iput-object v3, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-interface {v3, v2}, Landroid/content/pm/IPackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+    :try_end_25
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_25} :catch_27
+
+    move-result-object v1
+
+    goto :goto_e
+
+    :catch_27
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v3, "PrivacyPhoneProxy"
+
+    const-string/jumbo v4, "something went wrong with getting package name"
+
+    invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v1, 0x0
+
+    goto :goto_e
+.end method
+
+.method private initiate(Z)V
+    .registers 5
+
+    if-eqz p1, :cond_21
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Context is available for package:"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_20
+    return-void
+
+    :cond_21
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Context is not available for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const-string/jumbo v0, "package"
+
+    invoke-static {v0}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v0
+
+    invoke-static {v0}, Landroid/content/pm/IPackageManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/content/pm/IPackageManager;
+
+    move-result-object v0
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->mPm:Landroid/content/pm/IPackageManager;
+
+    goto :goto_20
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 14
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v3, 0x1
+
+    const/4 v4, -0x1
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_4a
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v11
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_35
+
+    if-eqz v11, :cond_35
+
+    invoke-virtual {v11}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_35
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_35
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    :goto_49
+    return-object v0
+
+    :cond_4a
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v9
+
+    const/4 v7, 0x1
+
+    const/4 v11, 0x0
+
+    const/4 v10, 0x0
+
+    if-nez v9, :cond_58
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    goto :goto_49
+
+    :cond_58
+    const/4 v8, 0x0
+
+    :goto_59
+    array-length v0, v9
+
+    if-ge v8, v0, :cond_72
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v8
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v11
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_85
+
+    if-eqz v11, :cond_85
+
+    invoke-virtual {v11}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_85
+
+    const/4 v7, 0x0
+
+    move v10, v8
+
+    :cond_72
+    if-eqz v7, :cond_88
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string/jumbo v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    goto :goto_49
+
+    :cond_85
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_59
+
+    :cond_88
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string/jumbo v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 15
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v3, 0x1
+
+    const/4 v4, -0x1
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_4a
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v11
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_35
+
+    if-eqz v11, :cond_35
+
+    invoke-virtual {v11}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_35
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_35
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    :goto_49
+    return-object v0
+
+    :cond_4a
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v9
+
+    const/4 v7, 0x1
+
+    const/4 v11, 0x0
+
+    const/4 v10, 0x0
+
+    if-nez v9, :cond_58
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    goto :goto_49
+
+    :cond_58
+    const/4 v8, 0x0
+
+    :goto_59
+    array-length v0, v9
+
+    if-ge v8, v0, :cond_72
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v8
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v11
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_85
+
+    if-eqz v11, :cond_85
+
+    invoke-virtual {v11}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_85
+
+    const/4 v7, 0x0
+
+    move v10, v8
+
+    :cond_72
+    if-eqz v7, :cond_88
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string/jumbo v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/PhoneProxy;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    goto :goto_49
+
+    :cond_85
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_59
+
+    :cond_88
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string/jumbo v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 13
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getPhoneType()I
+
+    move-result v11
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_b7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_7d
+
+    if-eqz v6, :cond_7d
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_2c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_7d
+
+    :cond_2c
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getCellLocation()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    packed-switch v11, :pswitch_data_170
+
+    new-instance v5, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    :goto_6a
+    :pswitch_6a
+    return-object v5
+
+    :pswitch_6b
+    new-instance v5, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    goto :goto_6a
+
+    :pswitch_71
+    new-instance v5, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    goto :goto_6a
+
+    :pswitch_77
+    new-instance v5, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    goto :goto_6a
+
+    :cond_7d
+    if-eqz v6, :cond_8d
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_8d
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getCellLocation()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v5
+
+    goto :goto_6a
+
+    :cond_b7
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v9
+
+    const/4 v7, 0x1
+
+    const/4 v6, 0x0
+
+    const/4 v10, 0x0
+
+    if-nez v9, :cond_c5
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v5
+
+    goto :goto_6a
+
+    :cond_c5
+    const/4 v8, 0x0
+
+    :goto_c6
+    array-length v0, v9
+
+    if-ge v8, v0, :cond_e9
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v8
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_11e
+
+    if-eqz v6, :cond_11e
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_e7
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_11e
+
+    :cond_e7
+    const/4 v7, 0x0
+
+    move v10, v8
+
+    :cond_e9
+    if-eqz v7, :cond_121
+
+    if-eqz v6, :cond_f7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_f7
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v9, v10
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getCellLocation()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v5
+
+    goto/16 :goto_6a
+
+    :cond_11e
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_c6
+
+    :cond_121
+    if-eqz v6, :cond_130
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_130
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v9, v10
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getCellLocation()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    packed-switch v11, :pswitch_data_17c
+
+    new-instance v5, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    goto/16 :goto_6a
+
+    :pswitch_15b
+    new-instance v5, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    goto/16 :goto_6a
+
+    :pswitch_162
+    new-instance v5, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    goto/16 :goto_6a
+
+    :pswitch_169
+    new-instance v5, Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-direct {v5}, Landroid/telephony/cdma/CdmaCellLocation;-><init>()V
+
+    goto/16 :goto_6a
+
+    :pswitch_data_170
+    .packed-switch 0x0
+        :pswitch_6a
+        :pswitch_6b
+        :pswitch_71
+        :pswitch_77
+    .end packed-switch
+
+    :pswitch_data_17c
+    .packed-switch 0x0
+        :pswitch_6a
+        :pswitch_15b
+        :pswitch_162
+        :pswitch_169
+    .end packed-switch
+.end method
+
+.method public getDataConnectionState()Lcom/android/internal/telephony/Phone$DataState;
+    .registers 12
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_97
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5c
+
+    if-eqz v6, :cond_5c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5c
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getDataConnection()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    sget-object v0, Lcom/android/internal/telephony/Phone$DataState;->CONNECTING:Lcom/android/internal/telephony/Phone$DataState;
+
+    :goto_5b
+    return-object v0
+
+    :cond_5c
+    if-eqz v6, :cond_6d
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_6d
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getDataConnection()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getDataConnectionState()Lcom/android/internal/telephony/Phone$DataState;
+
+    move-result-object v0
+
+    goto :goto_5b
+
+    :cond_97
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v9
+
+    const/4 v7, 0x1
+
+    const/4 v6, 0x0
+
+    const/4 v10, 0x0
+
+    if-nez v9, :cond_a5
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getDataConnectionState()Lcom/android/internal/telephony/Phone$DataState;
+
+    move-result-object v0
+
+    goto :goto_5b
+
+    :cond_a5
+    const/4 v8, 0x0
+
+    :goto_a6
+    array-length v0, v9
+
+    if-ge v8, v0, :cond_c3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v8
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_f9
+
+    if-eqz v6, :cond_f9
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_f9
+
+    const/4 v7, 0x0
+
+    move v10, v8
+
+    :cond_c3
+    if-eqz v7, :cond_fc
+
+    if-eqz v6, :cond_d2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_d2
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v9, v10
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getDataConnection()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getDataConnectionState()Lcom/android/internal/telephony/Phone$DataState;
+
+    move-result-object v0
+
+    goto/16 :goto_5b
+
+    :cond_f9
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_a6
+
+    :cond_fc
+    if-eqz v6, :cond_10c
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v9, v10
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_10c
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v9, v10
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getDataConnection()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    sget-object v0, Lcom/android/internal/telephony/Phone$DataState;->CONNECTING:Lcom/android/internal/telephony/Phone$DataState;
+
+    goto/16 :goto_5b
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 20
+
+    move-object/from16 v0, p0
+
+    iget-boolean v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v1, :cond_93
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    if-eqz v7, :cond_5d
+
+    if-eqz v7, :cond_5d
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_5d
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v4
+
+    const-string v5, "deviceID"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getDeviceId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_5c
+    return-object v6
+
+    :cond_5d
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "deviceID"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getDeviceId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_5c
+
+    :cond_93
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v17
+
+    const/4 v15, 0x1
+
+    const/4 v14, 0x0
+
+    const/16 v18, 0x0
+
+    if-nez v17, :cond_a2
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    goto :goto_5c
+
+    :cond_a2
+    const/16 v16, 0x0
+
+    :goto_a4
+    move-object/from16 v0, v17
+
+    array-length v1, v0
+
+    move/from16 v0, v16
+
+    if-ge v0, v1, :cond_ca
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v4, v17, v16
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v5
+
+    invoke-virtual {v1, v4, v5}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v14
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v1, :cond_106
+
+    if-eqz v14, :cond_106
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_106
+
+    const/4 v15, 0x0
+
+    move/from16 v18, v16
+
+    :cond_ca
+    if-eqz v15, :cond_109
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_e3
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    const/4 v11, 0x0
+
+    const-string v12, "deviceID"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_e3
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getDeviceId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5c
+
+    :cond_106
+    add-int/lit8 v16, v16, 0x1
+
+    goto :goto_a4
+
+    :cond_109
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_123
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v11
+
+    const-string v12, "deviceID"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_123
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getDeviceId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5c
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getIccSerialNumber()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 20
+
+    move-object/from16 v0, p0
+
+    iget-boolean v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v1, :cond_93
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    if-eqz v7, :cond_5d
+
+    if-eqz v7, :cond_5d
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_5d
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v4
+
+    const-string v5, "line1Number"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getLine1Number()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_5c
+    return-object v6
+
+    :cond_5d
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "line1Number"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getLine1Number()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_5c
+
+    :cond_93
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v17
+
+    const/4 v15, 0x1
+
+    const/4 v14, 0x0
+
+    const/16 v18, 0x0
+
+    if-nez v17, :cond_a2
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    goto :goto_5c
+
+    :cond_a2
+    const/16 v16, 0x0
+
+    :goto_a4
+    move-object/from16 v0, v17
+
+    array-length v1, v0
+
+    move/from16 v0, v16
+
+    if-ge v0, v1, :cond_ca
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v4, v17, v16
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v5
+
+    invoke-virtual {v1, v4, v5}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v14
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v1, :cond_106
+
+    if-eqz v14, :cond_106
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_106
+
+    const/4 v15, 0x0
+
+    move/from16 v18, v16
+
+    :cond_ca
+    if-eqz v15, :cond_109
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_e3
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    const/4 v11, 0x0
+
+    const-string v12, "line1Number"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_e3
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getLine1Number()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5c
+
+    :cond_106
+    add-int/lit8 v16, v16, 0x1
+
+    goto :goto_a4
+
+    :cond_109
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_123
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v11
+
+    const-string v12, "line1Number"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_123
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getLine1Number()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5c
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getMsisdn()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 2
+
+    new-instance v0, Lcom/android/internal/telephony/PhoneSubInfo;
+
+    invoke-direct {v0, p0}, Lcom/android/internal/telephony/PhoneSubInfo;-><init>(Lcom/android/internal/telephony/Phone;)V
+
+    return-object v0
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 13
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_a2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_67
+
+    if-eqz v6, :cond_67
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_67
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v9, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_66
+    return-object v9
+
+    :cond_67
+    if-eqz v6, :cond_78
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_78
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    goto :goto_66
+
+    :cond_a2
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v10
+
+    const/4 v7, 0x1
+
+    const/4 v6, 0x0
+
+    const/4 v11, 0x0
+
+    if-nez v10, :cond_b0
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    goto :goto_66
+
+    :cond_b0
+    const/4 v8, 0x0
+
+    :goto_b1
+    array-length v0, v10
+
+    if-ge v8, v0, :cond_ce
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v8
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_104
+
+    if-eqz v6, :cond_104
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_104
+
+    const/4 v7, 0x0
+
+    move v11, v8
+
+    :cond_ce
+    if-eqz v7, :cond_107
+
+    if-eqz v6, :cond_dd
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v11
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_dd
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v10, v11
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    goto/16 :goto_66
+
+    :cond_104
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_b1
+
+    :cond_107
+    if-eqz v6, :cond_117
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v11
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_117
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v10, v11
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v9
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v9, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto/16 :goto_66
+.end method
+
+.method public getSignalStrength()Landroid/telephony/SignalStrength;
+    .registers 13
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    new-instance v9, Landroid/telephony/SignalStrength;
+
+    invoke-direct {v9}, Landroid/telephony/SignalStrength;-><init>()V
+
+    iget-boolean v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v0, :cond_9a
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5f
+
+    if-eqz v6, :cond_5f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5f
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getSignalStrength()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_5e
+    return-object v9
+
+    :cond_5f
+    if-eqz v6, :cond_70
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_70
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getSignalStrength()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getSignalStrength()Landroid/telephony/SignalStrength;
+
+    move-result-object v9
+
+    goto :goto_5e
+
+    :cond_9a
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v10
+
+    const/4 v7, 0x1
+
+    const/4 v6, 0x0
+
+    const/4 v11, 0x0
+
+    if-nez v10, :cond_a8
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getSignalStrength()Landroid/telephony/SignalStrength;
+
+    move-result-object v9
+
+    goto :goto_5e
+
+    :cond_a8
+    const/4 v8, 0x0
+
+    :goto_a9
+    array-length v0, v10
+
+    if-ge v8, v0, :cond_c6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v8
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_fc
+
+    if-eqz v6, :cond_fc
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_fc
+
+    const/4 v7, 0x0
+
+    move v11, v8
+
+    :cond_c6
+    if-eqz v7, :cond_ff
+
+    if-eqz v6, :cond_d5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v11
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_d5
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v10, v11
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " ALLOWED for getSignalStrength()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/PhoneProxy;->getSignalStrength()Landroid/telephony/SignalStrength;
+
+    move-result-object v9
+
+    goto/16 :goto_5e
+
+    :cond_fc
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_a9
+
+    :cond_ff
+    if-eqz v6, :cond_10f
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v1, v10, v11
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_10f
+    const-string v0, "PrivacyPhoneProxy"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v2, "package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    aget-object v2, v10, v11
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " BLOCKED for getSignalStrength()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5e
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 20
+
+    move-object/from16 v0, p0
+
+    iget-boolean v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context_available:Z
+
+    if-eqz v1, :cond_95
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    if-eqz v7, :cond_5e
+
+    if-eqz v7, :cond_5e
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_5e
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v4
+
+    const-string/jumbo v5, "subscriberID"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getSubscriberId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_5d
+    return-object v6
+
+    :cond_5e
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string/jumbo v5, "subscriberID"
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p0
+
+    iget-object v5, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->context:Landroid/content/Context;
+
+    invoke-virtual {v5}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getSubscriberId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_5d
+
+    :cond_95
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v17
+
+    const/4 v15, 0x1
+
+    const/4 v14, 0x0
+
+    const/16 v18, 0x0
+
+    if-nez v17, :cond_a4
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    goto :goto_5d
+
+    :cond_a4
+    const/16 v16, 0x0
+
+    :goto_a6
+    move-object/from16 v0, v17
+
+    array-length v1, v0
+
+    move/from16 v0, v16
+
+    if-ge v0, v1, :cond_cc
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v4, v17, v16
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v5
+
+    invoke-virtual {v1, v4, v5}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v14
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v1, :cond_109
+
+    if-eqz v14, :cond_109
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_109
+
+    const/4 v15, 0x0
+
+    move/from16 v18, v16
+
+    :cond_cc
+    if-eqz v15, :cond_10c
+
+    invoke-super/range {p0 .. p0}, Lcom/android/internal/telephony/PhoneProxy;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_e6
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    const/4 v11, 0x0
+
+    const-string/jumbo v12, "subscriberID"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_e6
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " ALLOWED for getSubscriberId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5d
+
+    :cond_109
+    add-int/lit8 v16, v16, 0x1
+
+    goto :goto_a6
+
+    :cond_10c
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v6
+
+    if-eqz v14, :cond_127
+
+    move-object/from16 v0, p0
+
+    iget-object v8, v0, Landroid/privacy/surrogate/PrivacyPhoneProxy;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v18
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v10
+
+    invoke-virtual {v14}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v11
+
+    const-string/jumbo v12, "subscriberID"
+
+    move-object v13, v6
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_127
+    const-string v1, "PrivacyPhoneProxy"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v5, "package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    aget-object v5, v17, v18
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " BLOCKED for getSubscriberId()"
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v1, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_5d
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyPhoneProxy;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
diff -Npruw stock-framework/smali/android/privacy/surrogate/PrivacySipPhone.smali pdroid-framework/smali/android/privacy/surrogate/PrivacySipPhone.smali
--- stock-framework/smali/android/privacy/surrogate/PrivacySipPhone.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/surrogate/PrivacySipPhone.smali	2013-07-15 18:10:49.790628165 -0500
@@ -0,0 +1,1602 @@
+.class public Landroid/privacy/surrogate/PrivacySipPhone;
+.super Lcom/android/internal/telephony/sip/SipPhone;
+.source "PrivacySipPhone.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyGSMPhone"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
+    .registers 7
+
+    invoke-direct {p0, p1, p2, p3}, Lcom/android/internal/telephony/sip/SipPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Constructor ready for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+    .registers 10
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_31
+
+    if-eqz v7, :cond_31
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_31
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_31
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Lcom/android/internal/telephony/sip/SipPhone;->dial(Ljava/lang/String;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+    .registers 11
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Lcom/android/internal/telephony/CallStateException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, -0x1
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_31
+
+    if-eqz v7, :cond_31
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getPhoneCallSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_31
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Lcom/android/internal/telephony/CallStateException;
+
+    invoke-direct {v0}, Lcom/android/internal/telephony/CallStateException;-><init>()V
+
+    throw v0
+
+    :cond_31
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "phoneCall"
+
+    move v3, v2
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1, p2}, Lcom/android/internal/telephony/sip/SipPhone;->dial(Ljava/lang/String;Lcom/android/internal/telephony/UUSInfo;)Lcom/android/internal/telephony/Connection;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getCellLocation()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_5f
+
+    if-eqz v6, :cond_5f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_48
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_5f
+
+    :cond_48
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Landroid/telephony/gsm/GsmCellLocation;
+
+    invoke-direct {v0}, Landroid/telephony/gsm/GsmCellLocation;-><init>()V
+
+    :goto_5e
+    return-object v0
+
+    :cond_5f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getCellLocation()Landroid/telephony/CellLocation;
+
+    move-result-object v0
+
+    goto :goto_5e
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getDeviceSvn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getDeviceSvn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getEsn()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getEsn()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getEsn()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getImei()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getImei"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getImei()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1AlphaTag()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getLine1AlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 8
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getLine1Number()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_59
+
+    if-eqz v6, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_59
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_58
+    return-object v5
+
+    :cond_59
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "line1Number"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_58
+.end method
+
+.method public getMeid()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getMeid()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getMeid()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    const/4 v2, 0x0
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "Package: "
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v3, " asked for getPhoneSubInfo()"
+
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_54
+
+    if-eqz v6, :cond_54
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_54
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_53
+    return-object v5
+
+    :cond_54
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string v4, "locationNetwork"
+
+    move v3, v2
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getPhoneSubInfo()Lcom/android/internal/telephony/PhoneSubInfo;
+
+    move-result-object v5
+
+    goto :goto_53
+.end method
+
+.method public getServiceState()Landroid/telephony/ServiceState;
+    .registers 10
+
+    :try_start_0
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "Package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " asked for getServiceState()"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_61
+
+    if-eqz v6, :cond_61
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_61
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    :goto_60
+    return-object v8
+
+    :cond_61
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getServiceState()Landroid/telephony/ServiceState;
+    :try_end_74
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_74} :catch_76
+
+    move-result-object v8
+
+    goto :goto_60
+
+    :catch_76
+    move-exception v7
+
+    invoke-virtual {v7}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v0, "PrivacyGSMPhone"
+
+    const-string v1, "We got exception in getServiceState()-> give fake state"
+
+    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getServiceState()Landroid/telephony/ServiceState;
+
+    move-result-object v8
+
+    const-string v0, ""
+
+    const-string v1, ""
+
+    const-string v2, ""
+
+    invoke-virtual {v8, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto :goto_60
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getSubscriberId()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4d
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4d
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v3
+
+    const-string/jumbo v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4c
+    return-object v5
+
+    :cond_4d
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4c
+.end method
+
+.method public getVoiceMailAlphaTag()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailAlphaTag()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getVoiceMailAlphaTag()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 8
+
+    const-string v0, "PrivacyGSMPhone"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "Package: "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, " asked for getVoiceMailNumber()"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4b
+    return-object v5
+
+    :cond_4c
+    invoke-super {p0}, Lcom/android/internal/telephony/sip/SipPhone;->getVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacySipPhone;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4b
+.end method
diff -Npruw stock-framework/smali/android/privacy/surrogate/PrivacyTelephonyManager.smali pdroid-framework/smali/android/privacy/surrogate/PrivacyTelephonyManager.smali
--- stock-framework/smali/android/privacy/surrogate/PrivacyTelephonyManager.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/surrogate/PrivacyTelephonyManager.smali	2013-07-15 18:10:49.794628164 -0500
@@ -0,0 +1,1385 @@
+.class public final Landroid/privacy/surrogate/PrivacyTelephonyManager;
+.super Landroid/telephony/TelephonyManager;
+.source "PrivacyTelephonyManager.java"
+
+
+# static fields
+.field private static final NETWORK_TYPES:[I = null
+
+.field private static final PHONE_TYPES:[I = null
+
+.field private static final TAG:Ljava/lang/String; = "PrivacyTelephonyManager"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method static constructor <clinit>()V
+    .registers 1
+
+    const/4 v0, 0x4
+
+    new-array v0, v0, [I
+
+    fill-array-data v0, :array_12
+
+    sput-object v0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->PHONE_TYPES:[I
+
+    const/16 v0, 0x10
+
+    new-array v0, v0, [I
+
+    fill-array-data v0, :array_1e
+
+    sput-object v0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->NETWORK_TYPES:[I
+
+    return-void
+
+    :array_12
+    .array-data 0x4
+        0x0t 0x0t 0x0t 0x0t
+        0x1t 0x0t 0x0t 0x0t
+        0x2t 0x0t 0x0t 0x0t
+        0x3t 0x0t 0x0t 0x0t
+    .end array-data
+
+    :array_1e
+    .array-data 0x4
+        0x0t 0x0t 0x0t 0x0t
+        0x1t 0x0t 0x0t 0x0t
+        0x2t 0x0t 0x0t 0x0t
+        0x3t 0x0t 0x0t 0x0t
+        0x4t 0x0t 0x0t 0x0t
+        0x5t 0x0t 0x0t 0x0t
+        0x6t 0x0t 0x0t 0x0t
+        0x7t 0x0t 0x0t 0x0t
+        0x8t 0x0t 0x0t 0x0t
+        0x9t 0x0t 0x0t 0x0t
+        0xat 0x0t 0x0t 0x0t
+        0xbt 0x0t 0x0t 0x0t
+        0xct 0x0t 0x0t 0x0t
+        0xdt 0x0t 0x0t 0x0t
+        0xet 0x0t 0x0t 0x0t
+        0xft 0x0t 0x0t 0x0t
+    .end array-data
+.end method
+
+.method public constructor <init>(Landroid/content/Context;)V
+    .registers 4
+
+    invoke-direct {p0, p1}, Landroid/telephony/TelephonyManager;-><init>(Landroid/content/Context;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    return-void
+.end method
+
+.method private getNetworkInfo()Ljava/lang/String;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_25
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_25
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v5, ""
+
+    :goto_24
+    return-object v5
+
+    :cond_25
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_24
+.end method
+
+.method private getSimInfo()Ljava/lang/String;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_25
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSimInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_25
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "networkInfoSIM"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v5, ""
+
+    :goto_24
+    return-object v5
+
+    :cond_25
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "networkInfoSIM"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_24
+.end method
+
+
+# virtual methods
+.method public getAllCellInfo()Ljava/util/List;
+    .registers 6
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "()",
+            "Ljava/util/List",
+            "<",
+            "Landroid/telephony/CellInfo;",
+            ">;"
+        }
+    .end annotation
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v4
+
+    invoke-virtual {v2, v3, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v1
+
+    const/4 v0, 0x0
+
+    if-eqz v1, :cond_1f
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v2
+
+    const/4 v3, 0x1
+
+    if-ne v2, v3, :cond_20
+
+    new-instance v0, Ljava/util/ArrayList;
+
+    invoke-direct {v0}, Ljava/util/ArrayList;-><init>()V
+
+    :cond_1f
+    :goto_1f
+    return-object v0
+
+    :cond_20
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v2
+
+    if-eqz v2, :cond_2c
+
+    new-instance v0, Ljava/util/ArrayList;
+
+    invoke-direct {v0}, Ljava/util/ArrayList;-><init>()V
+
+    goto :goto_1f
+
+    :cond_2c
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getAllCellInfo()Ljava/util/List;
+
+    move-result-object v0
+
+    goto :goto_1f
+.end method
+
+.method public getCellLocation()Landroid/telephony/CellLocation;
+    .registers 10
+
+    const/4 v7, 0x0
+
+    :try_start_1
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_2c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_1f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_2c
+
+    :cond_1f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_2b
+    return-object v7
+
+    :cond_2c
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getCellLocation()Landroid/telephony/CellLocation;
+    :try_end_3b
+    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_3b} :catch_3d
+
+    move-result-object v7
+
+    goto :goto_2b
+
+    :catch_3d
+    move-exception v8
+
+    goto :goto_2b
+.end method
+
+.method public getCompleteVoiceMailNumber()Ljava/lang/String;
+    .registers 9
+
+    :try_start_0
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    if-eqz v6, :cond_2a
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_2a
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_29
+    return-object v5
+
+    :cond_2a
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getCompleteVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_36
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_36} :catch_37
+
+    goto :goto_29
+
+    :catch_37
+    move-exception v7
+
+    const/4 v5, 0x0
+
+    goto :goto_29
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 8
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_28
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_28
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_27
+    return-object v5
+
+    :cond_28
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_27
+.end method
+
+.method public getDeviceSoftwareVersion()Ljava/lang/String;
+    .registers 9
+
+    :try_start_0
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v5, ""
+
+    if-eqz v6, :cond_2a
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_2a
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_29
+    return-object v5
+
+    :cond_2a
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getDeviceSoftwareVersion()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_36
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_36} :catch_37
+
+    goto :goto_29
+
+    :catch_37
+    move-exception v7
+
+    const/4 v5, 0x0
+
+    goto :goto_29
+.end method
+
+.method public getIsimDomain()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyTelephonyManager;->getNetworkOperatorName()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getIsimImpi()Ljava/lang/String;
+    .registers 4
+
+    const-string v0, "PrivacyTelephonyManager"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "getIsimImpi - "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyTelephonyManager;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getIsimImpu()[Ljava/lang/String;
+    .registers 10
+
+    const/4 v8, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v0, "PrivacyTelephonyManager"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "getIsimImpu() - "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v0, 0x1
+
+    new-array v7, v0, [Ljava/lang/String;
+
+    if-eqz v6, :cond_4f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4f
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v0
+
+    aput-object v0, v7, v8
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v3
+
+    const-string/jumbo v4, "subscriberID"
+
+    aget-object v5, v7, v8
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_4e
+    return-object v7
+
+    :cond_4f
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getIsimImpu()[Ljava/lang/String;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v4, "subscriberID"
+
+    aget-object v5, v7, v8
+
+    move v3, v8
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4e
+.end method
+
+.method public getLine1AlphaTag()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyTelephonyManager;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 8
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_28
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_28
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_27
+    return-object v5
+
+    :cond_28
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_27
+.end method
+
+.method public getMsisdn()Ljava/lang/String;
+    .registers 4
+
+    const-string v0, "PrivacyTelephonyManager"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "getMsisdn() - "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyTelephonyManager;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getNeighboringCellInfo()Ljava/util/List;
+    .registers 10
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "()",
+            "Ljava/util/List",
+            "<",
+            "Landroid/telephony/NeighboringCellInfo;",
+            ">;"
+        }
+    .end annotation
+
+    iget-object v6, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v7, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v7}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v7
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v8
+
+    invoke-virtual {v6, v7, v8}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v5
+
+    const/4 v3, 0x0
+
+    const-string v4, "[null]"
+
+    if-eqz v5, :cond_1c
+
+    invoke-virtual {v5}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v6
+
+    const/4 v7, 0x1
+
+    if-ne v6, v7, :cond_1d
+
+    :cond_1c
+    :goto_1c
+    return-object v3
+
+    :cond_1d
+    invoke-virtual {v5}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v6
+
+    if-eqz v6, :cond_2b
+
+    new-instance v3, Ljava/util/ArrayList;
+
+    invoke-direct {v3}, Ljava/util/ArrayList;-><init>()V
+
+    const-string v4, "[empty list of cells]"
+
+    goto :goto_1c
+
+    :cond_2b
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getNeighboringCellInfo()Ljava/util/List;
+
+    move-result-object v3
+
+    const-string v0, ""
+
+    invoke-interface {v3}, Ljava/util/List;->iterator()Ljava/util/Iterator;
+
+    move-result-object v2
+
+    :goto_35
+    invoke-interface {v2}, Ljava/util/Iterator;->hasNext()Z
+
+    move-result v6
+
+    if-eqz v6, :cond_5f
+
+    invoke-interface {v2}, Ljava/util/Iterator;->next()Ljava/lang/Object;
+
+    move-result-object v1
+
+    check-cast v1, Landroid/telephony/NeighboringCellInfo;
+
+    new-instance v6, Ljava/lang/StringBuilder;
+
+    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v6, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    const-string v7, "\t"
+
+    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v6, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    const-string v7, "\n"
+
+    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v0
+
+    goto :goto_35
+
+    :cond_5f
+    new-instance v6, Ljava/lang/StringBuilder;
+
+    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v7, "[real value]:\n"
+
+    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v6, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    goto :goto_1c
+.end method
+
+.method public getNetworkCountryIso()Ljava/lang/String;
+    .registers 2
+
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyTelephonyManager;->getNetworkInfo()Ljava/lang/String;
+
+    move-result-object v0
+
+    if-nez v0, :cond_a
+
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getNetworkCountryIso()Ljava/lang/String;
+
+    move-result-object v0
+
+    :cond_a
+    return-object v0
+.end method
+
+.method public getNetworkOperator()Ljava/lang/String;
+    .registers 2
+
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyTelephonyManager;->getNetworkInfo()Ljava/lang/String;
+
+    move-result-object v0
+
+    if-nez v0, :cond_a
+
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getNetworkOperator()Ljava/lang/String;
+
+    move-result-object v0
+
+    :cond_a
+    return-object v0
+.end method
+
+.method public getNetworkOperatorName()Ljava/lang/String;
+    .registers 2
+
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyTelephonyManager;->getNetworkInfo()Ljava/lang/String;
+
+    move-result-object v0
+
+    if-nez v0, :cond_a
+
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getNetworkOperatorName()Ljava/lang/String;
+
+    move-result-object v0
+
+    :cond_a
+    return-object v0
+.end method
+
+.method public getNetworkType()I
+    .registers 7
+
+    const/4 v5, 0x0
+
+    :try_start_1
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyTelephonyManager;->getNetworkInfo()Ljava/lang/String;
+
+    move-result-object v1
+
+    sget-object v3, Landroid/privacy/surrogate/PrivacyTelephonyManager;->NETWORK_TYPES:[I
+
+    const/4 v4, 0x0
+
+    aget v2, v3, v4
+
+    if-nez v1, :cond_10
+
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getNetworkType()I
+    :try_end_f
+    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_f} :catch_11
+
+    move-result v2
+
+    :cond_10
+    :goto_10
+    return v2
+
+    :catch_11
+    move-exception v0
+
+    sget-object v3, Landroid/privacy/surrogate/PrivacyTelephonyManager;->NETWORK_TYPES:[I
+
+    aget v2, v3, v5
+
+    goto :goto_10
+.end method
+
+.method public getPhoneType()I
+    .registers 5
+
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyTelephonyManager;->getNetworkInfo()Ljava/lang/String;
+
+    move-result-object v0
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyTelephonyManager;->PHONE_TYPES:[I
+
+    const/4 v3, 0x0
+
+    aget v1, v2, v3
+
+    if-nez v0, :cond_f
+
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getPhoneType()I
+
+    move-result v1
+
+    :cond_f
+    return v1
+.end method
+
+.method public getSimCountryIso()Ljava/lang/String;
+    .registers 2
+
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyTelephonyManager;->getSimInfo()Ljava/lang/String;
+
+    move-result-object v0
+
+    if-nez v0, :cond_a
+
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getSimCountryIso()Ljava/lang/String;
+
+    move-result-object v0
+
+    :cond_a
+    return-object v0
+.end method
+
+.method public getSimOperator()Ljava/lang/String;
+    .registers 2
+
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyTelephonyManager;->getSimInfo()Ljava/lang/String;
+
+    move-result-object v0
+
+    if-nez v0, :cond_a
+
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getSimOperator()Ljava/lang/String;
+
+    move-result-object v0
+
+    :cond_a
+    return-object v0
+.end method
+
+.method public getSimOperatorName()Ljava/lang/String;
+    .registers 2
+
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyTelephonyManager;->getSimInfo()Ljava/lang/String;
+
+    move-result-object v0
+
+    if-nez v0, :cond_a
+
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getSimOperatorName()Ljava/lang/String;
+
+    move-result-object v0
+
+    :cond_a
+    return-object v0
+.end method
+
+.method public getSimSerialNumber()Ljava/lang/String;
+    .registers 8
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_29
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSimSerialNumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_29
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSimSerialNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSimSerialNumberSetting()B
+
+    move-result v3
+
+    const-string/jumbo v4, "simSerial"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_28
+    return-object v5
+
+    :cond_29
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getSimSerialNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "simSerial"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_28
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 8
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const-string v0, "PrivacyTelephonyManager"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "getSubscriberId() - "
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v4}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {v0, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    if-eqz v6, :cond_47
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_47
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v3
+
+    const-string/jumbo v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_46
+    return-object v5
+
+    :cond_47
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_46
+.end method
+
+.method public getVoiceMailAlphaTag()Ljava/lang/String;
+    .registers 2
+
+    invoke-virtual {p0}, Landroid/privacy/surrogate/PrivacyTelephonyManager;->getVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 8
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_28
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_28
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_27
+    return-object v5
+
+    :cond_28
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_27
+.end method
+
+.method public listen(Landroid/telephony/PhoneStateListener;I)V
+    .registers 5
+
+    and-int/lit8 v1, p2, 0x10
+
+    if-nez v1, :cond_8
+
+    and-int/lit8 v1, p2, 0x20
+
+    if-eqz v1, :cond_29
+
+    :cond_8
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    if-eqz v1, :cond_27
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v0
+
+    :goto_12
+    if-eqz v0, :cond_1c
+
+    invoke-virtual {p1, v0}, Landroid/telephony/PhoneStateListener;->setPackageName(Ljava/lang/String;)V
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {p1, v1}, Landroid/telephony/PhoneStateListener;->setContext(Landroid/content/Context;)V
+
+    :cond_1c
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v1
+
+    invoke-virtual {p1, v1}, Landroid/telephony/PhoneStateListener;->setUid(I)V
+
+    invoke-super {p0, p1, p2}, Landroid/telephony/TelephonyManager;->listen(Landroid/telephony/PhoneStateListener;I)V
+
+    :goto_26
+    return-void
+
+    :cond_27
+    const/4 v0, 0x0
+
+    goto :goto_12
+
+    :cond_29
+    invoke-super {p0, p1, p2}, Landroid/telephony/TelephonyManager;->listen(Landroid/telephony/PhoneStateListener;I)V
+
+    goto :goto_26
+.end method
diff -Npruw stock-framework/smali/android/privacy/surrogate/PrivacyWifiManager.smali pdroid-framework/smali/android/privacy/surrogate/PrivacyWifiManager.smali
--- stock-framework/smali/android/privacy/surrogate/PrivacyWifiManager.smali	1969-12-31 18:00:00.000000000 -0600
+++ pdroid-framework/smali/android/privacy/surrogate/PrivacyWifiManager.smali	2013-07-15 18:10:49.794628164 -0500
@@ -0,0 +1,1097 @@
+.class public Landroid/privacy/surrogate/PrivacyWifiManager;
+.super Landroid/net/wifi/WifiManager;
+.source "PrivacyWifiManager.java"
+
+
+# static fields
+.field private static final P_TAG:Ljava/lang/String; = "PrivacyWifiManager"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/net/wifi/IWifiManager;Landroid/os/Handler;Landroid/content/Context;)V
+    .registers 6
+
+    invoke-direct {p0, p1, p2}, Landroid/net/wifi/WifiManager;-><init>(Landroid/net/wifi/IWifiManager;Landroid/os/Handler;)V
+
+    iput-object p3, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p3, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public getConfigFile()Ljava/lang/String;
+    .registers 9
+
+    const/4 v2, -0x1
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_31
+
+    if-eqz v7, :cond_31
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getWifiInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_31
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v0, ""
+
+    :goto_30
+    return-object v0
+
+    :cond_31
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Landroid/net/wifi/WifiManager;->getConfigFile()Ljava/lang/String;
+
+    move-result-object v0
+
+    goto :goto_30
+.end method
+
+.method public getConfiguredNetworks()Ljava/util/List;
+    .registers 10
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "()",
+            "Ljava/util/List",
+            "<",
+            "Landroid/net/wifi/WifiConfiguration;",
+            ">;"
+        }
+    .end annotation
+
+    const/4 v2, -0x1
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    new-instance v7, Ljava/util/ArrayList;
+
+    invoke-direct {v7}, Ljava/util/ArrayList;-><init>()V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_34
+
+    if-eqz v8, :cond_34
+
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getWifiInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_34
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_33
+    return-object v7
+
+    :cond_34
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Landroid/net/wifi/WifiManager;->getConfiguredNetworks()Ljava/util/List;
+
+    move-result-object v7
+
+    goto :goto_33
+.end method
+
+.method public getConnectionInfo()Landroid/net/wifi/WifiInfo;
+    .registers 10
+
+    const/4 v3, 0x1
+
+    const/4 v2, -0x1
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v4
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    new-instance v7, Landroid/net/wifi/WifiInfo;
+
+    invoke-direct {v7, v3}, Landroid/net/wifi/WifiInfo;-><init>(Z)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_34
+
+    if-eqz v8, :cond_34
+
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getWifiInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_34
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_33
+    return-object v7
+
+    :cond_34
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Landroid/net/wifi/WifiManager;->getConnectionInfo()Landroid/net/wifi/WifiInfo;
+
+    move-result-object v7
+
+    goto :goto_33
+.end method
+
+.method public getDhcpInfo()Landroid/net/DhcpInfo;
+    .registers 9
+
+    const/4 v2, -0x1
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_34
+
+    if-eqz v7, :cond_34
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getWifiInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_34
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Landroid/net/DhcpInfo;
+
+    invoke-direct {v0}, Landroid/net/DhcpInfo;-><init>()V
+
+    :goto_33
+    return-object v0
+
+    :cond_34
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Landroid/net/wifi/WifiManager;->getDhcpInfo()Landroid/net/DhcpInfo;
+
+    move-result-object v0
+
+    goto :goto_33
+.end method
+
+.method public getFrequencyBand()I
+    .registers 9
+
+    const/4 v2, -0x1
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_2f
+
+    if-eqz v7, :cond_2f
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getWifiInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_2f
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_2e
+    return v2
+
+    :cond_2f
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Landroid/net/wifi/WifiManager;->getFrequencyBand()I
+
+    move-result v2
+
+    goto :goto_2e
+.end method
+
+.method public getScanResults()Ljava/util/List;
+    .registers 10
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "()",
+            "Ljava/util/List",
+            "<",
+            "Landroid/net/wifi/ScanResult;",
+            ">;"
+        }
+    .end annotation
+
+    const/4 v2, -0x1
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    new-instance v7, Ljava/util/ArrayList;
+
+    invoke-direct {v7}, Ljava/util/ArrayList;-><init>()V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_34
+
+    if-eqz v8, :cond_34
+
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getWifiInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_34
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_33
+    return-object v7
+
+    :cond_34
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Landroid/net/wifi/WifiManager;->getScanResults()Ljava/util/List;
+
+    move-result-object v7
+
+    goto :goto_33
+.end method
+
+.method public getWifiApConfiguration()Landroid/net/wifi/WifiConfiguration;
+    .registers 9
+
+    const/4 v2, -0x1
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_34
+
+    if-eqz v7, :cond_34
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getWifiInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_34
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    new-instance v0, Landroid/net/wifi/WifiConfiguration;
+
+    invoke-direct {v0}, Landroid/net/wifi/WifiConfiguration;-><init>()V
+
+    :goto_33
+    return-object v0
+
+    :cond_34
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Landroid/net/wifi/WifiManager;->getWifiApConfiguration()Landroid/net/wifi/WifiConfiguration;
+
+    move-result-object v0
+
+    goto :goto_33
+.end method
+
+.method public getWifiState()I
+    .registers 9
+
+    const/4 v3, 0x1
+
+    const/4 v2, -0x1
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v4
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getForceOnlineState()B
+
+    move-result v0
+
+    if-nez v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const/4 v0, 0x3
+
+    :goto_2f
+    return v0
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_4d
+
+    if-eqz v7, :cond_4d
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getWifiInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4d
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const/4 v0, 0x4
+
+    goto :goto_2f
+
+    :cond_4d
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Landroid/net/wifi/WifiManager;->getWifiState()I
+
+    move-result v0
+
+    goto :goto_2f
+.end method
+
+.method public isWifiEnabled()Z
+    .registers 10
+
+    const/4 v8, 0x0
+
+    const/4 v3, 0x1
+
+    const/4 v2, -0x1
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v4
+
+    invoke-virtual {v0, v1, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_30
+
+    if-eqz v7, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getForceOnlineState()B
+
+    move-result v0
+
+    if-nez v0, :cond_30
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_2f
+    return v3
+
+    :cond_30
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_4d
+
+    if-eqz v7, :cond_4d
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getWifiInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_4d
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    move v3, v8
+
+    goto :goto_2f
+
+    :cond_4d
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move v3, v8
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Landroid/net/wifi/WifiManager;->isWifiEnabled()Z
+
+    move-result v3
+
+    goto :goto_2f
+.end method
+
+.method public setWifiEnabled(Z)Z
+    .registers 11
+
+    const/4 v8, 0x0
+
+    const/4 v2, -0x1
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_31
+
+    if-eqz v7, :cond_31
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getSwitchWifiStateSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_31
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "switchWifiState"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    move v0, v8
+
+    :goto_30
+    return v0
+
+    :cond_31
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "switchWifiState"
+
+    move v3, v8
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Landroid/net/wifi/WifiManager;->setWifiEnabled(Z)Z
+
+    move-result v0
+
+    goto :goto_30
+.end method
+
+.method public startScan()Z
+    .registers 10
+
+    const/4 v8, 0x0
+
+    const/4 v2, -0x1
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_31
+
+    if-eqz v7, :cond_31
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getWifiInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_31
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    move v0, v8
+
+    :goto_30
+    return v0
+
+    :cond_31
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move v3, v8
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Landroid/net/wifi/WifiManager;->startScan()Z
+
+    move-result v0
+
+    goto :goto_30
+.end method
+
+.method public startScanActive()Z
+    .registers 10
+
+    const/4 v8, 0x0
+
+    const/4 v2, -0x1
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v3
+
+    invoke-virtual {v0, v1, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v0, :cond_31
+
+    if-eqz v7, :cond_31
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getWifiInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_31
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    move v0, v8
+
+    :goto_30
+    return v0
+
+    :cond_31
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyWifiManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    const-string/jumbo v4, "wifiInfo"
+
+    move v3, v8
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0}, Landroid/net/wifi/WifiManager;->startScanActive()Z
+
+    move-result v0
+
+    goto :goto_30
+.end method
diff -Npruw stock-framework/smali/android/provider/Settings$Secure.smali pdroid-framework/smali/android/provider/Settings$Secure.smali
--- stock-framework/smali/android/provider/Settings$Secure.smali	2013-07-15 18:10:56.270627995 -0500
+++ pdroid-framework/smali/android/provider/Settings$Secure.smali	2013-07-15 18:10:49.838628163 -0500
@@ -312,6 +312,8 @@
 
 .field public static final PREFERRED_TTY_MODE:Ljava/lang/String; = "preferred_tty_mode"
 
+.field private static final PRIVACY_TAG:Ljava/lang/String; = "PM,SecureSettings"
+
 .field public static final READ_EXTERNAL_STORAGE_ENFORCED_DEFAULT:Ljava/lang/String; = "read_external_storage_enforced_default"
 
 .field public static final REBOOT_INTERVAL:Ljava/lang/String; = "reboot_interval"
@@ -597,6 +599,14 @@
 
 .field public static final WTF_IS_FATAL:Ljava/lang/String; = "wtf_is_fatal"
 
+.field private static context:Landroid/content/Context;
+
+.field private static mPm:Landroid/content/pm/IPackageManager;
+
+.field private static pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+.field private static privacyMode:Z
+
 .field private static sIsSystemProcess:Z
 
 .field private static sLockSettings:Lcom/android/internal/widget/ILockSettings;
@@ -612,6 +622,8 @@
 
     const/4 v3, 0x3
 
+    const/4 v2, 0x0
+
     sput-object v0, Landroid/provider/Settings$Secure;->sNameValueCache:Landroid/provider/Settings$NameValueCache;
 
     sput-object v0, Landroid/provider/Settings$Secure;->sLockSettings:Lcom/android/internal/widget/ILockSettings;
@@ -664,6 +676,8 @@
 
     invoke-virtual {v0, v1}, Ljava/util/HashSet;->add(Ljava/lang/Object;)Z
 
+    sput-boolean v2, Landroid/provider/Settings$Secure;->privacyMode:Z
+
     const-string v0, "content://settings/secure"
 
     invoke-static {v0}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;
@@ -676,11 +690,9 @@
 
     new-array v0, v0, [Ljava/lang/String;
 
-    const/4 v1, 0x0
-
-    const-string v2, "adb_enabled"
+    const-string v1, "adb_enabled"
 
-    aput-object v2, v0, v1
+    aput-object v1, v0, v2
 
     const/4 v1, 0x1
 
@@ -1143,126 +1155,430 @@
     goto :goto_a
 .end method
 
+.method private static getPackageName()[Ljava/lang/String;
+    .registers 5
+
+    :try_start_0
+    sget-object v3, Landroid/provider/Settings$Secure;->mPm:Landroid/content/pm/IPackageManager;
+
+    if-eqz v3, :cond_f
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    sget-object v3, Landroid/provider/Settings$Secure;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-interface {v3, v2}, Landroid/content/pm/IPackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v1
+
+    :goto_e
+    return-object v1
+
+    :cond_f
+    const-string/jumbo v3, "package"
+
+    invoke-static {v3}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v3
+
+    invoke-static {v3}, Landroid/content/pm/IPackageManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/content/pm/IPackageManager;
+
+    move-result-object v3
+
+    sput-object v3, Landroid/provider/Settings$Secure;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-static {}, Landroid/os/Process;->myUid()I
+
+    move-result v2
+
+    sget-object v3, Landroid/provider/Settings$Secure;->mPm:Landroid/content/pm/IPackageManager;
+
+    invoke-interface {v3, v2}, Landroid/content/pm/IPackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+    :try_end_25
+    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_25} :catch_27
+
+    move-result-object v1
+
+    goto :goto_e
+
+    :catch_27
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v3, "PM,SecureSettings"
+
+    const-string/jumbo v4, "something went wrong with getting package name"
+
+    invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v1, 0x0
+
+    goto :goto_e
+.end method
+
 .method public static declared-synchronized getString(Landroid/content/ContentResolver;Ljava/lang/String;)Ljava/lang/String;
-    .registers 7
+    .registers 22
 
-    const-class v1, Landroid/provider/Settings$Secure;
+    const-class v19, Landroid/provider/Settings$Secure;
 
-    monitor-enter v1
+    monitor-enter v19
 
     :try_start_3
-    sget-object v0, Landroid/provider/Settings$Secure;->sNameValueCache:Landroid/provider/Settings$NameValueCache;
+    sget-object v2, Landroid/provider/Settings$Secure;->sNameValueCache:Landroid/provider/Settings$NameValueCache;
 
-    if-nez v0, :cond_15
+    if-nez v2, :cond_15
 
-    new-instance v0, Landroid/provider/Settings$NameValueCache;
+    new-instance v2, Landroid/provider/Settings$NameValueCache;
 
-    const-string/jumbo v2, "sys.settings_secure_version"
+    const-string/jumbo v3, "sys.settings_secure_version"
 
-    sget-object v3, Landroid/provider/Settings$Secure;->CONTENT_URI:Landroid/net/Uri;
+    sget-object v4, Landroid/provider/Settings$Secure;->CONTENT_URI:Landroid/net/Uri;
 
-    const-string v4, "GET_secure"
+    const-string v5, "GET_secure"
 
-    invoke-direct {v0, v2, v3, v4}, Landroid/provider/Settings$NameValueCache;-><init>(Ljava/lang/String;Landroid/net/Uri;Ljava/lang/String;)V
+    invoke-direct {v2, v3, v4, v5}, Landroid/provider/Settings$NameValueCache;-><init>(Ljava/lang/String;Landroid/net/Uri;Ljava/lang/String;)V
 
-    sput-object v0, Landroid/provider/Settings$Secure;->sNameValueCache:Landroid/provider/Settings$NameValueCache;
+    sput-object v2, Landroid/provider/Settings$Secure;->sNameValueCache:Landroid/provider/Settings$NameValueCache;
 
     :cond_15
-    sget-object v0, Landroid/provider/Settings$Secure;->sLockSettings:Lcom/android/internal/widget/ILockSettings;
+    const-string v2, "android_id"
 
-    if-nez v0, :cond_30
+    move-object/from16 v0, p1
 
-    const-string v0, "lock_settings"
+    invoke-virtual {v0, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
 
-    invoke-static {v0}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+    move-result v2
 
-    move-result-object v0
+    if-eqz v2, :cond_d0
 
-    invoke-static {v0}, Lcom/android/internal/widget/ILockSettings$Stub;->asInterface(Landroid/os/IBinder;)Lcom/android/internal/widget/ILockSettings;
+    invoke-static {}, Landroid/provider/Settings$Secure;->initiate()V
+    :try_end_22
+    .catchall {:try_start_3 .. :try_end_22} :catchall_119
 
-    move-result-object v0
+    :try_start_22
+    sget-object v2, Landroid/provider/Settings$Secure;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    sput-object v0, Landroid/provider/Settings$Secure;->sLockSettings:Lcom/android/internal/widget/ILockSettings;
+    if-nez v2, :cond_3a
+
+    new-instance v2, Landroid/privacy/PrivacySettingsManager;
+
+    sget-object v3, Landroid/provider/Settings$Secure;->context:Landroid/content/Context;
+
+    const-string/jumbo v4, "privacy"
+
+    invoke-static {v4}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v4
+
+    invoke-static {v4}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v4
+
+    invoke-direct {v2, v3, v4}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    sput-object v2, Landroid/provider/Settings$Secure;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_3a
+    sget-object v2, Landroid/provider/Settings$Secure;->mPm:Landroid/content/pm/IPackageManager;
+
+    if-nez v2, :cond_4b
+
+    const-string/jumbo v2, "package"
+
+    invoke-static {v2}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v2
+
+    invoke-static {v2}, Landroid/content/pm/IPackageManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/content/pm/IPackageManager;
+
+    move-result-object v2
+
+    sput-object v2, Landroid/provider/Settings$Secure;->mPm:Landroid/content/pm/IPackageManager;
+
+    :cond_4b
+    const/16 v18, 0x0
+
+    invoke-static {}, Landroid/provider/Settings$Secure;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v17
+
+    if-eqz v17, :cond_be
+
+    move-object/from16 v0, v17
+
+    array-length v2, v0
+
+    if-lez v2, :cond_be
+
+    const/16 v16, 0x0
+
+    :goto_5a
+    move-object/from16 v0, v17
+
+    array-length v2, v0
+
+    move/from16 v0, v16
+
+    if-ge v0, v2, :cond_d0
+
+    sget-object v2, Landroid/provider/Settings$Secure;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v3, v17, v16
+
+    invoke-virtual {v2, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+
+    move-result-object v18
+
+    if-eqz v18, :cond_9e
+
+    invoke-virtual/range {v18 .. v18}, Landroid/privacy/PrivacySettings;->getAndroidIdSetting()B
+
+    move-result v2
+
+    if-eqz v2, :cond_9e
+
+    invoke-virtual/range {v18 .. v18}, Landroid/privacy/PrivacySettings;->getAndroidID()Ljava/lang/String;
+
+    move-result-object v7
+
+    if-eqz v7, :cond_88
+
+    sget-object v2, Landroid/provider/Settings$Secure;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v3, v17, v16
+
+    const/4 v4, 0x0
+
+    invoke-virtual/range {v18 .. v18}, Landroid/privacy/PrivacySettings;->getAndroidIdSetting()B
+
+    move-result v5
+
+    const-string v6, "android_id"
+
+    const/4 v8, 0x0
+
+    invoke-virtual/range {v2 .. v8}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_86
+    .catchall {:try_start_22 .. :try_end_86} :catchall_119
+    .catch Ljava/lang/Exception; {:try_start_22 .. :try_end_86} :catch_10d
+
+    :goto_86
+    monitor-exit v19
+
+    return-object v7
+
+    :cond_88
+    :try_start_88
+    sget-object v8, Landroid/provider/Settings$Secure;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v9, v17, v16
+
+    const/4 v10, 0x0
+
+    invoke-virtual/range {v18 .. v18}, Landroid/privacy/PrivacySettings;->getAndroidIdSetting()B
+
+    move-result v11
+
+    const-string v12, "android_id"
+
+    const-string/jumbo v13, "q4a5w896ay21dr46"
+
+    const/4 v14, 0x0
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string/jumbo v7, "q4a5w896ay21dr46"
+
+    goto :goto_86
+
+    :cond_9e
+    move-object/from16 v0, v17
+
+    array-length v2, v0
+
+    add-int/lit8 v2, v2, -0x1
+
+    move/from16 v0, v16
+
+    if-ne v0, v2, :cond_b9
+
+    sget-object v8, Landroid/provider/Settings$Secure;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, v17
+
+    array-length v2, v0
+
+    add-int/lit8 v2, v2, -0x1
+
+    aget-object v9, v17, v2
+
+    const/4 v10, 0x0
+
+    const/4 v11, 0x0
+
+    const-string v12, "android_id"
+
+    const/4 v13, 0x0
+
+    const/4 v14, 0x0
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_b9
+    const/16 v18, 0x0
+
+    add-int/lit8 v16, v16, 0x1
+
+    goto :goto_5a
+
+    :cond_be
+    sget-object v8, Landroid/provider/Settings$Secure;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, v17
+
+    array-length v2, v0
+
+    add-int/lit8 v2, v2, -0x1
+
+    aget-object v9, v17, v2
+
+    const/4 v10, 0x0
+
+    const/4 v11, 0x0
+
+    const-string v12, "android_id"
+
+    const/4 v13, 0x0
+
+    const/4 v14, 0x0
+
+    invoke-virtual/range {v8 .. v14}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_d0
+    .catchall {:try_start_88 .. :try_end_d0} :catchall_119
+    .catch Ljava/lang/Exception; {:try_start_88 .. :try_end_d0} :catch_10d
+
+    :cond_d0
+    :goto_d0
+    :try_start_d0
+    sget-object v2, Landroid/provider/Settings$Secure;->sLockSettings:Lcom/android/internal/widget/ILockSettings;
+
+    if-nez v2, :cond_eb
+
+    const-string v2, "lock_settings"
+
+    invoke-static {v2}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v2
+
+    invoke-static {v2}, Lcom/android/internal/widget/ILockSettings$Stub;->asInterface(Landroid/os/IBinder;)Lcom/android/internal/widget/ILockSettings;
+
+    move-result-object v2
+
+    sput-object v2, Landroid/provider/Settings$Secure;->sLockSettings:Lcom/android/internal/widget/ILockSettings;
 
     invoke-static {}, Landroid/os/Process;->myUid()I
 
-    move-result v0
+    move-result v2
 
-    const/16 v2, 0x3e8
+    const/16 v3, 0x3e8
 
-    if-ne v0, v2, :cond_4e
+    if-ne v2, v3, :cond_11c
 
-    const/4 v0, 0x1
+    const/4 v2, 0x1
 
-    :goto_2e
-    sput-boolean v0, Landroid/provider/Settings$Secure;->sIsSystemProcess:Z
+    :goto_e9
+    sput-boolean v2, Landroid/provider/Settings$Secure;->sIsSystemProcess:Z
 
-    :cond_30
-    sget-object v0, Landroid/provider/Settings$Secure;->sLockSettings:Lcom/android/internal/widget/ILockSettings;
+    :cond_eb
+    sget-object v2, Landroid/provider/Settings$Secure;->sLockSettings:Lcom/android/internal/widget/ILockSettings;
 
-    if-eqz v0, :cond_51
+    if-eqz v2, :cond_11f
 
-    sget-boolean v0, Landroid/provider/Settings$Secure;->sIsSystemProcess:Z
+    sget-boolean v2, Landroid/provider/Settings$Secure;->sIsSystemProcess:Z
 
-    if-nez v0, :cond_51
+    if-nez v2, :cond_11f
 
-    sget-object v0, Landroid/provider/Settings$Secure;->MOVED_TO_LOCK_SETTINGS:Ljava/util/HashSet;
+    sget-object v2, Landroid/provider/Settings$Secure;->MOVED_TO_LOCK_SETTINGS:Ljava/util/HashSet;
 
-    invoke-virtual {v0, p1}, Ljava/util/HashSet;->contains(Ljava/lang/Object;)Z
-    :try_end_3d
-    .catchall {:try_start_3 .. :try_end_3d} :catchall_58
+    move-object/from16 v0, p1
 
-    move-result v0
+    invoke-virtual {v2, v0}, Ljava/util/HashSet;->contains(Ljava/lang/Object;)Z
+    :try_end_fa
+    .catchall {:try_start_d0 .. :try_end_fa} :catchall_119
 
-    if-eqz v0, :cond_51
+    move-result v2
+
+    if-eqz v2, :cond_11f
 
-    :try_start_40
-    sget-object v0, Landroid/provider/Settings$Secure;->sLockSettings:Lcom/android/internal/widget/ILockSettings;
+    :try_start_fd
+    sget-object v2, Landroid/provider/Settings$Secure;->sLockSettings:Lcom/android/internal/widget/ILockSettings;
 
-    const-string v2, "0"
+    const-string v3, "0"
 
     invoke-static {}, Landroid/os/UserId;->getCallingUserId()I
 
-    move-result v3
+    move-result v4
 
-    invoke-interface {v0, p1, v2, v3}, Lcom/android/internal/widget/ILockSettings;->getString(Ljava/lang/String;Ljava/lang/String;I)Ljava/lang/String;
-    :try_end_4b
-    .catchall {:try_start_40 .. :try_end_4b} :catchall_58
-    .catch Landroid/os/RemoteException; {:try_start_40 .. :try_end_4b} :catch_50
+    move-object/from16 v0, p1
 
-    move-result-object v0
+    invoke-interface {v2, v0, v3, v4}, Lcom/android/internal/widget/ILockSettings;->getString(Ljava/lang/String;Ljava/lang/String;I)Ljava/lang/String;
+    :try_end_10a
+    .catchall {:try_start_fd .. :try_end_10a} :catchall_119
+    .catch Landroid/os/RemoteException; {:try_start_fd .. :try_end_10a} :catch_11e
 
-    :goto_4c
-    monitor-exit v1
+    move-result-object v7
 
-    return-object v0
+    goto/16 :goto_86
 
-    :cond_4e
-    const/4 v0, 0x0
+    :catch_10d
+    move-exception v15
 
-    goto :goto_2e
+    :try_start_10e
+    invoke-virtual {v15}, Ljava/lang/Exception;->printStackTrace()V
 
-    :catch_50
-    move-exception v0
+    const-string v2, "PM,SecureSettings"
 
-    :cond_51
-    :try_start_51
-    sget-object v0, Landroid/provider/Settings$Secure;->sNameValueCache:Landroid/provider/Settings$NameValueCache;
+    const-string v3, "Got exception in  getString()"
 
-    invoke-virtual {v0, p0, p1}, Landroid/provider/Settings$NameValueCache;->getString(Landroid/content/ContentResolver;Ljava/lang/String;)Ljava/lang/String;
-    :try_end_56
-    .catchall {:try_start_51 .. :try_end_56} :catchall_58
+    invoke-static {v2, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_118
+    .catchall {:try_start_10e .. :try_end_118} :catchall_119
 
-    move-result-object v0
+    goto :goto_d0
 
-    goto :goto_4c
+    :catchall_119
+    move-exception v2
 
-    :catchall_58
-    move-exception v0
+    monitor-exit v19
+
+    throw v2
+
+    :cond_11c
+    const/4 v2, 0x0
+
+    goto :goto_e9
+
+    :catch_11e
+    move-exception v2
+
+    :cond_11f
+    :try_start_11f
+    sget-object v2, Landroid/provider/Settings$Secure;->sNameValueCache:Landroid/provider/Settings$NameValueCache;
+
+    move-object/from16 v0, p0
+
+    move-object/from16 v1, p1
 
-    monitor-exit v1
+    invoke-virtual {v2, v0, v1}, Landroid/provider/Settings$NameValueCache;->getString(Landroid/content/ContentResolver;Ljava/lang/String;)Ljava/lang/String;
+    :try_end_128
+    .catchall {:try_start_11f .. :try_end_128} :catchall_119
 
-    throw v0
+    move-result-object v7
+
+    goto/16 :goto_86
 .end method
 
 .method public static getUriFor(Ljava/lang/String;)Landroid/net/Uri;
@@ -1277,6 +1593,71 @@
     return-object v0
 .end method
 
+.method private static initiate()V
+    .registers 4
+
+    const/4 v1, 0x0
+
+    :try_start_1
+    sput-object v1, Landroid/provider/Settings$Secure;->context:Landroid/content/Context;
+
+    new-instance v1, Landroid/privacy/PrivacySettingsManager;
+
+    sget-object v2, Landroid/provider/Settings$Secure;->context:Landroid/content/Context;
+
+    const-string/jumbo v3, "privacy"
+
+    invoke-static {v3}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v3
+
+    invoke-static {v3}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v3
+
+    invoke-direct {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    sput-object v1, Landroid/provider/Settings$Secure;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "package"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/content/pm/IPackageManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/content/pm/IPackageManager;
+
+    move-result-object v1
+
+    sput-object v1, Landroid/provider/Settings$Secure;->mPm:Landroid/content/pm/IPackageManager;
+
+    const/4 v1, 0x1
+
+    sput-boolean v1, Landroid/provider/Settings$Secure;->privacyMode:Z
+    :try_end_27
+    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_27} :catch_28
+
+    :goto_27
+    return-void
+
+    :catch_28
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    const-string v1, "PM,SecureSettings"
+
+    const-string v2, "Something went wrong with initalize variables"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/4 v1, 0x0
+
+    sput-boolean v1, Landroid/provider/Settings$Secure;->privacyMode:Z
+
+    goto :goto_27
+.end method
+
 .method public static final isLocationProviderEnabled(Landroid/content/ContentResolver;Ljava/lang/String;)Z
     .registers 4
 
diff -Npruw stock-framework/smali/android/security/KeyStore.smali pdroid-framework/smali/android/security/KeyStore.smali
--- stock-framework/smali/android/security/KeyStore.smali	2013-07-15 18:10:56.326627994 -0500
+++ pdroid-framework/smali/android/security/KeyStore.smali	2013-07-15 18:10:49.890628162 -0500
@@ -262,8 +262,8 @@
 
     iput p1, p0, Landroid/security/KeyStore;->mError:I
     :try_end_55
-    .catchall {:try_start_1c .. :try_end_55} :catchall_9f
-    .catch Ljava/io/IOException; {:try_start_1c .. :try_end_55} :catch_98
+    .catchall {:try_start_1c .. :try_end_55} :catchall_a7
+    .catch Ljava/io/IOException; {:try_start_1c .. :try_end_55} :catch_a0
 
     :cond_55
     const/4 v10, 0x0
@@ -293,130 +293,145 @@
 
     const/4 v11, -0x1
 
-    if-ne v1, v11, :cond_6f
+    if-ne v1, v11, :cond_71
 
     const/4 v11, 0x1
 
     iput v11, p0, Landroid/security/KeyStore;->mError:I
     :try_end_6b
-    .catchall {:try_start_5c .. :try_end_6b} :catchall_9f
-    .catch Ljava/io/IOException; {:try_start_5c .. :try_end_6b} :catch_98
+    .catchall {:try_start_5c .. :try_end_6b} :catchall_a7
+    .catch Ljava/io/IOException; {:try_start_5c .. :try_end_6b} :catch_a0
 
     :try_start_6b
     invoke-virtual {v8}, Landroid/net/LocalSocket;->close()V
     :try_end_6e
-    .catch Ljava/io/IOException; {:try_start_6b .. :try_end_6e} :catch_5a
+    .catch Ljava/io/IOException; {:try_start_6b .. :try_end_6e} :catch_6f
 
     goto :goto_13
 
-    :cond_6f
-    :try_start_6f
+    :catch_6f
+    move-exception v11
+
+    goto :goto_13
+
+    :cond_71
+    :try_start_71
     invoke-virtual {v3}, Ljava/io/InputStream;->read()I
-    :try_end_72
-    .catchall {:try_start_6f .. :try_end_72} :catchall_9f
-    .catch Ljava/io/IOException; {:try_start_6f .. :try_end_72} :catch_98
+    :try_end_74
+    .catchall {:try_start_71 .. :try_end_74} :catchall_a7
+    .catch Ljava/io/IOException; {:try_start_71 .. :try_end_74} :catch_a0
 
     move-result v4
 
     const/4 v11, -0x1
 
-    if-ne v4, v11, :cond_7b
+    if-ne v4, v11, :cond_7f
 
     const/4 v10, 0x0
 
-    :try_start_77
+    :try_start_79
     invoke-virtual {v8}, Landroid/net/LocalSocket;->close()V
-    :try_end_7a
-    .catch Ljava/io/IOException; {:try_start_77 .. :try_end_7a} :catch_5a
+    :try_end_7c
+    .catch Ljava/io/IOException; {:try_start_79 .. :try_end_7c} :catch_7d
+
+    goto :goto_13
+
+    :catch_7d
+    move-exception v11
 
     goto :goto_13
 
-    :cond_7b
+    :cond_7f
     shl-int/lit8 v11, v1, 0x8
 
     or-int/2addr v11, v4
 
-    :try_start_7e
+    :try_start_82
     new-array v9, v11, [B
 
     const/4 v1, 0x0
 
-    :goto_81
+    :goto_85
     array-length v11, v9
 
-    if-ge v1, v11, :cond_94
+    if-ge v1, v11, :cond_9c
 
     array-length v11, v9
 
     sub-int/2addr v11, v1
 
     invoke-virtual {v3, v9, v1, v11}, Ljava/io/InputStream;->read([BII)I
-    :try_end_89
-    .catchall {:try_start_7e .. :try_end_89} :catchall_9f
-    .catch Ljava/io/IOException; {:try_start_7e .. :try_end_89} :catch_98
+    :try_end_8d
+    .catchall {:try_start_82 .. :try_end_8d} :catchall_a7
+    .catch Ljava/io/IOException; {:try_start_82 .. :try_end_8d} :catch_a0
 
     move-result v4
 
     const/4 v11, -0x1
 
-    if-ne v4, v11, :cond_92
+    if-ne v4, v11, :cond_9a
 
     const/4 v10, 0x0
 
-    :try_start_8e
+    :try_start_92
     invoke-virtual {v8}, Landroid/net/LocalSocket;->close()V
-    :try_end_91
-    .catch Ljava/io/IOException; {:try_start_8e .. :try_end_91} :catch_5a
+    :try_end_95
+    .catch Ljava/io/IOException; {:try_start_92 .. :try_end_95} :catch_97
 
-    goto :goto_13
+    goto/16 :goto_13
+
+    :catch_97
+    move-exception v11
+
+    goto/16 :goto_13
 
-    :cond_92
+    :cond_9a
     add-int/2addr v1, v4
 
-    goto :goto_81
+    goto :goto_85
 
-    :cond_94
-    :try_start_94
+    :cond_9c
+    :try_start_9c
     invoke-virtual {v10, v9}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-    :try_end_97
-    .catchall {:try_start_94 .. :try_end_97} :catchall_9f
-    .catch Ljava/io/IOException; {:try_start_94 .. :try_end_97} :catch_98
+    :try_end_9f
+    .catchall {:try_start_9c .. :try_end_9f} :catchall_a7
+    .catch Ljava/io/IOException; {:try_start_9c .. :try_end_9f} :catch_a0
 
     goto :goto_61
 
-    :catch_98
+    :catch_a0
     move-exception v11
 
-    :try_start_99
+    :try_start_a1
     invoke-virtual {v8}, Landroid/net/LocalSocket;->close()V
-    :try_end_9c
-    .catch Ljava/io/IOException; {:try_start_99 .. :try_end_9c} :catch_a4
+    :try_end_a4
+    .catch Ljava/io/IOException; {:try_start_a1 .. :try_end_a4} :catch_ac
 
-    :goto_9c
+    :goto_a4
     const/4 v10, 0x0
 
     goto/16 :goto_13
 
-    :catchall_9f
+    :catchall_a7
     move-exception v11
 
-    :try_start_a0
+    :try_start_a8
     invoke-virtual {v8}, Landroid/net/LocalSocket;->close()V
-    :try_end_a3
-    .catch Ljava/io/IOException; {:try_start_a0 .. :try_end_a3} :catch_a6
+    :try_end_ab
+    .catch Ljava/io/IOException; {:try_start_a8 .. :try_end_ab} :catch_ae
 
-    :goto_a3
+    :goto_ab
     throw v11
 
-    :catch_a4
+    :catch_ac
     move-exception v11
 
-    goto :goto_9c
+    goto :goto_a4
 
-    :catch_a6
+    :catch_ae
     move-exception v12
 
-    goto :goto_a3
+    goto :goto_ab
 .end method
 
 .method private generate([B)Z
diff -Npruw stock-framework/smali/android/telephony/PhoneStateListener$1.smali pdroid-framework/smali/android/telephony/PhoneStateListener$1.smali
--- stock-framework/smali/android/telephony/PhoneStateListener$1.smali	2013-07-15 18:10:56.414627991 -0500
+++ pdroid-framework/smali/android/telephony/PhoneStateListener$1.smali	2013-07-15 18:10:49.978628160 -0500
@@ -64,23 +64,196 @@
 .end method
 
 .method public onCallStateChanged(ILjava/lang/String;)V
-    .registers 6
+    .registers 19
 
-    iget-object v0, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+    move-object/from16 v0, p0
 
-    iget-object v0, v0, Landroid/telephony/PhoneStateListener;->mHandler:Landroid/os/Handler;
+    iget-object v3, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
 
-    const/16 v1, 0x20
+    #getter for: Landroid/telephony/PhoneStateListener;->context:Landroid/content/Context;
+    invoke-static {v3}, Landroid/telephony/PhoneStateListener;->access$000(Landroid/telephony/PhoneStateListener;)Landroid/content/Context;
 
-    const/4 v2, 0x0
+    move-result-object v3
 
-    invoke-static {v0, v1, p1, v2, p2}, Landroid/os/Message;->obtain(Landroid/os/Handler;IIILjava/lang/Object;)Landroid/os/Message;
+    if-eqz v3, :cond_99
 
-    move-result-object v0
+    if-eqz p2, :cond_99
 
-    invoke-virtual {v0}, Landroid/os/Message;->sendToTarget()V
+    invoke-virtual/range {p2 .. p2}, Ljava/lang/String;->isEmpty()Z
+
+    move-result v3
+
+    if-nez v3, :cond_99
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->context:Landroid/content/Context;
+    invoke-static {v3}, Landroid/telephony/PhoneStateListener;->access$000(Landroid/telephony/PhoneStateListener;)Landroid/content/Context;
+
+    move-result-object v3
+
+    const-string/jumbo v4, "privacy"
+
+    invoke-virtual {v3, v4}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;
+
+    move-result-object v2
+
+    check-cast v2, Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->packageName:Ljava/lang/String;
+    invoke-static {v3}, Landroid/telephony/PhoneStateListener;->access$100(Landroid/telephony/PhoneStateListener;)Ljava/lang/String;
+
+    move-result-object v3
+
+    move-object/from16 v0, p0
+
+    iget-object v4, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->uid:I
+    invoke-static {v4}, Landroid/telephony/PhoneStateListener;->access$200(Landroid/telephony/PhoneStateListener;)I
+
+    move-result v4
+
+    invoke-virtual {v2, v3, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    if-eqz v8, :cond_6a
+
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getIncomingCallsSetting()B
+
+    move-result v3
+
+    if-eqz v3, :cond_6a
+
+    const-string v7, ""
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    iget-object v3, v3, Landroid/telephony/PhoneStateListener;->mHandler:Landroid/os/Handler;
+
+    const/16 v4, 0x20
+
+    const/4 v5, 0x0
+
+    move/from16 v0, p1
 
+    invoke-static {v3, v4, v0, v5, v7}, Landroid/os/Message;->obtain(Landroid/os/Handler;IIILjava/lang/Object;)Landroid/os/Message;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Landroid/os/Message;->sendToTarget()V
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->packageName:Ljava/lang/String;
+    invoke-static {v3}, Landroid/telephony/PhoneStateListener;->access$100(Landroid/telephony/PhoneStateListener;)Ljava/lang/String;
+
+    move-result-object v3
+
+    move-object/from16 v0, p0
+
+    iget-object v4, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->uid:I
+    invoke-static {v4}, Landroid/telephony/PhoneStateListener;->access$200(Landroid/telephony/PhoneStateListener;)I
+
+    move-result v4
+
+    const/4 v5, 0x1
+
+    const-string v6, "incomingCall"
+
+    invoke-virtual/range {v2 .. v8}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_69
     return-void
+
+    :cond_6a
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    iget-object v3, v3, Landroid/telephony/PhoneStateListener;->mHandler:Landroid/os/Handler;
+
+    const/16 v4, 0x20
+
+    const/4 v5, 0x0
+
+    move/from16 v0, p1
+
+    move-object/from16 v1, p2
+
+    invoke-static {v3, v4, v0, v5, v1}, Landroid/os/Message;->obtain(Landroid/os/Handler;IIILjava/lang/Object;)Landroid/os/Message;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Landroid/os/Message;->sendToTarget()V
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->packageName:Ljava/lang/String;
+    invoke-static {v3}, Landroid/telephony/PhoneStateListener;->access$100(Landroid/telephony/PhoneStateListener;)Ljava/lang/String;
+
+    move-result-object v10
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->uid:I
+    invoke-static {v3}, Landroid/telephony/PhoneStateListener;->access$200(Landroid/telephony/PhoneStateListener;)I
+
+    move-result v11
+
+    const/4 v12, 0x0
+
+    const-string v13, "incomingCall"
+
+    move-object v9, v2
+
+    move-object/from16 v14, p2
+
+    move-object v15, v8
+
+    invoke-virtual/range {v9 .. v15}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_69
+
+    :cond_99
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    iget-object v3, v3, Landroid/telephony/PhoneStateListener;->mHandler:Landroid/os/Handler;
+
+    const/16 v4, 0x20
+
+    const/4 v5, 0x0
+
+    move/from16 v0, p1
+
+    move-object/from16 v1, p2
+
+    invoke-static {v3, v4, v0, v5, v1}, Landroid/os/Message;->obtain(Landroid/os/Handler;IIILjava/lang/Object;)Landroid/os/Message;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Landroid/os/Message;->sendToTarget()V
+
+    goto :goto_69
 .end method
 
 .method public onCellInfoChanged(Landroid/telephony/CellInfo;)V
@@ -104,27 +277,124 @@
 .end method
 
 .method public onCellLocationChanged(Landroid/os/Bundle;)V
-    .registers 6
+    .registers 10
+
+    const/4 v5, 0x0
 
     const/4 v3, 0x0
 
     invoke-static {p1}, Landroid/telephony/CellLocation;->newFromBundle(Landroid/os/Bundle;)Landroid/telephony/CellLocation;
 
+    move-result-object v7
+
+    iget-object v1, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->context:Landroid/content/Context;
+    invoke-static {v1}, Landroid/telephony/PhoneStateListener;->access$000(Landroid/telephony/PhoneStateListener;)Landroid/content/Context;
+
+    move-result-object v1
+
+    if-eqz v1, :cond_4a
+
+    iget-object v1, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->context:Landroid/content/Context;
+    invoke-static {v1}, Landroid/telephony/PhoneStateListener;->access$000(Landroid/telephony/PhoneStateListener;)Landroid/content/Context;
+
+    move-result-object v1
+
+    const-string/jumbo v2, "privacy"
+
+    invoke-virtual {v1, v2}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;
+
     move-result-object v0
 
+    check-cast v0, Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->packageName:Ljava/lang/String;
+    invoke-static {v1}, Landroid/telephony/PhoneStateListener;->access$100(Landroid/telephony/PhoneStateListener;)Ljava/lang/String;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->uid:I
+    invoke-static {v2}, Landroid/telephony/PhoneStateListener;->access$200(Landroid/telephony/PhoneStateListener;)I
+
+    move-result v2
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4b
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_4b
+
+    iget-object v1, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->packageName:Ljava/lang/String;
+    invoke-static {v1}, Landroid/telephony/PhoneStateListener;->access$100(Landroid/telephony/PhoneStateListener;)Ljava/lang/String;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->uid:I
+    invoke-static {v2}, Landroid/telephony/PhoneStateListener;->access$200(Landroid/telephony/PhoneStateListener;)I
+
+    move-result v2
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_4a
+    :goto_4a
+    return-void
+
+    :cond_4b
     iget-object v1, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
 
     iget-object v1, v1, Landroid/telephony/PhoneStateListener;->mHandler:Landroid/os/Handler;
 
     const/16 v2, 0x10
 
-    invoke-static {v1, v2, v3, v3, v0}, Landroid/os/Message;->obtain(Landroid/os/Handler;IIILjava/lang/Object;)Landroid/os/Message;
+    invoke-static {v1, v2, v3, v3, v7}, Landroid/os/Message;->obtain(Landroid/os/Handler;IIILjava/lang/Object;)Landroid/os/Message;
 
     move-result-object v1
 
     invoke-virtual {v1}, Landroid/os/Message;->sendToTarget()V
 
-    return-void
+    iget-object v1, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->packageName:Ljava/lang/String;
+    invoke-static {v1}, Landroid/telephony/PhoneStateListener;->access$100(Landroid/telephony/PhoneStateListener;)Ljava/lang/String;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->uid:I
+    invoke-static {v2}, Landroid/telephony/PhoneStateListener;->access$200(Landroid/telephony/PhoneStateListener;)I
+
+    move-result v2
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4a
 .end method
 
 .method public onDataActivity(I)V
diff -Npruw stock-framework/smali/android/telephony/PhoneStateListener.smali pdroid-framework/smali/android/telephony/PhoneStateListener.smali
--- stock-framework/smali/android/telephony/PhoneStateListener.smali	2013-07-15 18:10:55.726628009 -0500
+++ pdroid-framework/smali/android/telephony/PhoneStateListener.smali	2013-07-15 18:10:49.250628179 -0500
@@ -31,12 +31,20 @@
 
 .field public static final LISTEN_SIGNAL_STRENGTHS:I = 0x100
 
+.field private static final TAG:Ljava/lang/String; = "PhoneStateListener"
+
 
 # instance fields
 .field callback:Lcom/android/internal/telephony/IPhoneStateListener;
 
+.field private context:Landroid/content/Context;
+
 .field mHandler:Landroid/os/Handler;
 
+.field private packageName:Ljava/lang/String;
+
+.field private uid:I
+
 
 # direct methods
 .method public constructor <init>()V
@@ -59,6 +67,30 @@
     return-void
 .end method
 
+.method static synthetic access$000(Landroid/telephony/PhoneStateListener;)Landroid/content/Context;
+    .registers 2
+
+    iget-object v0, p0, Landroid/telephony/PhoneStateListener;->context:Landroid/content/Context;
+
+    return-object v0
+.end method
+
+.method static synthetic access$100(Landroid/telephony/PhoneStateListener;)Ljava/lang/String;
+    .registers 2
+
+    iget-object v0, p0, Landroid/telephony/PhoneStateListener;->packageName:Ljava/lang/String;
+
+    return-object v0
+.end method
+
+.method static synthetic access$200(Landroid/telephony/PhoneStateListener;)I
+    .registers 2
+
+    iget v0, p0, Landroid/telephony/PhoneStateListener;->uid:I
+
+    return v0
+.end method
+
 
 # virtual methods
 .method public onCallForwardingIndicatorChanged(Z)V
@@ -134,3 +166,27 @@
 
     return-void
 .end method
+
+.method public setContext(Landroid/content/Context;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/telephony/PhoneStateListener;->context:Landroid/content/Context;
+
+    return-void
+.end method
+
+.method public setPackageName(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/telephony/PhoneStateListener;->packageName:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setUid(I)V
+    .registers 2
+
+    iput p1, p0, Landroid/telephony/PhoneStateListener;->uid:I
+
+    return-void
+.end method
diff -Npruw stock-framework/smali/android/telephony/ServiceState.smali pdroid-framework/smali/android/telephony/ServiceState.smali
--- stock-framework/smali/android/telephony/ServiceState.smali	2013-07-15 18:10:56.414627991 -0500
+++ pdroid-framework/smali/android/telephony/ServiceState.smali	2013-07-15 18:10:49.982628160 -0500
@@ -668,48 +668,6 @@
     return-void
 .end method
 
-.method private setNullState(I)V
-    .registers 5
-
-    const/4 v2, 0x0
-
-    const/4 v1, 0x0
-
-    const/4 v0, -0x1
-
-    iput p1, p0, Landroid/telephony/ServiceState;->mState:I
-
-    iput-boolean v1, p0, Landroid/telephony/ServiceState;->mRoaming:Z
-
-    iput-object v2, p0, Landroid/telephony/ServiceState;->mOperatorAlphaLong:Ljava/lang/String;
-
-    iput-object v2, p0, Landroid/telephony/ServiceState;->mOperatorAlphaShort:Ljava/lang/String;
-
-    iput-object v2, p0, Landroid/telephony/ServiceState;->mOperatorNumeric:Ljava/lang/String;
-
-    iput-boolean v1, p0, Landroid/telephony/ServiceState;->mIsManualNetworkSelection:Z
-
-    iput v1, p0, Landroid/telephony/ServiceState;->mRadioTechnology:I
-
-    iput-boolean v1, p0, Landroid/telephony/ServiceState;->mCssIndicator:Z
-
-    iput v0, p0, Landroid/telephony/ServiceState;->mNetworkId:I
-
-    iput v0, p0, Landroid/telephony/ServiceState;->mSystemId:I
-
-    iput v0, p0, Landroid/telephony/ServiceState;->mCdmaRoamingIndicator:I
-
-    iput v0, p0, Landroid/telephony/ServiceState;->mCdmaDefaultRoamingIndicator:I
-
-    iput v0, p0, Landroid/telephony/ServiceState;->mCdmaEriIconIndex:I
-
-    iput v0, p0, Landroid/telephony/ServiceState;->mCdmaEriIconMode:I
-
-    iput-boolean v1, p0, Landroid/telephony/ServiceState;->mIsEmergencyOnly:Z
-
-    return-void
-.end method
-
 
 # virtual methods
 .method protected copyFrom(Landroid/telephony/ServiceState;)V
@@ -1511,6 +1469,48 @@
     return-void
 .end method
 
+.method setNullState(I)V
+    .registers 5
+
+    const/4 v2, 0x0
+
+    const/4 v1, 0x0
+
+    const/4 v0, -0x1
+
+    iput p1, p0, Landroid/telephony/ServiceState;->mState:I
+
+    iput-boolean v1, p0, Landroid/telephony/ServiceState;->mRoaming:Z
+
+    iput-object v2, p0, Landroid/telephony/ServiceState;->mOperatorAlphaLong:Ljava/lang/String;
+
+    iput-object v2, p0, Landroid/telephony/ServiceState;->mOperatorAlphaShort:Ljava/lang/String;
+
+    iput-object v2, p0, Landroid/telephony/ServiceState;->mOperatorNumeric:Ljava/lang/String;
+
+    iput-boolean v1, p0, Landroid/telephony/ServiceState;->mIsManualNetworkSelection:Z
+
+    iput v1, p0, Landroid/telephony/ServiceState;->mRadioTechnology:I
+
+    iput-boolean v1, p0, Landroid/telephony/ServiceState;->mCssIndicator:Z
+
+    iput v0, p0, Landroid/telephony/ServiceState;->mNetworkId:I
+
+    iput v0, p0, Landroid/telephony/ServiceState;->mSystemId:I
+
+    iput v0, p0, Landroid/telephony/ServiceState;->mCdmaRoamingIndicator:I
+
+    iput v0, p0, Landroid/telephony/ServiceState;->mCdmaDefaultRoamingIndicator:I
+
+    iput v0, p0, Landroid/telephony/ServiceState;->mCdmaEriIconIndex:I
+
+    iput v0, p0, Landroid/telephony/ServiceState;->mCdmaEriIconMode:I
+
+    iput-boolean v1, p0, Landroid/telephony/ServiceState;->mIsEmergencyOnly:Z
+
+    return-void
+.end method
+
 .method public setOperatorAlphaLong(Ljava/lang/String;)V
     .registers 2
 
@@ -1560,7 +1560,7 @@
 
     const/4 v0, 0x3
 
-    invoke-direct {p0, v0}, Landroid/telephony/ServiceState;->setNullState(I)V
+    invoke-virtual {p0, v0}, Landroid/telephony/ServiceState;->setNullState(I)V
 
     return-void
 .end method
@@ -1570,7 +1570,7 @@
 
     const/4 v0, 0x1
 
-    invoke-direct {p0, v0}, Landroid/telephony/ServiceState;->setNullState(I)V
+    invoke-virtual {p0, v0}, Landroid/telephony/ServiceState;->setNullState(I)V
 
     return-void
 .end method
diff -Npruw stock-framework/smali/android/view/accessibility/AccessibilityManager.smali pdroid-framework/smali/android/view/accessibility/AccessibilityManager.smali
--- stock-framework/smali/android/view/accessibility/AccessibilityManager.smali	2013-07-15 18:10:56.594627987 -0500
+++ pdroid-framework/smali/android/view/accessibility/AccessibilityManager.smali	2013-07-15 18:10:50.158628155 -0500
@@ -637,15 +637,15 @@
 
     invoke-static {v1, v2}, Landroid/os/Binder;->restoreCallingIdentity(J)V
     :try_end_21
-    .catchall {:try_start_d .. :try_end_21} :catchall_49
+    .catchall {:try_start_d .. :try_end_21} :catchall_4c
     .catch Landroid/os/RemoteException; {:try_start_d .. :try_end_21} :catch_27
 
     if-eqz v0, :cond_26
 
-    :goto_23
     invoke-virtual {p1}, Landroid/view/accessibility/AccessibilityEvent;->recycle()V
 
     :cond_26
+    :goto_26
     return-void
 
     :catch_27
@@ -680,19 +680,21 @@
 
     invoke-static {v4, v5, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_46
-    .catchall {:try_start_28 .. :try_end_46} :catchall_49
+    .catchall {:try_start_28 .. :try_end_46} :catchall_4c
 
     if-eqz v0, :cond_26
 
-    goto :goto_23
+    invoke-virtual {p1}, Landroid/view/accessibility/AccessibilityEvent;->recycle()V
+
+    goto :goto_26
 
-    :catchall_49
+    :catchall_4c
     move-exception v4
 
-    if-eqz v0, :cond_4f
+    if-eqz v0, :cond_52
 
     invoke-virtual {p1}, Landroid/view/accessibility/AccessibilityEvent;->recycle()V
 
-    :cond_4f
+    :cond_52
     throw v4
 .end method
diff -Npruw stock-framework/smali/android/view/ViewGroup.smali pdroid-framework/smali/android/view/ViewGroup.smali
--- stock-framework/smali/android/view/ViewGroup.smali	2013-07-15 18:10:54.922628030 -0500
+++ pdroid-framework/smali/android/view/ViewGroup.smali	2013-07-15 18:10:48.418628201 -0500
@@ -3365,7 +3365,7 @@
 
     iget-object v4, p0, Landroid/view/ViewGroup;->mFocused:Landroid/view/View;
 
-    if-eqz v4, :cond_24
+    if-eqz v4, :cond_23
 
     invoke-static {p1}, Landroid/view/ViewGroup;->debugIndent(I)Ljava/lang/String;
 
@@ -3379,7 +3379,7 @@
 
     move-result-object v4
 
-    const-string/jumbo v5, "mFocused"
+    const-string v5, "mFocused"
 
     invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -3393,10 +3393,10 @@
 
     invoke-static {v4, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    :cond_24
+    :cond_23
     iget v4, p0, Landroid/view/ViewGroup;->mChildrenCount:I
 
-    if-eqz v4, :cond_45
+    if-eqz v4, :cond_44
 
     invoke-static {p1}, Landroid/view/ViewGroup;->debugIndent(I)Ljava/lang/String;
 
@@ -3424,13 +3424,13 @@
 
     invoke-static {v4, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    :cond_45
+    :cond_44
     iget v1, p0, Landroid/view/ViewGroup;->mChildrenCount:I
 
     const/4 v2, 0x0
 
-    :goto_48
-    if-ge v2, v1, :cond_56
+    :goto_47
+    if-ge v2, v1, :cond_55
 
     iget-object v4, p0, Landroid/view/ViewGroup;->mChildren:[Landroid/view/View;
 
@@ -3442,12 +3442,12 @@
 
     add-int/lit8 v2, v2, 0x1
 
-    goto :goto_48
+    goto :goto_47
 
-    :cond_56
+    :cond_55
     iget v4, p0, Landroid/view/ViewGroup;->mChildrenCount:I
 
-    if-eqz v4, :cond_77
+    if-eqz v4, :cond_76
 
     invoke-static {p1}, Landroid/view/ViewGroup;->debugIndent(I)Ljava/lang/String;
 
@@ -3475,7 +3475,7 @@
 
     invoke-static {v4, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
 
-    :cond_77
+    :cond_76
     return-void
 .end method
 
@@ -5834,7 +5834,7 @@
     const/4 v4, 0x0
 
     :goto_19
-    if-ge v4, v1, :cond_38
+    if-ge v4, v1, :cond_33
 
     invoke-virtual {v2, v4}, Landroid/view/ViewGroup$ChildListForAccessibility;->getChildAt(I)Landroid/view/View;
 
@@ -5848,7 +5848,7 @@
 
     invoke-virtual {v0, p1}, Landroid/view/View;->dispatchPopulateAccessibilityEvent(Landroid/view/accessibility/AccessibilityEvent;)Z
     :try_end_28
-    .catchall {:try_start_14 .. :try_end_28} :catchall_33
+    .catchall {:try_start_14 .. :try_end_28} :catchall_38
 
     move-result v3
 
@@ -5865,19 +5865,19 @@
 
     goto :goto_19
 
-    :catchall_33
-    move-exception v5
-
-    invoke-virtual {v2}, Landroid/view/ViewGroup$ChildListForAccessibility;->recycle()V
-
-    throw v5
-
-    :cond_38
+    :cond_33
     invoke-virtual {v2}, Landroid/view/ViewGroup$ChildListForAccessibility;->recycle()V
 
     const/4 v5, 0x0
 
     goto :goto_e
+
+    :catchall_38
+    move-exception v5
+
+    invoke-virtual {v2}, Landroid/view/ViewGroup$ChildListForAccessibility;->recycle()V
+
+    throw v5
 .end method
 
 .method protected dispatchRestoreInstanceState(Landroid/util/SparseArray;)V
diff -Npruw stock-framework/smali/android/view/ViewRootImpl.smali pdroid-framework/smali/android/view/ViewRootImpl.smali
--- stock-framework/smali/android/view/ViewRootImpl.smali	2013-07-15 18:10:56.582627987 -0500
+++ pdroid-framework/smali/android/view/ViewRootImpl.smali	2013-07-15 18:10:50.142628155 -0500
@@ -3123,7 +3123,7 @@
     :try_start_8c
     invoke-virtual {p1, v1}, Landroid/view/Surface;->unlockCanvasAndPost(Landroid/graphics/Canvas;)V
     :try_end_8f
-    .catch Ljava/lang/IllegalArgumentException; {:try_start_8c .. :try_end_8f} :catch_dd
+    .catch Ljava/lang/IllegalArgumentException; {:try_start_8c .. :try_end_8f} :catch_d1
 
     move v6, v7
 
@@ -3161,7 +3161,7 @@
 
     invoke-static {v8}, Landroid/os/Process;->killProcess(I)V
     :try_end_b1
-    .catch Landroid/os/RemoteException; {:try_start_99 .. :try_end_b1} :catch_e6
+    .catch Landroid/os/RemoteException; {:try_start_99 .. :try_end_b1} :catch_e9
 
     :cond_b1
     :goto_b1
@@ -3210,7 +3210,7 @@
     :try_start_cd
     invoke-virtual {p1, v1}, Landroid/view/Surface;->unlockCanvasAndPost(Landroid/graphics/Canvas;)V
     :try_end_d0
-    .catch Ljava/lang/IllegalArgumentException; {:try_start_cd .. :try_end_d0} :catch_d1
+    .catch Ljava/lang/IllegalArgumentException; {:try_start_cd .. :try_end_d0} :catch_dd
 
     throw v8
 
@@ -3223,7 +3223,6 @@
 
     invoke-static {v8, v9, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
-    :goto_d9
     iput-boolean v7, p0, Landroid/view/ViewRootImpl;->mLayoutRequested:Z
 
     goto/16 :goto_1b
@@ -3237,9 +3236,11 @@
 
     invoke-static {v8, v9, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
-    goto :goto_d9
+    iput-boolean v7, p0, Landroid/view/ViewRootImpl;->mLayoutRequested:Z
+
+    goto/16 :goto_1b
 
-    :catch_e6
+    :catch_e9
     move-exception v8
 
     goto :goto_b1
diff -Npruw stock-framework/smali/android/view/ViewRootImpl$W.smali pdroid-framework/smali/android/view/ViewRootImpl$W.smali
--- stock-framework/smali/android/view/ViewRootImpl$W.smali	2013-07-15 18:10:56.574627987 -0500
+++ pdroid-framework/smali/android/view/ViewRootImpl$W.smali	2013-07-15 18:10:50.134628156 -0500
@@ -339,21 +339,21 @@
 
     invoke-direct {v1, p3}, Landroid/os/ParcelFileDescriptor$AutoCloseOutputStream;-><init>(Landroid/os/ParcelFileDescriptor;)V
     :try_end_47
-    .catchall {:try_start_42 .. :try_end_47} :catchall_5f
-    .catch Ljava/io/IOException; {:try_start_42 .. :try_end_47} :catch_50
+    .catchall {:try_start_42 .. :try_end_47} :catchall_64
+    .catch Ljava/io/IOException; {:try_start_42 .. :try_end_47} :catch_55
 
     :try_start_47
     invoke-static {v3, p1, p2, v1}, Landroid/view/ViewDebug;->dispatchCommand(Landroid/view/View;Ljava/lang/String;Ljava/lang/String;Ljava/io/OutputStream;)V
     :try_end_4a
-    .catchall {:try_start_47 .. :try_end_4a} :catchall_6d
-    .catch Ljava/io/IOException; {:try_start_47 .. :try_end_4a} :catch_70
+    .catchall {:try_start_47 .. :try_end_4a} :catchall_70
+    .catch Ljava/io/IOException; {:try_start_47 .. :try_end_4a} :catch_73
 
     if-eqz v1, :cond_4f
 
     :try_start_4c
     invoke-virtual {v1}, Ljava/io/OutputStream;->close()V
     :try_end_4f
-    .catch Ljava/io/IOException; {:try_start_4c .. :try_end_4f} :catch_6b
+    .catch Ljava/io/IOException; {:try_start_4c .. :try_end_4f} :catch_50
 
     :cond_4f
     :goto_4f
@@ -362,69 +362,70 @@
     :catch_50
     move-exception v2
 
-    :goto_51
-    :try_start_51
     invoke-virtual {v2}, Ljava/io/IOException;->printStackTrace()V
-    :try_end_54
-    .catchall {:try_start_51 .. :try_end_54} :catchall_5f
 
-    if-eqz v0, :cond_4f
+    goto :goto_4f
 
+    :catch_55
+    move-exception v2
+
+    :goto_56
     :try_start_56
-    invoke-virtual {v0}, Ljava/io/OutputStream;->close()V
+    invoke-virtual {v2}, Ljava/io/IOException;->printStackTrace()V
     :try_end_59
-    .catch Ljava/io/IOException; {:try_start_56 .. :try_end_59} :catch_5a
+    .catchall {:try_start_56 .. :try_end_59} :catchall_64
+
+    if-eqz v0, :cond_4f
+
+    :try_start_5b
+    invoke-virtual {v0}, Ljava/io/OutputStream;->close()V
+    :try_end_5e
+    .catch Ljava/io/IOException; {:try_start_5b .. :try_end_5e} :catch_5f
 
     goto :goto_4f
 
-    :catch_5a
+    :catch_5f
     move-exception v2
 
-    :goto_5b
     invoke-virtual {v2}, Ljava/io/IOException;->printStackTrace()V
 
     goto :goto_4f
 
-    :catchall_5f
+    :catchall_64
     move-exception v5
 
-    :goto_60
-    if-eqz v0, :cond_65
+    :goto_65
+    if-eqz v0, :cond_6a
 
-    :try_start_62
+    :try_start_67
     invoke-virtual {v0}, Ljava/io/OutputStream;->close()V
-    :try_end_65
-    .catch Ljava/io/IOException; {:try_start_62 .. :try_end_65} :catch_66
+    :try_end_6a
+    .catch Ljava/io/IOException; {:try_start_67 .. :try_end_6a} :catch_6b
 
-    :cond_65
-    :goto_65
+    :cond_6a
+    :goto_6a
     throw v5
 
-    :catch_66
+    :catch_6b
     move-exception v2
 
     invoke-virtual {v2}, Ljava/io/IOException;->printStackTrace()V
 
-    goto :goto_65
+    goto :goto_6a
 
-    :catch_6b
-    move-exception v2
-
-    goto :goto_5b
-
-    :catchall_6d
+    :catchall_70
     move-exception v5
 
     move-object v0, v1
 
-    goto :goto_60
+    goto :goto_65
 
-    :catch_70
+    :catch_73
     move-exception v2
 
     move-object v0, v1
 
-    goto :goto_51
+    goto :goto_56
 .end method
 
 .method public resized(IILandroid/graphics/Rect;Landroid/graphics/Rect;ZLandroid/content/res/Configuration;)V
diff -Npruw stock-framework/smali/android/view/View.smali pdroid-framework/smali/android/view/View.smali
--- stock-framework/smali/android/view/View.smali	2013-07-15 18:10:54.898628031 -0500
+++ pdroid-framework/smali/android/view/View.smali	2013-07-15 18:10:48.406628201 -0500
@@ -4102,11 +4102,11 @@
 
     if-eqz v1, :cond_1e
 
-    if-nez p2, :cond_121
+    if-nez p2, :cond_129
 
     iget-boolean v1, p0, Landroid/view/View;->mRecreateDisplayList:Z
 
-    if-eqz v1, :cond_121
+    if-eqz v1, :cond_129
 
     :cond_1e
     if-eqz p1, :cond_41
@@ -4260,7 +4260,7 @@
 
     invoke-virtual {p1, v8}, Landroid/view/DisplayList;->setCaching(Z)V
 
-    if-eqz p2, :cond_139
+    if-eqz p2, :cond_121
 
     const/4 v1, 0x0
 
@@ -4320,7 +4320,7 @@
 
     invoke-virtual {p1, v8}, Landroid/view/DisplayList;->setCaching(Z)V
 
-    if-eqz p2, :cond_135
+    if-eqz p2, :cond_125
 
     const/4 v2, 0x0
 
@@ -4413,6 +4413,16 @@
     goto :goto_a0
 
     :cond_121
+    invoke-virtual {p0, p1}, Landroid/view/View;->setDisplayListProperties(Landroid/view/DisplayList;)V
+
+    goto :goto_b0
+
+    :cond_125
+    invoke-virtual {p0, p1}, Landroid/view/View;->setDisplayListProperties(Landroid/view/DisplayList;)V
+
+    goto :goto_dc
+
+    :cond_129
     if-nez p2, :cond_b0
 
     iget v1, p0, Landroid/view/View;->mPrivateFlags:I
@@ -4432,16 +4442,6 @@
     iput v1, p0, Landroid/view/View;->mPrivateFlags:I
 
     goto/16 :goto_b0
-
-    :cond_135
-    invoke-virtual {p0, p1}, Landroid/view/View;->setDisplayListProperties(Landroid/view/DisplayList;)V
-
-    goto :goto_dc
-
-    :cond_139
-    invoke-virtual {p0, p1}, Landroid/view/View;->setDisplayListProperties(Landroid/view/DisplayList;)V
-
-    goto/16 :goto_b0
 .end method
 
 .method private getHardwareLayerDisplayList(Landroid/view/HardwareLayer;)Landroid/view/DisplayList;
diff -Npruw stock-framework/smali/com/android/internal/telephony/BaseCommands.smali pdroid-framework/smali/com/android/internal/telephony/BaseCommands.smali
--- stock-framework/smali/com/android/internal/telephony/BaseCommands.smali	2013-07-15 18:10:56.902627979 -0500
+++ pdroid-framework/smali/com/android/internal/telephony/BaseCommands.smali	2013-07-15 18:10:50.502628145 -0500
@@ -497,8 +497,8 @@
 
     invoke-direct {v6, v7}, Ljava/io/FileInputStream;-><init>(Ljava/lang/String;)V
     :try_end_a
-    .catchall {:try_start_3 .. :try_end_a} :catchall_5b
-    .catch Ljava/io/IOException; {:try_start_3 .. :try_end_a} :catch_3a
+    .catchall {:try_start_3 .. :try_end_a} :catchall_5e
+    .catch Ljava/io/IOException; {:try_start_3 .. :try_end_a} :catch_3d
 
     const/16 v7, 0x800
 
@@ -517,21 +517,19 @@
 
     invoke-direct {v2, v0, v7, v3}, Ljava/lang/String;-><init>([BII)V
     :try_end_1a
-    .catchall {:try_start_c .. :try_end_1a} :catchall_66
-    .catch Ljava/io/IOException; {:try_start_c .. :try_end_1a} :catch_69
+    .catchall {:try_start_c .. :try_end_1a} :catchall_67
+    .catch Ljava/io/IOException; {:try_start_c .. :try_end_1a} :catch_6a
 
     move-object v1, v2
 
     :cond_1b
-    if-eqz v6, :cond_20
+    if-eqz v6, :cond_6d
 
     :try_start_1d
     invoke-virtual {v6}, Ljava/io/FileInputStream;->close()V
     :try_end_20
-    .catch Ljava/io/IOException; {:try_start_1d .. :try_end_20} :catch_64
+    .catch Ljava/io/IOException; {:try_start_1d .. :try_end_20} :catch_3a
 
-    :cond_20
-    :goto_20
     move-object v5, v6
 
     :cond_21
@@ -561,10 +559,17 @@
     return-object v1
 
     :catch_3a
+    move-exception v7
+
+    move-object v5, v6
+
+    goto :goto_21
+
+    :catch_3d
     move-exception v4
 
-    :goto_3b
-    :try_start_3b
+    :goto_3e
+    :try_start_3e
     const-string v7, "RILB"
 
     new-instance v8, Ljava/lang/StringBuilder;
@@ -586,61 +591,61 @@
     move-result-object v8
 
     invoke-static {v7, v8}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-    :try_end_53
-    .catchall {:try_start_3b .. :try_end_53} :catchall_5b
+    :try_end_56
+    .catchall {:try_start_3e .. :try_end_56} :catchall_5e
 
     if-eqz v5, :cond_21
 
-    :try_start_55
+    :try_start_58
     invoke-virtual {v5}, Ljava/io/FileInputStream;->close()V
-    :try_end_58
-    .catch Ljava/io/IOException; {:try_start_55 .. :try_end_58} :catch_59
+    :try_end_5b
+    .catch Ljava/io/IOException; {:try_start_58 .. :try_end_5b} :catch_5c
 
     goto :goto_21
 
-    :catch_59
+    :catch_5c
     move-exception v7
 
     goto :goto_21
 
-    :catchall_5b
+    :catchall_5e
     move-exception v7
 
-    :goto_5c
-    if-eqz v5, :cond_61
+    :goto_5f
+    if-eqz v5, :cond_64
 
-    :try_start_5e
+    :try_start_61
     invoke-virtual {v5}, Ljava/io/FileInputStream;->close()V
-    :try_end_61
-    .catch Ljava/io/IOException; {:try_start_5e .. :try_end_61} :catch_62
+    :try_end_64
+    .catch Ljava/io/IOException; {:try_start_61 .. :try_end_64} :catch_65
 
-    :cond_61
-    :goto_61
+    :cond_64
+    :goto_64
     throw v7
 
-    :catch_62
+    :catch_65
     move-exception v8
 
-    goto :goto_61
+    goto :goto_64
 
-    :catch_64
-    move-exception v7
-
-    goto :goto_20
-
-    :catchall_66
+    :catchall_67
     move-exception v7
 
     move-object v5, v6
 
-    goto :goto_5c
+    goto :goto_5f
 
-    :catch_69
+    :catch_6a
     move-exception v4
 
     move-object v5, v6
 
-    goto :goto_3b
+    goto :goto_3e
+
+    :cond_6d
+    move-object v5, v6
+
+    goto :goto_21
 .end method
 
 
diff -Npruw stock-framework/smali/com/android/internal/telephony/cdma/CDMAPhone.smali pdroid-framework/smali/com/android/internal/telephony/cdma/CDMAPhone.smali
--- stock-framework/smali/com/android/internal/telephony/cdma/CDMAPhone.smali	2013-07-15 18:10:57.002627976 -0500
+++ pdroid-framework/smali/com/android/internal/telephony/cdma/CDMAPhone.smali	2013-07-15 18:10:49.766628166 -0500
@@ -3578,7 +3578,7 @@
     return-void
 .end method
 
-.method notifyLocationChanged()V
+.method public notifyLocationChanged()V
     .registers 2
 
     iget-object v0, p0, Lcom/android/internal/telephony/cdma/CDMAPhone;->mNotifier:Lcom/android/internal/telephony/PhoneNotifier;
diff -Npruw stock-framework/smali/com/android/internal/telephony/cdma/CdmaServiceStateTracker.smali pdroid-framework/smali/com/android/internal/telephony/cdma/CdmaServiceStateTracker.smali
--- stock-framework/smali/com/android/internal/telephony/cdma/CdmaServiceStateTracker.smali	2013-07-15 18:10:57.014627976 -0500
+++ pdroid-framework/smali/com/android/internal/telephony/cdma/CdmaServiceStateTracker.smali	2013-07-15 18:10:50.614628143 -0500
@@ -46,6 +46,8 @@
 
 .field private mCdmaSSM:Lcom/android/internal/telephony/cdma/CdmaSubscriptionSourceManager;
 
+.field private mContext:Landroid/content/Context;
+
 .field protected mCurPlmn:Ljava/lang/String;
 
 .field mCurrentOtaspMode:I
@@ -104,6 +106,8 @@
 
 .field newCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
 .field phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
 
@@ -271,7 +275,7 @@
 
     move-result v2
 
-    if-nez v2, :cond_11f
+    if-nez v2, :cond_139
 
     move v2, v3
 
@@ -379,12 +383,36 @@
 
     iput-boolean v3, p0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNeedToRegForRuimLoaded:Z
 
+    invoke-virtual {p1}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getContext()Landroid/content/Context;
+
+    move-result-object v2
+
+    iput-object v2, p0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
+
+    new-instance v2, Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v3, p0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
+
+    const-string/jumbo v4, "privacy"
+
+    invoke-static {v4}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v4
+
+    invoke-static {v4}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v4
+
+    invoke-direct {v2, v3, v4}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v2, p0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
     return-void
 
-    :cond_11f
+    :cond_139
     move v2, v4
 
-    goto :goto_ae
+    goto/16 :goto_ae
 .end method
 
 .method static synthetic access$000(Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;)V
@@ -3907,7 +3935,7 @@
 .end method
 
 .method public handleMessage(Landroid/os/Message;)V
-    .registers 22
+    .registers 24
 
     move-object/from16 v0, p0
 
@@ -3921,9 +3949,9 @@
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v18, "Received message "
+    const-string v20, "Received message "
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -3935,9 +3963,9 @@
 
     move-result-object v3
 
-    const-string v18, "["
+    const-string v20, "["
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -3947,25 +3975,25 @@
 
     iget v0, v0, Landroid/os/Message;->what:I
 
-    move/from16 v18, v0
+    move/from16 v20, v0
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    const-string v18, "]"
+    const-string v20, "]"
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    const-string v18, " while being destroyed. Ignoring."
+    const-string v20, " while being destroyed. Ignoring."
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -3988,7 +4016,7 @@
 
     iget v3, v0, Landroid/os/Message;->what:I
 
-    packed-switch v3, :pswitch_data_328
+    packed-switch v3, :pswitch_data_38c
 
     :pswitch_50
     invoke-super/range {p0 .. p1}, Lcom/android/internal/telephony/ServiceStateTracker;->handleMessage(Landroid/os/Message;)V
@@ -4023,15 +4051,15 @@
 
     iget-object v3, v3, Lcom/android/internal/telephony/cdma/CDMAPhone;->mIccRecords:Lcom/android/internal/telephony/IccRecords;
 
-    const/16 v18, 0x1b
+    const/16 v20, 0x1b
 
-    const/16 v19, 0x0
+    const/16 v21, 0x0
 
     move-object/from16 v0, p0
 
-    move/from16 v1, v18
+    move/from16 v1, v20
 
-    move-object/from16 v2, v19
+    move-object/from16 v2, v21
 
     invoke-virtual {v3, v0, v1, v2}, Lcom/android/internal/telephony/IccRecords;->registerForRecordsLoaded(Landroid/os/Handler;ILjava/lang/Object;)V
 
@@ -4056,9 +4084,9 @@
 
     move-result v3
 
-    const/16 v18, 0x1
+    const/16 v20, 0x1
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
     if-ne v3, v0, :cond_a6
 
@@ -4104,9 +4132,9 @@
 
     move-result-object v3
 
-    sget-object v18, Lcom/android/internal/telephony/CommandsInterface$RadioState;->RADIO_ON:Lcom/android/internal/telephony/CommandsInterface$RadioState;
+    sget-object v20, Lcom/android/internal/telephony/CommandsInterface$RadioState;->RADIO_ON:Lcom/android/internal/telephony/CommandsInterface$RadioState;
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     if-ne v3, v0, :cond_d3
 
@@ -4174,15 +4202,15 @@
 
     iget-object v3, v9, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    if-nez v3, :cond_17a
+    if-nez v3, :cond_1a4
 
     iget-object v3, v9, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
     check-cast v3, [Ljava/lang/String;
 
-    move-object/from16 v17, v3
+    move-object/from16 v18, v3
 
-    check-cast v17, [Ljava/lang/String;
+    check-cast v18, [Ljava/lang/String;
 
     const/4 v4, -0x1
 
@@ -4194,26 +4222,26 @@
 
     const/4 v8, -0x1
 
-    move-object/from16 v0, v17
+    move-object/from16 v0, v18
 
     array-length v3, v0
 
-    const/16 v18, 0x9
+    const/16 v20, 0x9
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
     if-le v3, v0, :cond_16c
 
     const/4 v3, 0x4
 
     :try_start_123
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_12e
 
     const/4 v3, 0x4
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
@@ -4222,13 +4250,13 @@
     :cond_12e
     const/4 v3, 0x5
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_13a
 
     const/4 v3, 0x5
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
@@ -4237,13 +4265,13 @@
     :cond_13a
     const/4 v3, 0x6
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_146
 
     const/4 v3, 0x6
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
@@ -4261,13 +4289,13 @@
     :cond_150
     const/16 v3, 0x8
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_15e
 
     const/16 v3, 0x8
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
@@ -4276,17 +4304,17 @@
     :cond_15e
     const/16 v3, 0x9
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     if-eqz v3, :cond_16c
 
     const/16 v3, 0x9
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
     :try_end_16b
-    .catch Ljava/lang/NumberFormatException; {:try_start_123 .. :try_end_16b} :catch_17f
+    .catch Ljava/lang/NumberFormatException; {:try_start_123 .. :try_end_16b} :catch_1a9
 
     move-result v8
 
@@ -4294,31 +4322,74 @@
     :goto_16c
     move-object/from16 v0, p0
 
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
+
+    move-object/from16 v20, v0
+
+    invoke-virtual/range {v20 .. v20}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v20
+
+    const/16 v21, 0x0
+
+    move-object/from16 v0, v20
+
+    move/from16 v1, v21
+
+    invoke-virtual {v3, v0, v1}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v17
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_1c5
+
+    if-eqz v17, :cond_1c5
+
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const/16 v20, 0x1
+
+    move/from16 v0, v20
+
+    if-ne v3, v0, :cond_1c5
+
+    move-object/from16 v0, p0
+
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
+    invoke-virtual {v3}, Landroid/telephony/cdma/CdmaCellLocation;->setStateInvalid()V
 
+    :goto_19d
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
     invoke-virtual {v3}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyLocationChanged()V
 
-    :cond_17a
+    :cond_1a4
     invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->disableSingleLocationUpdate()V
 
     goto/16 :goto_48
 
-    :catch_17f
+    :catch_1a9
     move-exception v11
 
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v18, "error parsing cell location data: "
+    const-string v20, "error parsing cell location data: "
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -4338,7 +4409,67 @@
 
     goto :goto_16c
 
-    :pswitch_19b
+    :cond_1c5
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_1f8
+
+    if-eqz v17, :cond_1f8
+
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const/16 v20, 0x3
+
+    move/from16 v0, v20
+
+    if-ne v3, v0, :cond_1f8
+
+    new-instance v19, Ljava/util/Random;
+
+    invoke-direct/range {v19 .. v19}, Ljava/util/Random;-><init>()V
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cellLoc:Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v4
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v5
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v6
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v7
+
+    invoke-virtual/range {v19 .. v19}, Ljava/util/Random;->nextInt()I
+
+    move-result v8
+
+    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
+
+    goto :goto_19d
+
+    :cond_1f8
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cellLoc:Landroid/telephony/cdma/CdmaCellLocation;
+
+    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
+
+    goto :goto_19d
+
+    :pswitch_200
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4355,7 +4486,7 @@
 
     goto/16 :goto_48
 
-    :pswitch_1ac
+    :pswitch_211
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4374,15 +4505,15 @@
 
     check-cast v10, [Ljava/lang/String;
 
-    if-eqz v10, :cond_228
+    if-eqz v10, :cond_28d
 
     array-length v3, v10
 
-    const/16 v18, 0x5
+    const/16 v20, 0x5
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
-    if-lt v3, v0, :cond_228
+    if-lt v3, v0, :cond_28d
 
     const/4 v3, 0x0
 
@@ -4396,13 +4527,13 @@
 
     aget-object v3, v10, v3
 
-    const/16 v18, 0x2
+    const/16 v20, 0x2
 
-    aget-object v18, v10, v18
+    aget-object v20, v10, v20
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v18
+    move-object/from16 v1, v20
 
     invoke-virtual {v0, v3, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->parseSidNid(Ljava/lang/String;Ljava/lang/String;)V
 
@@ -4426,9 +4557,9 @@
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v18, "GET_CDMA_SUBSCRIPTION: MDN="
+    const-string v20, "GET_CDMA_SUBSCRIPTION: MDN="
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -4438,9 +4569,9 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mMdn:Ljava/lang/String;
 
-    move-object/from16 v18, v0
+    move-object/from16 v20, v0
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -4470,26 +4601,26 @@
 
     move-result-object v3
 
-    const-string v18, "IMSI"
+    const-string v20, "IMSI"
 
-    const/16 v19, 0x0
+    const/16 v21, 0x0
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
-    move-object/from16 v1, v19
+    move-object/from16 v1, v21
 
     invoke-virtual {v3, v0, v1}, Lcom/android/internal/telephony/IccCard;->broadcastIccStateChangedIntent(Ljava/lang/String;Ljava/lang/String;)V
 
     goto/16 :goto_48
 
-    :cond_228
+    :cond_28d
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v18, "GET_CDMA_SUBSCRIPTION: error parsing cdmaSubscription params num="
+    const-string v20, "GET_CDMA_SUBSCRIPTION: error parsing cdmaSubscription params num="
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -4497,9 +4628,9 @@
 
     array-length v0, v10
 
-    move/from16 v18, v0
+    move/from16 v20, v0
 
-    move/from16 v0, v18
+    move/from16 v0, v20
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
@@ -4515,28 +4646,28 @@
 
     goto/16 :goto_48
 
-    :pswitch_249
+    :pswitch_2ae
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    const/16 v18, 0x3
+    const/16 v20, 0x3
 
     move-object/from16 v0, p0
 
-    move/from16 v1, v18
+    move/from16 v1, v20
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->obtainMessage(I)Landroid/os/Message;
 
-    move-result-object v18
+    move-result-object v20
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-interface {v3, v0}, Lcom/android/internal/telephony/CommandsInterface;->getSignalStrength(Landroid/os/Message;)V
 
     goto/16 :goto_48
 
-    :pswitch_25e
+    :pswitch_2c3
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4549,9 +4680,9 @@
 
     check-cast v3, [Ljava/lang/Object;
 
-    const/16 v18, 0x0
+    const/16 v20, 0x0
 
-    aget-object v15, v3, v18
+    aget-object v15, v3, v20
 
     check-cast v15, Ljava/lang/String;
 
@@ -4561,9 +4692,9 @@
 
     check-cast v3, [Ljava/lang/Object;
 
-    const/16 v18, 0x1
+    const/16 v20, 0x1
 
-    aget-object v3, v3, v18
+    aget-object v3, v3, v20
 
     check-cast v3, Ljava/lang/Long;
 
@@ -4577,7 +4708,7 @@
 
     goto/16 :goto_48
 
-    :pswitch_287
+    :pswitch_2ec
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4596,12 +4727,12 @@
 
     goto/16 :goto_48
 
-    :pswitch_299
+    :pswitch_2fe
     invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->updateSpnDisplay()V
 
     goto/16 :goto_48
 
-    :pswitch_29e
+    :pswitch_303
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4616,27 +4747,27 @@
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    const/16 v18, 0x1f
+    const/16 v20, 0x1f
 
-    const/16 v19, 0x0
+    const/16 v21, 0x0
 
     move-object/from16 v0, p0
 
-    move/from16 v1, v18
+    move/from16 v1, v20
 
-    move-object/from16 v2, v19
+    move-object/from16 v2, v21
 
     invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
 
-    move-result-object v18
+    move-result-object v20
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-interface {v3, v0}, Lcom/android/internal/telephony/CommandsInterface;->getVoiceRegistrationState(Landroid/os/Message;)V
 
     goto/16 :goto_48
 
-    :pswitch_2c1
+    :pswitch_326
     const-string v3, "[CdmaServiceStateTracker] ERI file has been loaded, repolling."
 
     move-object/from16 v0, p0
@@ -4647,7 +4778,7 @@
 
     goto/16 :goto_48
 
-    :pswitch_2cd
+    :pswitch_332
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4674,7 +4805,7 @@
 
     move/from16 v0, v16
 
-    if-eq v0, v3, :cond_2ed
+    if-eq v0, v3, :cond_352
 
     const/16 v3, 0xa
 
@@ -4682,7 +4813,7 @@
 
     if-ne v0, v3, :cond_48
 
-    :cond_2ed
+    :cond_352
     const-string v3, "EVENT_OTA_PROVISION_STATUS_CHANGE: Complete, Reload MDN"
 
     move-object/from16 v0, p0
@@ -4693,23 +4824,23 @@
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    const/16 v18, 0x22
+    const/16 v20, 0x22
 
     move-object/from16 v0, p0
 
-    move/from16 v1, v18
+    move/from16 v1, v20
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->obtainMessage(I)Landroid/os/Message;
 
-    move-result-object v18
+    move-result-object v20
 
-    move-object/from16 v0, v18
+    move-object/from16 v0, v20
 
     invoke-interface {v3, v0}, Lcom/android/internal/telephony/CommandsInterface;->getCDMASubscription(Landroid/os/Message;)V
 
     goto/16 :goto_48
 
-    :pswitch_309
+    :pswitch_36e
     move-object/from16 v0, p1
 
     iget-object v9, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
@@ -4742,9 +4873,7 @@
 
     goto/16 :goto_48
 
-    nop
-
-    :pswitch_data_328
+    :pswitch_data_38c
     .packed-switch 0x1
         :pswitch_b5
         :pswitch_50
@@ -4755,37 +4884,37 @@
         :pswitch_50
         :pswitch_50
         :pswitch_50
-        :pswitch_249
-        :pswitch_25e
-        :pswitch_287
+        :pswitch_2ae
+        :pswitch_2c3
+        :pswitch_2ec
         :pswitch_50
         :pswitch_50
         :pswitch_50
         :pswitch_50
         :pswitch_50
-        :pswitch_29e
+        :pswitch_303
         :pswitch_50
         :pswitch_50
         :pswitch_50
         :pswitch_50
         :pswitch_50
-        :pswitch_19b
-        :pswitch_19b
+        :pswitch_200
+        :pswitch_200
         :pswitch_62
-        :pswitch_299
+        :pswitch_2fe
         :pswitch_50
         :pswitch_50
         :pswitch_db
         :pswitch_fe
         :pswitch_50
         :pswitch_50
-        :pswitch_1ac
+        :pswitch_211
         :pswitch_b1
-        :pswitch_2c1
-        :pswitch_2cd
+        :pswitch_326
+        :pswitch_332
         :pswitch_50
         :pswitch_54
-        :pswitch_309
+        :pswitch_36e
     .end packed-switch
 .end method
 
@@ -5218,9 +5347,33 @@
 .end method
 
 .method protected handlePollStateResultMessage(ILandroid/os/AsyncResult;)V
-    .registers 25
+    .registers 27
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    packed-switch p1, :pswitch_data_26e
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
+
+    move-object/from16 v21, v0
+
+    invoke-virtual/range {v21 .. v21}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v21
+
+    const/16 v22, 0x0
+
+    move-object/from16 v0, v21
+
+    move/from16 v1, v22
+
+    invoke-virtual {v3, v0, v1}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v17
+
+    packed-switch p1, :pswitch_data_31c
 
     const-string v3, "handlePollStateResultMessage: RIL response handle in wrong phone! Expected CDMA RIL request and get GSM RIL request."
 
@@ -5228,20 +5381,20 @@
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    :cond_a
-    :goto_a
+    :cond_22
+    :goto_22
     return-void
 
-    :pswitch_b
+    :pswitch_23
     move-object/from16 v0, p2
 
     iget-object v3, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
     check-cast v3, [Ljava/lang/String;
 
-    move-object/from16 v17, v3
+    move-object/from16 v18, v3
 
-    check-cast v17, [Ljava/lang/String;
+    check-cast v18, [Ljava/lang/String;
 
     const/4 v15, 0x4
 
@@ -5261,215 +5414,215 @@
 
     const/16 v16, -0x1
 
-    const/16 v18, 0x0
+    const/16 v19, 0x0
 
     const/4 v10, 0x0
 
     const/4 v14, 0x0
 
-    move-object/from16 v0, v17
+    move-object/from16 v0, v18
 
     array-length v3, v0
 
-    const/16 v19, 0xe
+    const/16 v21, 0xe
 
-    move/from16 v0, v19
+    move/from16 v0, v21
 
-    if-lt v3, v0, :cond_180
+    if-lt v3, v0, :cond_1aa
 
     const/4 v3, 0x0
 
-    :try_start_31
-    aget-object v3, v17, v3
+    :try_start_49
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_3c
+    if-eqz v3, :cond_54
 
     const/4 v3, 0x0
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v15
 
-    :cond_3c
+    :cond_54
     const/4 v3, 0x3
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_48
+    if-eqz v3, :cond_60
 
     const/4 v3, 0x3
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v13
 
-    :cond_48
+    :cond_60
     const/4 v3, 0x4
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_54
+    if-eqz v3, :cond_6c
 
     const/4 v3, 0x4
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v4
 
-    :cond_54
+    :cond_6c
     const/4 v3, 0x5
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_60
+    if-eqz v3, :cond_78
 
     const/4 v3, 0x5
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v5
 
-    :cond_60
+    :cond_78
     const/4 v3, 0x6
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_6c
+    if-eqz v3, :cond_84
 
     const/4 v3, 0x6
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v6
 
-    :cond_6c
-    if-nez v5, :cond_76
+    :cond_84
+    if-nez v5, :cond_8e
 
-    if-nez v6, :cond_76
+    if-nez v6, :cond_8e
 
     const v5, 0x7fffffff
 
     const v6, 0x7fffffff
 
-    :cond_76
+    :cond_8e
     const/4 v3, 0x7
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_82
+    if-eqz v3, :cond_9a
 
     const/4 v3, 0x7
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v9
 
-    :cond_82
+    :cond_9a
     const/16 v3, 0x8
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_90
+    if-eqz v3, :cond_a8
 
     const/16 v3, 0x8
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v7
 
-    :cond_90
+    :cond_a8
     const/16 v3, 0x9
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_9e
+    if-eqz v3, :cond_b6
 
     const/16 v3, 0x9
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v8
 
-    :cond_9e
+    :cond_b6
     const/16 v3, 0xa
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_ac
+    if-eqz v3, :cond_c4
 
     const/16 v3, 0xa
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v16
 
-    :cond_ac
+    :cond_c4
     const/16 v3, 0xb
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_ba
+    if-eqz v3, :cond_d2
 
     const/16 v3, 0xb
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
-    move-result v18
+    move-result v19
 
-    :cond_ba
+    :cond_d2
     const/16 v3, 0xc
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_c8
+    if-eqz v3, :cond_e0
 
     const/16 v3, 0xc
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
     move-result v10
 
-    :cond_c8
+    :cond_e0
     const/16 v3, 0xd
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
-    if-eqz v3, :cond_d6
+    if-eqz v3, :cond_ee
 
     const/16 v3, 0xd
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     invoke-static {v3}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
-    :try_end_d5
-    .catch Ljava/lang/NumberFormatException; {:try_start_31 .. :try_end_d5} :catch_163
+    :try_end_ed
+    .catch Ljava/lang/NumberFormatException; {:try_start_49 .. :try_end_ed} :catch_18d
 
     move-result v14
 
-    :cond_d6
-    :goto_d6
+    :cond_ee
+    :goto_ee
     move-object/from16 v0, p0
 
     iput v15, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationState:I
@@ -5480,11 +5633,11 @@
 
     move-result v3
 
-    if-eqz v3, :cond_1a6
+    if-eqz v3, :cond_1d0
 
     const/16 v3, 0xa
 
-    aget-object v3, v17, v3
+    aget-object v3, v18, v3
 
     move-object/from16 v0, p0
 
@@ -5492,11 +5645,11 @@
 
     move-result v3
 
-    if-nez v3, :cond_1a6
+    if-nez v3, :cond_1d0
 
     const/4 v3, 0x1
 
-    :goto_ef
+    :goto_107
     move-object/from16 v0, p0
 
     iput-boolean v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mCdmaRoaming:Z
@@ -5509,9 +5662,9 @@
 
     invoke-virtual {v0, v15}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->regCodeToServiceState(I)I
 
-    move-result v19
+    move-result v21
 
-    move/from16 v0, v19
+    move/from16 v0, v21
 
     invoke-virtual {v3, v0}, Landroid/telephony/ServiceState;->setState(I)V
 
@@ -5537,11 +5690,11 @@
 
     iput v0, v1, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRoamingIndicator:I
 
-    if-nez v18, :cond_1a9
+    if-nez v19, :cond_1d3
 
     const/4 v3, 0x0
 
-    :goto_11e
+    :goto_136
     move-object/from16 v0, p0
 
     iput-boolean v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mIsInPrl:Z
@@ -5552,11 +5705,30 @@
 
     move-object/from16 v0, p0
 
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_1d6
+
+    if-eqz v17, :cond_1d6
+
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const/16 v21, 0x1
+
+    move/from16 v0, v21
+
+    if-ne v3, v0, :cond_1d6
+
+    move-object/from16 v0, p0
+
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
+    invoke-virtual {v3}, Landroid/telephony/cdma/CdmaCellLocation;->setStateInvalid()V
 
-    if-nez v14, :cond_1ac
+    :goto_157
+    if-nez v14, :cond_213
 
     const-string v3, "General"
 
@@ -5564,24 +5736,24 @@
 
     iput-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
 
-    :goto_135
+    :goto_15f
     move-object/from16 v0, p0
 
     iget v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationState:I
 
-    const/16 v19, 0x3
+    const/16 v21, 0x3
 
-    move/from16 v0, v19
+    move/from16 v0, v21
 
-    if-ne v3, v0, :cond_a
+    if-ne v3, v0, :cond_22
 
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v19, "Registration denied, "
+    const-string v21, "Registration denied, "
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5591,9 +5763,9 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
 
-    move-object/from16 v19, v0
+    move-object/from16 v21, v0
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5607,18 +5779,18 @@
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
-    goto/16 :goto_a
+    goto/16 :goto_22
 
-    :catch_163
+    :catch_18d
     move-exception v11
 
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v19, "EVENT_POLL_STATE_REGISTRATION_CDMA: error parsing: "
+    const-string v21, "EVENT_POLL_STATE_REGISTRATION_CDMA: error parsing: "
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5636,180 +5808,240 @@
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    goto/16 :goto_d6
+    goto/16 :goto_ee
 
-    :cond_180
+    :cond_1aa
     new-instance v3, Ljava/lang/RuntimeException;
 
-    new-instance v19, Ljava/lang/StringBuilder;
+    new-instance v21, Ljava/lang/StringBuilder;
 
-    invoke-direct/range {v19 .. v19}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct/range {v21 .. v21}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v20, "Warning! Wrong number of parameters returned from RIL_REQUEST_REGISTRATION_STATE: expected 14 or more strings and got "
+    const-string v22, "Warning! Wrong number of parameters returned from RIL_REQUEST_REGISTRATION_STATE: expected 14 or more strings and got "
 
-    invoke-virtual/range {v19 .. v20}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v19
+    move-result-object v21
 
-    move-object/from16 v0, v17
+    move-object/from16 v0, v18
 
     array-length v0, v0
 
-    move/from16 v20, v0
+    move/from16 v22, v0
 
-    invoke-virtual/range {v19 .. v20}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    move-result-object v19
+    move-result-object v21
 
-    const-string v20, " strings"
+    const-string v22, " strings"
 
-    invoke-virtual/range {v19 .. v20}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v19
+    move-result-object v21
 
-    invoke-virtual/range {v19 .. v19}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual/range {v21 .. v21}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v19
+    move-result-object v21
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-direct {v3, v0}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
 
     throw v3
 
-    :cond_1a6
+    :cond_1d0
     const/4 v3, 0x0
 
-    goto/16 :goto_ef
+    goto/16 :goto_107
 
-    :cond_1a9
+    :cond_1d3
     const/4 v3, 0x1
 
-    goto/16 :goto_11e
+    goto/16 :goto_136
 
-    :cond_1ac
-    const/4 v3, 0x1
+    :cond_1d6
+    move-object/from16 v0, p0
 
-    if-ne v14, v3, :cond_1b6
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    const-string v3, "Authentication Failure"
+    if-eqz v3, :cond_20a
 
-    move-object/from16 v0, p0
+    if-eqz v17, :cond_20a
 
-    iput-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
 
-    goto :goto_135
+    move-result v3
 
-    :cond_1b6
-    const-string v3, ""
+    const/16 v21, 0x3
 
-    move-object/from16 v0, p0
+    move/from16 v0, v21
 
-    iput-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
+    if-ne v3, v0, :cond_20a
 
-    goto/16 :goto_135
+    new-instance v20, Ljava/util/Random;
 
-    :pswitch_1be
-    move-object/from16 v0, p2
+    invoke-direct/range {v20 .. v20}, Ljava/util/Random;-><init>()V
 
-    iget-object v3, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    move-object/from16 v0, p0
 
-    check-cast v3, [Ljava/lang/String;
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object v12, v3
+    invoke-virtual/range {v20 .. v20}, Ljava/util/Random;->nextInt()I
 
-    check-cast v12, [Ljava/lang/String;
+    move-result v4
 
-    if-eqz v12, :cond_265
+    invoke-virtual/range {v20 .. v20}, Ljava/util/Random;->nextInt()I
 
-    array-length v3, v12
+    move-result v5
 
-    const/16 v19, 0x3
+    invoke-virtual/range {v20 .. v20}, Ljava/util/Random;->nextInt()I
 
-    move/from16 v0, v19
+    move-result v6
 
-    if-lt v3, v0, :cond_265
+    invoke-virtual/range {v20 .. v20}, Ljava/util/Random;->nextInt()I
 
-    const/4 v3, 0x2
+    move-result v7
 
-    aget-object v3, v12, v3
+    invoke-virtual/range {v20 .. v20}, Ljava/util/Random;->nextInt()I
 
-    if-eqz v3, :cond_1f0
+    move-result v8
 
-    const/4 v3, 0x2
+    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
 
-    aget-object v3, v12, v3
+    goto/16 :goto_157
 
-    invoke-virtual {v3}, Ljava/lang/String;->length()I
+    :cond_20a
+    move-object/from16 v0, p0
 
-    move-result v3
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    const/16 v19, 0x5
+    invoke-virtual/range {v3 .. v8}, Landroid/telephony/cdma/CdmaCellLocation;->setCellLocationData(IIIII)V
 
-    move/from16 v0, v19
+    goto/16 :goto_157
 
-    if-lt v3, v0, :cond_1f0
+    :cond_213
+    const/4 v3, 0x1
 
-    const-string v3, "00000"
+    if-ne v14, v3, :cond_21e
 
-    const/16 v19, 0x2
+    const-string v3, "Authentication Failure"
 
-    aget-object v19, v12, v19
+    move-object/from16 v0, p0
 
-    move-object/from16 v0, v19
+    iput-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
 
-    invoke-virtual {v3, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+    goto/16 :goto_15f
 
-    move-result v3
+    :cond_21e
+    const-string v3, ""
+
+    move-object/from16 v0, p0
+
+    iput-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRegistrationDeniedReason:Ljava/lang/String;
+
+    goto/16 :goto_15f
+
+    :pswitch_226
+    move-object/from16 v0, p2
+
+    iget-object v3, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
-    if-eqz v3, :cond_22b
+    check-cast v3, [Ljava/lang/String;
+
+    move-object v12, v3
+
+    check-cast v12, [Ljava/lang/String;
+
+    if-eqz v12, :cond_313
+
+    array-length v3, v12
+
+    const/16 v21, 0x3
+
+    move/from16 v0, v21
+
+    if-lt v3, v0, :cond_313
 
-    :cond_1f0
     const/4 v3, 0x2
 
-    sget-object v19, Lcom/android/internal/telephony/cdma/CDMAPhone;->PROPERTY_CDMA_HOME_OPERATOR_NUMERIC:Ljava/lang/String;
+    aget-object v3, v12, v3
+
+    if-eqz v3, :cond_258
 
-    const-string v20, "00000"
+    const/4 v3, 0x2
 
-    invoke-static/range {v19 .. v20}, Landroid/os/SystemProperties;->get(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
+    aget-object v3, v12, v3
 
-    move-result-object v19
+    invoke-virtual {v3}, Ljava/lang/String;->length()I
+
+    move-result v3
+
+    const/16 v21, 0x5
+
+    move/from16 v0, v21
+
+    if-lt v3, v0, :cond_258
+
+    const-string v3, "00000"
+
+    const/16 v21, 0x2
+
+    aget-object v21, v12, v21
+
+    move-object/from16 v0, v21
+
+    invoke-virtual {v3, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v3
+
+    if-eqz v3, :cond_293
+
+    :cond_258
+    const/4 v3, 0x2
+
+    sget-object v21, Lcom/android/internal/telephony/cdma/CDMAPhone;->PROPERTY_CDMA_HOME_OPERATOR_NUMERIC:Ljava/lang/String;
+
+    const-string v22, "00000"
+
+    invoke-static/range {v21 .. v22}, Landroid/os/SystemProperties;->get(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
+
+    move-result-object v21
 
-    aput-object v19, v12, v3
+    aput-object v21, v12, v3
 
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string v19, "RIL_REQUEST_OPERATOR.response[2], the numeric,  is bad. Using SystemProperties \'"
+    const-string v21, "RIL_REQUEST_OPERATOR.response[2], the numeric,  is bad. Using SystemProperties \'"
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    sget-object v19, Lcom/android/internal/telephony/cdma/CDMAPhone;->PROPERTY_CDMA_HOME_OPERATOR_NUMERIC:Ljava/lang/String;
+    sget-object v21, Lcom/android/internal/telephony/cdma/CDMAPhone;->PROPERTY_CDMA_HOME_OPERATOR_NUMERIC:Ljava/lang/String;
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    const-string v19, "\'= "
+    const-string v21, "\'= "
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
     move-result-object v3
 
-    const/16 v19, 0x2
+    const/16 v21, 0x2
 
-    aget-object v19, v12, v19
+    aget-object v21, v12, v21
 
-    move-object/from16 v0, v19
+    move-object/from16 v0, v21
 
     invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -5823,77 +6055,147 @@
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
-    :cond_22b
+    :cond_293
     move-object/from16 v0, p0
 
     iget-boolean v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->isSubscriptionFromRuim:Z
 
-    if-nez v3, :cond_24a
+    if-nez v3, :cond_2d5
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_2bc
+
+    if-eqz v17, :cond_2bc
+
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    if-eqz v3, :cond_2bc
 
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    const/16 v19, 0x0
+    const/16 v21, 0x0
 
-    const/16 v20, 0x1
+    const-string v22, ""
 
-    aget-object v20, v12, v20
+    const-string v23, ""
 
-    const/16 v21, 0x2
+    move-object/from16 v0, v21
 
-    aget-object v21, v12, v21
+    move-object/from16 v1, v22
 
-    move-object/from16 v0, v19
+    move-object/from16 v2, v23
 
-    move-object/from16 v1, v20
+    invoke-virtual {v3, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
 
-    move-object/from16 v2, v21
+    goto/16 :goto_22
+
+    :cond_2bc
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+
+    const/16 v21, 0x0
+
+    const/16 v22, 0x1
+
+    aget-object v22, v12, v22
+
+    const/16 v23, 0x2
+
+    aget-object v23, v12, v23
+
+    move-object/from16 v0, v21
+
+    move-object/from16 v1, v22
+
+    move-object/from16 v2, v23
 
     invoke-virtual {v3, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
 
-    goto/16 :goto_a
+    goto/16 :goto_22
+
+    :cond_2d5
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v3, :cond_2f8
+
+    if-eqz v17, :cond_2f8
+
+    invoke-virtual/range {v17 .. v17}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v3
+
+    if-eqz v3, :cond_2f8
 
-    :cond_24a
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    const/16 v19, 0x0
+    const-string v21, ""
 
-    aget-object v19, v12, v19
+    const-string v22, ""
 
-    const/16 v20, 0x1
+    const-string v23, ""
 
-    aget-object v20, v12, v20
+    move-object/from16 v0, v21
 
-    const/16 v21, 0x2
+    move-object/from16 v1, v22
+
+    move-object/from16 v2, v23
+
+    invoke-virtual {v3, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto/16 :goto_22
+
+    :cond_2f8
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+
+    const/16 v21, 0x0
 
     aget-object v21, v12, v21
 
-    move-object/from16 v0, v19
+    const/16 v22, 0x1
 
-    move-object/from16 v1, v20
+    aget-object v22, v12, v22
 
-    move-object/from16 v2, v21
+    const/16 v23, 0x2
+
+    aget-object v23, v12, v23
+
+    move-object/from16 v0, v21
+
+    move-object/from16 v1, v22
+
+    move-object/from16 v2, v23
 
     invoke-virtual {v3, v0, v1, v2}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
 
-    goto/16 :goto_a
+    goto/16 :goto_22
 
-    :cond_265
+    :cond_313
     const-string v3, "EVENT_POLL_STATE_OPERATOR_CDMA: error parsing opNames"
 
     move-object/from16 v0, p0
 
     invoke-virtual {v0, v3}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
-    goto/16 :goto_a
+    goto/16 :goto_22
 
-    :pswitch_data_26e
+    :pswitch_data_31c
     .packed-switch 0x18
-        :pswitch_b
-        :pswitch_1be
+        :pswitch_23
+        :pswitch_226
     .end packed-switch
 .end method
 
@@ -6508,57 +6810,57 @@
 .end method
 
 .method protected pollStateDone()V
-    .registers 28
+    .registers 29
 
-    new-instance v23, Ljava/lang/StringBuilder;
+    new-instance v24, Ljava/lang/StringBuilder;
 
-    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct/range {v24 .. v24}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string/jumbo v24, "pollStateDone: oldSS=["
+    const-string/jumbo v25, "pollStateDone: oldSS=["
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    const-string v24, "] newSS=["
+    const-string v25, "] newSS=["
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    const-string v24, "]"
+    const-string v25, "]"
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
@@ -6566,25 +6868,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_315
+    if-eqz v24, :cond_333
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_315
+    if-nez v24, :cond_333
 
     const/4 v14, 0x1
 
@@ -6593,25 +6895,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_318
+    if-nez v24, :cond_336
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_318
+    if-eqz v24, :cond_336
 
     const/4 v11, 0x1
 
@@ -6620,17 +6922,17 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    if-eqz v23, :cond_31b
+    if-eqz v24, :cond_339
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    if-nez v23, :cond_31b
+    if-nez v24, :cond_339
 
     const/4 v7, 0x1
 
@@ -6639,17 +6941,17 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    if-nez v23, :cond_31e
+    if-nez v24, :cond_33c
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    if-eqz v23, :cond_31e
+    if-eqz v24, :cond_33c
 
     const/4 v9, 0x1
 
@@ -6658,19 +6960,19 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewDataConnectionState:I
 
-    move/from16 v24, v0
+    move/from16 v25, v0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
-    move/from16 v1, v24
+    move/from16 v1, v25
 
-    if-eq v0, v1, :cond_321
+    if-eq v0, v1, :cond_33f
 
     const/4 v8, 0x1
 
@@ -6679,19 +6981,19 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRilRadioTechnology:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewRilRadioTechnology:I
 
-    move/from16 v24, v0
+    move/from16 v25, v0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
-    move/from16 v1, v24
+    move/from16 v1, v25
 
-    if-eq v0, v1, :cond_324
+    if-eq v0, v1, :cond_342
 
     const/4 v13, 0x1
 
@@ -6700,19 +7002,19 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Landroid/telephony/ServiceState;->equals(Ljava/lang/Object;)Z
+    invoke-virtual/range {v24 .. v25}, Landroid/telephony/ServiceState;->equals(Ljava/lang/Object;)Z
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_327
+    if-nez v24, :cond_345
 
     const/4 v10, 0x1
 
@@ -6721,25 +7023,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_32a
+    if-nez v24, :cond_348
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_32a
+    if-eqz v24, :cond_348
 
     const/16 v16, 0x1
 
@@ -6748,25 +7050,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_32e
+    if-eqz v24, :cond_34c
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_32e
+    if-nez v24, :cond_34c
 
     const/4 v15, 0x1
 
@@ -6775,19 +7077,19 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Landroid/telephony/cdma/CdmaCellLocation;->equals(Ljava/lang/Object;)Z
+    invoke-virtual/range {v24 .. v25}, Landroid/telephony/cdma/CdmaCellLocation;->equals(Ljava/lang/Object;)Z
 
-    move-result v23
+    move-result v24
 
-    if-nez v23, :cond_331
+    if-nez v24, :cond_34f
 
     const/4 v12, 0x1
 
@@ -6796,25 +7098,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v23
+    move-result v24
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v25 .. v25}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v24
+    move-result v25
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
-    move/from16 v1, v24
+    move/from16 v1, v25
 
     if-ne v0, v1, :cond_136
 
@@ -6822,117 +7124,117 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewDataConnectionState:I
 
-    move/from16 v24, v0
+    move/from16 v25, v0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
-    move/from16 v1, v24
+    move/from16 v1, v25
 
     if-eq v0, v1, :cond_184
 
     :cond_136
-    const v23, 0xc3c4
+    const v24, 0xc3c4
 
-    const/16 v24, 0x4
+    const/16 v25, 0x4
 
-    move/from16 v0, v24
+    move/from16 v0, v25
 
     new-array v0, v0, [Ljava/lang/Object;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    const/16 v25, 0x0
+    const/16 v26, 0x0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v26, v0
+    move-object/from16 v27, v0
 
-    invoke-virtual/range {v26 .. v26}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v27 .. v27}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v26
+    move-result v27
 
-    invoke-static/range {v26 .. v26}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    invoke-static/range {v27 .. v27}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    move-result-object v26
+    move-result-object v27
 
-    aput-object v26, v24, v25
+    aput-object v27, v25, v26
 
-    const/16 v25, 0x1
+    const/16 v26, 0x1
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mDataConnectionState:I
 
-    move/from16 v26, v0
+    move/from16 v27, v0
 
-    invoke-static/range {v26 .. v26}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    invoke-static/range {v27 .. v27}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    move-result-object v26
+    move-result-object v27
 
-    aput-object v26, v24, v25
+    aput-object v27, v25, v26
 
-    const/16 v25, 0x2
+    const/16 v26, 0x2
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v26, v0
+    move-object/from16 v27, v0
 
-    invoke-virtual/range {v26 .. v26}, Landroid/telephony/ServiceState;->getState()I
+    invoke-virtual/range {v27 .. v27}, Landroid/telephony/ServiceState;->getState()I
 
-    move-result v26
+    move-result v27
 
-    invoke-static/range {v26 .. v26}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    invoke-static/range {v27 .. v27}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    move-result-object v26
+    move-result-object v27
 
-    aput-object v26, v24, v25
+    aput-object v27, v25, v26
 
-    const/16 v25, 0x3
+    const/16 v26, 0x3
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewDataConnectionState:I
 
-    move/from16 v26, v0
+    move/from16 v27, v0
 
-    invoke-static/range {v26 .. v26}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    invoke-static/range {v27 .. v27}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    move-result-object v26
+    move-result-object v27
 
-    aput-object v26, v24, v25
+    aput-object v27, v25, v26
 
-    invoke-static/range {v23 .. v24}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
+    invoke-static/range {v24 .. v25}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
 
     :cond_184
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v22, v0
+    move-object/from16 v23, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
     move-object/from16 v1, p0
 
     iput-object v0, v1, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v0, v22
+    move-object/from16 v0, v23
 
     move-object/from16 v1, p0
 
@@ -6942,29 +7244,29 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->setStateOutOfService()V
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->setStateOutOfService()V
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v21, v0
+    move-object/from16 v22, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newCellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
     move-object/from16 v1, p0
 
     iput-object v0, v1, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cellLoc:Landroid/telephony/cdma/CdmaCellLocation;
 
-    move-object/from16 v0, v21
+    move-object/from16 v0, v22
 
     move-object/from16 v1, p0
 
@@ -6974,9 +7276,9 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewDataConnectionState:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
     move-object/from16 v1, p0
 
@@ -6986,17 +7288,17 @@
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNewRilRadioTechnology:I
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
     move-object/from16 v1, p0
 
     iput v0, v1, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRilRadioTechnology:I
 
-    const/16 v23, 0x0
+    const/16 v24, 0x0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
     move-object/from16 v1, p0
 
@@ -7006,9 +7308,9 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->setStateOutOfService()V
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->setStateOutOfService()V
 
     if-eqz v13, :cond_1fd
 
@@ -7016,21 +7318,21 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.network.type"
+    const-string v25, "gsm.network.type"
 
     move-object/from16 v0, p0
 
     iget v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRilRadioTechnology:I
 
-    move/from16 v25, v0
+    move/from16 v26, v0
 
-    invoke-static/range {v25 .. v25}, Landroid/telephony/ServiceState;->rilRadioTechnologyToString(I)Ljava/lang/String;
+    invoke-static/range {v26 .. v26}, Landroid/telephony/ServiceState;->rilRadioTechnologyToString(I)Ljava/lang/String;
 
-    move-result-object v25
+    move-result-object v26
 
-    invoke-virtual/range {v23 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-virtual/range {v24 .. v26}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
     :cond_1fd
     if-eqz v14, :cond_208
@@ -7039,96 +7341,126 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNetworkAttachedRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
     :cond_208
-    if-eqz v10, :cond_2ce
+    if-eqz v10, :cond_2ec
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-interface/range {v23 .. v23}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
+    invoke-interface/range {v24 .. v24}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-virtual/range {v23 .. v23}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_243
+    if-eqz v24, :cond_261
 
     move-object/from16 v0, p0
 
     iget-boolean v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->isSubscriptionFromRuim:Z
 
-    move/from16 v23, v0
+    move/from16 v24, v0
 
-    if-nez v23, :cond_243
+    if-nez v24, :cond_261
 
     move-object/from16 v0, p0
 
-    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getState()I
+    move-object/from16 v0, p0
 
-    move-result v23
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mContext:Landroid/content/Context;
+
+    move-object/from16 v25, v0
 
-    if-nez v23, :cond_334
+    invoke-virtual/range {v25 .. v25}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v25
+
+    const/16 v26, 0x0
+
+    invoke-virtual/range {v24 .. v26}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v21
 
     move-object/from16 v0, p0
 
-    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getCdmaEriText()Ljava/lang/String;
+    if-eqz v24, :cond_369
 
-    move-result-object v5
+    if-eqz v21, :cond_369
+
+    invoke-virtual/range {v21 .. v21}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v24
+
+    if-eqz v24, :cond_369
 
-    :goto_238
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    move-object/from16 v0, v23
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
+
+    move-result v24
+
+    if-nez v24, :cond_352
+
+    const-string v5, ""
+
+    :goto_256
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
+
+    move-object/from16 v24, v0
+
+    move-object/from16 v0, v24
 
     invoke-virtual {v0, v5}, Landroid/telephony/ServiceState;->setOperatorAlphaLong(Ljava/lang/String;)V
 
-    :cond_243
+    :cond_261
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.operator.alpha"
+    const-string v25, "gsm.operator.alpha"
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v25, v0
+    move-object/from16 v26, v0
 
-    invoke-virtual/range {v25 .. v25}, Landroid/telephony/ServiceState;->getOperatorAlphaLong()Ljava/lang/String;
+    invoke-virtual/range {v26 .. v26}, Landroid/telephony/ServiceState;->getOperatorAlphaLong()Ljava/lang/String;
 
-    move-result-object v25
+    move-result-object v26
 
-    invoke-virtual/range {v23 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-virtual/range {v24 .. v26}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
-    const-string v23, "gsm.operator.numeric"
+    const-string v24, "gsm.operator.numeric"
 
-    const-string v24, ""
+    const-string v25, ""
 
-    invoke-static/range {v23 .. v24}, Landroid/os/SystemProperties;->get(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
+    invoke-static/range {v24 .. v25}, Landroid/os/SystemProperties;->get(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
 
     move-result-object v20
 
@@ -7136,9 +7468,9 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getOperatorNumeric()Ljava/lang/String;
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getOperatorNumeric()Ljava/lang/String;
 
     move-result-object v19
 
@@ -7146,25 +7478,25 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.operator.numeric"
+    const-string v25, "gsm.operator.numeric"
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
-    move-object/from16 v1, v24
+    move-object/from16 v1, v25
 
     move-object/from16 v2, v19
 
     invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
-    if-nez v19, :cond_34b
+    if-nez v19, :cond_398
 
-    const-string/jumbo v23, "operatorNumeric is null"
+    const-string/jumbo v24, "operatorNumeric is null"
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->log(Ljava/lang/String;)V
 
@@ -7172,52 +7504,52 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.operator.iso-country"
+    const-string v25, "gsm.operator.iso-country"
 
-    const-string v25, ""
+    const-string v26, ""
 
-    invoke-virtual/range {v23 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
+    invoke-virtual/range {v24 .. v26}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
-    const/16 v23, 0x0
+    const/16 v24, 0x0
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
     move-object/from16 v1, p0
 
     iput-boolean v0, v1, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mGotCountryCode:Z
 
-    :cond_29c
-    :goto_29c
+    :cond_2ba
+    :goto_2ba
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    const-string v25, "gsm.operator.isroaming"
+    const-string v26, "gsm.operator.isroaming"
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/telephony/ServiceState;->getRoaming()Z
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getRoaming()Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_3ed
+    if-eqz v24, :cond_43a
 
-    const-string/jumbo v23, "true"
+    const-string/jumbo v24, "true"
 
-    :goto_2b3
-    move-object/from16 v0, v24
+    :goto_2d1
+    move-object/from16 v0, v25
 
-    move-object/from16 v1, v25
+    move-object/from16 v1, v26
 
-    move-object/from16 v2, v23
+    move-object/from16 v2, v24
 
     invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
@@ -7227,226 +7559,274 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v24, v0
+    move-object/from16 v25, v0
 
-    invoke-virtual/range {v23 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyServiceStateChanged(Landroid/telephony/ServiceState;)V
+    invoke-virtual/range {v24 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyServiceStateChanged(Landroid/telephony/ServiceState;)V
 
-    :cond_2ce
-    if-eqz v7, :cond_2d9
+    :cond_2ec
+    if-eqz v7, :cond_2f7
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mAttachedRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
-    :cond_2d9
-    if-eqz v9, :cond_2e4
+    :cond_2f7
+    if-eqz v9, :cond_302
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mDetachedRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
-    :cond_2e4
-    if-nez v8, :cond_2e8
+    :cond_302
+    if-nez v8, :cond_306
 
-    if-eqz v13, :cond_2f3
+    if-eqz v13, :cond_311
 
-    :cond_2e8
+    :cond_306
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const/16 v24, 0x0
+    const/16 v25, 0x0
 
-    invoke-virtual/range {v23 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyDataConnection(Ljava/lang/String;)V
+    invoke-virtual/range {v24 .. v25}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyDataConnection(Ljava/lang/String;)V
 
-    :cond_2f3
-    if-eqz v16, :cond_2fe
+    :cond_311
+    if-eqz v16, :cond_31c
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRoamingOnRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
-    :cond_2fe
-    if-eqz v15, :cond_309
+    :cond_31c
+    if-eqz v15, :cond_327
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mRoamingOffRegistrants:Landroid/os/RegistrantList;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Landroid/os/RegistrantList;->notifyRegistrants()V
+    invoke-virtual/range {v24 .. v24}, Landroid/os/RegistrantList;->notifyRegistrants()V
 
-    :cond_309
-    if-eqz v12, :cond_314
+    :cond_327
+    if-eqz v12, :cond_332
 
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyLocationChanged()V
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->notifyLocationChanged()V
 
-    :cond_314
+    :cond_332
     return-void
 
-    :cond_315
+    :cond_333
     const/4 v14, 0x0
 
     goto/16 :goto_50
 
-    :cond_318
+    :cond_336
     const/4 v11, 0x0
 
     goto/16 :goto_69
 
-    :cond_31b
+    :cond_339
     const/4 v7, 0x0
 
     goto/16 :goto_7a
 
-    :cond_31e
+    :cond_33c
     const/4 v9, 0x0
 
     goto/16 :goto_8b
 
-    :cond_321
+    :cond_33f
     const/4 v8, 0x0
 
     goto/16 :goto_9e
 
-    :cond_324
+    :cond_342
     const/4 v13, 0x0
 
     goto/16 :goto_b1
 
-    :cond_327
+    :cond_345
     const/4 v10, 0x0
 
     goto/16 :goto_c4
 
-    :cond_32a
+    :cond_348
     const/16 v16, 0x0
 
     goto/16 :goto_de
 
-    :cond_32e
+    :cond_34c
     const/4 v15, 0x0
 
     goto/16 :goto_f7
 
-    :cond_331
+    :cond_34f
     const/4 v12, 0x0
 
     goto/16 :goto_10a
 
-    :cond_334
+    :cond_352
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    invoke-virtual/range {v23 .. v23}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getContext()Landroid/content/Context;
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getContext()Landroid/content/Context;
 
-    move-result-object v23
+    move-result-object v24
 
-    const v24, 0x1040121
+    const v25, 0x1040121
 
-    invoke-virtual/range {v23 .. v24}, Landroid/content/Context;->getText(I)Ljava/lang/CharSequence;
+    invoke-virtual/range {v24 .. v25}, Landroid/content/Context;->getText(I)Ljava/lang/CharSequence;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-virtual/range {v23 .. v23}, Ljava/lang/Object;->toString()Ljava/lang/String;
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/Object;->toString()Ljava/lang/String;
 
     move-result-object v5
 
-    goto/16 :goto_238
+    goto/16 :goto_256
+
+    :cond_369
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->ss:Landroid/telephony/ServiceState;
+
+    move-object/from16 v24, v0
+
+    invoke-virtual/range {v24 .. v24}, Landroid/telephony/ServiceState;->getState()I
+
+    move-result v24
+
+    if-nez v24, :cond_381
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    :cond_34b
+    move-object/from16 v24, v0
+
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getCdmaEriText()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto/16 :goto_256
+
+    :cond_381
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
+
+    move-object/from16 v24, v0
+
+    invoke-virtual/range {v24 .. v24}, Lcom/android/internal/telephony/cdma/CDMAPhone;->getContext()Landroid/content/Context;
+
+    move-result-object v24
+
+    const v25, 0x1040121
+
+    invoke-virtual/range {v24 .. v25}, Landroid/content/Context;->getText(I)Ljava/lang/CharSequence;
+
+    move-result-object v24
+
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/Object;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto/16 :goto_256
+
+    :cond_398
     const-string v17, ""
 
-    const/16 v23, 0x0
+    const/16 v24, 0x0
 
-    const/16 v24, 0x3
+    const/16 v25, 0x3
 
     move-object/from16 v0, v19
 
-    move/from16 v1, v23
+    move/from16 v1, v24
 
-    move/from16 v2, v24
+    move/from16 v2, v25
 
     invoke-virtual {v0, v1, v2}, Ljava/lang/String;->substring(II)Ljava/lang/String;
 
     move-result-object v18
 
-    const/16 v23, 0x0
+    const/16 v24, 0x0
 
-    const/16 v24, 0x3
+    const/16 v25, 0x3
 
-    :try_start_35f
+    :try_start_3ac
     move-object/from16 v0, v19
 
-    move/from16 v1, v23
+    move/from16 v1, v24
 
-    move/from16 v2, v24
+    move/from16 v2, v25
 
     invoke-virtual {v0, v1, v2}, Ljava/lang/String;->substring(II)Ljava/lang/String;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-static/range {v23 .. v23}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    invoke-static/range {v24 .. v24}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
-    move-result v23
+    move-result v24
 
-    invoke-static/range {v23 .. v23}, Lcom/android/internal/telephony/MccTable;->countryCodeForMcc(I)Ljava/lang/String;
-    :try_end_370
-    .catch Ljava/lang/NumberFormatException; {:try_start_35f .. :try_end_370} :catch_3af
-    .catch Ljava/lang/StringIndexOutOfBoundsException; {:try_start_35f .. :try_end_370} :catch_3ce
+    invoke-static/range {v24 .. v24}, Lcom/android/internal/telephony/MccTable;->countryCodeForMcc(I)Ljava/lang/String;
+    :try_end_3bd
+    .catch Ljava/lang/NumberFormatException; {:try_start_3ac .. :try_end_3bd} :catch_3fc
+    .catch Ljava/lang/StringIndexOutOfBoundsException; {:try_start_3ac .. :try_end_3bd} :catch_41b
 
     move-result-object v17
 
-    :goto_371
+    :goto_3be
     move-object/from16 v0, p0
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
-    const-string v24, "gsm.operator.iso-country"
+    const-string v25, "gsm.operator.iso-country"
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
-    move-object/from16 v1, v24
+    move-object/from16 v1, v25
 
     move-object/from16 v2, v17
 
     invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/cdma/CDMAPhone;->setSystemProperty(Ljava/lang/String;Ljava/lang/String;)V
 
-    const/16 v23, 0x1
+    const/16 v24, 0x1
 
-    move/from16 v0, v23
+    move/from16 v0, v24
 
     move-object/from16 v1, p0
 
@@ -7456,29 +7836,29 @@
 
     iget-object v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->phone:Lcom/android/internal/telephony/cdma/CDMAPhone;
 
-    move-object/from16 v23, v0
+    move-object/from16 v24, v0
 
     move-object/from16 v0, p0
 
     iget-boolean v0, v0, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->mNeedFixZone:Z
 
-    move/from16 v24, v0
+    move/from16 v25, v0
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     move-object/from16 v2, v19
 
     move-object/from16 v3, v20
 
-    move/from16 v4, v24
+    move/from16 v4, v25
 
     invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->shouldFixTimeZoneNow(Lcom/android/internal/telephony/PhoneBase;Ljava/lang/String;Ljava/lang/String;Z)Z
 
-    move-result v23
+    move-result v24
 
-    if-eqz v23, :cond_29c
+    if-eqz v24, :cond_2ba
 
     move-object/from16 v0, p0
 
@@ -7486,74 +7866,74 @@
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->fixTimeZone(Ljava/lang/String;)V
 
-    goto/16 :goto_29c
+    goto/16 :goto_2ba
 
-    :catch_3af
+    :catch_3fc
     move-exception v6
 
-    new-instance v23, Ljava/lang/StringBuilder;
+    new-instance v24, Ljava/lang/StringBuilder;
 
-    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct/range {v24 .. v24}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string/jumbo v24, "pollStateDone: countryCodeForMcc error"
+    const-string/jumbo v25, "pollStateDone: countryCodeForMcc error"
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
     invoke-virtual {v0, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    goto :goto_371
+    goto :goto_3be
 
-    :catch_3ce
+    :catch_41b
     move-exception v6
 
-    new-instance v23, Ljava/lang/StringBuilder;
+    new-instance v24, Ljava/lang/StringBuilder;
 
-    invoke-direct/range {v23 .. v23}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct/range {v24 .. v24}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string/jumbo v24, "pollStateDone: countryCodeForMcc error"
+    const-string/jumbo v25, "pollStateDone: countryCodeForMcc error"
 
-    invoke-virtual/range {v23 .. v24}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v24 .. v25}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    move-object/from16 v0, v23
+    move-object/from16 v0, v24
 
     invoke-virtual {v0, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    move-result-object v23
+    move-result-object v24
 
-    invoke-virtual/range {v23 .. v23}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual/range {v24 .. v24}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v23
+    move-result-object v24
 
     move-object/from16 v0, p0
 
-    move-object/from16 v1, v23
+    move-object/from16 v1, v24
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/cdma/CdmaServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    goto :goto_371
+    goto :goto_3be
 
-    :cond_3ed
-    const-string v23, "false"
+    :cond_43a
+    const-string v24, "false"
 
-    goto/16 :goto_2b3
+    goto/16 :goto_2d1
 .end method
 
 .method protected radioTechnologyToDataServiceState(I)I
diff -Npruw stock-framework/smali/com/android/internal/telephony/cdma/EriManager.smali pdroid-framework/smali/com/android/internal/telephony/cdma/EriManager.smali
--- stock-framework/smali/com/android/internal/telephony/cdma/EriManager.smali	2013-07-15 18:10:57.026627974 -0500
+++ pdroid-framework/smali/com/android/internal/telephony/cdma/EriManager.smali	2013-07-15 18:10:50.626628143 -0500
@@ -666,8 +666,8 @@
 
     invoke-static {v2, v0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
     :try_end_34
-    .catch Ljava/io/FileNotFoundException; {:try_start_21 .. :try_end_34} :catch_209
-    .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_21 .. :try_end_34} :catch_204
+    .catch Ljava/io/FileNotFoundException; {:try_start_21 .. :try_end_34} :catch_20c
+    .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_21 .. :try_end_34} :catch_207
 
     move-object/from16 v15, v16
 
@@ -872,7 +872,7 @@
     :try_start_f8
     invoke-virtual {v15}, Ljava/io/FileInputStream;->close()V
     :try_end_fb
-    .catch Ljava/io/IOException; {:try_start_f8 .. :try_end_fb} :catch_15c
+    .catch Ljava/io/IOException; {:try_start_f8 .. :try_end_fb} :catch_202
 
     :cond_fb
     :goto_fb
@@ -1058,7 +1058,7 @@
     :try_start_190
     invoke-virtual {v15}, Ljava/io/FileInputStream;->close()V
     :try_end_193
-    .catch Ljava/io/IOException; {:try_start_190 .. :try_end_193} :catch_202
+    .catch Ljava/io/IOException; {:try_start_190 .. :try_end_193} :catch_205
 
     :cond_193
     :goto_193
@@ -1184,18 +1184,23 @@
     goto/16 :goto_96
 
     :catch_202
+    move-exception v2
+
+    goto/16 :goto_fb
+
+    :catch_205
     move-exception v18
 
     goto :goto_193
 
-    :catch_204
+    :catch_207
     move-exception v9
 
     move-object/from16 v15, v16
 
     goto/16 :goto_10a
 
-    :catch_209
+    :catch_20c
     move-exception v9
 
     move-object/from16 v15, v16
diff -Npruw stock-framework/smali/com/android/internal/telephony/cdma/RuimSmsInterfaceManager.smali pdroid-framework/smali/com/android/internal/telephony/cdma/RuimSmsInterfaceManager.smali
--- stock-framework/smali/com/android/internal/telephony/cdma/RuimSmsInterfaceManager.smali	2013-07-15 18:10:57.030627974 -0500
+++ pdroid-framework/smali/com/android/internal/telephony/cdma/RuimSmsInterfaceManager.smali	2013-07-15 18:10:50.630628143 -0500
@@ -4,6 +4,10 @@
 
 
 # static fields
+.field protected static final ACCESS_TYPE_ICC:I = 0x1
+
+.field protected static final ACCESS_TYPE_SMS_MMS:I = 0x0
+
 .field static final DBG:Z = true
 
 .field private static final EVENT_LOAD_DONE:I = 0x1
@@ -12,6 +16,8 @@
 
 .field static final LOG_TAG:Ljava/lang/String; = "CDMA"
 
+.field protected static final P_TAG:Ljava/lang/String; = "PrivacySMSInterfaceManager"
+
 
 # instance fields
 .field mHandler:Landroid/os/Handler;
@@ -31,6 +37,8 @@
 
 .field private mSuccess:Z
 
+.field protected pSetMan:Landroid/privacy/PrivacySettingsManager;
+
 
 # direct methods
 .method public constructor <init>(Lcom/android/internal/telephony/cdma/CDMAPhone;Lcom/android/internal/telephony/SMSDispatcher;)V
@@ -102,52 +110,70 @@
 .method public copyMessageToIccEf(I[B[B)Z
     .registers 9
 
-    new-instance v2, Ljava/lang/StringBuilder;
+    const/4 v2, 0x0
 
-    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+    new-instance v3, Ljava/lang/StringBuilder;
 
-    const-string v3, "copyMessageToIccEf: status="
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, "copyMessageToIccEf: status="
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move-result-object v3
 
-    move-result-object v2
+    invoke-virtual {v3, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v3, " ==> "
+    move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, " ==> "
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
 
-    const-string/jumbo v3, "pdu=("
+    const-string/jumbo v4, "pdu=("
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v2
+    move-result-object v3
 
     invoke-static {p2}, Ljava/util/Arrays;->toString([B)Ljava/lang/String;
 
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
     move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, ")"
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    const-string v3, ")"
+    move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v2
+    move-result-object v3
 
-    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {p0, v3}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    move-result-object v2
+    invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
 
-    invoke-virtual {p0, v2}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
+    move-result-object v3
+
+    const/4 v4, 0x1
 
+    invoke-virtual {p0, v3, v4}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v3
+
+    if-nez v3, :cond_3e
+
+    :goto_3d
+    return v2
+
+    :cond_3e
     const-string v2, "Copying message to RUIM"
 
     invoke-virtual {p0, v2}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->enforceReceiveAndSend(Ljava/lang/String;)V
@@ -158,7 +184,7 @@
 
     const/4 v2, 0x0
 
-    :try_start_3a
+    :try_start_47
     iput-boolean v2, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mSuccess:Z
 
     iget-object v2, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mHandler:Landroid/os/Handler;
@@ -178,43 +204,43 @@
     move-result-object v4
 
     invoke-interface {v2, p1, v4, v1}, Lcom/android/internal/telephony/CommandsInterface;->writeSmsToRuim(ILjava/lang/String;Landroid/os/Message;)V
-    :try_end_4e
-    .catchall {:try_start_3a .. :try_end_4e} :catchall_5e
+    :try_end_5b
+    .catchall {:try_start_47 .. :try_end_5b} :catchall_6b
 
-    :try_start_4e
+    :try_start_5b
     iget-object v2, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v2}, Ljava/lang/Object;->wait()V
-    :try_end_53
-    .catchall {:try_start_4e .. :try_end_53} :catchall_5e
-    .catch Ljava/lang/InterruptedException; {:try_start_4e .. :try_end_53} :catch_57
+    :try_end_60
+    .catchall {:try_start_5b .. :try_end_60} :catchall_6b
+    .catch Ljava/lang/InterruptedException; {:try_start_5b .. :try_end_60} :catch_64
 
-    :goto_53
-    :try_start_53
+    :goto_60
+    :try_start_60
     monitor-exit v3
-    :try_end_54
-    .catchall {:try_start_53 .. :try_end_54} :catchall_5e
+    :try_end_61
+    .catchall {:try_start_60 .. :try_end_61} :catchall_6b
 
     iget-boolean v2, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mSuccess:Z
 
-    return v2
+    goto :goto_3d
 
-    :catch_57
+    :catch_64
     move-exception v0
 
-    :try_start_58
+    :try_start_65
     const-string v2, "interrupted while trying to update by index"
 
     invoke-virtual {p0, v2}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    goto :goto_53
+    goto :goto_60
 
-    :catchall_5e
+    :catchall_6b
     move-exception v2
 
     monitor-exit v3
-    :try_end_60
-    .catchall {:try_start_58 .. :try_end_60} :catchall_5e
+    :try_end_6d
+    .catchall {:try_start_65 .. :try_end_6d} :catchall_6b
 
     throw v2
 .end method
@@ -322,10 +348,30 @@
         }
     .end annotation
 
+    const/4 v4, 0x1
+
     const-string v3, "getAllMessagesFromEF"
 
     invoke-virtual {p0, v3}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
+    invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {p0, v3, v4}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v3
+
+    if-nez v3, :cond_16
+
+    new-instance v3, Ljava/util/ArrayList;
+
+    invoke-direct {v3}, Ljava/util/ArrayList;-><init>()V
+
+    :goto_15
+    return-object v3
+
+    :cond_16
     iget-object v3, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mPhone:Lcom/android/internal/telephony/PhoneBase;
 
     invoke-virtual {v3}, Lcom/android/internal/telephony/PhoneBase;->getContext()Landroid/content/Context;
@@ -342,7 +388,7 @@
 
     monitor-enter v4
 
-    :try_start_15
+    :try_start_26
     iget-object v3, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mHandler:Landroid/os/Handler;
 
     const/4 v5, 0x1
@@ -360,47 +406,360 @@
     const/16 v5, 0x6f3c
 
     invoke-virtual {v3, v5, v2}, Lcom/android/internal/telephony/IccFileHandler;->loadEFLinearFixedAll(ILandroid/os/Message;)V
-    :try_end_27
-    .catchall {:try_start_15 .. :try_end_27} :catchall_37
+    :try_end_38
+    .catchall {:try_start_26 .. :try_end_38} :catchall_48
 
-    :try_start_27
+    :try_start_38
     iget-object v3, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v3}, Ljava/lang/Object;->wait()V
-    :try_end_2c
-    .catchall {:try_start_27 .. :try_end_2c} :catchall_37
-    .catch Ljava/lang/InterruptedException; {:try_start_27 .. :try_end_2c} :catch_30
+    :try_end_3d
+    .catchall {:try_start_38 .. :try_end_3d} :catchall_48
+    .catch Ljava/lang/InterruptedException; {:try_start_38 .. :try_end_3d} :catch_41
 
-    :goto_2c
-    :try_start_2c
+    :goto_3d
+    :try_start_3d
     monitor-exit v4
-    :try_end_2d
-    .catchall {:try_start_2c .. :try_end_2d} :catchall_37
+    :try_end_3e
+    .catchall {:try_start_3d .. :try_end_3e} :catchall_48
 
     iget-object v3, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mSms:Ljava/util/List;
 
-    return-object v3
+    goto :goto_15
 
-    :catch_30
+    :catch_41
     move-exception v1
 
-    :try_start_31
+    :try_start_42
     const-string v3, "interrupted while trying to load from the RUIM"
 
     invoke-virtual {p0, v3}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    goto :goto_2c
+    goto :goto_3d
 
-    :catchall_37
+    :catchall_48
     move-exception v3
 
     monitor-exit v4
-    :try_end_39
-    .catchall {:try_start_31 .. :try_end_39} :catchall_37
+    :try_end_4a
+    .catchall {:try_start_42 .. :try_end_4a} :catchall_48
 
     throw v3
 .end method
 
+.method protected getPackageName()[Ljava/lang/String;
+    .registers 4
+
+    iget-object v2, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mContext:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageManager()Landroid/content/pm/PackageManager;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    invoke-virtual {v1, v2}, Landroid/content/pm/PackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method protected isAllowed([Ljava/lang/String;I)Z
+    .registers 12
+
+    const/4 v8, -0x1
+
+    const/4 v4, 0x1
+
+    const/4 v3, 0x0
+
+    packed-switch p2, :pswitch_data_e8
+
+    const/4 v5, 0x0
+
+    :try_start_7
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    :goto_e
+    return v3
+
+    :pswitch_f
+    const/4 v2, 0x0
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_27
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string/jumbo v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_27
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_7f
+
+    if-eqz p1, :cond_7f
+
+    const/4 v1, 0x0
+
+    :goto_2e
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_76
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_72
+
+    if-eqz v2, :cond_72
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getSmsSendSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_72
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+    :try_end_4c
+    .catch Ljava/lang/Exception; {:try_start_7 .. :try_end_4c} :catch_4d
+
+    goto :goto_e
+
+    :catch_4d
+    move-exception v0
+
+    const-string v5, "PrivacySMSInterfaceManager"
+
+    const-string v6, "Got exception while checking for sms or ICC acess permission"
+
+    invoke-static {v5, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    if-eqz p1, :cond_70
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_70
+
+    array-length v5, p1
+
+    if-lez v5, :cond_70
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v3
+
+    invoke-virtual {v5, v6, v8}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_70
+
+    aget-object v5, p1, v3
+
+    invoke-virtual {p0, p2, v5, v3}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    :cond_70
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_72
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_2e
+
+    :cond_76
+    const/4 v5, 0x0
+
+    :try_start_77
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_7f
+    if-eqz p1, :cond_8b
+
+    array-length v5, p1
+
+    if-lez v5, :cond_8b
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    :cond_8b
+    move v3, v4
+
+    goto :goto_e
+
+    :pswitch_8d
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_a4
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string/jumbo v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_a4
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_d9
+
+    if-eqz p1, :cond_d9
+
+    const/4 v1, 0x0
+
+    :goto_ab
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_cf
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_cb
+
+    if-eqz v2, :cond_cb
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getIccAccessSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_cb
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    goto/16 :goto_e
+
+    :cond_cb
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_ab
+
+    :cond_cf
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :cond_d9
+    if-eqz p1, :cond_e5
+
+    array-length v5, p1
+
+    if-lez v5, :cond_e5
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+    :try_end_e5
+    .catch Ljava/lang/Exception; {:try_start_77 .. :try_end_e5} :catch_4d
+
+    :cond_e5
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :pswitch_data_e8
+    .packed-switch 0x0
+        :pswitch_f
+        :pswitch_8d
+    .end packed-switch
+.end method
+
 .method protected log(Ljava/lang/String;)V
     .registers 5
 
@@ -429,61 +788,128 @@
     return-void
 .end method
 
+.method protected notify(ILjava/lang/String;B)V
+    .registers 11
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    packed-switch p1, :pswitch_data_1c
+
+    :goto_5
+    return-void
+
+    :pswitch_6
+    iget-object v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "SmsSend"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_11
+    iget-object v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "iccAccess"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_data_1c
+    .packed-switch 0x0
+        :pswitch_6
+        :pswitch_11
+    .end packed-switch
+.end method
+
 .method public updateMessageOnIccEf(II[B)Z
     .registers 12
 
-    new-instance v0, Ljava/lang/StringBuilder;
+    const/4 v0, 0x0
 
-    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V
+    new-instance v1, Ljava/lang/StringBuilder;
 
-    const-string/jumbo v1, "updateMessageOnIccEf: index="
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string/jumbo v2, "updateMessageOnIccEf: index="
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move-result-object v1
 
-    move-result-object v0
+    invoke-virtual {v1, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v1, " status="
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, " status="
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move-result-object v1
 
-    move-result-object v0
+    invoke-virtual {v1, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v1, " ==> "
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, " ==> "
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    const-string v1, "("
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, "("
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    move-result-object v1
 
-    move-result-object v0
+    invoke-virtual {v1, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    const-string v1, ")"
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, ")"
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    move-result-object v1
 
-    move-result-object v0
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    invoke-virtual {p0, v0}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
+    move-result-object v1
+
+    invoke-virtual {p0, v1}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
+
+    invoke-virtual {p0}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v1
 
+    const/4 v2, 0x1
+
+    invoke-virtual {p0, v1, v2}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v1
+
+    if-nez v1, :cond_44
+
+    :goto_43
+    return v0
+
+    :cond_44
     const-string v0, "Updating message on RUIM"
 
     invoke-virtual {p0, v0}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->enforceReceiveAndSend(Ljava/lang/String;)V
@@ -494,7 +920,7 @@
 
     const/4 v0, 0x0
 
-    :try_start_40
+    :try_start_4d
     iput-boolean v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mSuccess:Z
 
     iget-object v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mHandler:Landroid/os/Handler;
@@ -505,37 +931,37 @@
 
     move-result-object v5
 
-    if-nez p2, :cond_5b
+    if-nez p2, :cond_68
 
     iget-object v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mPhone:Lcom/android/internal/telephony/PhoneBase;
 
     iget-object v0, v0, Lcom/android/internal/telephony/PhoneBase;->mCM:Lcom/android/internal/telephony/CommandsInterface;
 
     invoke-interface {v0, p1, v5}, Lcom/android/internal/telephony/CommandsInterface;->deleteSmsOnRuim(ILandroid/os/Message;)V
-    :try_end_52
-    .catchall {:try_start_40 .. :try_end_52} :catchall_6d
+    :try_end_5f
+    .catchall {:try_start_4d .. :try_end_5f} :catchall_7a
 
-    :goto_52
-    :try_start_52
+    :goto_5f
+    :try_start_5f
     iget-object v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v0}, Ljava/lang/Object;->wait()V
-    :try_end_57
-    .catchall {:try_start_52 .. :try_end_57} :catchall_6d
-    .catch Ljava/lang/InterruptedException; {:try_start_52 .. :try_end_57} :catch_70
+    :try_end_64
+    .catchall {:try_start_5f .. :try_end_64} :catchall_7a
+    .catch Ljava/lang/InterruptedException; {:try_start_5f .. :try_end_64} :catch_7d
 
-    :goto_57
-    :try_start_57
+    :goto_64
+    :try_start_64
     monitor-exit v7
-    :try_end_58
-    .catchall {:try_start_57 .. :try_end_58} :catchall_6d
+    :try_end_65
+    .catchall {:try_start_64 .. :try_end_65} :catchall_7a
 
     iget-boolean v0, p0, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->mSuccess:Z
 
-    return v0
+    goto :goto_43
 
-    :cond_5b
-    :try_start_5b
+    :cond_68
+    :try_start_68
     invoke-virtual {p0, p2, p3}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->makeSmsRecordData(I[B)[B
 
     move-result-object v3
@@ -554,26 +980,26 @@
 
     invoke-virtual/range {v0 .. v5}, Lcom/android/internal/telephony/IccFileHandler;->updateEFLinearFixed(II[BLjava/lang/String;Landroid/os/Message;)V
 
-    goto :goto_52
+    goto :goto_5f
 
-    :catchall_6d
+    :catchall_7a
     move-exception v0
 
     monitor-exit v7
-    :try_end_6f
-    .catchall {:try_start_5b .. :try_end_6f} :catchall_6d
+    :try_end_7c
+    .catchall {:try_start_68 .. :try_end_7c} :catchall_7a
 
     throw v0
 
-    :catch_70
+    :catch_7d
     move-exception v6
 
-    :try_start_71
+    :try_start_7e
     const-string v0, "interrupted while trying to update by index"
 
     invoke-virtual {p0, v0}, Lcom/android/internal/telephony/cdma/RuimSmsInterfaceManager;->log(Ljava/lang/String;)V
-    :try_end_76
-    .catchall {:try_start_71 .. :try_end_76} :catchall_6d
+    :try_end_83
+    .catchall {:try_start_7e .. :try_end_83} :catchall_7a
 
-    goto :goto_57
+    goto :goto_64
 .end method
diff -Npruw stock-framework/smali/com/android/internal/telephony/gsm/GSMPhone.smali pdroid-framework/smali/com/android/internal/telephony/gsm/GSMPhone.smali
--- stock-framework/smali/com/android/internal/telephony/gsm/GSMPhone.smali	2013-07-15 18:10:57.038627975 -0500
+++ pdroid-framework/smali/com/android/internal/telephony/gsm/GSMPhone.smali	2013-07-15 18:10:49.778628164 -0500
@@ -3198,7 +3198,7 @@
     return-void
 .end method
 
-.method notifyLocationChanged()V
+.method public notifyLocationChanged()V
     .registers 2
 
     iget-object v0, p0, Lcom/android/internal/telephony/gsm/GSMPhone;->mNotifier:Lcom/android/internal/telephony/PhoneNotifier;
@@ -3216,7 +3216,7 @@
     return-void
 .end method
 
-.method notifyPhoneStateChanged()V
+.method public notifyPhoneStateChanged()V
     .registers 2
 
     iget-object v0, p0, Lcom/android/internal/telephony/gsm/GSMPhone;->mNotifier:Lcom/android/internal/telephony/PhoneNotifier;
diff -Npruw stock-framework/smali/com/android/internal/telephony/gsm/GsmServiceStateTracker.smali pdroid-framework/smali/com/android/internal/telephony/gsm/GsmServiceStateTracker.smali
--- stock-framework/smali/com/android/internal/telephony/gsm/GsmServiceStateTracker.smali	2013-07-15 18:10:57.058627974 -0500
+++ pdroid-framework/smali/com/android/internal/telephony/gsm/GsmServiceStateTracker.smali	2013-07-15 18:10:50.658628142 -0500
@@ -54,6 +54,8 @@
 
 .field private mAutoTimeZoneObserver:Landroid/database/ContentObserver;
 
+.field private mContext:Landroid/content/Context;
+
 .field private mDataRoaming:Z
 
 .field private mEmergencyOnly:Z
@@ -104,6 +106,8 @@
 
 .field private newGPRSState:I
 
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
 .field phone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
 
@@ -354,6 +358,30 @@
 
     invoke-virtual {v3, v4, v1}, Landroid/content/Context;->registerReceiver(Landroid/content/BroadcastReceiver;Landroid/content/IntentFilter;)Landroid/content/Intent;
 
+    invoke-virtual {p1}, Lcom/android/internal/telephony/gsm/GSMPhone;->getContext()Landroid/content/Context;
+
+    move-result-object v3
+
+    iput-object v3, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mContext:Landroid/content/Context;
+
+    new-instance v3, Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v4, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mContext:Landroid/content/Context;
+
+    const-string/jumbo v5, "privacy"
+
+    invoke-static {v5}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v5
+
+    invoke-static {v5}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v5
+
+    invoke-direct {v3, v4, v5}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v3, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
     const/4 v3, 0x3
 
     invoke-virtual {p1, v3}, Lcom/android/internal/telephony/gsm/GSMPhone;->notifyOtaspChanged(I)V
@@ -6018,1422 +6046,2004 @@
 .end method
 
 .method public handleMessage(Landroid/os/Message;)V
-    .registers 19
+    .registers 24
 
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    iget-boolean v13, v13, Lcom/android/internal/telephony/gsm/GSMPhone;->mIsTheCurrentActivePhone:Z
+    move-object/from16 v18, v0
 
-    if-nez v13, :cond_37
+    move-object/from16 v0, v18
 
-    const-string v13, "GSM"
+    iget-boolean v0, v0, Lcom/android/internal/telephony/gsm/GSMPhone;->mIsTheCurrentActivePhone:Z
 
-    new-instance v14, Ljava/lang/StringBuilder;
+    move/from16 v18, v0
 
-    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V
+    if-nez v18, :cond_41
 
-    const-string v15, "Received message "
+    const-string v18, "GSM"
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    new-instance v19, Ljava/lang/StringBuilder;
 
-    move-result-object v14
+    invoke-direct/range {v19 .. v19}, Ljava/lang/StringBuilder;-><init>()V
 
-    move-object/from16 v0, p1
+    const-string v20, "Received message "
 
-    invoke-virtual {v14, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v19 .. v20}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v14
+    move-result-object v19
 
-    const-string v15, "["
+    move-object/from16 v0, v19
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    move-object/from16 v1, p1
 
-    move-result-object v14
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    move-object/from16 v0, p1
+    move-result-object v19
 
-    iget v15, v0, Landroid/os/Message;->what:I
+    const-string v20, "["
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v19 .. v20}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v14
+    move-result-object v19
 
-    const-string v15, "] while being destroyed. Ignoring."
+    move-object/from16 v0, p1
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    iget v0, v0, Landroid/os/Message;->what:I
 
-    move-result-object v14
+    move/from16 v20, v0
 
-    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual/range {v19 .. v20}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    move-result-object v14
+    move-result-object v19
 
-    invoke-static {v13, v14}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    const-string v20, "] while being destroyed. Ignoring."
 
-    :cond_36
-    :goto_36
-    :pswitch_36
-    return-void
+    invoke-virtual/range {v19 .. v20}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    :cond_37
-    move-object/from16 v0, p1
+    move-result-object v19
 
-    iget v13, v0, Landroid/os/Message;->what:I
+    invoke-virtual/range {v19 .. v19}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    packed-switch v13, :pswitch_data_272
+    move-result-object v19
 
-    :pswitch_3e
-    invoke-super/range {p0 .. p1}, Lcom/android/internal/telephony/ServiceStateTracker;->handleMessage(Landroid/os/Message;)V
+    invoke-static/range {v18 .. v19}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
 
-    goto :goto_36
+    :cond_40
+    :goto_40
+    :pswitch_40
+    return-void
 
-    :pswitch_42
-    move-object/from16 v0, p0
+    :cond_41
+    move-object/from16 v0, p1
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
+    iget v0, v0, Landroid/os/Message;->what:I
 
-    invoke-interface {v13}, Lcom/android/internal/telephony/CommandsInterface;->setCurrentPreferredNetworkType()V
+    move/from16 v18, v0
 
-    move-object/from16 v0, p0
+    packed-switch v18, :pswitch_data_390
 
-    iget-boolean v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNeedToRegForSimLoaded:Z
+    :pswitch_4a
+    invoke-super/range {p0 .. p1}, Lcom/android/internal/telephony/ServiceStateTracker;->handleMessage(Landroid/os/Message;)V
 
-    if-eqz v13, :cond_62
+    goto :goto_40
 
+    :pswitch_4e
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
-
-    iget-object v13, v13, Lcom/android/internal/telephony/gsm/GSMPhone;->mIccRecords:Lcom/android/internal/telephony/IccRecords;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    const/16 v14, 0x10
+    move-object/from16 v18, v0
 
-    const/4 v15, 0x0
+    invoke-interface/range {v18 .. v18}, Lcom/android/internal/telephony/CommandsInterface;->setCurrentPreferredNetworkType()V
 
     move-object/from16 v0, p0
 
-    invoke-virtual {v13, v0, v14, v15}, Lcom/android/internal/telephony/IccRecords;->registerForRecordsLoaded(Landroid/os/Handler;ILjava/lang/Object;)V
-
-    const/4 v13, 0x0
+    iget-boolean v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNeedToRegForSimLoaded:Z
 
-    move-object/from16 v0, p0
+    move/from16 v18, v0
 
-    iput-boolean v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNeedToRegForSimLoaded:Z
+    if-eqz v18, :cond_82
 
-    :cond_62
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    invoke-virtual {v13}, Lcom/android/internal/telephony/gsm/GSMPhone;->getContext()Landroid/content/Context;
+    move-object/from16 v18, v0
 
-    move-result-object v13
+    move-object/from16 v0, v18
 
-    invoke-virtual {v13}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GSMPhone;->mIccRecords:Lcom/android/internal/telephony/IccRecords;
 
-    move-result-object v13
+    move-object/from16 v18, v0
 
-    const v14, 0x1110032
+    const/16 v19, 0x10
 
-    invoke-virtual {v13, v14}, Landroid/content/res/Resources;->getBoolean(I)Z
+    const/16 v20, 0x0
 
-    move-result v10
+    move-object/from16 v0, v18
 
-    if-nez v10, :cond_7f
+    move-object/from16 v1, p0
 
-    move-object/from16 v0, p0
+    move/from16 v2, v19
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
+    move-object/from16 v3, v20
 
-    const/4 v14, 0x0
+    invoke-virtual {v0, v1, v2, v3}, Lcom/android/internal/telephony/IccRecords;->registerForRecordsLoaded(Landroid/os/Handler;ILjava/lang/Object;)V
 
-    invoke-virtual {v13, v14}, Lcom/android/internal/telephony/gsm/GSMPhone;->restoreSavedNetworkSelection(Landroid/os/Message;)V
+    const/16 v18, 0x0
 
-    :cond_7f
-    invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollState()V
+    move/from16 v0, v18
 
-    invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->queueNextSignalStrengthPoll()V
+    move-object/from16 v1, p0
 
-    goto :goto_36
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNeedToRegForSimLoaded:Z
 
-    :pswitch_86
-    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->setPowerStateToDesired()V
+    :cond_82
+    move-object/from16 v0, p0
 
-    invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollState()V
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    goto :goto_36
+    move-object/from16 v18, v0
 
-    :pswitch_8d
-    invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollState()V
+    invoke-virtual/range {v18 .. v18}, Lcom/android/internal/telephony/gsm/GSMPhone;->getContext()Landroid/content/Context;
 
-    goto :goto_36
+    move-result-object v18
 
-    :pswitch_91
-    move-object/from16 v0, p0
+    invoke-virtual/range {v18 .. v18}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
+    move-result-object v18
 
-    invoke-interface {v13}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
+    const v19, 0x1110032
 
-    move-result-object v13
+    invoke-virtual/range {v18 .. v19}, Landroid/content/res/Resources;->getBoolean(I)Z
 
-    invoke-virtual {v13}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
+    move-result v14
 
-    move-result v13
+    if-nez v14, :cond_a4
 
-    if-eqz v13, :cond_36
+    move-object/from16 v0, p0
 
-    move-object/from16 v0, p1
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    move-object/from16 v18, v0
 
-    check-cast v1, Landroid/os/AsyncResult;
+    const/16 v19, 0x0
 
-    move-object/from16 v0, p0
+    invoke-virtual/range {v18 .. v19}, Lcom/android/internal/telephony/gsm/GSMPhone;->restoreSavedNetworkSelection(Landroid/os/Message;)V
 
-    invoke-direct {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->onSignalStrengthResult(Landroid/os/AsyncResult;)V
+    :cond_a4
+    invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollState()V
 
     invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->queueNextSignalStrengthPoll()V
 
-    goto :goto_36
-
-    :pswitch_ae
-    move-object/from16 v0, p1
+    goto :goto_40
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    :pswitch_ab
+    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->setPowerStateToDesired()V
 
-    check-cast v1, Landroid/os/AsyncResult;
+    invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollState()V
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    goto :goto_40
 
-    if-nez v13, :cond_101
+    :pswitch_b2
+    invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollState()V
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    goto :goto_40
 
-    check-cast v13, [Ljava/lang/String;
+    :pswitch_b6
+    move-object/from16 v0, p0
 
-    move-object v11, v13
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    check-cast v11, [Ljava/lang/String;
+    move-object/from16 v18, v0
 
-    const/4 v4, -0x1
+    invoke-interface/range {v18 .. v18}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
 
-    const/4 v2, -0x1
+    move-result-object v18
 
-    array-length v13, v11
+    invoke-virtual/range {v18 .. v18}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
 
-    const/4 v14, 0x3
+    move-result v18
 
-    if-lt v13, v14, :cond_f3
+    if-eqz v18, :cond_40
 
-    const/4 v13, 0x1
+    move-object/from16 v0, p1
 
-    :try_start_c6
-    aget-object v13, v11, v13
+    iget-object v4, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    if-eqz v13, :cond_dc
+    check-cast v4, Landroid/os/AsyncResult;
 
-    const/4 v13, 0x1
+    move-object/from16 v0, p0
 
-    aget-object v13, v11, v13
+    invoke-direct {v0, v4}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->onSignalStrengthResult(Landroid/os/AsyncResult;)V
 
-    invoke-virtual {v13}, Ljava/lang/String;->length()I
+    invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->queueNextSignalStrengthPoll()V
 
-    move-result v13
+    goto/16 :goto_40
 
-    if-lez v13, :cond_dc
+    :pswitch_d6
+    move-object/from16 v0, p1
 
-    const/4 v13, 0x1
+    iget-object v4, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    aget-object v13, v11, v13
+    check-cast v4, Landroid/os/AsyncResult;
 
-    const/16 v14, 0x10
+    iget-object v0, v4, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    invoke-static {v13, v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+    move-object/from16 v18, v0
 
-    move-result v4
+    if-nez v18, :cond_16b
 
-    :cond_dc
-    const/4 v13, 0x2
+    iget-object v0, v4, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
-    aget-object v13, v11, v13
+    move-object/from16 v18, v0
 
-    if-eqz v13, :cond_f3
+    check-cast v18, [Ljava/lang/String;
 
-    const/4 v13, 0x2
+    move-object/from16 v15, v18
 
-    aget-object v13, v11, v13
+    check-cast v15, [Ljava/lang/String;
 
-    invoke-virtual {v13}, Ljava/lang/String;->length()I
+    const/4 v7, -0x1
 
-    move-result v13
+    const/4 v5, -0x1
 
-    if-lez v13, :cond_f3
+    array-length v0, v15
 
-    const/4 v13, 0x2
+    move/from16 v18, v0
 
-    aget-object v13, v11, v13
+    const/16 v19, 0x3
 
-    const/16 v14, 0x10
+    move/from16 v0, v18
 
-    invoke-static {v13, v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
-    :try_end_f2
-    .catch Ljava/lang/NumberFormatException; {:try_start_c6 .. :try_end_f2} :catch_106
+    move/from16 v1, v19
 
-    move-result v2
+    if-lt v0, v1, :cond_12d
 
-    :cond_f3
-    :goto_f3
-    move-object/from16 v0, p0
+    const/16 v18, 0x1
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cellLoc:Landroid/telephony/gsm/GsmCellLocation;
+    :try_start_fb
+    aget-object v18, v15, v18
 
-    invoke-virtual {v13, v4, v2}, Landroid/telephony/gsm/GsmCellLocation;->setLacAndCid(II)V
+    if-eqz v18, :cond_113
 
-    move-object/from16 v0, p0
+    const/16 v18, 0x1
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
+    aget-object v18, v15, v18
 
-    invoke-virtual {v13}, Lcom/android/internal/telephony/gsm/GSMPhone;->notifyLocationChanged()V
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/String;->length()I
 
-    :cond_101
-    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->disableSingleLocationUpdate()V
+    move-result v18
 
-    goto/16 :goto_36
+    if-lez v18, :cond_113
 
-    :catch_106
-    move-exception v3
+    const/16 v18, 0x1
 
-    const-string v13, "GSM"
+    aget-object v18, v15, v18
 
-    new-instance v14, Ljava/lang/StringBuilder;
+    const/16 v19, 0x10
 
-    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-static/range {v18 .. v19}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
 
-    const-string v15, "error parsing location: "
+    move-result v7
 
-    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    :cond_113
+    const/16 v18, 0x2
 
-    move-result-object v14
+    aget-object v18, v15, v18
 
-    invoke-virtual {v14, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    if-eqz v18, :cond_12d
 
-    move-result-object v14
+    const/16 v18, 0x2
 
-    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    aget-object v18, v15, v18
 
-    move-result-object v14
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/String;->length()I
 
-    invoke-static {v13, v14}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
+    move-result v18
 
-    goto :goto_f3
+    if-lez v18, :cond_12d
 
-    :pswitch_120
-    move-object/from16 v0, p1
+    const/16 v18, 0x2
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    aget-object v18, v15, v18
 
-    check-cast v1, Landroid/os/AsyncResult;
+    const/16 v19, 0x10
 
-    move-object/from16 v0, p1
+    invoke-static/range {v18 .. v19}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+    :try_end_12c
+    .catch Ljava/lang/NumberFormatException; {:try_start_fb .. :try_end_12c} :catch_170
 
-    iget v13, v0, Landroid/os/Message;->what:I
+    move-result v5
 
+    :cond_12d
+    :goto_12d
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v13, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->handlePollStateResult(ILandroid/os/AsyncResult;)V
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    goto/16 :goto_36
+    move-object/from16 v18, v0
 
-    :pswitch_131
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
-
-    const/4 v14, 0x3
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mContext:Landroid/content/Context;
 
-    move-object/from16 v0, p0
-
-    invoke-virtual {v0, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(I)Landroid/os/Message;
+    move-object/from16 v19, v0
 
-    move-result-object v14
+    invoke-virtual/range {v19 .. v19}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
 
-    invoke-interface {v13, v14}, Lcom/android/internal/telephony/CommandsInterface;->getSignalStrength(Landroid/os/Message;)V
+    move-result-object v19
 
-    goto/16 :goto_36
+    const/16 v20, 0x0
 
-    :pswitch_141
-    move-object/from16 v0, p1
+    invoke-virtual/range {v18 .. v20}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    move-result-object v13
 
-    check-cast v1, Landroid/os/AsyncResult;
+    move-object/from16 v0, p0
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    check-cast v13, [Ljava/lang/Object;
+    move-object/from16 v18, v0
 
-    check-cast v13, [Ljava/lang/Object;
+    if-eqz v18, :cond_18c
 
-    const/4 v14, 0x0
+    if-eqz v13, :cond_18c
 
-    aget-object v9, v13, v14
+    invoke-virtual {v13}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
 
-    check-cast v9, Ljava/lang/String;
+    move-result v18
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    const/16 v19, 0x1
 
-    check-cast v13, [Ljava/lang/Object;
+    move/from16 v0, v18
 
-    check-cast v13, [Ljava/lang/Object;
+    move/from16 v1, v19
 
-    const/4 v14, 0x1
+    if-ne v0, v1, :cond_18c
 
-    aget-object v13, v13, v14
+    move-object/from16 v0, p0
 
-    check-cast v13, Ljava/lang/Long;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cellLoc:Landroid/telephony/gsm/GsmCellLocation;
 
-    invoke-virtual {v13}, Ljava/lang/Long;->longValue()J
+    move-object/from16 v18, v0
 
-    move-result-wide v7
+    invoke-virtual/range {v18 .. v18}, Landroid/telephony/gsm/GsmCellLocation;->setStateInvalid()V
 
     move-object/from16 v0, p0
 
-    invoke-direct {v0, v9, v7, v8}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->setTimeFromNITZString(Ljava/lang/String;J)V
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
+
+    move-object/from16 v18, v0
 
-    goto/16 :goto_36
+    invoke-virtual/range {v18 .. v18}, Lcom/android/internal/telephony/gsm/GSMPhone;->notifyLocationChanged()V
 
-    :pswitch_168
-    move-object/from16 v0, p1
+    :cond_16b
+    :goto_16b
+    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->disableSingleLocationUpdate()V
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    goto/16 :goto_40
 
-    check-cast v1, Landroid/os/AsyncResult;
+    :catch_170
+    move-exception v6
 
-    const/4 v13, 0x1
+    const-string v18, "GSM"
 
-    move-object/from16 v0, p0
+    new-instance v19, Ljava/lang/StringBuilder;
 
-    iput-boolean v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->dontPollSignalStrength:Z
+    invoke-direct/range {v19 .. v19}, Ljava/lang/StringBuilder;-><init>()V
 
-    move-object/from16 v0, p0
+    const-string v20, "error parsing location: "
 
-    invoke-direct {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->onSignalStrengthResult(Landroid/os/AsyncResult;)V
+    invoke-virtual/range {v19 .. v20}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    goto/16 :goto_36
+    move-result-object v19
 
-    :pswitch_17a
-    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->updateSpnDisplay()V
+    move-object/from16 v0, v19
 
-    goto/16 :goto_36
+    invoke-virtual {v0, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    :pswitch_17f
-    move-object/from16 v0, p1
+    move-result-object v19
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    invoke-virtual/range {v19 .. v19}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    check-cast v1, Landroid/os/AsyncResult;
+    move-result-object v19
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    invoke-static/range {v18 .. v19}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
 
-    if-nez v13, :cond_36
+    goto :goto_12d
 
+    :cond_18c
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    const/16 v14, 0xf
+    move-object/from16 v18, v0
 
-    const/4 v15, 0x0
-
-    move-object/from16 v0, p0
+    if-eqz v18, :cond_1c2
 
-    invoke-virtual {v0, v14, v15}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
+    if-eqz v13, :cond_1c2
 
-    move-result-object v14
+    invoke-virtual {v13}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
 
-    invoke-interface {v13, v14}, Lcom/android/internal/telephony/CommandsInterface;->getVoiceRegistrationState(Landroid/os/Message;)V
+    move-result v18
 
-    goto/16 :goto_36
+    const/16 v19, 0x3
 
-    :pswitch_19b
-    move-object/from16 v0, p1
+    move/from16 v0, v18
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    move/from16 v1, v19
 
-    check-cast v1, Landroid/os/AsyncResult;
+    if-ne v0, v1, :cond_1c2
 
-    const/16 v13, 0x15
+    new-instance v17, Ljava/util/Random;
 
-    iget-object v14, v1, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
+    invoke-direct/range {v17 .. v17}, Ljava/util/Random;-><init>()V
 
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v13, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
-
-    move-result-object v6
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cellLoc:Landroid/telephony/gsm/GsmCellLocation;
 
-    move-object/from16 v0, p0
+    move-object/from16 v18, v0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
+    invoke-virtual/range {v17 .. v17}, Ljava/util/Random;->nextInt()I
 
-    move-object/from16 v0, p0
+    move-result v19
 
-    iget v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPreferredNetworkType:I
+    invoke-virtual/range {v17 .. v17}, Ljava/util/Random;->nextInt()I
 
-    invoke-interface {v13, v14, v6}, Lcom/android/internal/telephony/CommandsInterface;->setPreferredNetworkType(ILandroid/os/Message;)V
+    move-result v20
 
-    goto/16 :goto_36
+    invoke-virtual/range {v18 .. v20}, Landroid/telephony/gsm/GsmCellLocation;->setLacAndCid(II)V
 
-    :pswitch_1b8
-    move-object/from16 v0, p1
+    move-object/from16 v0, p0
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    check-cast v1, Landroid/os/AsyncResult;
+    move-object/from16 v18, v0
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
+    invoke-virtual/range {v18 .. v18}, Lcom/android/internal/telephony/gsm/GSMPhone;->notifyLocationChanged()V
 
-    if-eqz v13, :cond_36
+    goto :goto_16b
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
+    :cond_1c2
+    move-object/from16 v0, p0
 
-    check-cast v13, Landroid/os/Message;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cellLoc:Landroid/telephony/gsm/GsmCellLocation;
 
-    invoke-static {v13}, Landroid/os/AsyncResult;->forMessage(Landroid/os/Message;)Landroid/os/AsyncResult;
+    move-object/from16 v18, v0
 
-    move-result-object v13
+    move-object/from16 v0, v18
 
-    iget-object v14, v1, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    invoke-virtual {v0, v7, v5}, Landroid/telephony/gsm/GsmCellLocation;->setLacAndCid(II)V
 
-    iput-object v14, v13, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    move-object/from16 v0, p0
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    check-cast v13, Landroid/os/Message;
+    move-object/from16 v18, v0
 
-    invoke-virtual {v13}, Landroid/os/Message;->sendToTarget()V
+    invoke-virtual/range {v18 .. v18}, Lcom/android/internal/telephony/gsm/GSMPhone;->notifyLocationChanged()V
 
-    goto/16 :goto_36
+    goto :goto_16b
 
     :pswitch_1d7
     move-object/from16 v0, p1
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    iget-object v4, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    check-cast v1, Landroid/os/AsyncResult;
+    check-cast v4, Landroid/os/AsyncResult;
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    move-object/from16 v0, p1
 
-    if-nez v13, :cond_202
+    iget v0, v0, Landroid/os/Message;->what:I
 
-    iget-object v13, v1, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    move/from16 v18, v0
 
-    check-cast v13, [I
+    move-object/from16 v0, p0
 
-    check-cast v13, [I
+    move/from16 v1, v18
 
-    const/4 v14, 0x0
+    invoke-virtual {v0, v1, v4}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->handlePollStateResult(ILandroid/os/AsyncResult;)V
 
-    aget v13, v13, v14
+    goto/16 :goto_40
 
+    :pswitch_1ec
     move-object/from16 v0, p0
 
-    iput v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPreferredNetworkType:I
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    :goto_1ee
-    const/16 v13, 0x14
+    move-object/from16 v18, v0
 
-    iget-object v14, v1, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
+    const/16 v19, 0x3
 
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v13, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
+    move/from16 v1, v19
 
-    move-result-object v6
+    invoke-virtual {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(I)Landroid/os/Message;
 
-    const/4 v12, 0x7
+    move-result-object v19
 
-    move-object/from16 v0, p0
+    invoke-interface/range {v18 .. v19}, Lcom/android/internal/telephony/CommandsInterface;->getSignalStrength(Landroid/os/Message;)V
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
+    goto/16 :goto_40
 
-    invoke-interface {v13, v12, v6}, Lcom/android/internal/telephony/CommandsInterface;->setPreferredNetworkType(ILandroid/os/Message;)V
+    :pswitch_201
+    move-object/from16 v0, p1
 
-    goto/16 :goto_36
+    iget-object v4, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    :cond_202
-    const/4 v13, 0x7
+    check-cast v4, Landroid/os/AsyncResult;
 
-    move-object/from16 v0, p0
+    iget-object v0, v4, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
-    iput v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPreferredNetworkType:I
+    move-object/from16 v18, v0
 
-    goto :goto_1ee
+    check-cast v18, [Ljava/lang/Object;
 
-    :pswitch_208
-    move-object/from16 v0, p0
+    check-cast v18, [Ljava/lang/Object;
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->ss:Landroid/telephony/ServiceState;
+    const/16 v19, 0x0
 
-    if-eqz v13, :cond_255
+    aget-object v12, v18, v19
 
-    move-object/from16 v0, p0
+    check-cast v12, Ljava/lang/String;
 
-    iget v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->gprsState:I
+    iget-object v0, v4, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
-    move-object/from16 v0, p0
+    move-object/from16 v18, v0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->ss:Landroid/telephony/ServiceState;
+    check-cast v18, [Ljava/lang/Object;
 
-    invoke-virtual {v14}, Landroid/telephony/ServiceState;->getState()I
+    check-cast v18, [Ljava/lang/Object;
 
-    move-result v14
+    const/16 v19, 0x1
 
-    move-object/from16 v0, p0
+    aget-object v18, v18, v19
 
-    invoke-direct {v0, v13, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->isGprsConsistent(II)Z
+    check-cast v18, Ljava/lang/Long;
 
-    move-result v13
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/Long;->longValue()J
 
-    if-nez v13, :cond_255
+    move-result-wide v10
 
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
+    invoke-direct {v0, v12, v10, v11}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->setTimeFromNITZString(Ljava/lang/String;J)V
 
-    invoke-virtual {v13}, Lcom/android/internal/telephony/gsm/GSMPhone;->getCellLocation()Landroid/telephony/CellLocation;
+    goto/16 :goto_40
 
-    move-result-object v5
+    :pswitch_22e
+    move-object/from16 v0, p1
 
-    check-cast v5, Landroid/telephony/gsm/GsmCellLocation;
+    iget-object v4, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    const v14, 0xc3bb
+    check-cast v4, Landroid/os/AsyncResult;
 
-    const/4 v13, 0x2
+    const/16 v18, 0x1
 
-    new-array v15, v13, [Ljava/lang/Object;
+    move/from16 v0, v18
 
-    const/4 v13, 0x0
+    move-object/from16 v1, p0
+
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->dontPollSignalStrength:Z
 
     move-object/from16 v0, p0
 
-    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->ss:Landroid/telephony/ServiceState;
+    invoke-direct {v0, v4}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->onSignalStrengthResult(Landroid/os/AsyncResult;)V
+
+    goto/16 :goto_40
 
-    move-object/from16 v16, v0
+    :pswitch_243
+    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->updateSpnDisplay()V
 
-    invoke-virtual/range {v16 .. v16}, Landroid/telephony/ServiceState;->getOperatorNumeric()Ljava/lang/String;
+    goto/16 :goto_40
 
-    move-result-object v16
+    :pswitch_248
+    move-object/from16 v0, p1
 
-    aput-object v16, v15, v13
+    iget-object v4, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    const/16 v16, 0x1
+    check-cast v4, Landroid/os/AsyncResult;
 
-    if-eqz v5, :cond_25c
+    iget-object v0, v4, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    invoke-virtual {v5}, Landroid/telephony/gsm/GsmCellLocation;->getCid()I
+    move-object/from16 v18, v0
 
-    move-result v13
+    if-nez v18, :cond_40
 
-    :goto_247
-    invoke-static {v13}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+    move-object/from16 v0, p0
 
-    move-result-object v13
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    aput-object v13, v15, v16
+    move-object/from16 v18, v0
 
-    invoke-static {v14, v15}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
+    const/16 v19, 0xf
 
-    const/4 v13, 0x1
+    const/16 v20, 0x0
 
     move-object/from16 v0, p0
 
-    iput-boolean v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mReportedGprsNoReg:Z
+    move/from16 v1, v19
 
-    :cond_255
-    const/4 v13, 0x0
-
-    move-object/from16 v0, p0
+    move-object/from16 v2, v20
 
-    iput-boolean v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mStartedGprsRegCheck:Z
+    invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
 
-    goto/16 :goto_36
+    move-result-object v19
 
-    :cond_25c
-    const/4 v13, -0x1
+    invoke-interface/range {v18 .. v19}, Lcom/android/internal/telephony/CommandsInterface;->getVoiceRegistrationState(Landroid/os/Message;)V
 
-    goto :goto_247
+    goto/16 :goto_40
 
-    :pswitch_25e
-    const-string v13, "EVENT_RESTRICTED_STATE_CHANGED"
+    :pswitch_26d
+    move-object/from16 v0, p1
 
-    move-object/from16 v0, p0
+    iget-object v4, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    invoke-virtual {v0, v13}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->log(Ljava/lang/String;)V
+    check-cast v4, Landroid/os/AsyncResult;
 
-    move-object/from16 v0, p1
+    const/16 v18, 0x15
 
-    iget-object v1, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
+    iget-object v0, v4, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
 
-    check-cast v1, Landroid/os/AsyncResult;
+    move-object/from16 v19, v0
 
     move-object/from16 v0, p0
 
-    invoke-direct {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->onRestrictedStateChanged(Landroid/os/AsyncResult;)V
+    move/from16 v1, v18
 
-    goto/16 :goto_36
+    move-object/from16 v2, v19
 
-    :pswitch_data_272
-    .packed-switch 0x1
-        :pswitch_86
-        :pswitch_8d
-        :pswitch_91
-        :pswitch_120
-        :pswitch_120
-        :pswitch_120
-        :pswitch_3e
-        :pswitch_3e
-        :pswitch_3e
-        :pswitch_131
-        :pswitch_141
-        :pswitch_168
-        :pswitch_36
-        :pswitch_120
-        :pswitch_ae
-        :pswitch_17a
-        :pswitch_42
-        :pswitch_17f
-        :pswitch_1d7
-        :pswitch_19b
-        :pswitch_1b8
-        :pswitch_208
-        :pswitch_25e
-    .end packed-switch
-.end method
+    invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
 
-.method protected handlePollStateResult(ILandroid/os/AsyncResult;)V
-    .registers 20
+    move-result-object v9
 
-    move-object/from16 v0, p2
+    move-object/from16 v0, p0
 
-    iget-object v13, v0, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
+
+    move-object/from16 v18, v0
 
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollingContext:[I
+    iget v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPreferredNetworkType:I
 
-    if-eq v13, v14, :cond_b
+    move/from16 v19, v0
 
-    :cond_a
-    :goto_a
-    return-void
+    move-object/from16 v0, v18
 
-    :cond_b
-    move-object/from16 v0, p2
+    move/from16 v1, v19
 
-    iget-object v13, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    invoke-interface {v0, v1, v9}, Lcom/android/internal/telephony/CommandsInterface;->setPreferredNetworkType(ILandroid/os/Message;)V
 
-    if-eqz v13, :cond_af
+    goto/16 :goto_40
 
-    const/4 v2, 0x0
+    :pswitch_298
+    move-object/from16 v0, p1
 
-    move-object/from16 v0, p2
+    iget-object v4, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    iget-object v13, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    check-cast v4, Landroid/os/AsyncResult;
 
-    instance-of v13, v13, Lcom/android/internal/telephony/CommandException;
+    iget-object v0, v4, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
 
-    if-eqz v13, :cond_26
+    move-object/from16 v18, v0
 
-    move-object/from16 v0, p2
+    if-eqz v18, :cond_40
 
-    iget-object v13, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    iget-object v0, v4, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
 
-    check-cast v13, Lcom/android/internal/telephony/CommandException;
+    move-object/from16 v18, v0
 
-    check-cast v13, Lcom/android/internal/telephony/CommandException;
+    check-cast v18, Landroid/os/Message;
 
-    invoke-virtual {v13}, Lcom/android/internal/telephony/CommandException;->getCommandError()Lcom/android/internal/telephony/CommandException$Error;
+    invoke-static/range {v18 .. v18}, Landroid/os/AsyncResult;->forMessage(Landroid/os/Message;)Landroid/os/AsyncResult;
 
-    move-result-object v2
+    move-result-object v18
 
-    :cond_26
-    sget-object v13, Lcom/android/internal/telephony/CommandException$Error;->RADIO_NOT_AVAILABLE:Lcom/android/internal/telephony/CommandException$Error;
+    iget-object v0, v4, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    if-ne v2, v13, :cond_2e
+    move-object/from16 v19, v0
 
-    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cancelPollState()V
+    move-object/from16 v0, v19
 
-    goto :goto_a
+    move-object/from16 v1, v18
 
-    :cond_2e
-    move-object/from16 v0, p0
+    iput-object v0, v1, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
+    iget-object v0, v4, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
 
-    invoke-interface {v13}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
+    move-object/from16 v18, v0
 
-    move-result-object v13
+    check-cast v18, Landroid/os/Message;
 
-    invoke-virtual {v13}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
+    invoke-virtual/range {v18 .. v18}, Landroid/os/Message;->sendToTarget()V
 
-    move-result v13
+    goto/16 :goto_40
 
-    if-nez v13, :cond_40
+    :pswitch_2c3
+    move-object/from16 v0, p1
 
-    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cancelPollState()V
+    iget-object v4, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    goto :goto_a
+    check-cast v4, Landroid/os/AsyncResult;
 
-    :cond_40
-    sget-object v13, Lcom/android/internal/telephony/CommandException$Error;->OP_NOT_ALLOWED_BEFORE_REG_NW:Lcom/android/internal/telephony/CommandException$Error;
+    iget-object v0, v4, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
 
-    if-eq v2, v13, :cond_60
+    move-object/from16 v18, v0
 
-    new-instance v13, Ljava/lang/StringBuilder;
+    if-nez v18, :cond_302
 
-    invoke-direct {v13}, Ljava/lang/StringBuilder;-><init>()V
+    iget-object v0, v4, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
 
-    const-string v14, "RIL implementation has returned an error where it must succeed"
+    move-object/from16 v18, v0
 
-    invoke-virtual {v13, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    check-cast v18, [I
 
-    move-result-object v13
+    check-cast v18, [I
 
-    move-object/from16 v0, p2
+    const/16 v19, 0x0
 
-    iget-object v14, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+    aget v18, v18, v19
 
-    invoke-virtual {v13, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    move/from16 v0, v18
 
-    move-result-object v13
+    move-object/from16 v1, p0
 
-    invoke-virtual {v13}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPreferredNetworkType:I
 
-    move-result-object v13
+    :goto_2e1
+    const/16 v18, 0x14
 
-    move-object/from16 v0, p0
+    iget-object v0, v4, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
 
-    invoke-virtual {v0, v13}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
+    move-object/from16 v19, v0
 
-    :cond_60
-    :goto_60
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollingContext:[I
+    move/from16 v1, v18
 
-    const/4 v14, 0x0
+    move-object/from16 v2, v19
 
-    aget v15, v13, v14
+    invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
 
-    add-int/lit8 v15, v15, -0x1
+    move-result-object v9
 
-    aput v15, v13, v14
+    const/16 v16, 0x7
 
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollingContext:[I
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    const/4 v14, 0x0
+    move-object/from16 v18, v0
 
-    aget v13, v13, v14
+    move-object/from16 v0, v18
 
-    if-nez v13, :cond_a
+    move/from16 v1, v16
 
-    move-object/from16 v0, p0
+    invoke-interface {v0, v1, v9}, Lcom/android/internal/telephony/CommandsInterface;->setPreferredNetworkType(ILandroid/os/Message;)V
 
-    iget-boolean v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
+    goto/16 :goto_40
 
-    if-nez v13, :cond_80
+    :cond_302
+    const/16 v18, 0x7
 
-    move-object/from16 v0, p0
+    move/from16 v0, v18
 
-    iget-boolean v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mDataRoaming:Z
+    move-object/from16 v1, p0
 
-    if-eqz v13, :cond_25f
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mPreferredNetworkType:I
 
-    :cond_80
-    const/4 v10, 0x1
+    goto :goto_2e1
 
-    :goto_81
+    :pswitch_30b
     move-object/from16 v0, p0
 
-    iget-boolean v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
-
-    if-eqz v13, :cond_98
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-object/from16 v0, p0
+    move-object/from16 v18, v0
 
-    iget-boolean v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
+    if-eqz v18, :cond_36d
 
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+    iget v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->gprsState:I
+
+    move/from16 v18, v0
 
     move-object/from16 v0, p0
 
-    invoke-direct {v0, v13, v14}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->isRoamingBetweenOperators(ZLandroid/telephony/ServiceState;)Z
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    move-result v13
+    move-object/from16 v19, v0
 
-    if-nez v13, :cond_98
+    invoke-virtual/range {v19 .. v19}, Landroid/telephony/ServiceState;->getState()I
 
-    const/4 v10, 0x0
+    move-result v19
 
-    :cond_98
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+    move/from16 v1, v18
 
-    invoke-virtual {v13, v10}, Landroid/telephony/ServiceState;->setRoaming(Z)V
+    move/from16 v2, v19
 
-    move-object/from16 v0, p0
+    invoke-direct {v0, v1, v2}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->isGprsConsistent(II)Z
+
+    move-result v18
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+    if-nez v18, :cond_36d
 
     move-object/from16 v0, p0
 
-    iget-boolean v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    invoke-virtual {v13, v14}, Landroid/telephony/ServiceState;->setEmergencyOnly(Z)V
+    move-object/from16 v18, v0
 
-    invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollStateDone()V
+    invoke-virtual/range {v18 .. v18}, Lcom/android/internal/telephony/gsm/GSMPhone;->getCellLocation()Landroid/telephony/CellLocation;
 
-    goto/16 :goto_a
+    move-result-object v8
 
-    :cond_af
-    sparse-switch p1, :sswitch_data_262
+    check-cast v8, Landroid/telephony/gsm/GsmCellLocation;
 
-    goto :goto_60
+    const v19, 0xc3bb
 
-    :sswitch_b3
-    :try_start_b3
-    move-object/from16 v0, p2
+    const/16 v18, 0x2
 
-    iget-object v13, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    move/from16 v0, v18
 
-    check-cast v13, [Ljava/lang/String;
+    new-array v0, v0, [Ljava/lang/Object;
 
-    move-object v0, v13
+    move-object/from16 v20, v0
 
-    check-cast v0, [Ljava/lang/String;
+    const/16 v18, 0x0
 
-    move-object v11, v0
+    move-object/from16 v0, p0
 
-    const/4 v5, -0x1
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    const/4 v1, -0x1
+    move-object/from16 v21, v0
 
-    const/4 v9, -0x1
+    invoke-virtual/range {v21 .. v21}, Landroid/telephony/ServiceState;->getOperatorNumeric()Ljava/lang/String;
 
-    const/4 v8, -0x1
+    move-result-object v21
 
-    const/4 v7, -0x1
+    aput-object v21, v20, v18
 
-    array-length v13, v11
-    :try_end_c3
-    .catch Ljava/lang/RuntimeException; {:try_start_b3 .. :try_end_c3} :catch_159
+    const/16 v21, 0x1
 
-    if-lez v13, :cond_11d
+    if-eqz v8, :cond_377
 
-    const/4 v13, 0x0
+    invoke-virtual {v8}, Landroid/telephony/gsm/GsmCellLocation;->getCid()I
 
-    :try_start_c6
-    aget-object v13, v11, v13
+    move-result v18
 
-    invoke-static {v13}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    :goto_35c
+    invoke-static/range {v18 .. v18}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
 
-    move-result v9
+    move-result-object v18
 
-    array-length v13, v11
+    aput-object v18, v20, v21
 
-    const/4 v14, 0x3
+    invoke-static/range {v19 .. v20}, Landroid/util/EventLog;->writeEvent(I[Ljava/lang/Object;)I
 
-    if-lt v13, v14, :cond_fe
+    const/16 v18, 0x1
 
-    const/4 v13, 0x1
+    move/from16 v0, v18
 
-    aget-object v13, v11, v13
+    move-object/from16 v1, p0
 
-    if-eqz v13, :cond_e7
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mReportedGprsNoReg:Z
 
-    const/4 v13, 0x1
+    :cond_36d
+    const/16 v18, 0x0
 
-    aget-object v13, v11, v13
+    move/from16 v0, v18
 
-    invoke-virtual {v13}, Ljava/lang/String;->length()I
+    move-object/from16 v1, p0
 
-    move-result v13
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mStartedGprsRegCheck:Z
 
-    if-lez v13, :cond_e7
+    goto/16 :goto_40
 
-    const/4 v13, 0x1
+    :cond_377
+    const/16 v18, -0x1
 
-    aget-object v13, v11, v13
+    goto :goto_35c
 
-    const/16 v14, 0x10
+    :pswitch_37a
+    const-string v18, "EVENT_RESTRICTED_STATE_CHANGED"
 
-    invoke-static {v13, v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+    move-object/from16 v0, p0
 
-    move-result v5
+    move-object/from16 v1, v18
 
-    :cond_e7
-    const/4 v13, 0x2
+    invoke-virtual {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->log(Ljava/lang/String;)V
 
-    aget-object v13, v11, v13
+    move-object/from16 v0, p1
 
-    if-eqz v13, :cond_fe
+    iget-object v4, v0, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    const/4 v13, 0x2
+    check-cast v4, Landroid/os/AsyncResult;
 
-    aget-object v13, v11, v13
+    move-object/from16 v0, p0
 
-    invoke-virtual {v13}, Ljava/lang/String;->length()I
+    invoke-direct {v0, v4}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->onRestrictedStateChanged(Landroid/os/AsyncResult;)V
 
-    move-result v13
+    goto/16 :goto_40
 
-    if-lez v13, :cond_fe
+    :pswitch_data_390
+    .packed-switch 0x1
+        :pswitch_ab
+        :pswitch_b2
+        :pswitch_b6
+        :pswitch_1d7
+        :pswitch_1d7
+        :pswitch_1d7
+        :pswitch_4a
+        :pswitch_4a
+        :pswitch_4a
+        :pswitch_1ec
+        :pswitch_201
+        :pswitch_22e
+        :pswitch_40
+        :pswitch_1d7
+        :pswitch_d6
+        :pswitch_243
+        :pswitch_4e
+        :pswitch_248
+        :pswitch_2c3
+        :pswitch_26d
+        :pswitch_298
+        :pswitch_30b
+        :pswitch_37a
+    .end packed-switch
+.end method
+
+.method protected handlePollStateResult(ILandroid/os/AsyncResult;)V
+    .registers 24
+
+    move-object/from16 v0, p2
+
+    iget-object v0, v0, Landroid/os/AsyncResult;->userObj:Ljava/lang/Object;
+
+    move-object/from16 v17, v0
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollingContext:[I
+
+    move-object/from16 v18, v0
+
+    move-object/from16 v0, v17
+
+    move-object/from16 v1, v18
+
+    if-eq v0, v1, :cond_13
+
+    :cond_12
+    :goto_12
+    return-void
+
+    :cond_13
+    move-object/from16 v0, p2
+
+    iget-object v0, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+
+    move-object/from16 v17, v0
+
+    if-eqz v17, :cond_e7
+
+    const/4 v4, 0x0
+
+    move-object/from16 v0, p2
+
+    iget-object v0, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+
+    move-object/from16 v17, v0
+
+    move-object/from16 v0, v17
+
+    instance-of v0, v0, Lcom/android/internal/telephony/CommandException;
+
+    move/from16 v17, v0
+
+    if-eqz v17, :cond_38
+
+    move-object/from16 v0, p2
+
+    iget-object v0, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+
+    move-object/from16 v17, v0
+
+    check-cast v17, Lcom/android/internal/telephony/CommandException;
+
+    check-cast v17, Lcom/android/internal/telephony/CommandException;
+
+    invoke-virtual/range {v17 .. v17}, Lcom/android/internal/telephony/CommandException;->getCommandError()Lcom/android/internal/telephony/CommandException$Error;
+
+    move-result-object v4
+
+    :cond_38
+    sget-object v17, Lcom/android/internal/telephony/CommandException$Error;->RADIO_NOT_AVAILABLE:Lcom/android/internal/telephony/CommandException$Error;
+
+    move-object/from16 v0, v17
+
+    if-ne v4, v0, :cond_42
+
+    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cancelPollState()V
+
+    goto :goto_12
+
+    :cond_42
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
+
+    move-object/from16 v17, v0
+
+    invoke-interface/range {v17 .. v17}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
+
+    move-result-object v17
+
+    invoke-virtual/range {v17 .. v17}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
+
+    move-result v17
+
+    if-nez v17, :cond_56
+
+    invoke-virtual/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cancelPollState()V
+
+    goto :goto_12
+
+    :cond_56
+    sget-object v17, Lcom/android/internal/telephony/CommandException$Error;->OP_NOT_ALLOWED_BEFORE_REG_NW:Lcom/android/internal/telephony/CommandException$Error;
+
+    move-object/from16 v0, v17
+
+    if-eq v4, v0, :cond_7c
+
+    new-instance v17, Ljava/lang/StringBuilder;
+
+    invoke-direct/range {v17 .. v17}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v18, "RIL implementation has returned an error where it must succeed"
+
+    invoke-virtual/range {v17 .. v18}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v17
+
+    move-object/from16 v0, p2
+
+    iget-object v0, v0, Landroid/os/AsyncResult;->exception:Ljava/lang/Throwable;
+
+    move-object/from16 v18, v0
+
+    invoke-virtual/range {v17 .. v18}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v17
+
+    invoke-virtual/range {v17 .. v17}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v17
+
+    move-object/from16 v0, p0
+
+    move-object/from16 v1, v17
+
+    invoke-virtual {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
+
+    :cond_7c
+    :goto_7c
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollingContext:[I
+
+    move-object/from16 v17, v0
+
+    const/16 v18, 0x0
+
+    aget v19, v17, v18
+
+    add-int/lit8 v19, v19, -0x1
+
+    aput v19, v17, v18
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollingContext:[I
+
+    move-object/from16 v17, v0
+
+    const/16 v18, 0x0
+
+    aget v17, v17, v18
+
+    if-nez v17, :cond_12
+
+    move-object/from16 v0, p0
+
+    iget-boolean v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
+
+    move/from16 v17, v0
+
+    if-nez v17, :cond_a6
+
+    move-object/from16 v0, p0
+
+    iget-boolean v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mDataRoaming:Z
+
+    move/from16 v17, v0
+
+    if-eqz v17, :cond_3c7
+
+    :cond_a6
+    const/4 v12, 0x1
+
+    :goto_a7
+    move-object/from16 v0, p0
+
+    iget-boolean v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
+
+    move/from16 v17, v0
+
+    if-eqz v17, :cond_c8
+
+    move-object/from16 v0, p0
+
+    iget-boolean v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
+
+    move/from16 v17, v0
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+
+    move-object/from16 v18, v0
+
+    move-object/from16 v0, p0
+
+    move/from16 v1, v17
+
+    move-object/from16 v2, v18
+
+    invoke-direct {v0, v1, v2}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->isRoamingBetweenOperators(ZLandroid/telephony/ServiceState;)Z
+
+    move-result v17
+
+    if-nez v17, :cond_c8
+
+    const/4 v12, 0x0
+
+    :cond_c8
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+
+    move-object/from16 v17, v0
+
+    move-object/from16 v0, v17
+
+    invoke-virtual {v0, v12}, Landroid/telephony/ServiceState;->setRoaming(Z)V
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+
+    move-object/from16 v17, v0
+
+    move-object/from16 v0, p0
+
+    iget-boolean v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
+
+    move/from16 v18, v0
+
+    invoke-virtual/range {v17 .. v18}, Landroid/telephony/ServiceState;->setEmergencyOnly(Z)V
+
+    invoke-direct/range {p0 .. p0}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pollStateDone()V
+
+    goto/16 :goto_12
+
+    :cond_e7
+    :try_start_e7
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v17, v0
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mContext:Landroid/content/Context;
+
+    move-object/from16 v18, v0
+
+    invoke-virtual/range {v18 .. v18}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v18
+
+    const/16 v19, 0x0
+
+    invoke-virtual/range {v17 .. v19}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v13
+
+    sparse-switch p1, :sswitch_data_3ca
+
+    goto/16 :goto_7c
+
+    :sswitch_102
+    move-object/from16 v0, p2
+
+    iget-object v0, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+
+    move-object/from16 v17, v0
+
+    check-cast v17, [Ljava/lang/String;
+
+    move-object/from16 v0, v17
+
+    check-cast v0, [Ljava/lang/String;
+
+    move-object v14, v0
+
+    const/4 v7, -0x1
+
+    const/4 v3, -0x1
+
+    const/4 v11, -0x1
+
+    const/4 v10, -0x1
+
+    const/4 v9, -0x1
+
+    array-length v0, v14
+
+    move/from16 v17, v0
+    :try_end_117
+    .catch Ljava/lang/RuntimeException; {:try_start_e7 .. :try_end_117} :catch_1ec
+
+    if-lez v17, :cond_185
+
+    const/16 v17, 0x0
+
+    :try_start_11b
+    aget-object v17, v14, v17
+
+    invoke-static/range {v17 .. v17}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+
+    move-result v11
+
+    array-length v0, v14
+
+    move/from16 v17, v0
+
+    const/16 v18, 0x3
+
+    move/from16 v0, v17
+
+    move/from16 v1, v18
+
+    if-lt v0, v1, :cond_160
+
+    const/16 v17, 0x1
+
+    aget-object v17, v14, v17
+
+    if-eqz v17, :cond_146
+
+    const/16 v17, 0x1
+
+    aget-object v17, v14, v17
+
+    invoke-virtual/range {v17 .. v17}, Ljava/lang/String;->length()I
+
+    move-result v17
+
+    if-lez v17, :cond_146
+
+    const/16 v17, 0x1
+
+    aget-object v17, v14, v17
+
+    const/16 v18, 0x10
+
+    invoke-static/range {v17 .. v18}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+
+    move-result v7
+
+    :cond_146
+    const/16 v17, 0x2
+
+    aget-object v17, v14, v17
+
+    if-eqz v17, :cond_160
+
+    const/16 v17, 0x2
+
+    aget-object v17, v14, v17
+
+    invoke-virtual/range {v17 .. v17}, Ljava/lang/String;->length()I
+
+    move-result v17
+
+    if-lez v17, :cond_160
+
+    const/16 v17, 0x2
+
+    aget-object v17, v14, v17
+
+    const/16 v18, 0x10
+
+    invoke-static/range {v17 .. v18}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+
+    move-result v3
+
+    :cond_160
+    array-length v0, v14
+
+    move/from16 v17, v0
+
+    const/16 v18, 0xe
+
+    move/from16 v0, v17
+
+    move/from16 v1, v18
+
+    if-le v0, v1, :cond_185
+
+    const/16 v17, 0xe
+
+    aget-object v17, v14, v17
+
+    if-eqz v17, :cond_185
+
+    const/16 v17, 0xe
+
+    aget-object v17, v14, v17
+
+    invoke-virtual/range {v17 .. v17}, Ljava/lang/String;->length()I
+
+    move-result v17
+
+    if-lez v17, :cond_185
+
+    const/16 v17, 0xe
+
+    aget-object v17, v14, v17
+
+    const/16 v18, 0x10
+
+    invoke-static/range {v17 .. v18}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+    :try_end_184
+    .catch Ljava/lang/NumberFormatException; {:try_start_11b .. :try_end_184} :catch_20b
+    .catch Ljava/lang/RuntimeException; {:try_start_11b .. :try_end_184} :catch_1ec
+
+    move-result v9
+
+    :cond_185
+    :goto_185
+    :try_start_185
+    move-object/from16 v0, p0
+
+    invoke-direct {v0, v11}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeIsRoaming(I)Z
+
+    move-result v17
+
+    move/from16 v0, v17
+
+    move-object/from16 v1, p0
+
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+
+    move-object/from16 v17, v0
+
+    move-object/from16 v0, p0
+
+    invoke-direct {v0, v11}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeToServiceState(I)I
+
+    move-result v18
+
+    invoke-virtual/range {v17 .. v18}, Landroid/telephony/ServiceState;->setState(I)V
+
+    const/16 v17, 0xa
+
+    move/from16 v0, v17
+
+    if-eq v11, v0, :cond_1b8
+
+    const/16 v17, 0xc
+
+    move/from16 v0, v17
+
+    if-eq v11, v0, :cond_1b8
+
+    const/16 v17, 0xd
+
+    move/from16 v0, v17
+
+    if-eq v11, v0, :cond_1b8
+
+    const/16 v17, 0xe
+
+    move/from16 v0, v17
+
+    if-ne v11, v0, :cond_22a
+
+    :cond_1b8
+    const/16 v17, 0x1
 
-    const/4 v13, 0x2
+    move/from16 v0, v17
 
-    aget-object v13, v11, v13
+    move-object/from16 v1, p0
 
-    const/16 v14, 0x10
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
 
-    invoke-static {v13, v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
+    :goto_1c0
+    move-object/from16 v0, p0
 
-    move-result v1
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    :cond_fe
-    array-length v13, v11
+    move-object/from16 v17, v0
 
-    const/16 v14, 0xe
+    if-eqz v17, :cond_233
 
-    if-le v13, v14, :cond_11d
+    if-eqz v13, :cond_233
 
-    const/16 v13, 0xe
+    invoke-virtual {v13}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
 
-    aget-object v13, v11, v13
+    move-result v17
 
-    if-eqz v13, :cond_11d
+    const/16 v18, 0x1
 
-    const/16 v13, 0xe
+    move/from16 v0, v17
 
-    aget-object v13, v11, v13
+    move/from16 v1, v18
 
-    invoke-virtual {v13}, Ljava/lang/String;->length()I
+    if-ne v0, v1, :cond_233
 
-    move-result v13
+    move-object/from16 v0, p0
 
-    if-lez v13, :cond_11d
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newCellLoc:Landroid/telephony/gsm/GsmCellLocation;
 
-    const/16 v13, 0xe
+    move-object/from16 v17, v0
 
-    aget-object v13, v11, v13
+    invoke-virtual/range {v17 .. v17}, Landroid/telephony/gsm/GsmCellLocation;->setStateInvalid()V
 
-    const/16 v14, 0x10
+    move-object/from16 v0, p0
 
-    invoke-static {v13, v14}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;I)I
-    :try_end_11c
-    .catch Ljava/lang/NumberFormatException; {:try_start_c6 .. :try_end_11c} :catch_174
-    .catch Ljava/lang/RuntimeException; {:try_start_c6 .. :try_end_11c} :catch_159
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newCellLoc:Landroid/telephony/gsm/GsmCellLocation;
 
-    move-result v7
+    move-object/from16 v17, v0
 
-    :cond_11d
-    :goto_11d
-    :try_start_11d
-    move-object/from16 v0, p0
+    move-object/from16 v0, v17
 
-    invoke-direct {v0, v9}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeIsRoaming(I)Z
+    invoke-virtual {v0, v9}, Landroid/telephony/gsm/GsmCellLocation;->setPsc(I)V
+    :try_end_1ea
+    .catch Ljava/lang/RuntimeException; {:try_start_185 .. :try_end_1ea} :catch_1ec
 
-    move-result v13
+    goto/16 :goto_7c
 
-    move-object/from16 v0, p0
+    :catch_1ec
+    move-exception v5
 
-    iput-boolean v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mGsmRoaming:Z
+    new-instance v17, Ljava/lang/StringBuilder;
 
-    move-object/from16 v0, p0
+    invoke-direct/range {v17 .. v17}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v18, "Exception while polling service state. Probably malformed RIL response."
+
+    invoke-virtual/range {v17 .. v18}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v17
+
+    move-object/from16 v0, v17
+
+    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v17
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+    invoke-virtual/range {v17 .. v17}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v17
 
     move-object/from16 v0, p0
 
-    invoke-direct {v0, v9}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeToServiceState(I)I
+    move-object/from16 v1, v17
 
-    move-result v14
+    invoke-virtual {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    invoke-virtual {v13, v14}, Landroid/telephony/ServiceState;->setState(I)V
+    goto/16 :goto_7c
 
-    const/16 v13, 0xa
+    :catch_20b
+    move-exception v5
 
-    if-eq v9, v13, :cond_144
+    :try_start_20c
+    new-instance v17, Ljava/lang/StringBuilder;
 
-    const/16 v13, 0xc
+    invoke-direct/range {v17 .. v17}, Ljava/lang/StringBuilder;-><init>()V
 
-    if-eq v9, v13, :cond_144
+    const-string v18, "error parsing RegistrationState: "
 
-    const/16 v13, 0xd
+    invoke-virtual/range {v17 .. v18}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    if-eq v9, v13, :cond_144
+    move-result-object v17
 
-    const/16 v13, 0xe
+    move-object/from16 v0, v17
 
-    if-ne v9, v13, :cond_18e
+    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    :cond_144
-    const/4 v13, 0x1
+    move-result-object v17
 
-    move-object/from16 v0, p0
+    invoke-virtual/range {v17 .. v17}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    iput-boolean v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
+    move-result-object v17
 
-    :goto_149
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newCellLoc:Landroid/telephony/gsm/GsmCellLocation;
+    move-object/from16 v1, v17
+
+    invoke-virtual {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    invoke-virtual {v13, v5, v1}, Landroid/telephony/gsm/GsmCellLocation;->setLacAndCid(II)V
+    goto/16 :goto_185
 
-    move-object/from16 v0, p0
+    :cond_22a
+    const/16 v17, 0x0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newCellLoc:Landroid/telephony/gsm/GsmCellLocation;
+    move/from16 v0, v17
 
-    invoke-virtual {v13, v7}, Landroid/telephony/gsm/GsmCellLocation;->setPsc(I)V
-    :try_end_157
-    .catch Ljava/lang/RuntimeException; {:try_start_11d .. :try_end_157} :catch_159
+    move-object/from16 v1, p0
 
-    goto/16 :goto_60
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
 
-    :catch_159
-    move-exception v3
+    goto :goto_1c0
 
-    new-instance v13, Ljava/lang/StringBuilder;
+    :cond_233
+    move-object/from16 v0, p0
 
-    invoke-direct {v13}, Ljava/lang/StringBuilder;-><init>()V
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    const-string v14, "Exception while polling service state. Probably malformed RIL response."
+    move-object/from16 v17, v0
 
-    invoke-virtual {v13, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    if-eqz v17, :cond_26c
 
-    move-result-object v13
+    if-eqz v13, :cond_26c
 
-    invoke-virtual {v13, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    invoke-virtual {v13}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
 
-    move-result-object v13
+    move-result v17
 
-    invoke-virtual {v13}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    const/16 v18, 0x3
 
-    move-result-object v13
+    move/from16 v0, v17
+
+    move/from16 v1, v18
+
+    if-ne v0, v1, :cond_26c
+
+    new-instance v16, Ljava/util/Random;
+
+    invoke-direct/range {v16 .. v16}, Ljava/util/Random;-><init>()V
 
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v13}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newCellLoc:Landroid/telephony/gsm/GsmCellLocation;
+
+    move-object/from16 v17, v0
 
-    goto/16 :goto_60
+    invoke-virtual/range {v16 .. v16}, Ljava/util/Random;->nextInt()I
 
-    :catch_174
-    move-exception v3
+    move-result v18
 
-    :try_start_175
-    new-instance v13, Ljava/lang/StringBuilder;
+    invoke-virtual/range {v16 .. v16}, Ljava/util/Random;->nextInt()I
 
-    invoke-direct {v13}, Ljava/lang/StringBuilder;-><init>()V
+    move-result v19
 
-    const-string v14, "error parsing RegistrationState: "
+    invoke-virtual/range {v17 .. v19}, Landroid/telephony/gsm/GsmCellLocation;->setLacAndCid(II)V
 
-    invoke-virtual {v13, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    move-object/from16 v0, p0
 
-    move-result-object v13
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newCellLoc:Landroid/telephony/gsm/GsmCellLocation;
 
-    invoke-virtual {v13, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    move-object/from16 v17, v0
 
-    move-result-object v13
+    move-object/from16 v0, v17
 
-    invoke-virtual {v13}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {v0, v9}, Landroid/telephony/gsm/GsmCellLocation;->setPsc(I)V
 
-    move-result-object v13
+    goto/16 :goto_7c
 
+    :cond_26c
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v13}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newCellLoc:Landroid/telephony/gsm/GsmCellLocation;
 
-    goto :goto_11d
+    move-object/from16 v17, v0
 
-    :cond_18e
-    const/4 v13, 0x0
+    move-object/from16 v0, v17
+
+    invoke-virtual {v0, v7, v3}, Landroid/telephony/gsm/GsmCellLocation;->setLacAndCid(II)V
 
     move-object/from16 v0, p0
 
-    iput-boolean v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newCellLoc:Landroid/telephony/gsm/GsmCellLocation;
+
+    move-object/from16 v17, v0
+
+    move-object/from16 v0, v17
+
+    invoke-virtual {v0, v9}, Landroid/telephony/gsm/GsmCellLocation;->setPsc(I)V
 
-    goto :goto_149
+    goto/16 :goto_7c
 
-    :sswitch_194
+    :sswitch_284
     move-object/from16 v0, p2
 
-    iget-object v13, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    iget-object v0, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+
+    move-object/from16 v17, v0
 
-    check-cast v13, [Ljava/lang/String;
+    check-cast v17, [Ljava/lang/String;
 
-    move-object v0, v13
+    move-object/from16 v0, v17
 
     check-cast v0, [Ljava/lang/String;
 
-    move-object v11, v0
+    move-object v14, v0
 
-    const/4 v12, 0x0
+    const/4 v15, 0x0
 
-    const/4 v9, -0x1
+    const/4 v11, -0x1
 
-    const/4 v13, -0x1
+    const/16 v17, -0x1
 
-    move-object/from16 v0, p0
+    move/from16 v0, v17
 
-    iput v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewReasonDataDenied:I
+    move-object/from16 v1, p0
 
-    const/4 v13, 0x1
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewReasonDataDenied:I
 
-    move-object/from16 v0, p0
+    const/16 v17, 0x1
 
-    iput v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewMaxDataCalls:I
+    move/from16 v0, v17
 
-    array-length v13, v11
-    :try_end_1ab
-    .catch Ljava/lang/RuntimeException; {:try_start_175 .. :try_end_1ab} :catch_159
+    move-object/from16 v1, p0
 
-    if-lez v13, :cond_1e5
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewMaxDataCalls:I
 
-    const/4 v13, 0x0
+    array-length v0, v14
 
-    :try_start_1ae
-    aget-object v13, v11, v13
+    move/from16 v17, v0
+    :try_end_2a6
+    .catch Ljava/lang/RuntimeException; {:try_start_20c .. :try_end_2a6} :catch_1ec
 
-    invoke-static {v13}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    if-lez v17, :cond_301
 
-    move-result v9
+    const/16 v17, 0x0
 
-    array-length v13, v11
+    :try_start_2aa
+    aget-object v17, v14, v17
 
-    const/4 v14, 0x4
+    invoke-static/range {v17 .. v17}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
-    if-lt v13, v14, :cond_1c4
+    move-result v11
 
-    const/4 v13, 0x3
+    array-length v0, v14
 
-    aget-object v13, v11, v13
+    move/from16 v17, v0
 
-    if-eqz v13, :cond_1c4
+    const/16 v18, 0x4
 
-    const/4 v13, 0x3
+    move/from16 v0, v17
 
-    aget-object v13, v11, v13
+    move/from16 v1, v18
 
-    invoke-static {v13}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    if-lt v0, v1, :cond_2c9
 
-    move-result v12
+    const/16 v17, 0x3
 
-    :cond_1c4
-    array-length v13, v11
+    aget-object v17, v14, v17
 
-    const/4 v14, 0x5
+    if-eqz v17, :cond_2c9
 
-    if-lt v13, v14, :cond_1d6
+    const/16 v17, 0x3
 
-    const/4 v13, 0x3
+    aget-object v17, v14, v17
 
-    if-ne v9, v13, :cond_1d6
+    invoke-static/range {v17 .. v17}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
-    const/4 v13, 0x4
+    move-result v15
 
-    aget-object v13, v11, v13
+    :cond_2c9
+    array-length v0, v14
 
-    invoke-static {v13}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    move/from16 v17, v0
 
-    move-result v13
+    const/16 v18, 0x5
 
-    move-object/from16 v0, p0
+    move/from16 v0, v17
 
-    iput v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewReasonDataDenied:I
+    move/from16 v1, v18
 
-    :cond_1d6
-    array-length v13, v11
+    if-lt v0, v1, :cond_2e8
 
-    const/4 v14, 0x6
+    const/16 v17, 0x3
 
-    if-lt v13, v14, :cond_1e5
+    move/from16 v0, v17
 
-    const/4 v13, 0x5
+    if-ne v11, v0, :cond_2e8
 
-    aget-object v13, v11, v13
+    const/16 v17, 0x4
 
-    invoke-static {v13}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    aget-object v17, v14, v17
 
-    move-result v13
+    invoke-static/range {v17 .. v17}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
-    move-object/from16 v0, p0
+    move-result v17
 
-    iput v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewMaxDataCalls:I
-    :try_end_1e5
-    .catch Ljava/lang/NumberFormatException; {:try_start_1ae .. :try_end_1e5} :catch_206
-    .catch Ljava/lang/RuntimeException; {:try_start_1ae .. :try_end_1e5} :catch_159
+    move/from16 v0, v17
 
-    :cond_1e5
-    :goto_1e5
-    :try_start_1e5
-    move-object/from16 v0, p0
+    move-object/from16 v1, p0
 
-    invoke-direct {v0, v9}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeToServiceState(I)I
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewReasonDataDenied:I
 
-    move-result v13
+    :cond_2e8
+    array-length v0, v14
 
-    move-object/from16 v0, p0
+    move/from16 v17, v0
+
+    const/16 v18, 0x6
+
+    move/from16 v0, v17
+
+    move/from16 v1, v18
+
+    if-lt v0, v1, :cond_301
+
+    const/16 v17, 0x5
+
+    aget-object v17, v14, v17
 
-    iput v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newGPRSState:I
+    invoke-static/range {v17 .. v17}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
 
+    move-result v17
+
+    move/from16 v0, v17
+
+    move-object/from16 v1, p0
+
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewMaxDataCalls:I
+    :try_end_301
+    .catch Ljava/lang/NumberFormatException; {:try_start_2aa .. :try_end_301} :catch_32a
+    .catch Ljava/lang/RuntimeException; {:try_start_2aa .. :try_end_301} :catch_1ec
+
+    :cond_301
+    :goto_301
+    :try_start_301
     move-object/from16 v0, p0
 
-    invoke-direct {v0, v9}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeIsRoaming(I)Z
+    invoke-direct {v0, v11}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeToServiceState(I)I
+
+    move-result v17
+
+    move/from16 v0, v17
+
+    move-object/from16 v1, p0
 
-    move-result v13
+    iput v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newGPRSState:I
 
     move-object/from16 v0, p0
 
-    iput-boolean v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mDataRoaming:Z
+    invoke-direct {v0, v11}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->regCodeIsRoaming(I)Z
+
+    move-result v17
+
+    move/from16 v0, v17
+
+    move-object/from16 v1, p0
+
+    iput-boolean v0, v1, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mDataRoaming:Z
 
     move-object/from16 v0, p0
 
-    iput v12, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewRilRadioTechnology:I
+    iput v15, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mNewRilRadioTechnology:I
 
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
 
-    invoke-virtual {v13, v12}, Landroid/telephony/ServiceState;->setRadioTechnology(I)V
+    move-object/from16 v17, v0
 
-    goto/16 :goto_60
+    move-object/from16 v0, v17
 
-    :catch_206
-    move-exception v3
+    invoke-virtual {v0, v15}, Landroid/telephony/ServiceState;->setRadioTechnology(I)V
 
-    new-instance v13, Ljava/lang/StringBuilder;
+    goto/16 :goto_7c
 
-    invoke-direct {v13}, Ljava/lang/StringBuilder;-><init>()V
+    :catch_32a
+    move-exception v5
 
-    const-string v14, "error parsing GprsRegistrationState: "
+    new-instance v17, Ljava/lang/StringBuilder;
 
-    invoke-virtual {v13, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-direct/range {v17 .. v17}, Ljava/lang/StringBuilder;-><init>()V
 
-    move-result-object v13
+    const-string v18, "error parsing GprsRegistrationState: "
 
-    invoke-virtual {v13, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+    invoke-virtual/range {v17 .. v18}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v13
+    move-result-object v17
 
-    invoke-virtual {v13}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    move-object/from16 v0, v17
 
-    move-result-object v13
+    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v17
+
+    invoke-virtual/range {v17 .. v17}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v17
 
     move-object/from16 v0, p0
 
-    invoke-virtual {v0, v13}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
+    move-object/from16 v1, v17
+
+    invoke-virtual {v0, v1}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->loge(Ljava/lang/String;)V
 
-    goto :goto_1e5
+    goto :goto_301
 
-    :sswitch_220
+    :sswitch_348
     move-object/from16 v0, p2
 
-    iget-object v13, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    iget-object v0, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+
+    move-object/from16 v17, v0
 
-    check-cast v13, [Ljava/lang/String;
+    check-cast v17, [Ljava/lang/String;
 
-    move-object v0, v13
+    move-object/from16 v0, v17
 
     check-cast v0, [Ljava/lang/String;
 
-    move-object v6, v0
+    move-object v8, v0
+
+    if-eqz v8, :cond_7c
+
+    array-length v0, v8
+
+    move/from16 v17, v0
 
-    if-eqz v6, :cond_60
+    const/16 v18, 0x3
 
-    array-length v13, v6
+    move/from16 v0, v17
 
-    const/4 v14, 0x3
+    move/from16 v1, v18
 
-    if-lt v13, v14, :cond_60
+    if-lt v0, v1, :cond_7c
 
     move-object/from16 v0, p0
 
-    iget-object v13, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    const/4 v14, 0x0
+    move-object/from16 v17, v0
 
-    aget-object v14, v6, v14
+    if-eqz v17, :cond_383
 
-    const/4 v15, 0x1
+    if-eqz v13, :cond_383
+
+    invoke-virtual {v13}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v17
+
+    if-eqz v17, :cond_383
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+
+    move-object/from16 v17, v0
+
+    const-string v18, ""
+
+    const-string v19, ""
+
+    const-string v20, ""
+
+    invoke-virtual/range {v17 .. v20}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+
+    goto/16 :goto_7c
+
+    :cond_383
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+
+    move-object/from16 v17, v0
+
+    const/16 v18, 0x0
+
+    aget-object v18, v8, v18
+
+    const/16 v19, 0x1
 
-    aget-object v15, v6, v15
+    aget-object v19, v8, v19
 
-    const/16 v16, 0x2
+    const/16 v20, 0x2
 
-    aget-object v16, v6, v16
+    aget-object v20, v8, v20
 
-    invoke-virtual/range {v13 .. v16}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
+    invoke-virtual/range {v17 .. v20}, Landroid/telephony/ServiceState;->setOperatorName(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
 
-    goto/16 :goto_60
+    goto/16 :goto_7c
 
-    :sswitch_243
+    :sswitch_39a
     move-object/from16 v0, p2
 
-    iget-object v13, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+    iget-object v0, v0, Landroid/os/AsyncResult;->result:Ljava/lang/Object;
+
+    move-object/from16 v17, v0
 
-    check-cast v13, [I
+    check-cast v17, [I
 
-    move-object v0, v13
+    move-object/from16 v0, v17
 
     check-cast v0, [I
 
-    move-object v4, v0
+    move-object v6, v0
 
     move-object/from16 v0, p0
 
-    iget-object v14, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+    iget-object v0, v0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->newSS:Landroid/telephony/ServiceState;
+
+    move-object/from16 v18, v0
 
-    const/4 v13, 0x0
+    const/16 v17, 0x0
 
-    aget v13, v4, v13
+    aget v17, v6, v17
 
-    const/4 v15, 0x1
+    const/16 v19, 0x1
 
-    if-ne v13, v15, :cond_25d
+    move/from16 v0, v17
 
-    const/4 v13, 0x1
+    move/from16 v1, v19
 
-    :goto_258
-    invoke-virtual {v14, v13}, Landroid/telephony/ServiceState;->setIsManualSelection(Z)V
-    :try_end_25b
-    .catch Ljava/lang/RuntimeException; {:try_start_1e5 .. :try_end_25b} :catch_159
+    if-ne v0, v1, :cond_3c4
 
-    goto/16 :goto_60
+    const/16 v17, 0x1
 
-    :cond_25d
-    const/4 v13, 0x0
+    :goto_3bb
+    move-object/from16 v0, v18
 
-    goto :goto_258
+    move/from16 v1, v17
 
-    :cond_25f
-    const/4 v10, 0x0
+    invoke-virtual {v0, v1}, Landroid/telephony/ServiceState;->setIsManualSelection(Z)V
+    :try_end_3c2
+    .catch Ljava/lang/RuntimeException; {:try_start_301 .. :try_end_3c2} :catch_1ec
 
-    goto/16 :goto_81
+    goto/16 :goto_7c
 
-    :sswitch_data_262
+    :cond_3c4
+    const/16 v17, 0x0
+
+    goto :goto_3bb
+
+    :cond_3c7
+    const/4 v12, 0x0
+
+    goto/16 :goto_a7
+
+    :sswitch_data_3ca
     .sparse-switch
-        0x4 -> :sswitch_b3
-        0x5 -> :sswitch_194
-        0x6 -> :sswitch_220
-        0xe -> :sswitch_243
+        0x4 -> :sswitch_102
+        0x5 -> :sswitch_284
+        0x6 -> :sswitch_348
+        0xe -> :sswitch_39a
     .end sparse-switch
 .end method
 
@@ -7616,257 +8226,287 @@
 .end method
 
 .method protected updateSpnDisplay()V
-    .registers 13
+    .registers 14
 
-    const/4 v11, 0x2
+    const/4 v12, 0x2
 
-    const/4 v7, 0x0
+    const/4 v7, 0x1
 
-    const/4 v6, 0x1
+    const/4 v8, 0x0
 
-    iget-object v8, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
+    iget-object v9, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    iget-object v8, v8, Lcom/android/internal/telephony/gsm/GSMPhone;->mIccRecords:Lcom/android/internal/telephony/IccRecords;
+    iget-object v9, v9, Lcom/android/internal/telephony/gsm/GSMPhone;->mIccRecords:Lcom/android/internal/telephony/IccRecords;
 
-    iget-object v9, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->ss:Landroid/telephony/ServiceState;
+    iget-object v10, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->ss:Landroid/telephony/ServiceState;
 
-    invoke-virtual {v9}, Landroid/telephony/ServiceState;->getOperatorNumeric()Ljava/lang/String;
+    invoke-virtual {v10}, Landroid/telephony/ServiceState;->getOperatorNumeric()Ljava/lang/String;
 
-    move-result-object v9
+    move-result-object v10
 
-    invoke-virtual {v8, v9}, Lcom/android/internal/telephony/IccRecords;->getDisplayRule(Ljava/lang/String;)I
+    invoke-virtual {v9, v10}, Lcom/android/internal/telephony/IccRecords;->getDisplayRule(Ljava/lang/String;)I
 
     move-result v2
 
-    iget-object v8, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
+    iget-object v9, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    iget-object v8, v8, Lcom/android/internal/telephony/gsm/GSMPhone;->mIccRecords:Lcom/android/internal/telephony/IccRecords;
+    iget-object v10, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mContext:Landroid/content/Context;
 
-    invoke-virtual {v8}, Lcom/android/internal/telephony/IccRecords;->getServiceProviderName()Ljava/lang/String;
+    invoke-virtual {v10}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
 
-    move-result-object v5
+    move-result-object v10
+
+    invoke-virtual {v9, v10, v8}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v3
 
-    iget-object v8, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->ss:Landroid/telephony/ServiceState;
+    iget-object v9, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->pSetMan:Landroid/privacy/PrivacySettingsManager;
 
-    invoke-virtual {v8}, Landroid/telephony/ServiceState;->getOperatorAlphaLong()Ljava/lang/String;
+    if-eqz v9, :cond_108
+
+    if-eqz v3, :cond_108
+
+    invoke-virtual {v3}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v9
+
+    if-eqz v9, :cond_108
+
+    const-string v6, ""
+
+    :goto_2b
+    iget-object v9, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->ss:Landroid/telephony/ServiceState;
+
+    invoke-virtual {v9}, Landroid/telephony/ServiceState;->getOperatorAlphaLong()Ljava/lang/String;
 
     move-result-object v1
 
-    iget-boolean v8, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
+    iget-boolean v9, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
 
-    if-eqz v8, :cond_5b
+    if-eqz v9, :cond_6d
 
-    iget-object v8, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
+    iget-object v9, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->cm:Lcom/android/internal/telephony/CommandsInterface;
 
-    invoke-interface {v8}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
+    invoke-interface {v9}, Lcom/android/internal/telephony/CommandsInterface;->getRadioState()Lcom/android/internal/telephony/CommandsInterface$RadioState;
 
-    move-result-object v8
+    move-result-object v9
 
-    invoke-virtual {v8}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
+    invoke-virtual {v9}, Lcom/android/internal/telephony/CommandsInterface$RadioState;->isOn()Z
 
-    move-result v8
+    move-result v9
 
-    if-eqz v8, :cond_5b
+    if-eqz v9, :cond_6d
 
     invoke-static {}, Landroid/content/res/Resources;->getSystem()Landroid/content/res/Resources;
 
-    move-result-object v8
+    move-result-object v9
 
-    const v9, 0x1040340
+    const v10, 0x1040340
 
-    invoke-virtual {v8, v9}, Landroid/content/res/Resources;->getText(I)Ljava/lang/CharSequence;
+    invoke-virtual {v9, v10}, Landroid/content/res/Resources;->getText(I)Ljava/lang/CharSequence;
 
-    move-result-object v8
+    move-result-object v9
 
-    invoke-virtual {v8}, Ljava/lang/Object;->toString()Ljava/lang/String;
+    invoke-virtual {v9}, Ljava/lang/Object;->toString()Ljava/lang/String;
 
     move-result-object v1
 
-    new-instance v8, Ljava/lang/StringBuilder;
+    new-instance v9, Ljava/lang/StringBuilder;
 
-    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string/jumbo v9, "updateSpnDisplay: emergency only and radio is on plmn=\'"
+    const-string/jumbo v10, "updateSpnDisplay: emergency only and radio is on plmn=\'"
 
-    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v8
+    move-result-object v9
 
-    invoke-virtual {v8, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v9, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v8
+    move-result-object v9
 
-    const-string v9, "\'"
+    const-string v10, "\'"
 
-    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v8
+    move-result-object v9
 
-    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v8
+    move-result-object v9
 
-    invoke-virtual {p0, v8}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->log(Ljava/lang/String;)V
+    invoke-virtual {p0, v9}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->log(Ljava/lang/String;)V
 
-    :cond_5b
-    iget v8, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->curSpnRule:I
+    :cond_6d
+    iget v9, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->curSpnRule:I
 
-    if-ne v2, v8, :cond_6f
+    if-ne v2, v9, :cond_81
 
-    iget-object v8, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->curSpn:Ljava/lang/String;
+    iget-object v9, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->curSpn:Ljava/lang/String;
 
-    invoke-static {v5, v8}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z
+    invoke-static {v6, v9}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z
 
-    move-result v8
+    move-result v9
 
-    if-eqz v8, :cond_6f
+    if-eqz v9, :cond_81
 
-    iget-object v8, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->curPlmn:Ljava/lang/String;
+    iget-object v9, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->curPlmn:Ljava/lang/String;
 
-    invoke-static {v1, v8}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z
+    invoke-static {v1, v9}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z
 
-    move-result v8
+    move-result v9
 
-    if-nez v8, :cond_ef
+    if-nez v9, :cond_101
 
-    :cond_6f
-    iget-boolean v8, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
+    :cond_81
+    iget-boolean v9, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
 
-    if-nez v8, :cond_f6
+    if-nez v9, :cond_112
 
-    invoke-static {v5}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z
+    invoke-static {v6}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z
 
-    move-result v8
+    move-result v9
 
-    if-nez v8, :cond_f6
+    if-nez v9, :cond_112
 
-    and-int/lit8 v8, v2, 0x1
+    and-int/lit8 v9, v2, 0x1
 
-    if-ne v8, v6, :cond_f6
+    if-ne v9, v7, :cond_112
 
-    move v4, v6
+    move v5, v7
 
-    :goto_7e
+    :goto_90
     invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z
 
-    move-result v8
+    move-result v9
 
-    if-nez v8, :cond_f8
+    if-nez v9, :cond_115
 
-    iget-boolean v8, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
+    iget-boolean v9, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->mEmergencyOnly:Z
 
-    if-nez v8, :cond_8c
+    if-nez v9, :cond_9e
 
-    and-int/lit8 v8, v2, 0x2
+    and-int/lit8 v9, v2, 0x2
 
-    if-ne v8, v11, :cond_f8
+    if-ne v9, v12, :cond_115
 
-    :cond_8c
-    move v3, v6
+    :cond_9e
+    move v4, v7
 
-    :goto_8d
-    new-instance v8, Ljava/lang/StringBuilder;
+    :goto_9f
+    new-instance v9, Ljava/lang/StringBuilder;
 
-    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V
+    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V
 
-    const-string/jumbo v9, "updateSpnDisplay: changed sending intent rule="
+    const-string/jumbo v10, "updateSpnDisplay: changed sending intent rule="
 
-    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v8
+    move-result-object v9
 
-    invoke-virtual {v8, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    invoke-virtual {v9, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    move-result-object v8
+    move-result-object v9
 
-    const-string v9, " showPlmn=\'%b\' plmn=\'%s\' showSpn=\'%b\' spn=\'%s\'"
+    const-string v10, " showPlmn=\'%b\' plmn=\'%s\' showSpn=\'%b\' spn=\'%s\'"
 
-    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v8
+    move-result-object v9
 
-    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v8
+    move-result-object v9
 
-    const/4 v9, 0x4
+    const/4 v10, 0x4
 
-    new-array v9, v9, [Ljava/lang/Object;
+    new-array v10, v10, [Ljava/lang/Object;
 
-    invoke-static {v3}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;
+    invoke-static {v4}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;
 
-    move-result-object v10
+    move-result-object v11
 
-    aput-object v10, v9, v7
+    aput-object v11, v10, v8
 
-    aput-object v1, v9, v6
+    aput-object v1, v10, v7
 
-    invoke-static {v4}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;
+    invoke-static {v5}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;
 
-    move-result-object v6
+    move-result-object v7
 
-    aput-object v6, v9, v11
+    aput-object v7, v10, v12
 
-    const/4 v6, 0x3
+    const/4 v7, 0x3
 
-    aput-object v5, v9, v6
+    aput-object v6, v10, v7
 
-    invoke-static {v8, v9}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
+    invoke-static {v9, v10}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
 
-    move-result-object v6
+    move-result-object v7
 
-    invoke-virtual {p0, v6}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->log(Ljava/lang/String;)V
+    invoke-virtual {p0, v7}, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->log(Ljava/lang/String;)V
 
     new-instance v0, Landroid/content/Intent;
 
-    const-string v6, "android.provider.Telephony.SPN_STRINGS_UPDATED"
+    const-string v7, "android.provider.Telephony.SPN_STRINGS_UPDATED"
 
-    invoke-direct {v0, v6}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V
+    invoke-direct {v0, v7}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V
 
-    const/high16 v6, 0x2000
+    const/high16 v7, 0x2000
 
-    invoke-virtual {v0, v6}, Landroid/content/Intent;->addFlags(I)Landroid/content/Intent;
+    invoke-virtual {v0, v7}, Landroid/content/Intent;->addFlags(I)Landroid/content/Intent;
 
-    const-string/jumbo v6, "showSpn"
+    const-string/jumbo v7, "showSpn"
 
-    invoke-virtual {v0, v6, v4}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Z)Landroid/content/Intent;
+    invoke-virtual {v0, v7, v5}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Z)Landroid/content/Intent;
 
-    const-string/jumbo v6, "spn"
+    const-string/jumbo v7, "spn"
 
-    invoke-virtual {v0, v6, v5}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
+    invoke-virtual {v0, v7, v6}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
 
-    const-string/jumbo v6, "showPlmn"
+    const-string/jumbo v7, "showPlmn"
 
-    invoke-virtual {v0, v6, v3}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Z)Landroid/content/Intent;
+    invoke-virtual {v0, v7, v4}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Z)Landroid/content/Intent;
 
-    const-string/jumbo v6, "plmn"
+    const-string/jumbo v7, "plmn"
 
-    invoke-virtual {v0, v6, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
+    invoke-virtual {v0, v7, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
 
-    iget-object v6, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
+    iget-object v7, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
 
-    invoke-virtual {v6}, Lcom/android/internal/telephony/gsm/GSMPhone;->getContext()Landroid/content/Context;
+    invoke-virtual {v7}, Lcom/android/internal/telephony/gsm/GSMPhone;->getContext()Landroid/content/Context;
 
-    move-result-object v6
+    move-result-object v7
 
-    invoke-virtual {v6, v0}, Landroid/content/Context;->sendStickyBroadcast(Landroid/content/Intent;)V
+    invoke-virtual {v7, v0}, Landroid/content/Context;->sendStickyBroadcast(Landroid/content/Intent;)V
 
-    :cond_ef
+    :cond_101
     iput v2, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->curSpnRule:I
 
-    iput-object v5, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->curSpn:Ljava/lang/String;
+    iput-object v6, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->curSpn:Ljava/lang/String;
 
     iput-object v1, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->curPlmn:Ljava/lang/String;
 
     return-void
 
-    :cond_f6
-    move v4, v7
+    :cond_108
+    iget-object v9, p0, Lcom/android/internal/telephony/gsm/GsmServiceStateTracker;->phone:Lcom/android/internal/telephony/gsm/GSMPhone;
+
+    iget-object v9, v9, Lcom/android/internal/telephony/gsm/GSMPhone;->mIccRecords:Lcom/android/internal/telephony/IccRecords;
+
+    invoke-virtual {v9}, Lcom/android/internal/telephony/IccRecords;->getServiceProviderName()Ljava/lang/String;
+
+    move-result-object v6
+
+    goto/16 :goto_2b
+
+    :cond_112
+    move v5, v8
 
-    goto :goto_7e
+    goto/16 :goto_90
 
-    :cond_f8
-    move v3, v7
+    :cond_115
+    move v4, v8
 
-    goto :goto_8d
+    goto :goto_9f
 .end method
diff -Npruw stock-framework/smali/com/android/internal/telephony/gsm/SimSmsInterfaceManager.smali pdroid-framework/smali/com/android/internal/telephony/gsm/SimSmsInterfaceManager.smali
--- stock-framework/smali/com/android/internal/telephony/gsm/SimSmsInterfaceManager.smali	2013-07-15 18:10:57.062627974 -0500
+++ pdroid-framework/smali/com/android/internal/telephony/gsm/SimSmsInterfaceManager.smali	2013-07-15 18:10:50.662628142 -0500
@@ -12,6 +12,10 @@
 
 
 # static fields
+.field protected static final ACCESS_TYPE_ICC:I = 0x1
+
+.field protected static final ACCESS_TYPE_SMS_MMS:I = 0x0
+
 .field static final DBG:Z = true
 
 .field private static final EVENT_LOAD_DONE:I = 0x1
@@ -24,6 +28,8 @@
 
 .field static final LOG_TAG:Ljava/lang/String; = "GSM"
 
+.field protected static final P_TAG:Ljava/lang/String; = "PrivacySMSInterfaceManager"
+
 .field private static final SMS_CB_CODE_SCHEME_MAX:I = 0xff
 
 .field private static final SMS_CB_CODE_SCHEME_MIN:I
@@ -63,6 +69,8 @@
 
 .field private mSuccess:Z
 
+.field protected pSetMan:Landroid/privacy/PrivacySettingsManager;
+
 
 # direct methods
 .method public constructor <init>(Lcom/android/internal/telephony/gsm/GSMPhone;Lcom/android/internal/telephony/SMSDispatcher;)V
@@ -342,66 +350,84 @@
 .method public copyMessageToIccEf(I[B[B)Z
     .registers 10
 
-    new-instance v2, Ljava/lang/StringBuilder;
+    const/4 v2, 0x0
 
-    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+    new-instance v3, Ljava/lang/StringBuilder;
 
-    const-string v3, "copyMessageToIccEf: status="
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, "copyMessageToIccEf: status="
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move-result-object v3
 
-    move-result-object v2
+    invoke-virtual {v3, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v3, " ==> "
+    move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, " ==> "
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    const-string/jumbo v3, "pdu=("
+    move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string/jumbo v4, "pdu=("
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
 
     invoke-static {p2}, Ljava/util/Arrays;->toString([B)Ljava/lang/String;
 
-    move-result-object v3
+    move-result-object v4
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v2
+    move-result-object v3
 
-    const-string v3, "), smsm=("
+    const-string v4, "), smsm=("
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    move-result-object v2
+    move-result-object v3
 
     invoke-static {p3}, Ljava/util/Arrays;->toString([B)Ljava/lang/String;
 
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
     move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v4, ")"
 
-    move-result-object v2
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    const-string v3, ")"
+    move-result-object v3
 
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v2
+    move-result-object v3
 
-    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {p0, v3}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    move-result-object v2
+    invoke-virtual {p0}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
 
-    invoke-virtual {p0, v2}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
+    move-result-object v3
+
+    const/4 v4, 0x1
 
+    invoke-virtual {p0, v3, v4}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v3
+
+    if-nez v3, :cond_4c
+
+    :goto_4b
+    return v2
+
+    :cond_4c
     const-string v2, "Copying message to SIM"
 
     invoke-virtual {p0, v2}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->enforceReceiveAndSend(Ljava/lang/String;)V
@@ -412,7 +438,7 @@
 
     const/4 v2, 0x0
 
-    :try_start_48
+    :try_start_55
     iput-boolean v2, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mSuccess:Z
 
     iget-object v2, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mHandler:Landroid/os/Handler;
@@ -436,43 +462,43 @@
     move-result-object v5
 
     invoke-interface {v2, p1, v4, v5, v1}, Lcom/android/internal/telephony/CommandsInterface;->writeSmsToSim(ILjava/lang/String;Ljava/lang/String;Landroid/os/Message;)V
-    :try_end_60
-    .catchall {:try_start_48 .. :try_end_60} :catchall_70
+    :try_end_6d
+    .catchall {:try_start_55 .. :try_end_6d} :catchall_7d
 
-    :try_start_60
+    :try_start_6d
     iget-object v2, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v2}, Ljava/lang/Object;->wait()V
-    :try_end_65
-    .catchall {:try_start_60 .. :try_end_65} :catchall_70
-    .catch Ljava/lang/InterruptedException; {:try_start_60 .. :try_end_65} :catch_69
+    :try_end_72
+    .catchall {:try_start_6d .. :try_end_72} :catchall_7d
+    .catch Ljava/lang/InterruptedException; {:try_start_6d .. :try_end_72} :catch_76
 
-    :goto_65
-    :try_start_65
+    :goto_72
+    :try_start_72
     monitor-exit v3
-    :try_end_66
-    .catchall {:try_start_65 .. :try_end_66} :catchall_70
+    :try_end_73
+    .catchall {:try_start_72 .. :try_end_73} :catchall_7d
 
     iget-boolean v2, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mSuccess:Z
 
-    return v2
+    goto :goto_4b
 
-    :catch_69
+    :catch_76
     move-exception v0
 
-    :try_start_6a
+    :try_start_77
     const-string v2, "interrupted while trying to update by index"
 
     invoke-virtual {p0, v2}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    goto :goto_65
+    goto :goto_72
 
-    :catchall_70
+    :catchall_7d
     move-exception v2
 
     monitor-exit v3
-    :try_end_72
-    .catchall {:try_start_6a .. :try_end_72} :catchall_70
+    :try_end_7f
+    .catchall {:try_start_77 .. :try_end_7f} :catchall_7d
 
     throw v2
 .end method
@@ -834,10 +860,30 @@
         }
     .end annotation
 
+    const/4 v4, 0x1
+
     const-string v3, "getAllMessagesFromEF"
 
     invoke-virtual {p0, v3}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
+    invoke-virtual {p0}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {p0, v3, v4}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v3
+
+    if-nez v3, :cond_16
+
+    new-instance v3, Ljava/util/ArrayList;
+
+    invoke-direct {v3}, Ljava/util/ArrayList;-><init>()V
+
+    :goto_15
+    return-object v3
+
+    :cond_16
     iget-object v3, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mPhone:Lcom/android/internal/telephony/PhoneBase;
 
     invoke-virtual {v3}, Lcom/android/internal/telephony/PhoneBase;->getContext()Landroid/content/Context;
@@ -854,7 +900,7 @@
 
     monitor-enter v4
 
-    :try_start_15
+    :try_start_26
     iget-object v3, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mHandler:Landroid/os/Handler;
 
     const/4 v5, 0x1
@@ -872,47 +918,360 @@
     const/16 v5, 0x6f3c
 
     invoke-virtual {v3, v5, v2}, Lcom/android/internal/telephony/IccFileHandler;->loadEFLinearFixedAll(ILandroid/os/Message;)V
-    :try_end_27
-    .catchall {:try_start_15 .. :try_end_27} :catchall_37
+    :try_end_38
+    .catchall {:try_start_26 .. :try_end_38} :catchall_48
 
-    :try_start_27
+    :try_start_38
     iget-object v3, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v3}, Ljava/lang/Object;->wait()V
-    :try_end_2c
-    .catchall {:try_start_27 .. :try_end_2c} :catchall_37
-    .catch Ljava/lang/InterruptedException; {:try_start_27 .. :try_end_2c} :catch_30
+    :try_end_3d
+    .catchall {:try_start_38 .. :try_end_3d} :catchall_48
+    .catch Ljava/lang/InterruptedException; {:try_start_38 .. :try_end_3d} :catch_41
 
-    :goto_2c
-    :try_start_2c
+    :goto_3d
+    :try_start_3d
     monitor-exit v4
-    :try_end_2d
-    .catchall {:try_start_2c .. :try_end_2d} :catchall_37
+    :try_end_3e
+    .catchall {:try_start_3d .. :try_end_3e} :catchall_48
 
     iget-object v3, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mSms:Ljava/util/List;
 
-    return-object v3
+    goto :goto_15
 
-    :catch_30
+    :catch_41
     move-exception v1
 
-    :try_start_31
+    :try_start_42
     const-string v3, "interrupted while trying to load from the SIM"
 
     invoke-virtual {p0, v3}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    goto :goto_2c
+    goto :goto_3d
 
-    :catchall_37
+    :catchall_48
     move-exception v3
 
     monitor-exit v4
-    :try_end_39
-    .catchall {:try_start_31 .. :try_end_39} :catchall_37
+    :try_end_4a
+    .catchall {:try_start_42 .. :try_end_4a} :catchall_48
 
     throw v3
 .end method
 
+.method protected getPackageName()[Ljava/lang/String;
+    .registers 4
+
+    iget-object v2, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mContext:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageManager()Landroid/content/pm/PackageManager;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    invoke-virtual {v1, v2}, Landroid/content/pm/PackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method protected isAllowed([Ljava/lang/String;I)Z
+    .registers 12
+
+    const/4 v8, -0x1
+
+    const/4 v4, 0x1
+
+    const/4 v3, 0x0
+
+    packed-switch p2, :pswitch_data_e8
+
+    const/4 v5, 0x0
+
+    :try_start_7
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    :goto_e
+    return v3
+
+    :pswitch_f
+    const/4 v2, 0x0
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_27
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string/jumbo v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_27
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_7f
+
+    if-eqz p1, :cond_7f
+
+    const/4 v1, 0x0
+
+    :goto_2e
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_76
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_72
+
+    if-eqz v2, :cond_72
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getSmsSendSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_72
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+    :try_end_4c
+    .catch Ljava/lang/Exception; {:try_start_7 .. :try_end_4c} :catch_4d
+
+    goto :goto_e
+
+    :catch_4d
+    move-exception v0
+
+    const-string v5, "PrivacySMSInterfaceManager"
+
+    const-string v6, "Got exception while checking for sms or ICC acess permission"
+
+    invoke-static {v5, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    if-eqz p1, :cond_70
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_70
+
+    array-length v5, p1
+
+    if-lez v5, :cond_70
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v3
+
+    invoke-virtual {v5, v6, v8}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_70
+
+    aget-object v5, p1, v3
+
+    invoke-virtual {p0, p2, v5, v3}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    :cond_70
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_72
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_2e
+
+    :cond_76
+    const/4 v5, 0x0
+
+    :try_start_77
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_7f
+    if-eqz p1, :cond_8b
+
+    array-length v5, p1
+
+    if-lez v5, :cond_8b
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    :cond_8b
+    move v3, v4
+
+    goto :goto_e
+
+    :pswitch_8d
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_a4
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string/jumbo v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_a4
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_d9
+
+    if-eqz p1, :cond_d9
+
+    const/4 v1, 0x0
+
+    :goto_ab
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_cf
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_cb
+
+    if-eqz v2, :cond_cb
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getIccAccessSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_cb
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    goto/16 :goto_e
+
+    :cond_cb
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_ab
+
+    :cond_cf
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :cond_d9
+    if-eqz p1, :cond_e5
+
+    array-length v5, p1
+
+    if-lez v5, :cond_e5
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->notify(ILjava/lang/String;B)V
+    :try_end_e5
+    .catch Ljava/lang/Exception; {:try_start_77 .. :try_end_e5} :catch_4d
+
+    :cond_e5
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :pswitch_data_e8
+    .packed-switch 0x0
+        :pswitch_f
+        :pswitch_8d
+    .end packed-switch
+.end method
+
 .method protected log(Ljava/lang/String;)V
     .registers 5
 
@@ -941,65 +1300,132 @@
     return-void
 .end method
 
+.method protected notify(ILjava/lang/String;B)V
+    .registers 11
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    packed-switch p1, :pswitch_data_1c
+
+    :goto_5
+    return-void
+
+    :pswitch_6
+    iget-object v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "SmsSend"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_11
+    iget-object v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "iccAccess"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_data_1c
+    .packed-switch 0x0
+        :pswitch_6
+        :pswitch_11
+    .end packed-switch
+.end method
+
 .method public updateMessageOnIccEf(II[B)Z
     .registers 12
 
-    new-instance v0, Ljava/lang/StringBuilder;
+    const/4 v0, 0x0
 
-    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V
+    new-instance v1, Ljava/lang/StringBuilder;
 
-    const-string/jumbo v1, "updateMessageOnIccEf: index="
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string/jumbo v2, "updateMessageOnIccEf: index="
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move-result-object v1
 
-    move-result-object v0
+    invoke-virtual {v1, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v1, " status="
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, " status="
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    invoke-virtual {v0, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+    move-result-object v1
 
-    move-result-object v0
+    invoke-virtual {v1, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
 
-    const-string v1, " ==> "
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, " ==> "
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    const-string v1, "("
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, "("
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
 
     invoke-static {p3}, Ljava/util/Arrays;->toString([B)Ljava/lang/String;
 
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
     move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    const-string v2, ")"
 
-    move-result-object v0
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
-    const-string v1, ")"
+    move-result-object v1
 
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
 
-    move-result-object v0
+    move-result-object v1
 
-    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+    invoke-virtual {p0, v1}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
 
-    move-result-object v0
+    invoke-virtual {p0}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->getPackageName()[Ljava/lang/String;
 
-    invoke-virtual {p0, v0}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
+    move-result-object v1
+
+    const/4 v2, 0x1
+
+    invoke-virtual {p0, v1, v2}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v1
+
+    if-nez v1, :cond_48
 
+    :goto_47
+    return v0
+
+    :cond_48
     const-string v0, "Updating message on SIM"
 
     invoke-virtual {p0, v0}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->enforceReceiveAndSend(Ljava/lang/String;)V
@@ -1010,7 +1436,7 @@
 
     const/4 v0, 0x0
 
-    :try_start_44
+    :try_start_51
     iput-boolean v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mSuccess:Z
 
     iget-object v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mHandler:Landroid/os/Handler;
@@ -1021,37 +1447,37 @@
 
     move-result-object v5
 
-    if-nez p2, :cond_5f
+    if-nez p2, :cond_6c
 
     iget-object v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mPhone:Lcom/android/internal/telephony/PhoneBase;
 
     iget-object v0, v0, Lcom/android/internal/telephony/PhoneBase;->mCM:Lcom/android/internal/telephony/CommandsInterface;
 
     invoke-interface {v0, p1, v5}, Lcom/android/internal/telephony/CommandsInterface;->deleteSmsOnSim(ILandroid/os/Message;)V
-    :try_end_56
-    .catchall {:try_start_44 .. :try_end_56} :catchall_71
+    :try_end_63
+    .catchall {:try_start_51 .. :try_end_63} :catchall_7e
 
-    :goto_56
-    :try_start_56
+    :goto_63
+    :try_start_63
     iget-object v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mLock:Ljava/lang/Object;
 
     invoke-virtual {v0}, Ljava/lang/Object;->wait()V
-    :try_end_5b
-    .catchall {:try_start_56 .. :try_end_5b} :catchall_71
-    .catch Ljava/lang/InterruptedException; {:try_start_56 .. :try_end_5b} :catch_74
+    :try_end_68
+    .catchall {:try_start_63 .. :try_end_68} :catchall_7e
+    .catch Ljava/lang/InterruptedException; {:try_start_63 .. :try_end_68} :catch_81
 
-    :goto_5b
-    :try_start_5b
+    :goto_68
+    :try_start_68
     monitor-exit v7
-    :try_end_5c
-    .catchall {:try_start_5b .. :try_end_5c} :catchall_71
+    :try_end_69
+    .catchall {:try_start_68 .. :try_end_69} :catchall_7e
 
     iget-boolean v0, p0, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->mSuccess:Z
 
-    return v0
+    goto :goto_47
 
-    :cond_5f
-    :try_start_5f
+    :cond_6c
+    :try_start_6c
     invoke-virtual {p0, p2, p3}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->makeSmsRecordData(I[B)[B
 
     move-result-object v3
@@ -1070,26 +1496,26 @@
 
     invoke-virtual/range {v0 .. v5}, Lcom/android/internal/telephony/IccFileHandler;->updateEFLinearFixed(II[BLjava/lang/String;Landroid/os/Message;)V
 
-    goto :goto_56
+    goto :goto_63
 
-    :catchall_71
+    :catchall_7e
     move-exception v0
 
     monitor-exit v7
-    :try_end_73
-    .catchall {:try_start_5f .. :try_end_73} :catchall_71
+    :try_end_80
+    .catchall {:try_start_6c .. :try_end_80} :catchall_7e
 
     throw v0
 
-    :catch_74
+    :catch_81
     move-exception v6
 
-    :try_start_75
+    :try_start_82
     const-string v0, "interrupted while trying to update by index"
 
     invoke-virtual {p0, v0}, Lcom/android/internal/telephony/gsm/SimSmsInterfaceManager;->log(Ljava/lang/String;)V
-    :try_end_7a
-    .catchall {:try_start_75 .. :try_end_7a} :catchall_71
+    :try_end_87
+    .catchall {:try_start_82 .. :try_end_87} :catchall_7e
 
-    goto :goto_5b
+    goto :goto_68
 .end method
diff -Npruw stock-framework/smali/com/android/internal/telephony/PhoneFactory.smali pdroid-framework/smali/com/android/internal/telephony/PhoneFactory.smali
--- stock-framework/smali/com/android/internal/telephony/PhoneFactory.smali	2013-07-15 18:10:56.954627976 -0500
+++ pdroid-framework/smali/com/android/internal/telephony/PhoneFactory.smali	2013-07-15 18:10:50.558628144 -0500
@@ -64,7 +64,7 @@
 
     packed-switch v1, :pswitch_data_26
 
-    new-instance v0, Lcom/android/internal/telephony/cdma/CDMAPhone;
+    new-instance v0, Landroid/privacy/surrogate/PrivacyCDMAPhone;
 
     sget-object v1, Lcom/android/internal/telephony/PhoneFactory;->sContext:Landroid/content/Context;
 
@@ -72,7 +72,7 @@
 
     sget-object v4, Lcom/android/internal/telephony/PhoneFactory;->sPhoneNotifier:Lcom/android/internal/telephony/PhoneNotifier;
 
-    invoke-direct {v0, v1, v3, v4}, Lcom/android/internal/telephony/cdma/CDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v3, v4}, Landroid/privacy/surrogate/PrivacyCDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     :goto_15
     monitor-exit v2
@@ -80,7 +80,7 @@
     return-object v0
 
     :pswitch_17
-    new-instance v0, Lcom/android/internal/telephony/cdma/CDMALTEPhone;
+    new-instance v0, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;
 
     sget-object v1, Lcom/android/internal/telephony/PhoneFactory;->sContext:Landroid/content/Context;
 
@@ -88,7 +88,7 @@
 
     sget-object v4, Lcom/android/internal/telephony/PhoneFactory;->sPhoneNotifier:Lcom/android/internal/telephony/PhoneNotifier;
 
-    invoke-direct {v0, v1, v3, v4}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v3, v4}, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     goto :goto_15
 
@@ -153,7 +153,7 @@
     monitor-enter v2
 
     :try_start_3
-    new-instance v0, Lcom/android/internal/telephony/gsm/GSMPhone;
+    new-instance v0, Landroid/privacy/surrogate/PrivacyGSMPhone;
 
     sget-object v1, Lcom/android/internal/telephony/PhoneFactory;->sContext:Landroid/content/Context;
 
@@ -161,7 +161,7 @@
 
     sget-object v4, Lcom/android/internal/telephony/PhoneFactory;->sPhoneNotifier:Lcom/android/internal/telephony/PhoneNotifier;
 
-    invoke-direct {v0, v1, v3, v4}, Lcom/android/internal/telephony/gsm/GSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v3, v4}, Landroid/privacy/surrogate/PrivacyGSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     monitor-exit v2
 
@@ -238,7 +238,7 @@
     :try_start_3
     sget-boolean v16, Lcom/android/internal/telephony/PhoneFactory;->sMadeDefaults:Z
 
-    if-nez v16, :cond_185
+    if-nez v16, :cond_187
 
     invoke-static {}, Landroid/os/Looper;->myLooper()Landroid/os/Looper;
 
@@ -293,10 +293,10 @@
     invoke-direct {v0, v1}, Landroid/net/LocalServerSocket;-><init>(Ljava/lang/String;)V
     :try_end_31
     .catchall {:try_start_26 .. :try_end_31} :catchall_1f
-    .catch Ljava/io/IOException; {:try_start_26 .. :try_end_31} :catch_187
+    .catch Ljava/io/IOException; {:try_start_26 .. :try_end_31} :catch_189
 
     :goto_31
-    if-nez v9, :cond_18b
+    if-nez v9, :cond_18d
 
     :try_start_33
     new-instance v16, Lcom/android/internal/telephony/DefaultPhoneNotifier;
@@ -379,7 +379,7 @@
 
     move-result v10
 
-    packed-switch v10, :pswitch_data_236
+    packed-switch v10, :pswitch_data_23c
 
     invoke-virtual/range {p0 .. p0}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
 
@@ -580,7 +580,7 @@
     sput-object v16, Lcom/android/internal/telephony/PhoneFactory;->sCommandsInterface:Lcom/android/internal/telephony/CommandsInterface;
     :try_end_150
     .catchall {:try_start_ed .. :try_end_150} :catchall_1f
-    .catch Ljava/lang/Exception; {:try_start_ed .. :try_end_150} :catch_1c3
+    .catch Ljava/lang/Exception; {:try_start_ed .. :try_end_150} :catch_1c5
 
     :try_start_150
     invoke-static {v11}, Lcom/android/internal/telephony/PhoneFactory;->getPhoneType(I)I
@@ -591,7 +591,7 @@
 
     move/from16 v0, v16
 
-    if-ne v12, v0, :cond_1d7
+    if-ne v12, v0, :cond_1d9
 
     const-string v16, "PHONE"
 
@@ -603,9 +603,9 @@
 
     invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
 
-    new-instance v16, Lcom/android/internal/telephony/PhoneProxy;
+    new-instance v16, Landroid/privacy/surrogate/PrivacyPhoneProxy;
 
-    new-instance v18, Lcom/android/internal/telephony/gsm/GSMPhone;
+    new-instance v18, Landroid/privacy/surrogate/PrivacyGSMPhone;
 
     sget-object v19, Lcom/android/internal/telephony/PhoneFactory;->sCommandsInterface:Lcom/android/internal/telephony/CommandsInterface;
 
@@ -619,40 +619,42 @@
 
     move-object/from16 v3, v20
 
-    invoke-direct {v0, v1, v2, v3}, Lcom/android/internal/telephony/gsm/GSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v2, v3}, Landroid/privacy/surrogate/PrivacyGSMPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     move-object/from16 v0, v16
 
     move-object/from16 v1, v18
 
-    invoke-direct {v0, v1}, Lcom/android/internal/telephony/PhoneProxy;-><init>(Lcom/android/internal/telephony/Phone;)V
+    move-object/from16 v2, p0
+
+    invoke-direct {v0, v1, v2}, Landroid/privacy/surrogate/PrivacyPhoneProxy;-><init>(Lcom/android/internal/telephony/Phone;Landroid/content/Context;)V
 
     sput-object v16, Lcom/android/internal/telephony/PhoneFactory;->sProxyPhone:Lcom/android/internal/telephony/Phone;
 
-    :cond_181
-    :goto_181
+    :cond_183
+    :goto_183
     const/16 v16, 0x1
 
     sput-boolean v16, Lcom/android/internal/telephony/PhoneFactory;->sMadeDefaults:Z
 
-    :cond_185
+    :cond_187
     monitor-exit v17
 
     return-void
 
-    :catch_187
+    :catch_189
     move-exception v8
 
     const/4 v9, 0x1
 
     goto/16 :goto_31
 
-    :cond_18b
+    :cond_18d
     const/16 v16, 0x3
 
     move/from16 v0, v16
 
-    if-le v14, v0, :cond_19d
+    if-le v14, v0, :cond_19f
 
     new-instance v16, Ljava/lang/RuntimeException;
 
@@ -665,29 +667,29 @@
     invoke-direct {v0, v1}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
 
     throw v16
-    :try_end_19d
-    .catchall {:try_start_150 .. :try_end_19d} :catchall_1f
+    :try_end_19f
+    .catchall {:try_start_150 .. :try_end_19f} :catchall_1f
 
-    :cond_19d
+    :cond_19f
     const-wide/16 v18, 0x7d0
 
-    :try_start_19f
+    :try_start_1a1
     invoke-static/range {v18 .. v19}, Ljava/lang/Thread;->sleep(J)V
-    :try_end_1a2
-    .catchall {:try_start_19f .. :try_end_1a2} :catchall_1f
-    .catch Ljava/lang/InterruptedException; {:try_start_19f .. :try_end_1a2} :catch_1a4
+    :try_end_1a4
+    .catchall {:try_start_1a1 .. :try_end_1a4} :catchall_1f
+    .catch Ljava/lang/InterruptedException; {:try_start_1a1 .. :try_end_1a4} :catch_1a6
 
     goto/16 :goto_23
 
-    :catch_1a4
+    :catch_1a6
     move-exception v16
 
     goto/16 :goto_23
 
-    :pswitch_1a7
+    :pswitch_1a9
     const/4 v4, 0x1
 
-    :try_start_1a8
+    :try_start_1aa
     const-string v16, "PHONE"
 
     const-string v18, "lteOnCdma is 0 use SUBSCRIPTION_FROM_NV"
@@ -700,7 +702,7 @@
 
     goto/16 :goto_a4
 
-    :pswitch_1b5
+    :pswitch_1b7
     const/4 v4, 0x0
 
     const-string v16, "PHONE"
@@ -715,7 +717,7 @@
 
     goto/16 :goto_a4
 
-    :catch_1c3
+    :catch_1c5
     move-exception v7
 
     const-string v16, "PHONE"
@@ -736,18 +738,18 @@
 
     throw v16
 
-    :cond_1d7
+    :cond_1d9
     const/16 v16, 0x2
 
     move/from16 v0, v16
 
-    if-ne v12, v0, :cond_181
+    if-ne v12, v0, :cond_183
 
     invoke-static {}, Lcom/android/internal/telephony/BaseCommands;->getLteOnCdmaModeStatic()I
 
     move-result v16
 
-    packed-switch v16, :pswitch_data_23e
+    packed-switch v16, :pswitch_data_244
 
     const-string v16, "PHONE"
 
@@ -759,9 +761,9 @@
 
     invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
 
-    new-instance v16, Lcom/android/internal/telephony/PhoneProxy;
+    new-instance v16, Landroid/privacy/surrogate/PrivacyPhoneProxy;
 
-    new-instance v18, Lcom/android/internal/telephony/cdma/CDMAPhone;
+    new-instance v18, Landroid/privacy/surrogate/PrivacyCDMAPhone;
 
     sget-object v19, Lcom/android/internal/telephony/PhoneFactory;->sCommandsInterface:Lcom/android/internal/telephony/CommandsInterface;
 
@@ -775,19 +777,21 @@
 
     move-object/from16 v3, v20
 
-    invoke-direct {v0, v1, v2, v3}, Lcom/android/internal/telephony/cdma/CDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v2, v3}, Landroid/privacy/surrogate/PrivacyCDMAPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     move-object/from16 v0, v16
 
     move-object/from16 v1, v18
 
-    invoke-direct {v0, v1}, Lcom/android/internal/telephony/PhoneProxy;-><init>(Lcom/android/internal/telephony/Phone;)V
+    move-object/from16 v2, p0
+
+    invoke-direct {v0, v1, v2}, Landroid/privacy/surrogate/PrivacyPhoneProxy;-><init>(Lcom/android/internal/telephony/Phone;Landroid/content/Context;)V
 
     sput-object v16, Lcom/android/internal/telephony/PhoneFactory;->sProxyPhone:Lcom/android/internal/telephony/Phone;
 
-    goto/16 :goto_181
+    goto/16 :goto_183
 
-    :pswitch_20d
+    :pswitch_211
     const-string v16, "PHONE"
 
     const-string v18, "Creating CDMALTEPhone"
@@ -798,9 +802,9 @@
 
     invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
 
-    new-instance v16, Lcom/android/internal/telephony/PhoneProxy;
+    new-instance v16, Landroid/privacy/surrogate/PrivacyPhoneProxy;
 
-    new-instance v18, Lcom/android/internal/telephony/cdma/CDMALTEPhone;
+    new-instance v18, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;
 
     sget-object v19, Lcom/android/internal/telephony/PhoneFactory;->sCommandsInterface:Lcom/android/internal/telephony/CommandsInterface;
 
@@ -814,29 +818,31 @@
 
     move-object/from16 v3, v20
 
-    invoke-direct {v0, v1, v2, v3}, Lcom/android/internal/telephony/cdma/CDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
+    invoke-direct {v0, v1, v2, v3}, Landroid/privacy/surrogate/PrivacyCDMALTEPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/CommandsInterface;Lcom/android/internal/telephony/PhoneNotifier;)V
 
     move-object/from16 v0, v16
 
     move-object/from16 v1, v18
 
-    invoke-direct {v0, v1}, Lcom/android/internal/telephony/PhoneProxy;-><init>(Lcom/android/internal/telephony/Phone;)V
+    move-object/from16 v2, p0
+
+    invoke-direct {v0, v1, v2}, Landroid/privacy/surrogate/PrivacyPhoneProxy;-><init>(Lcom/android/internal/telephony/Phone;Landroid/content/Context;)V
 
     sput-object v16, Lcom/android/internal/telephony/PhoneFactory;->sProxyPhone:Lcom/android/internal/telephony/Phone;
-    :try_end_234
-    .catchall {:try_start_1a8 .. :try_end_234} :catchall_1f
+    :try_end_23a
+    .catchall {:try_start_1aa .. :try_end_23a} :catchall_1f
 
-    goto/16 :goto_181
+    goto/16 :goto_183
 
-    :pswitch_data_236
+    :pswitch_data_23c
     .packed-switch 0x0
-        :pswitch_1a7
-        :pswitch_1b5
+        :pswitch_1a9
+        :pswitch_1b7
     .end packed-switch
 
-    :pswitch_data_23e
+    :pswitch_data_244
     .packed-switch 0x1
-        :pswitch_20d
+        :pswitch_211
     .end packed-switch
 .end method
 
diff -Npruw stock-framework/smali/com/android/internal/telephony/sip/SipPhoneFactory.smali pdroid-framework/smali/com/android/internal/telephony/sip/SipPhoneFactory.smali
--- stock-framework/smali/com/android/internal/telephony/sip/SipPhoneFactory.smali	2013-07-15 18:10:57.074627974 -0500
+++ pdroid-framework/smali/com/android/internal/telephony/sip/SipPhoneFactory.smali	2013-07-15 18:10:50.674628141 -0500
@@ -24,9 +24,9 @@
 
     move-result-object v1
 
-    new-instance v2, Lcom/android/internal/telephony/sip/SipPhone;
+    new-instance v2, Landroid/privacy/surrogate/PrivacySipPhone;
 
-    invoke-direct {v2, p1, p2, v1}, Lcom/android/internal/telephony/sip/SipPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
+    invoke-direct {v2, p1, p2, v1}, Landroid/privacy/surrogate/PrivacySipPhone;-><init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
     :try_end_e
     .catch Ljava/text/ParseException; {:try_start_0 .. :try_end_e} :catch_f
 
diff -Npruw stock-framework/smali/com/android/internal/telephony/sip/SipPhone.smali pdroid-framework/smali/com/android/internal/telephony/sip/SipPhone.smali
--- stock-framework/smali/com/android/internal/telephony/sip/SipPhone.smali	2013-07-15 18:10:57.074627974 -0500
+++ pdroid-framework/smali/com/android/internal/telephony/sip/SipPhone.smali	2013-07-15 18:10:49.790628165 -0500
@@ -39,7 +39,7 @@
 
 
 # direct methods
-.method constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
+.method public constructor <init>(Landroid/content/Context;Lcom/android/internal/telephony/PhoneNotifier;Landroid/net/sip/SipProfile;)V
     .registers 8
 
     const/4 v3, 0x0
diff -Npruw stock-framework/smali/com/android/internal/telephony/SMSDispatcher.smali pdroid-framework/smali/com/android/internal/telephony/SMSDispatcher.smali
--- stock-framework/smali/com/android/internal/telephony/SMSDispatcher.smali	2013-07-15 18:10:56.962627977 -0500
+++ pdroid-framework/smali/com/android/internal/telephony/SMSDispatcher.smali	2013-07-15 18:10:50.562628144 -0500
@@ -14,6 +14,10 @@
 
 
 # static fields
+.field protected static final ACCESS_TYPE_ICC:I = 0x1
+
+.field protected static final ACCESS_TYPE_SMS_MMS:I = 0x0
+
 .field private static final DESTINATION_PORT_COLUMN:I = 0x2
 
 .field protected static final EVENT_NEW_SMS:I = 0x1
@@ -38,6 +42,8 @@
 
 .field private static final PDU_SEQUENCE_PORT_PROJECTION:[Ljava/lang/String; = null
 
+.field protected static final P_TAG:Ljava/lang/String; = "PrivacySMSDispatcher"
+
 .field public static final RECEIVE_EMERGENCY_BROADCAST_PERMISSION:Ljava/lang/String; = "android.permission.RECEIVE_EMERGENCY_BROADCAST"
 
 .field public static final RECEIVE_SMS_PERMISSION:Ljava/lang/String; = "android.permission.RECEIVE_SMS"
@@ -105,6 +111,8 @@
 
 .field protected final mWapPush:Lcom/android/internal/telephony/WapPushOverSms;
 
+.field protected pSetMan:Landroid/privacy/PrivacySettingsManager;
+
 
 # direct methods
 .method static constructor <clinit>()V
@@ -168,7 +176,9 @@
 .end method
 
 .method protected constructor <init>(Lcom/android/internal/telephony/PhoneBase;Lcom/android/internal/telephony/SmsStorageMonitor;Lcom/android/internal/telephony/SmsUsageMonitor;)V
-    .registers 8
+    .registers 9
+
+    const/4 v4, 0x0
 
     const/4 v2, 0x0
 
@@ -238,9 +248,7 @@
 
     new-instance v0, Lcom/android/internal/telephony/SMSDispatcher$MockSmsReceiver;
 
-    const/4 v3, 0x0
-
-    invoke-direct {v0, p0, v3}, Lcom/android/internal/telephony/SMSDispatcher$MockSmsReceiver;-><init>(Lcom/android/internal/telephony/SMSDispatcher;Lcom/android/internal/telephony/SMSDispatcher$1;)V
+    invoke-direct {v0, p0, v4}, Lcom/android/internal/telephony/SMSDispatcher$MockSmsReceiver;-><init>(Lcom/android/internal/telephony/SMSDispatcher;Lcom/android/internal/telephony/SMSDispatcher$1;)V
 
     iput-object v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->mMockSmsReceiver:Lcom/android/internal/telephony/SMSDispatcher$MockSmsReceiver;
 
@@ -250,6 +258,25 @@
 
     invoke-direct {p0}, Lcom/android/internal/telephony/SMSDispatcher;->createWakelock()V
 
+    iget-object v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v0, :cond_68
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v3, "privacy"
+
+    invoke-static {v3}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v3
+
+    invoke-static {v3}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v3
+
+    invoke-direct {v0, v4, v3}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    :cond_68
     iget-object v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->mContext:Landroid/content/Context;
 
     invoke-virtual {v0}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
@@ -272,11 +299,11 @@
 
     move-result v0
 
-    if-nez v0, :cond_bf
+    if-nez v0, :cond_d3
 
     move v0, v1
 
-    :goto_6f
+    :goto_83
     iput-boolean v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->mSmsReceiveDisabled:Z
 
     const-string/jumbo v0, "telephony.sms.send"
@@ -287,9 +314,9 @@
 
     move-result v0
 
-    if-nez v0, :cond_c1
+    if-nez v0, :cond_d5
 
-    :goto_7c
+    :goto_90
     iput-boolean v1, p0, Lcom/android/internal/telephony/SMSDispatcher;->mSmsSendDisabled:Z
 
     const-string v0, "SMS"
@@ -356,15 +383,15 @@
 
     return-void
 
-    :cond_bf
+    :cond_d3
     move v0, v2
 
-    goto :goto_6f
+    goto :goto_83
 
-    :cond_c1
+    :cond_d5
     move v1, v2
 
-    goto :goto_7c
+    goto :goto_90
 .end method
 
 .method private createWakelock()V
@@ -1008,6 +1035,26 @@
 .method protected abstract getFormat()Ljava/lang/String;
 .end method
 
+.method protected getPackageName()[Ljava/lang/String;
+    .registers 4
+
+    iget-object v2, p0, Lcom/android/internal/telephony/SMSDispatcher;->mContext:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageManager()Landroid/content/pm/PackageManager;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    invoke-virtual {v1, v2}, Landroid/content/pm/PackageManager;->getPackagesForUid(I)[Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
 .method public handleMessage(Landroid/os/Message;)V
     .registers 12
 
@@ -1545,6 +1592,348 @@
     goto/16 :goto_3e
 .end method
 
+.method protected isAllowed([Ljava/lang/String;I)Z
+    .registers 12
+
+    const/4 v8, -0x1
+
+    const/4 v4, 0x1
+
+    const/4 v3, 0x0
+
+    packed-switch p2, :pswitch_data_e8
+
+    const/4 v5, 0x0
+
+    :try_start_7
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    :goto_e
+    return v3
+
+    :pswitch_f
+    const/4 v2, 0x0
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_27
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string/jumbo v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_27
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_7f
+
+    if-eqz p1, :cond_7f
+
+    const/4 v1, 0x0
+
+    :goto_2e
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_76
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_72
+
+    if-eqz v2, :cond_72
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getSmsSendSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_72
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+    :try_end_4c
+    .catch Ljava/lang/Exception; {:try_start_7 .. :try_end_4c} :catch_4d
+
+    goto :goto_e
+
+    :catch_4d
+    move-exception v0
+
+    const-string v5, "PrivacySMSDispatcher"
+
+    const-string v6, "Got exception while checking for sms or ICC acess permission"
+
+    invoke-static {v5, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual {v0}, Ljava/lang/Exception;->printStackTrace()V
+
+    if-eqz p1, :cond_70
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_70
+
+    array-length v5, p1
+
+    if-lez v5, :cond_70
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v3
+
+    invoke-virtual {v5, v6, v8}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_70
+
+    aget-object v5, p1, v3
+
+    invoke-virtual {p0, p2, v5, v3}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    :cond_70
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_72
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_2e
+
+    :cond_76
+    const/4 v5, 0x0
+
+    :try_start_77
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto :goto_e
+
+    :cond_7f
+    if-eqz p1, :cond_8b
+
+    array-length v5, p1
+
+    if-lez v5, :cond_8b
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    :cond_8b
+    move v3, v4
+
+    goto :goto_e
+
+    :pswitch_8d
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v5, :cond_a4
+
+    new-instance v5, Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v6, 0x0
+
+    const-string/jumbo v7, "privacy"
+
+    invoke-static {v7}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v7
+
+    invoke-static {v7}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v7
+
+    invoke-direct {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_a4
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_d9
+
+    if-eqz p1, :cond_d9
+
+    const/4 v1, 0x0
+
+    :goto_ab
+    array-length v5, p1
+
+    if-ge v1, v5, :cond_cf
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    aget-object v6, p1, v1
+
+    const/4 v7, -0x1
+
+    invoke-virtual {v5, v6, v7}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v2
+
+    iget-object v5, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-eqz v5, :cond_cb
+
+    if-eqz v2, :cond_cb
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettings;->getIccAccessSetting()B
+
+    move-result v5
+
+    if-eqz v5, :cond_cb
+
+    aget-object v5, p1, v1
+
+    const/4 v6, 0x1
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    goto/16 :goto_e
+
+    :cond_cb
+    const/4 v2, 0x0
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_ab
+
+    :cond_cf
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :cond_d9
+    if-eqz p1, :cond_e5
+
+    array-length v5, p1
+
+    if-lez v5, :cond_e5
+
+    const/4 v5, 0x0
+
+    aget-object v5, p1, v5
+
+    const/4 v6, 0x0
+
+    invoke-virtual {p0, p2, v5, v6}, Lcom/android/internal/telephony/SMSDispatcher;->notify(ILjava/lang/String;B)V
+    :try_end_e5
+    .catch Ljava/lang/Exception; {:try_start_77 .. :try_end_e5} :catch_4d
+
+    :cond_e5
+    move v3, v4
+
+    goto/16 :goto_e
+
+    :pswitch_data_e8
+    .packed-switch 0x0
+        :pswitch_f
+        :pswitch_8d
+    .end packed-switch
+.end method
+
+.method protected notify(ILjava/lang/String;B)V
+    .registers 11
+
+    const/4 v2, 0x0
+
+    const/4 v5, 0x0
+
+    packed-switch p1, :pswitch_data_1c
+
+    :goto_5
+    return-void
+
+    :pswitch_6
+    iget-object v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "SmsSend"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_11
+    iget-object v0, p0, Lcom/android/internal/telephony/SMSDispatcher;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "iccAccess"
+
+    move-object v1, p2
+
+    move v3, p3
+
+    move-object v6, v5
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_5
+
+    :pswitch_data_1c
+    .packed-switch 0x0
+        :pswitch_6
+        :pswitch_11
+    .end packed-switch
+.end method
+
 .method protected processMessagePart([BLjava/lang/String;IIIJIZ)I
     .registers 34
 
@@ -2360,7 +2749,7 @@
     :try_start_7
     invoke-virtual {p3, v2}, Landroid/app/PendingIntent;->send(I)V
     :try_end_a
-    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_7 .. :try_end_a} :catch_8e
+    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_7 .. :try_end_a} :catch_ac
 
     :cond_a
     :goto_a
@@ -2394,6 +2783,41 @@
     goto :goto_11
 
     :cond_1d
+    invoke-virtual {p0}, Lcom/android/internal/telephony/SMSDispatcher;->getPackageName()[Ljava/lang/String;
+
+    move-result-object v2
+
+    const/4 v3, 0x0
+
+    invoke-virtual {p0, v2, v3}, Lcom/android/internal/telephony/SMSDispatcher;->isAllowed([Ljava/lang/String;I)Z
+
+    move-result v2
+
+    if-nez v2, :cond_38
+
+    if-eqz p3, :cond_11
+
+    const/4 v2, 0x1
+
+    :try_start_2b
+    invoke-virtual {p3, v2}, Landroid/app/PendingIntent;->send(I)V
+
+    const-string v2, "SMS"
+
+    const-string v3, "fake also delivery state to radio off!"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_35
+    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_2b .. :try_end_35} :catch_36
+
+    goto :goto_11
+
+    :catch_36
+    move-exception v2
+
+    goto :goto_11
+
+    :cond_38
     new-instance v1, Ljava/util/HashMap;
 
     invoke-direct {v1}, Ljava/util/HashMap;-><init>()V
@@ -2420,13 +2844,13 @@
 
     move-result-object v7
 
-    if-eqz v7, :cond_41
+    if-eqz v7, :cond_5c
 
     array-length v2, v7
 
-    if-nez v2, :cond_58
+    if-nez v2, :cond_73
 
-    :cond_41
+    :cond_5c
     const-string v2, "SMS"
 
     const-string v3, "Can\'t get calling app package name: refusing to send SMS"
@@ -2437,14 +2861,14 @@
 
     const/4 v2, 0x1
 
-    :try_start_4b
+    :try_start_66
     invoke-virtual {p3, v2}, Landroid/app/PendingIntent;->send(I)V
-    :try_end_4e
-    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_4b .. :try_end_4e} :catch_4f
+    :try_end_69
+    .catch Landroid/app/PendingIntent$CanceledException; {:try_start_66 .. :try_end_69} :catch_6a
 
     goto :goto_11
 
-    :catch_4f
+    :catch_6a
     move-exception v6
 
     const-string v2, "SMS"
@@ -2455,7 +2879,7 @@
 
     goto :goto_11
 
-    :cond_58
+    :cond_73
     const/4 v2, 0x0
 
     aget-object v4, v7, v2
@@ -2480,7 +2904,7 @@
 
     move-result v2
 
-    if-nez v2, :cond_78
+    if-nez v2, :cond_94
 
     const/4 v2, 0x4
 
@@ -2490,9 +2914,9 @@
 
     invoke-virtual {p0, v2}, Lcom/android/internal/telephony/SMSDispatcher;->sendMessage(Landroid/os/Message;)Z
 
-    goto :goto_11
+    goto/16 :goto_11
 
-    :cond_78
+    :cond_94
     iget-object v2, p0, Lcom/android/internal/telephony/SMSDispatcher;->mPhone:Lcom/android/internal/telephony/Phone;
 
     invoke-interface {v2}, Lcom/android/internal/telephony/Phone;->getServiceState()Landroid/telephony/ServiceState;
@@ -2503,20 +2927,20 @@
 
     move-result v9
 
-    if-eqz v9, :cond_8a
+    if-eqz v9, :cond_a7
 
     iget-object v2, v0, Lcom/android/internal/telephony/SMSDispatcher$SmsTracker;->mSentIntent:Landroid/app/PendingIntent;
 
     invoke-static {v9, v2}, Lcom/android/internal/telephony/SMSDispatcher;->handleNotInService(ILandroid/app/PendingIntent;)V
 
-    goto :goto_11
+    goto/16 :goto_11
 
-    :cond_8a
+    :cond_a7
     invoke-virtual {p0, v0}, Lcom/android/internal/telephony/SMSDispatcher;->sendSms(Lcom/android/internal/telephony/SMSDispatcher$SmsTracker;)V
 
-    goto :goto_11
+    goto/16 :goto_11
 
-    :catch_8e
+    :catch_ac
     move-exception v2
 
     goto/16 :goto_a
diff -Npruw stock-framework/smali/com/google/android/mms/ContentType.smali pdroid-framework/smali/com/google/android/mms/ContentType.smali
--- stock-framework/smali/com/google/android/mms/ContentType.smali	2013-07-15 18:10:57.138627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/ContentType.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,924 +0,0 @@
-.class public Lcom/google/android/mms/ContentType;
-.super Ljava/lang/Object;
-.source "ContentType.java"
-
-
-# static fields
-.field public static final APP_DRM_CONTENT:Ljava/lang/String; = "application/vnd.oma.drm.content"
-
-.field public static final APP_DRM_MESSAGE:Ljava/lang/String; = "application/vnd.oma.drm.message"
-
-.field public static final APP_SMIL:Ljava/lang/String; = "application/smil"
-
-.field public static final APP_WAP_XHTML:Ljava/lang/String; = "application/vnd.wap.xhtml+xml"
-
-.field public static final APP_XHTML:Ljava/lang/String; = "application/xhtml+xml"
-
-.field public static final AUDIO_3GPP:Ljava/lang/String; = "audio/3gpp"
-
-.field public static final AUDIO_AAC:Ljava/lang/String; = "audio/aac"
-
-.field public static final AUDIO_AMR:Ljava/lang/String; = "audio/amr"
-
-.field public static final AUDIO_IMELODY:Ljava/lang/String; = "audio/imelody"
-
-.field public static final AUDIO_MID:Ljava/lang/String; = "audio/mid"
-
-.field public static final AUDIO_MIDI:Ljava/lang/String; = "audio/midi"
-
-.field public static final AUDIO_MP3:Ljava/lang/String; = "audio/mp3"
-
-.field public static final AUDIO_MP4:Ljava/lang/String; = "audio/mp4"
-
-.field public static final AUDIO_MPEG:Ljava/lang/String; = "audio/mpeg"
-
-.field public static final AUDIO_MPEG3:Ljava/lang/String; = "audio/mpeg3"
-
-.field public static final AUDIO_MPG:Ljava/lang/String; = "audio/mpg"
-
-.field public static final AUDIO_OGG:Ljava/lang/String; = "application/ogg"
-
-.field public static final AUDIO_UNSPECIFIED:Ljava/lang/String; = "audio/*"
-
-.field public static final AUDIO_X_MID:Ljava/lang/String; = "audio/x-mid"
-
-.field public static final AUDIO_X_MIDI:Ljava/lang/String; = "audio/x-midi"
-
-.field public static final AUDIO_X_MP3:Ljava/lang/String; = "audio/x-mp3"
-
-.field public static final AUDIO_X_MPEG:Ljava/lang/String; = "audio/x-mpeg"
-
-.field public static final AUDIO_X_MPEG3:Ljava/lang/String; = "audio/x-mpeg3"
-
-.field public static final AUDIO_X_MPG:Ljava/lang/String; = "audio/x-mpg"
-
-.field public static final AUDIO_X_WAV:Ljava/lang/String; = "audio/x-wav"
-
-.field public static final IMAGE_GIF:Ljava/lang/String; = "image/gif"
-
-.field public static final IMAGE_JPEG:Ljava/lang/String; = "image/jpeg"
-
-.field public static final IMAGE_JPG:Ljava/lang/String; = "image/jpg"
-
-.field public static final IMAGE_PNG:Ljava/lang/String; = "image/png"
-
-.field public static final IMAGE_UNSPECIFIED:Ljava/lang/String; = "image/*"
-
-.field public static final IMAGE_WBMP:Ljava/lang/String; = "image/vnd.wap.wbmp"
-
-.field public static final IMAGE_X_MS_BMP:Ljava/lang/String; = "image/x-ms-bmp"
-
-.field public static final MMS_GENERIC:Ljava/lang/String; = "application/vnd.wap.mms-generic"
-
-.field public static final MMS_MESSAGE:Ljava/lang/String; = "application/vnd.wap.mms-message"
-
-.field public static final MULTIPART_ALTERNATIVE:Ljava/lang/String; = "application/vnd.wap.multipart.alternative"
-
-.field public static final MULTIPART_MIXED:Ljava/lang/String; = "application/vnd.wap.multipart.mixed"
-
-.field public static final MULTIPART_RELATED:Ljava/lang/String; = "application/vnd.wap.multipart.related"
-
-.field public static final TEXT_HTML:Ljava/lang/String; = "text/html"
-
-.field public static final TEXT_PLAIN:Ljava/lang/String; = "text/plain"
-
-.field public static final TEXT_VCALENDAR:Ljava/lang/String; = "text/x-vCalendar"
-
-.field public static final TEXT_VCARD:Ljava/lang/String; = "text/x-vCard"
-
-.field public static final VIDEO_3G2:Ljava/lang/String; = "video/3gpp2"
-
-.field public static final VIDEO_3GPP:Ljava/lang/String; = "video/3gpp"
-
-.field public static final VIDEO_H263:Ljava/lang/String; = "video/h263"
-
-.field public static final VIDEO_MP4:Ljava/lang/String; = "video/mp4"
-
-.field public static final VIDEO_UNSPECIFIED:Ljava/lang/String; = "video/*"
-
-.field private static final sSupportedAudioTypes:Ljava/util/ArrayList;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/ArrayList",
-            "<",
-            "Ljava/lang/String;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private static final sSupportedContentTypes:Ljava/util/ArrayList;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/ArrayList",
-            "<",
-            "Ljava/lang/String;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private static final sSupportedImageTypes:Ljava/util/ArrayList;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/ArrayList",
-            "<",
-            "Ljava/lang/String;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private static final sSupportedVideoTypes:Ljava/util/ArrayList;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/ArrayList",
-            "<",
-            "Ljava/lang/String;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-
-# direct methods
-.method static constructor <clinit>()V
-    .registers 2
-
-    new-instance v0, Ljava/util/ArrayList;
-
-    invoke-direct {v0}, Ljava/util/ArrayList;-><init>()V
-
-    sput-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    new-instance v0, Ljava/util/ArrayList;
-
-    invoke-direct {v0}, Ljava/util/ArrayList;-><init>()V
-
-    sput-object v0, Lcom/google/android/mms/ContentType;->sSupportedImageTypes:Ljava/util/ArrayList;
-
-    new-instance v0, Ljava/util/ArrayList;
-
-    invoke-direct {v0}, Ljava/util/ArrayList;-><init>()V
-
-    sput-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    new-instance v0, Ljava/util/ArrayList;
-
-    invoke-direct {v0}, Ljava/util/ArrayList;-><init>()V
-
-    sput-object v0, Lcom/google/android/mms/ContentType;->sSupportedVideoTypes:Ljava/util/ArrayList;
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string/jumbo v1, "text/plain"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string/jumbo v1, "text/html"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string/jumbo v1, "text/x-vCalendar"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string/jumbo v1, "text/x-vCard"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "image/jpeg"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "image/gif"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "image/vnd.wap.wbmp"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "image/png"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "image/jpg"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "image/x-ms-bmp"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/aac"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/amr"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/imelody"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/mid"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/midi"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/mp3"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/mpeg3"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/mpeg"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/mpg"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/x-mid"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/x-midi"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/x-mp3"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/x-mpeg3"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/x-mpeg"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/x-mpg"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/x-wav"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/3gpp"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "application/ogg"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string/jumbo v1, "video/3gpp"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string/jumbo v1, "video/3gpp2"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string/jumbo v1, "video/h263"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string/jumbo v1, "video/mp4"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "application/smil"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "application/vnd.wap.xhtml+xml"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "application/xhtml+xml"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "application/vnd.oma.drm.content"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    const-string v1, "application/vnd.oma.drm.message"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedImageTypes:Ljava/util/ArrayList;
-
-    const-string v1, "image/jpeg"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedImageTypes:Ljava/util/ArrayList;
-
-    const-string v1, "image/gif"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedImageTypes:Ljava/util/ArrayList;
-
-    const-string v1, "image/vnd.wap.wbmp"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedImageTypes:Ljava/util/ArrayList;
-
-    const-string v1, "image/png"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedImageTypes:Ljava/util/ArrayList;
-
-    const-string v1, "image/jpg"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedImageTypes:Ljava/util/ArrayList;
-
-    const-string v1, "image/x-ms-bmp"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/aac"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/amr"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/imelody"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/mid"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/midi"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/mp3"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/mpeg3"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/mpeg"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/mpg"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/mp4"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/x-mid"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/x-midi"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/x-mp3"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/x-mpeg3"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/x-mpeg"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/x-mpg"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/x-wav"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    const-string v1, "audio/3gpp"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    const-string v1, "application/ogg"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedVideoTypes:Ljava/util/ArrayList;
-
-    const-string/jumbo v1, "video/3gpp"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedVideoTypes:Ljava/util/ArrayList;
-
-    const-string/jumbo v1, "video/3gpp2"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedVideoTypes:Ljava/util/ArrayList;
-
-    const-string/jumbo v1, "video/h263"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedVideoTypes:Ljava/util/ArrayList;
-
-    const-string/jumbo v1, "video/mp4"
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    return-void
-.end method
-
-.method private constructor <init>()V
-    .registers 1
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    return-void
-.end method
-
-.method public static getAudioTypes()Ljava/util/ArrayList;
-    .registers 1
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "()",
-            "Ljava/util/ArrayList",
-            "<",
-            "Ljava/lang/String;",
-            ">;"
-        }
-    .end annotation
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedAudioTypes:Ljava/util/ArrayList;
-
-    invoke-virtual {v0}, Ljava/util/ArrayList;->clone()Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Ljava/util/ArrayList;
-
-    return-object v0
-.end method
-
-.method public static getImageTypes()Ljava/util/ArrayList;
-    .registers 1
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "()",
-            "Ljava/util/ArrayList",
-            "<",
-            "Ljava/lang/String;",
-            ">;"
-        }
-    .end annotation
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedImageTypes:Ljava/util/ArrayList;
-
-    invoke-virtual {v0}, Ljava/util/ArrayList;->clone()Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Ljava/util/ArrayList;
-
-    return-object v0
-.end method
-
-.method public static getSupportedTypes()Ljava/util/ArrayList;
-    .registers 1
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "()",
-            "Ljava/util/ArrayList",
-            "<",
-            "Ljava/lang/String;",
-            ">;"
-        }
-    .end annotation
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    invoke-virtual {v0}, Ljava/util/ArrayList;->clone()Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Ljava/util/ArrayList;
-
-    return-object v0
-.end method
-
-.method public static getVideoTypes()Ljava/util/ArrayList;
-    .registers 1
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "()",
-            "Ljava/util/ArrayList",
-            "<",
-            "Ljava/lang/String;",
-            ">;"
-        }
-    .end annotation
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedVideoTypes:Ljava/util/ArrayList;
-
-    invoke-virtual {v0}, Ljava/util/ArrayList;->clone()Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Ljava/util/ArrayList;
-
-    return-object v0
-.end method
-
-.method public static isAudioType(Ljava/lang/String;)Z
-    .registers 2
-
-    if-eqz p0, :cond_c
-
-    const-string v0, "audio/"
-
-    invoke-virtual {p0, v0}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_c
-
-    const/4 v0, 0x1
-
-    :goto_b
-    return v0
-
-    :cond_c
-    const/4 v0, 0x0
-
-    goto :goto_b
-.end method
-
-.method public static isDrmType(Ljava/lang/String;)Z
-    .registers 2
-
-    if-eqz p0, :cond_14
-
-    const-string v0, "application/vnd.oma.drm.content"
-
-    invoke-virtual {p0, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v0
-
-    if-nez v0, :cond_12
-
-    const-string v0, "application/vnd.oma.drm.message"
-
-    invoke-virtual {p0, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_14
-
-    :cond_12
-    const/4 v0, 0x1
-
-    :goto_13
-    return v0
-
-    :cond_14
-    const/4 v0, 0x0
-
-    goto :goto_13
-.end method
-
-.method public static isImageType(Ljava/lang/String;)Z
-    .registers 2
-
-    if-eqz p0, :cond_c
-
-    const-string v0, "image/"
-
-    invoke-virtual {p0, v0}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_c
-
-    const/4 v0, 0x1
-
-    :goto_b
-    return v0
-
-    :cond_c
-    const/4 v0, 0x0
-
-    goto :goto_b
-.end method
-
-.method public static isSupportedAudioType(Ljava/lang/String;)Z
-    .registers 2
-
-    invoke-static {p0}, Lcom/google/android/mms/ContentType;->isAudioType(Ljava/lang/String;)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_e
-
-    invoke-static {p0}, Lcom/google/android/mms/ContentType;->isSupportedType(Ljava/lang/String;)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_e
-
-    const/4 v0, 0x1
-
-    :goto_d
-    return v0
-
-    :cond_e
-    const/4 v0, 0x0
-
-    goto :goto_d
-.end method
-
-.method public static isSupportedImageType(Ljava/lang/String;)Z
-    .registers 2
-
-    invoke-static {p0}, Lcom/google/android/mms/ContentType;->isImageType(Ljava/lang/String;)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_e
-
-    invoke-static {p0}, Lcom/google/android/mms/ContentType;->isSupportedType(Ljava/lang/String;)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_e
-
-    const/4 v0, 0x1
-
-    :goto_d
-    return v0
-
-    :cond_e
-    const/4 v0, 0x0
-
-    goto :goto_d
-.end method
-
-.method public static isSupportedType(Ljava/lang/String;)Z
-    .registers 2
-
-    if-eqz p0, :cond_c
-
-    sget-object v0, Lcom/google/android/mms/ContentType;->sSupportedContentTypes:Ljava/util/ArrayList;
-
-    invoke-virtual {v0, p0}, Ljava/util/ArrayList;->contains(Ljava/lang/Object;)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_c
-
-    const/4 v0, 0x1
-
-    :goto_b
-    return v0
-
-    :cond_c
-    const/4 v0, 0x0
-
-    goto :goto_b
-.end method
-
-.method public static isSupportedVideoType(Ljava/lang/String;)Z
-    .registers 2
-
-    invoke-static {p0}, Lcom/google/android/mms/ContentType;->isVideoType(Ljava/lang/String;)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_e
-
-    invoke-static {p0}, Lcom/google/android/mms/ContentType;->isSupportedType(Ljava/lang/String;)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_e
-
-    const/4 v0, 0x1
-
-    :goto_d
-    return v0
-
-    :cond_e
-    const/4 v0, 0x0
-
-    goto :goto_d
-.end method
-
-.method public static isTextType(Ljava/lang/String;)Z
-    .registers 2
-
-    if-eqz p0, :cond_d
-
-    const-string/jumbo v0, "text/"
-
-    invoke-virtual {p0, v0}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_d
-
-    const/4 v0, 0x1
-
-    :goto_c
-    return v0
-
-    :cond_d
-    const/4 v0, 0x0
-
-    goto :goto_c
-.end method
-
-.method public static isUnspecified(Ljava/lang/String;)Z
-    .registers 2
-
-    if-eqz p0, :cond_c
-
-    const-string v0, "*"
-
-    invoke-virtual {p0, v0}, Ljava/lang/String;->endsWith(Ljava/lang/String;)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_c
-
-    const/4 v0, 0x1
-
-    :goto_b
-    return v0
-
-    :cond_c
-    const/4 v0, 0x0
-
-    goto :goto_b
-.end method
-
-.method public static isVideoType(Ljava/lang/String;)Z
-    .registers 2
-
-    if-eqz p0, :cond_d
-
-    const-string/jumbo v0, "video/"
-
-    invoke-virtual {p0, v0}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_d
-
-    const/4 v0, 0x1
-
-    :goto_c
-    return v0
-
-    :cond_d
-    const/4 v0, 0x0
-
-    goto :goto_c
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/InvalidHeaderValueException.smali pdroid-framework/smali/com/google/android/mms/InvalidHeaderValueException.smali
--- stock-framework/smali/com/google/android/mms/InvalidHeaderValueException.smali	2013-07-15 18:10:57.138627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/InvalidHeaderValueException.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,25 +0,0 @@
-.class public Lcom/google/android/mms/InvalidHeaderValueException;
-.super Lcom/google/android/mms/MmsException;
-.source "InvalidHeaderValueException.java"
-
-
-# static fields
-.field private static final serialVersionUID:J = -0x1c7f1651e1e18aa6L
-
-
-# direct methods
-.method public constructor <init>()V
-    .registers 1
-
-    invoke-direct {p0}, Lcom/google/android/mms/MmsException;-><init>()V
-
-    return-void
-.end method
-
-.method public constructor <init>(Ljava/lang/String;)V
-    .registers 2
-
-    invoke-direct {p0, p1}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/String;)V
-
-    return-void
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/MmsException.smali pdroid-framework/smali/com/google/android/mms/MmsException.smali
--- stock-framework/smali/com/google/android/mms/MmsException.smali	2013-07-15 18:10:57.138627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/MmsException.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,41 +0,0 @@
-.class public Lcom/google/android/mms/MmsException;
-.super Ljava/lang/Exception;
-.source "MmsException.java"
-
-
-# static fields
-.field private static final serialVersionUID:J = -0x65a168eaec8dbe4eL
-
-
-# direct methods
-.method public constructor <init>()V
-    .registers 1
-
-    invoke-direct {p0}, Ljava/lang/Exception;-><init>()V
-
-    return-void
-.end method
-
-.method public constructor <init>(Ljava/lang/String;)V
-    .registers 2
-
-    invoke-direct {p0, p1}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
-
-    return-void
-.end method
-
-.method public constructor <init>(Ljava/lang/String;Ljava/lang/Throwable;)V
-    .registers 3
-
-    invoke-direct {p0, p1, p2}, Ljava/lang/Exception;-><init>(Ljava/lang/String;Ljava/lang/Throwable;)V
-
-    return-void
-.end method
-
-.method public constructor <init>(Ljava/lang/Throwable;)V
-    .registers 2
-
-    invoke-direct {p0, p1}, Ljava/lang/Exception;-><init>(Ljava/lang/Throwable;)V
-
-    return-void
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/AcknowledgeInd.smali pdroid-framework/smali/com/google/android/mms/pdu/AcknowledgeInd.smali
--- stock-framework/smali/com/google/android/mms/pdu/AcknowledgeInd.smali	2013-07-15 18:10:57.138627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/AcknowledgeInd.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,93 +0,0 @@
-.class public Lcom/google/android/mms/pdu/AcknowledgeInd;
-.super Lcom/google/android/mms/pdu/GenericPdu;
-.source "AcknowledgeInd.java"
-
-
-# direct methods
-.method public constructor <init>(I[B)V
-    .registers 4
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    invoke-direct {p0}, Lcom/google/android/mms/pdu/GenericPdu;-><init>()V
-
-    const/16 v0, 0x85
-
-    invoke-virtual {p0, v0}, Lcom/google/android/mms/pdu/AcknowledgeInd;->setMessageType(I)V
-
-    invoke-virtual {p0, p1}, Lcom/google/android/mms/pdu/AcknowledgeInd;->setMmsVersion(I)V
-
-    invoke-virtual {p0, p2}, Lcom/google/android/mms/pdu/AcknowledgeInd;->setTransactionId([B)V
-
-    return-void
-.end method
-
-.method constructor <init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-    .registers 2
-
-    invoke-direct {p0, p1}, Lcom/google/android/mms/pdu/GenericPdu;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    return-void
-.end method
-
-
-# virtual methods
-.method public getReportAllowed()I
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/AcknowledgeInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x91
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public getTransactionId()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/AcknowledgeInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x98
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public setReportAllowed(I)V
-    .registers 4
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/AcknowledgeInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x91
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-
-    return-void
-.end method
-
-.method public setTransactionId([B)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/AcknowledgeInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x98
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-
-    return-void
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/Base64.smali pdroid-framework/smali/com/google/android/mms/pdu/Base64.smali
--- stock-framework/smali/com/google/android/mms/pdu/Base64.smali	2013-07-15 18:10:57.138627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/Base64.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,417 +0,0 @@
-.class public Lcom/google/android/mms/pdu/Base64;
-.super Ljava/lang/Object;
-.source "Base64.java"
-
-
-# static fields
-.field static final BASELENGTH:I = 0xff
-
-.field static final FOURBYTE:I = 0x4
-
-.field static final PAD:B = 0x3dt
-
-.field private static base64Alphabet:[B
-
-
-# direct methods
-.method static constructor <clinit>()V
-    .registers 4
-
-    const/16 v3, 0xff
-
-    new-array v1, v3, [B
-
-    sput-object v1, Lcom/google/android/mms/pdu/Base64;->base64Alphabet:[B
-
-    const/4 v0, 0x0
-
-    :goto_7
-    if-ge v0, v3, :cond_11
-
-    sget-object v1, Lcom/google/android/mms/pdu/Base64;->base64Alphabet:[B
-
-    const/4 v2, -0x1
-
-    aput-byte v2, v1, v0
-
-    add-int/lit8 v0, v0, 0x1
-
-    goto :goto_7
-
-    :cond_11
-    const/16 v0, 0x5a
-
-    :goto_13
-    const/16 v1, 0x41
-
-    if-lt v0, v1, :cond_21
-
-    sget-object v1, Lcom/google/android/mms/pdu/Base64;->base64Alphabet:[B
-
-    add-int/lit8 v2, v0, -0x41
-
-    int-to-byte v2, v2
-
-    aput-byte v2, v1, v0
-
-    add-int/lit8 v0, v0, -0x1
-
-    goto :goto_13
-
-    :cond_21
-    const/16 v0, 0x7a
-
-    :goto_23
-    const/16 v1, 0x61
-
-    if-lt v0, v1, :cond_33
-
-    sget-object v1, Lcom/google/android/mms/pdu/Base64;->base64Alphabet:[B
-
-    add-int/lit8 v2, v0, -0x61
-
-    add-int/lit8 v2, v2, 0x1a
-
-    int-to-byte v2, v2
-
-    aput-byte v2, v1, v0
-
-    add-int/lit8 v0, v0, -0x1
-
-    goto :goto_23
-
-    :cond_33
-    const/16 v0, 0x39
-
-    :goto_35
-    const/16 v1, 0x30
-
-    if-lt v0, v1, :cond_45
-
-    sget-object v1, Lcom/google/android/mms/pdu/Base64;->base64Alphabet:[B
-
-    add-int/lit8 v2, v0, -0x30
-
-    add-int/lit8 v2, v2, 0x34
-
-    int-to-byte v2, v2
-
-    aput-byte v2, v1, v0
-
-    add-int/lit8 v0, v0, -0x1
-
-    goto :goto_35
-
-    :cond_45
-    sget-object v1, Lcom/google/android/mms/pdu/Base64;->base64Alphabet:[B
-
-    const/16 v2, 0x2b
-
-    const/16 v3, 0x3e
-
-    aput-byte v3, v1, v2
-
-    sget-object v1, Lcom/google/android/mms/pdu/Base64;->base64Alphabet:[B
-
-    const/16 v2, 0x2f
-
-    const/16 v3, 0x3f
-
-    aput-byte v3, v1, v2
-
-    return-void
-.end method
-
-.method public constructor <init>()V
-    .registers 1
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    return-void
-.end method
-
-.method public static decodeBase64([B)[B
-    .registers 16
-
-    invoke-static {p0}, Lcom/google/android/mms/pdu/Base64;->discardNonBase64([B)[B
-
-    move-result-object p0
-
-    array-length v12, p0
-
-    if-nez v12, :cond_b
-
-    const/4 v12, 0x0
-
-    new-array v5, v12, [B
-
-    :cond_a
-    :goto_a
-    return-object v5
-
-    :cond_b
-    array-length v12, p0
-
-    div-int/lit8 v11, v12, 0x4
-
-    const/4 v5, 0x0
-
-    const/4 v0, 0x0
-
-    const/4 v1, 0x0
-
-    const/4 v2, 0x0
-
-    const/4 v3, 0x0
-
-    const/4 v9, 0x0
-
-    const/4 v10, 0x0
-
-    const/4 v6, 0x0
-
-    const/4 v4, 0x0
-
-    array-length v8, p0
-
-    :cond_18
-    add-int/lit8 v12, v8, -0x1
-
-    aget-byte v12, p0, v12
-
-    const/16 v13, 0x3d
-
-    if-ne v12, v13, :cond_28
-
-    add-int/lit8 v8, v8, -0x1
-
-    if-nez v8, :cond_18
-
-    const/4 v12, 0x0
-
-    new-array v5, v12, [B
-
-    goto :goto_a
-
-    :cond_28
-    sub-int v12, v8, v11
-
-    new-array v5, v12, [B
-
-    const/4 v7, 0x0
-
-    :goto_2d
-    if-ge v7, v11, :cond_a
-
-    mul-int/lit8 v4, v7, 0x4
-
-    add-int/lit8 v12, v4, 0x2
-
-    aget-byte v9, p0, v12
-
-    add-int/lit8 v12, v4, 0x3
-
-    aget-byte v10, p0, v12
-
-    sget-object v12, Lcom/google/android/mms/pdu/Base64;->base64Alphabet:[B
-
-    aget-byte v13, p0, v4
-
-    aget-byte v0, v12, v13
-
-    sget-object v12, Lcom/google/android/mms/pdu/Base64;->base64Alphabet:[B
-
-    add-int/lit8 v13, v4, 0x1
-
-    aget-byte v13, p0, v13
-
-    aget-byte v1, v12, v13
-
-    const/16 v12, 0x3d
-
-    if-eq v9, v12, :cond_7a
-
-    const/16 v12, 0x3d
-
-    if-eq v10, v12, :cond_7a
-
-    sget-object v12, Lcom/google/android/mms/pdu/Base64;->base64Alphabet:[B
-
-    aget-byte v2, v12, v9
-
-    sget-object v12, Lcom/google/android/mms/pdu/Base64;->base64Alphabet:[B
-
-    aget-byte v3, v12, v10
-
-    shl-int/lit8 v12, v0, 0x2
-
-    shr-int/lit8 v13, v1, 0x4
-
-    or-int/2addr v12, v13
-
-    int-to-byte v12, v12
-
-    aput-byte v12, v5, v6
-
-    add-int/lit8 v12, v6, 0x1
-
-    and-int/lit8 v13, v1, 0xf
-
-    shl-int/lit8 v13, v13, 0x4
-
-    shr-int/lit8 v14, v2, 0x2
-
-    and-int/lit8 v14, v14, 0xf
-
-    or-int/2addr v13, v14
-
-    int-to-byte v13, v13
-
-    aput-byte v13, v5, v12
-
-    add-int/lit8 v12, v6, 0x2
-
-    shl-int/lit8 v13, v2, 0x6
-
-    or-int/2addr v13, v3
-
-    int-to-byte v13, v13
-
-    aput-byte v13, v5, v12
-
-    :cond_75
-    :goto_75
-    add-int/lit8 v6, v6, 0x3
-
-    add-int/lit8 v7, v7, 0x1
-
-    goto :goto_2d
-
-    :cond_7a
-    const/16 v12, 0x3d
-
-    if-ne v9, v12, :cond_87
-
-    shl-int/lit8 v12, v0, 0x2
-
-    shr-int/lit8 v13, v1, 0x4
-
-    or-int/2addr v12, v13
-
-    int-to-byte v12, v12
-
-    aput-byte v12, v5, v6
-
-    goto :goto_75
-
-    :cond_87
-    const/16 v12, 0x3d
-
-    if-ne v10, v12, :cond_75
-
-    sget-object v12, Lcom/google/android/mms/pdu/Base64;->base64Alphabet:[B
-
-    aget-byte v2, v12, v9
-
-    shl-int/lit8 v12, v0, 0x2
-
-    shr-int/lit8 v13, v1, 0x4
-
-    or-int/2addr v12, v13
-
-    int-to-byte v12, v12
-
-    aput-byte v12, v5, v6
-
-    add-int/lit8 v12, v6, 0x1
-
-    and-int/lit8 v13, v1, 0xf
-
-    shl-int/lit8 v13, v13, 0x4
-
-    shr-int/lit8 v14, v2, 0x2
-
-    and-int/lit8 v14, v14, 0xf
-
-    or-int/2addr v13, v14
-
-    int-to-byte v13, v13
-
-    aput-byte v13, v5, v12
-
-    goto :goto_75
-.end method
-
-.method static discardNonBase64([B)[B
-    .registers 8
-
-    const/4 v6, 0x0
-
-    array-length v5, p0
-
-    new-array v2, v5, [B
-
-    const/4 v0, 0x0
-
-    const/4 v3, 0x0
-
-    :goto_6
-    array-length v5, p0
-
-    if-ge v3, v5, :cond_1b
-
-    aget-byte v5, p0, v3
-
-    invoke-static {v5}, Lcom/google/android/mms/pdu/Base64;->isBase64(B)Z
-
-    move-result v5
-
-    if-eqz v5, :cond_18
-
-    add-int/lit8 v1, v0, 0x1
-
-    aget-byte v5, p0, v3
-
-    aput-byte v5, v2, v0
-
-    move v0, v1
-
-    :cond_18
-    add-int/lit8 v3, v3, 0x1
-
-    goto :goto_6
-
-    :cond_1b
-    new-array v4, v0, [B
-
-    invoke-static {v2, v6, v4, v6, v0}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V
-
-    return-object v4
-.end method
-
-.method private static isBase64(B)Z
-    .registers 4
-
-    const/4 v0, 0x1
-
-    const/16 v1, 0x3d
-
-    if-ne p0, v1, :cond_6
-
-    :cond_5
-    :goto_5
-    return v0
-
-    :cond_6
-    sget-object v1, Lcom/google/android/mms/pdu/Base64;->base64Alphabet:[B
-
-    aget-byte v1, v1, p0
-
-    const/4 v2, -0x1
-
-    if-ne v1, v2, :cond_5
-
-    const/4 v0, 0x0
-
-    goto :goto_5
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/CharacterSets.smali pdroid-framework/smali/com/google/android/mms/pdu/CharacterSets.smali
--- stock-framework/smali/com/google/android/mms/pdu/CharacterSets.smali	2013-07-15 18:10:57.138627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/CharacterSets.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,421 +0,0 @@
-.class public Lcom/google/android/mms/pdu/CharacterSets;
-.super Ljava/lang/Object;
-.source "CharacterSets.java"
-
-
-# static fields
-#the value of this static final field might be set in the static constructor
-.field static final synthetic $assertionsDisabled:Z = false
-
-.field public static final ANY_CHARSET:I = 0x0
-
-.field public static final BIG5:I = 0x7ea
-
-.field public static final DEFAULT_CHARSET:I = 0x6a
-
-.field public static final DEFAULT_CHARSET_NAME:Ljava/lang/String; = "utf-8"
-
-.field public static final ISO_8859_1:I = 0x4
-
-.field public static final ISO_8859_2:I = 0x5
-
-.field public static final ISO_8859_3:I = 0x6
-
-.field public static final ISO_8859_4:I = 0x7
-
-.field public static final ISO_8859_5:I = 0x8
-
-.field public static final ISO_8859_6:I = 0x9
-
-.field public static final ISO_8859_7:I = 0xa
-
-.field public static final ISO_8859_8:I = 0xb
-
-.field public static final ISO_8859_9:I = 0xc
-
-.field private static final MIBENUM_NUMBERS:[I = null
-
-.field private static final MIBENUM_TO_NAME_MAP:Ljava/util/HashMap; = null
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashMap",
-            "<",
-            "Ljava/lang/Integer;",
-            "Ljava/lang/String;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field public static final MIMENAME_ANY_CHARSET:Ljava/lang/String; = "*"
-
-.field public static final MIMENAME_BIG5:Ljava/lang/String; = "big5"
-
-.field public static final MIMENAME_ISO_8859_1:Ljava/lang/String; = "iso-8859-1"
-
-.field public static final MIMENAME_ISO_8859_2:Ljava/lang/String; = "iso-8859-2"
-
-.field public static final MIMENAME_ISO_8859_3:Ljava/lang/String; = "iso-8859-3"
-
-.field public static final MIMENAME_ISO_8859_4:Ljava/lang/String; = "iso-8859-4"
-
-.field public static final MIMENAME_ISO_8859_5:Ljava/lang/String; = "iso-8859-5"
-
-.field public static final MIMENAME_ISO_8859_6:Ljava/lang/String; = "iso-8859-6"
-
-.field public static final MIMENAME_ISO_8859_7:Ljava/lang/String; = "iso-8859-7"
-
-.field public static final MIMENAME_ISO_8859_8:Ljava/lang/String; = "iso-8859-8"
-
-.field public static final MIMENAME_ISO_8859_9:Ljava/lang/String; = "iso-8859-9"
-
-.field public static final MIMENAME_SHIFT_JIS:Ljava/lang/String; = "shift_JIS"
-
-.field public static final MIMENAME_UCS2:Ljava/lang/String; = "iso-10646-ucs-2"
-
-.field public static final MIMENAME_US_ASCII:Ljava/lang/String; = "us-ascii"
-
-.field public static final MIMENAME_UTF_16:Ljava/lang/String; = "utf-16"
-
-.field public static final MIMENAME_UTF_8:Ljava/lang/String; = "utf-8"
-
-.field private static final MIME_NAMES:[Ljava/lang/String; = null
-
-.field private static final NAME_TO_MIBENUM_MAP:Ljava/util/HashMap; = null
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashMap",
-            "<",
-            "Ljava/lang/String;",
-            "Ljava/lang/Integer;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field public static final SHIFT_JIS:I = 0x11
-
-.field public static final UCS2:I = 0x3e8
-
-.field public static final US_ASCII:I = 0x3
-
-.field public static final UTF_16:I = 0x3f7
-
-.field public static final UTF_8:I = 0x6a
-
-
-# direct methods
-.method static constructor <clinit>()V
-    .registers 6
-
-    const/16 v5, 0x10
-
-    const/4 v3, 0x1
-
-    const/4 v4, 0x0
-
-    const-class v2, Lcom/google/android/mms/pdu/CharacterSets;
-
-    invoke-virtual {v2}, Ljava/lang/Class;->desiredAssertionStatus()Z
-
-    move-result v2
-
-    if-nez v2, :cond_94
-
-    move v2, v3
-
-    :goto_d
-    sput-boolean v2, Lcom/google/android/mms/pdu/CharacterSets;->$assertionsDisabled:Z
-
-    new-array v2, v5, [I
-
-    fill-array-data v2, :array_c6
-
-    sput-object v2, Lcom/google/android/mms/pdu/CharacterSets;->MIBENUM_NUMBERS:[I
-
-    new-array v2, v5, [Ljava/lang/String;
-
-    const-string v5, "*"
-
-    aput-object v5, v2, v4
-
-    const-string/jumbo v4, "us-ascii"
-
-    aput-object v4, v2, v3
-
-    const/4 v3, 0x2
-
-    const-string v4, "iso-8859-1"
-
-    aput-object v4, v2, v3
-
-    const/4 v3, 0x3
-
-    const-string v4, "iso-8859-2"
-
-    aput-object v4, v2, v3
-
-    const/4 v3, 0x4
-
-    const-string v4, "iso-8859-3"
-
-    aput-object v4, v2, v3
-
-    const/4 v3, 0x5
-
-    const-string v4, "iso-8859-4"
-
-    aput-object v4, v2, v3
-
-    const/4 v3, 0x6
-
-    const-string v4, "iso-8859-5"
-
-    aput-object v4, v2, v3
-
-    const/4 v3, 0x7
-
-    const-string v4, "iso-8859-6"
-
-    aput-object v4, v2, v3
-
-    const/16 v3, 0x8
-
-    const-string v4, "iso-8859-7"
-
-    aput-object v4, v2, v3
-
-    const/16 v3, 0x9
-
-    const-string v4, "iso-8859-8"
-
-    aput-object v4, v2, v3
-
-    const/16 v3, 0xa
-
-    const-string v4, "iso-8859-9"
-
-    aput-object v4, v2, v3
-
-    const/16 v3, 0xb
-
-    const-string/jumbo v4, "shift_JIS"
-
-    aput-object v4, v2, v3
-
-    const/16 v3, 0xc
-
-    const-string/jumbo v4, "utf-8"
-
-    aput-object v4, v2, v3
-
-    const/16 v3, 0xd
-
-    const-string v4, "big5"
-
-    aput-object v4, v2, v3
-
-    const/16 v3, 0xe
-
-    const-string v4, "iso-10646-ucs-2"
-
-    aput-object v4, v2, v3
-
-    const/16 v3, 0xf
-
-    const-string/jumbo v4, "utf-16"
-
-    aput-object v4, v2, v3
-
-    sput-object v2, Lcom/google/android/mms/pdu/CharacterSets;->MIME_NAMES:[Ljava/lang/String;
-
-    new-instance v2, Ljava/util/HashMap;
-
-    invoke-direct {v2}, Ljava/util/HashMap;-><init>()V
-
-    sput-object v2, Lcom/google/android/mms/pdu/CharacterSets;->MIBENUM_TO_NAME_MAP:Ljava/util/HashMap;
-
-    new-instance v2, Ljava/util/HashMap;
-
-    invoke-direct {v2}, Ljava/util/HashMap;-><init>()V
-
-    sput-object v2, Lcom/google/android/mms/pdu/CharacterSets;->NAME_TO_MIBENUM_MAP:Ljava/util/HashMap;
-
-    sget-boolean v2, Lcom/google/android/mms/pdu/CharacterSets;->$assertionsDisabled:Z
-
-    if-nez v2, :cond_97
-
-    sget-object v2, Lcom/google/android/mms/pdu/CharacterSets;->MIBENUM_NUMBERS:[I
-
-    array-length v2, v2
-
-    sget-object v3, Lcom/google/android/mms/pdu/CharacterSets;->MIME_NAMES:[Ljava/lang/String;
-
-    array-length v3, v3
-
-    if-eq v2, v3, :cond_97
-
-    new-instance v2, Ljava/lang/AssertionError;
-
-    invoke-direct {v2}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v2
-
-    :cond_94
-    move v2, v4
-
-    goto/16 :goto_d
-
-    :cond_97
-    sget-object v2, Lcom/google/android/mms/pdu/CharacterSets;->MIBENUM_NUMBERS:[I
-
-    array-length v2, v2
-
-    add-int/lit8 v0, v2, -0x1
-
-    const/4 v1, 0x0
-
-    :goto_9d
-    if-gt v1, v0, :cond_c4
-
-    sget-object v2, Lcom/google/android/mms/pdu/CharacterSets;->MIBENUM_TO_NAME_MAP:Ljava/util/HashMap;
-
-    sget-object v3, Lcom/google/android/mms/pdu/CharacterSets;->MIBENUM_NUMBERS:[I
-
-    aget v3, v3, v1
-
-    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v3
-
-    sget-object v4, Lcom/google/android/mms/pdu/CharacterSets;->MIME_NAMES:[Ljava/lang/String;
-
-    aget-object v4, v4, v1
-
-    invoke-virtual {v2, v3, v4}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v2, Lcom/google/android/mms/pdu/CharacterSets;->NAME_TO_MIBENUM_MAP:Ljava/util/HashMap;
-
-    sget-object v3, Lcom/google/android/mms/pdu/CharacterSets;->MIME_NAMES:[Ljava/lang/String;
-
-    aget-object v3, v3, v1
-
-    sget-object v4, Lcom/google/android/mms/pdu/CharacterSets;->MIBENUM_NUMBERS:[I
-
-    aget v4, v4, v1
-
-    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v4
-
-    invoke-virtual {v2, v3, v4}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    add-int/lit8 v1, v1, 0x1
-
-    goto :goto_9d
-
-    :cond_c4
-    return-void
-
-    nop
-
-    :array_c6
-    .array-data 0x4
-        0x0t 0x0t 0x0t 0x0t
-        0x3t 0x0t 0x0t 0x0t
-        0x4t 0x0t 0x0t 0x0t
-        0x5t 0x0t 0x0t 0x0t
-        0x6t 0x0t 0x0t 0x0t
-        0x7t 0x0t 0x0t 0x0t
-        0x8t 0x0t 0x0t 0x0t
-        0x9t 0x0t 0x0t 0x0t
-        0xat 0x0t 0x0t 0x0t
-        0xbt 0x0t 0x0t 0x0t
-        0xct 0x0t 0x0t 0x0t
-        0x11t 0x0t 0x0t 0x0t
-        0x6at 0x0t 0x0t 0x0t
-        0xeat 0x7t 0x0t 0x0t
-        0xe8t 0x3t 0x0t 0x0t
-        0xf7t 0x3t 0x0t 0x0t
-    .end array-data
-.end method
-
-.method private constructor <init>()V
-    .registers 1
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    return-void
-.end method
-
-.method public static getMibEnumValue(Ljava/lang/String;)I
-    .registers 3
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Ljava/io/UnsupportedEncodingException;
-        }
-    .end annotation
-
-    if-nez p0, :cond_4
-
-    const/4 v1, -0x1
-
-    :goto_3
-    return v1
-
-    :cond_4
-    sget-object v1, Lcom/google/android/mms/pdu/CharacterSets;->NAME_TO_MIBENUM_MAP:Ljava/util/HashMap;
-
-    invoke-virtual {v1, p0}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Ljava/lang/Integer;
-
-    if-nez v0, :cond_14
-
-    new-instance v1, Ljava/io/UnsupportedEncodingException;
-
-    invoke-direct {v1}, Ljava/io/UnsupportedEncodingException;-><init>()V
-
-    throw v1
-
-    :cond_14
-    invoke-virtual {v0}, Ljava/lang/Integer;->intValue()I
-
-    move-result v1
-
-    goto :goto_3
-.end method
-
-.method public static getMimeName(I)Ljava/lang/String;
-    .registers 4
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Ljava/io/UnsupportedEncodingException;
-        }
-    .end annotation
-
-    sget-object v1, Lcom/google/android/mms/pdu/CharacterSets;->MIBENUM_TO_NAME_MAP:Ljava/util/HashMap;
-
-    invoke-static {p0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v1, v2}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Ljava/lang/String;
-
-    if-nez v0, :cond_14
-
-    new-instance v1, Ljava/io/UnsupportedEncodingException;
-
-    invoke-direct {v1}, Ljava/io/UnsupportedEncodingException;-><init>()V
-
-    throw v1
-
-    :cond_14
-    return-object v0
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/DeliveryInd.smali pdroid-framework/smali/com/google/android/mms/pdu/DeliveryInd.smali
--- stock-framework/smali/com/google/android/mms/pdu/DeliveryInd.smali	2013-07-15 18:10:57.138627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/DeliveryInd.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,141 +0,0 @@
-.class public Lcom/google/android/mms/pdu/DeliveryInd;
-.super Lcom/google/android/mms/pdu/GenericPdu;
-.source "DeliveryInd.java"
-
-
-# direct methods
-.method public constructor <init>()V
-    .registers 2
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    invoke-direct {p0}, Lcom/google/android/mms/pdu/GenericPdu;-><init>()V
-
-    const/16 v0, 0x86
-
-    invoke-virtual {p0, v0}, Lcom/google/android/mms/pdu/DeliveryInd;->setMessageType(I)V
-
-    return-void
-.end method
-
-.method constructor <init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-    .registers 2
-
-    invoke-direct {p0, p1}, Lcom/google/android/mms/pdu/GenericPdu;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    return-void
-.end method
-
-
-# virtual methods
-.method public getDate()J
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/DeliveryInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x85
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getLongInteger(I)J
-
-    move-result-wide v0
-
-    return-wide v0
-.end method
-
-.method public getMessageId()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/DeliveryInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8b
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getStatus()I
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/DeliveryInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x95
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public getTo()[Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/DeliveryInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x97
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValues(I)[Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public setDate(J)V
-    .registers 5
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/DeliveryInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x85
-
-    invoke-virtual {v0, p1, p2, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setLongInteger(JI)V
-
-    return-void
-.end method
-
-.method public setMessageId([B)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/DeliveryInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8b
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-
-    return-void
-.end method
-
-.method public setStatus(I)V
-    .registers 4
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/DeliveryInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x95
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-
-    return-void
-.end method
-
-.method public setTo([Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/DeliveryInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x97
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setEncodedStringValues([Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-
-    return-void
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/EncodedStringValue.smali pdroid-framework/smali/com/google/android/mms/pdu/EncodedStringValue.smali
--- stock-framework/smali/com/google/android/mms/pdu/EncodedStringValue.smali	2013-07-15 18:10:57.138627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/EncodedStringValue.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,592 +0,0 @@
-.class public Lcom/google/android/mms/pdu/EncodedStringValue;
-.super Ljava/lang/Object;
-.source "EncodedStringValue.java"
-
-# interfaces
-.implements Ljava/lang/Cloneable;
-
-
-# static fields
-.field private static final DEBUG:Z = false
-
-.field private static final LOCAL_LOGV:Z = false
-
-.field private static final TAG:Ljava/lang/String; = "EncodedStringValue"
-
-
-# instance fields
-.field private mCharacterSet:I
-
-.field private mData:[B
-
-
-# direct methods
-.method public constructor <init>(I[B)V
-    .registers 6
-
-    const/4 v2, 0x0
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    if-nez p2, :cond_e
-
-    new-instance v0, Ljava/lang/NullPointerException;
-
-    const-string v1, "EncodedStringValue: Text-string is null."
-
-    invoke-direct {v0, v1}, Ljava/lang/NullPointerException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :cond_e
-    iput p1, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mCharacterSet:I
-
-    array-length v0, p2
-
-    new-array v0, v0, [B
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    array-length v1, p2
-
-    invoke-static {p2, v2, v0, v2, v1}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V
-
-    return-void
-.end method
-
-.method public constructor <init>(Ljava/lang/String;)V
-    .registers 5
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    :try_start_3
-    const-string/jumbo v1, "utf-8"
-
-    invoke-virtual {p1, v1}, Ljava/lang/String;->getBytes(Ljava/lang/String;)[B
-
-    move-result-object v1
-
-    iput-object v1, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    const/16 v1, 0x6a
-
-    iput v1, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mCharacterSet:I
-    :try_end_10
-    .catch Ljava/io/UnsupportedEncodingException; {:try_start_3 .. :try_end_10} :catch_11
-
-    :goto_10
-    return-void
-
-    :catch_11
-    move-exception v0
-
-    const-string v1, "EncodedStringValue"
-
-    const-string v2, "Default encoding must be supported."
-
-    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto :goto_10
-.end method
-
-.method public constructor <init>([B)V
-    .registers 3
-
-    const/16 v0, 0x6a
-
-    invoke-direct {p0, v0, p1}, Lcom/google/android/mms/pdu/EncodedStringValue;-><init>(I[B)V
-
-    return-void
-.end method
-
-.method public static concat([Lcom/google/android/mms/pdu/EncodedStringValue;)Ljava/lang/String;
-    .registers 5
-
-    new-instance v2, Ljava/lang/StringBuilder;
-
-    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
-
-    array-length v3, p0
-
-    add-int/lit8 v1, v3, -0x1
-
-    const/4 v0, 0x0
-
-    :goto_9
-    if-gt v0, v1, :cond_1e
-
-    aget-object v3, p0, v0
-
-    invoke-virtual {v3}, Lcom/google/android/mms/pdu/EncodedStringValue;->getString()Ljava/lang/String;
-
-    move-result-object v3
-
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    if-ge v0, v1, :cond_1b
-
-    const-string v3, ";"
-
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    :cond_1b
-    add-int/lit8 v0, v0, 0x1
-
-    goto :goto_9
-
-    :cond_1e
-    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v3
-
-    return-object v3
-.end method
-
-.method public static copy(Lcom/google/android/mms/pdu/EncodedStringValue;)Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 4
-
-    if-nez p0, :cond_4
-
-    const/4 v0, 0x0
-
-    :goto_3
-    return-object v0
-
-    :cond_4
-    new-instance v0, Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    iget v1, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mCharacterSet:I
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    invoke-direct {v0, v1, v2}, Lcom/google/android/mms/pdu/EncodedStringValue;-><init>(I[B)V
-
-    goto :goto_3
-.end method
-
-.method public static encodeStrings([Ljava/lang/String;)[Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 6
-
-    array-length v0, p0
-
-    if-lez v0, :cond_14
-
-    new-array v1, v0, [Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    const/4 v2, 0x0
-
-    :goto_6
-    if-ge v2, v0, :cond_15
-
-    new-instance v3, Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    aget-object v4, p0, v2
-
-    invoke-direct {v3, v4}, Lcom/google/android/mms/pdu/EncodedStringValue;-><init>(Ljava/lang/String;)V
-
-    aput-object v3, v1, v2
-
-    add-int/lit8 v2, v2, 0x1
-
-    goto :goto_6
-
-    :cond_14
-    const/4 v1, 0x0
-
-    :cond_15
-    return-object v1
-.end method
-
-.method public static extract(Ljava/lang/String;)[Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 7
-
-    const-string v4, ";"
-
-    invoke-virtual {p0, v4}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;
-
-    move-result-object v3
-
-    new-instance v2, Ljava/util/ArrayList;
-
-    invoke-direct {v2}, Ljava/util/ArrayList;-><init>()V
-
-    const/4 v0, 0x0
-
-    :goto_c
-    array-length v4, v3
-
-    if-ge v0, v4, :cond_24
-
-    aget-object v4, v3, v0
-
-    invoke-virtual {v4}, Ljava/lang/String;->length()I
-
-    move-result v4
-
-    if-lez v4, :cond_21
-
-    new-instance v4, Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    aget-object v5, v3, v0
-
-    invoke-direct {v4, v5}, Lcom/google/android/mms/pdu/EncodedStringValue;-><init>(Ljava/lang/String;)V
-
-    invoke-virtual {v2, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    :cond_21
-    add-int/lit8 v0, v0, 0x1
-
-    goto :goto_c
-
-    :cond_24
-    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I
-
-    move-result v1
-
-    if-lez v1, :cond_33
-
-    new-array v4, v1, [Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    invoke-virtual {v2, v4}, Ljava/util/ArrayList;->toArray([Ljava/lang/Object;)[Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, [Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    :goto_32
-    return-object v4
-
-    :cond_33
-    const/4 v4, 0x0
-
-    goto :goto_32
-.end method
-
-
-# virtual methods
-.method public appendTextString([B)V
-    .registers 7
-
-    const/4 v4, 0x0
-
-    if-nez p1, :cond_b
-
-    new-instance v2, Ljava/lang/NullPointerException;
-
-    const-string v3, "Text-string is null."
-
-    invoke-direct {v2, v3}, Ljava/lang/NullPointerException;-><init>(Ljava/lang/String;)V
-
-    throw v2
-
-    :cond_b
-    iget-object v2, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    if-nez v2, :cond_1b
-
-    array-length v2, p1
-
-    new-array v2, v2, [B
-
-    iput-object v2, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    array-length v3, p1
-
-    invoke-static {p1, v4, v2, v4, v3}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V
-
-    :goto_1a
-    return-void
-
-    :cond_1b
-    new-instance v1, Ljava/io/ByteArrayOutputStream;
-
-    invoke-direct {v1}, Ljava/io/ByteArrayOutputStream;-><init>()V
-
-    :try_start_20
-    iget-object v2, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    invoke-virtual {v1, v2}, Ljava/io/ByteArrayOutputStream;->write([B)V
-
-    invoke-virtual {v1, p1}, Ljava/io/ByteArrayOutputStream;->write([B)V
-    :try_end_28
-    .catch Ljava/io/IOException; {:try_start_20 .. :try_end_28} :catch_2f
-
-    invoke-virtual {v1}, Ljava/io/ByteArrayOutputStream;->toByteArray()[B
-
-    move-result-object v2
-
-    iput-object v2, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    goto :goto_1a
-
-    :catch_2f
-    move-exception v0
-
-    invoke-virtual {v0}, Ljava/io/IOException;->printStackTrace()V
-
-    new-instance v2, Ljava/lang/NullPointerException;
-
-    const-string v3, "appendTextString: failed when write a new Text-string"
-
-    invoke-direct {v2, v3}, Ljava/lang/NullPointerException;-><init>(Ljava/lang/String;)V
-
-    throw v2
-.end method
-
-.method public clone()Ljava/lang/Object;
-    .registers 7
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Ljava/lang/CloneNotSupportedException;
-        }
-    .end annotation
-
-    const/4 v4, 0x0
-
-    invoke-super {p0}, Ljava/lang/Object;->clone()Ljava/lang/Object;
-
-    iget-object v3, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    array-length v2, v3
-
-    new-array v0, v2, [B
-
-    iget-object v3, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    invoke-static {v3, v4, v0, v4, v2}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V
-
-    :try_start_e
-    new-instance v3, Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    iget v4, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mCharacterSet:I
-
-    invoke-direct {v3, v4, v0}, Lcom/google/android/mms/pdu/EncodedStringValue;-><init>(I[B)V
-    :try_end_15
-    .catch Ljava/lang/Exception; {:try_start_e .. :try_end_15} :catch_16
-
-    return-object v3
-
-    :catch_16
-    move-exception v1
-
-    const-string v3, "EncodedStringValue"
-
-    new-instance v4, Ljava/lang/StringBuilder;
-
-    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v5, "failed to clone an EncodedStringValue: "
-
-    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v4
-
-    invoke-virtual {v4, p0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
-
-    move-result-object v4
-
-    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v4
-
-    invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
-
-    invoke-virtual {v1}, Ljava/lang/Exception;->printStackTrace()V
-
-    new-instance v3, Ljava/lang/CloneNotSupportedException;
-
-    invoke-virtual {v1}, Ljava/lang/Exception;->getMessage()Ljava/lang/String;
-
-    move-result-object v4
-
-    invoke-direct {v3, v4}, Ljava/lang/CloneNotSupportedException;-><init>(Ljava/lang/String;)V
-
-    throw v3
-.end method
-
-.method public getCharacterSet()I
-    .registers 2
-
-    iget v0, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mCharacterSet:I
-
-    return v0
-.end method
-
-.method public getString()Ljava/lang/String;
-    .registers 7
-
-    iget v3, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mCharacterSet:I
-
-    if-nez v3, :cond_c
-
-    new-instance v3, Ljava/lang/String;
-
-    iget-object v4, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    invoke-direct {v3, v4}, Ljava/lang/String;-><init>([B)V
-
-    :goto_b
-    return-object v3
-
-    :cond_c
-    :try_start_c
-    iget v3, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mCharacterSet:I
-
-    invoke-static {v3}, Lcom/google/android/mms/pdu/CharacterSets;->getMimeName(I)Ljava/lang/String;
-
-    move-result-object v2
-
-    new-instance v3, Ljava/lang/String;
-
-    iget-object v4, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    invoke-direct {v3, v4, v2}, Ljava/lang/String;-><init>([BLjava/lang/String;)V
-    :try_end_19
-    .catch Ljava/io/UnsupportedEncodingException; {:try_start_c .. :try_end_19} :catch_1a
-
-    goto :goto_b
-
-    :catch_1a
-    move-exception v1
-
-    :try_start_1b
-    new-instance v3, Ljava/lang/String;
-
-    iget-object v4, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    const-string v5, "iso-8859-1"
-
-    invoke-direct {v3, v4, v5}, Ljava/lang/String;-><init>([BLjava/lang/String;)V
-    :try_end_24
-    .catch Ljava/io/UnsupportedEncodingException; {:try_start_1b .. :try_end_24} :catch_25
-
-    goto :goto_b
-
-    :catch_25
-    move-exception v0
-
-    new-instance v3, Ljava/lang/String;
-
-    iget-object v4, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    invoke-direct {v3, v4}, Ljava/lang/String;-><init>([B)V
-
-    goto :goto_b
-.end method
-
-.method public getTextString()[B
-    .registers 5
-
-    const/4 v3, 0x0
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    array-length v1, v1
-
-    new-array v0, v1, [B
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    array-length v2, v2
-
-    invoke-static {v1, v3, v0, v3, v2}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V
-
-    return-object v0
-.end method
-
-.method public setCharacterSet(I)V
-    .registers 2
-
-    iput p1, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mCharacterSet:I
-
-    return-void
-.end method
-
-.method public setTextString([B)V
-    .registers 5
-
-    const/4 v2, 0x0
-
-    if-nez p1, :cond_b
-
-    new-instance v0, Ljava/lang/NullPointerException;
-
-    const-string v1, "EncodedStringValue: Text-string is null."
-
-    invoke-direct {v0, v1}, Ljava/lang/NullPointerException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :cond_b
-    array-length v0, p1
-
-    new-array v0, v0, [B
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mData:[B
-
-    array-length v1, p1
-
-    invoke-static {p1, v2, v0, v2, v1}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V
-
-    return-void
-.end method
-
-.method public split(Ljava/lang/String;)[Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 9
-
-    invoke-virtual {p0}, Lcom/google/android/mms/pdu/EncodedStringValue;->getString()Ljava/lang/String;
-
-    move-result-object v4
-
-    invoke-virtual {v4, p1}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;
-
-    move-result-object v3
-
-    array-length v4, v3
-
-    new-array v2, v4, [Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    const/4 v1, 0x0
-
-    :goto_c
-    array-length v4, v2
-
-    if-ge v1, v4, :cond_23
-
-    :try_start_f
-    new-instance v4, Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    iget v5, p0, Lcom/google/android/mms/pdu/EncodedStringValue;->mCharacterSet:I
-
-    aget-object v6, v3, v1
-
-    invoke-virtual {v6}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v6
-
-    invoke-direct {v4, v5, v6}, Lcom/google/android/mms/pdu/EncodedStringValue;-><init>(I[B)V
-
-    aput-object v4, v2, v1
-    :try_end_1e
-    .catch Ljava/lang/NullPointerException; {:try_start_f .. :try_end_1e} :catch_21
-
-    add-int/lit8 v1, v1, 0x1
-
-    goto :goto_c
-
-    :catch_21
-    move-exception v0
-
-    const/4 v2, 0x0
-
-    :cond_23
-    return-object v2
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/GenericPdu.smali pdroid-framework/smali/com/google/android/mms/pdu/GenericPdu.smali
--- stock-framework/smali/com/google/android/mms/pdu/GenericPdu.smali	2013-07-15 18:10:57.138627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/GenericPdu.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,139 +0,0 @@
-.class public Lcom/google/android/mms/pdu/GenericPdu;
-.super Ljava/lang/Object;
-.source "GenericPdu.java"
-
-
-# instance fields
-.field mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-
-# direct methods
-.method public constructor <init>()V
-    .registers 2
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    const/4 v0, 0x0
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/GenericPdu;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    new-instance v0, Lcom/google/android/mms/pdu/PduHeaders;
-
-    invoke-direct {v0}, Lcom/google/android/mms/pdu/PduHeaders;-><init>()V
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/GenericPdu;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    return-void
-.end method
-
-.method constructor <init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-    .registers 3
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    const/4 v0, 0x0
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/GenericPdu;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    iput-object p1, p0, Lcom/google/android/mms/pdu/GenericPdu;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    return-void
-.end method
-
-
-# virtual methods
-.method public getFrom()Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/GenericPdu;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x89
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValue(I)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getMessageType()I
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/GenericPdu;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8c
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public getMmsVersion()I
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/GenericPdu;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8d
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v0
-
-    return v0
-.end method
-
-.method getPduHeaders()Lcom/google/android/mms/pdu/PduHeaders;
-    .registers 2
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/GenericPdu;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    return-object v0
-.end method
-
-.method public setFrom(Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/GenericPdu;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x89
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-
-    return-void
-.end method
-
-.method public setMessageType(I)V
-    .registers 4
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/GenericPdu;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8c
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-
-    return-void
-.end method
-
-.method public setMmsVersion(I)V
-    .registers 4
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/GenericPdu;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8d
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-
-    return-void
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/MultimediaMessagePdu.smali pdroid-framework/smali/com/google/android/mms/pdu/MultimediaMessagePdu.smali
--- stock-framework/smali/com/google/android/mms/pdu/MultimediaMessagePdu.smali	2013-07-15 18:10:57.138627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/MultimediaMessagePdu.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,162 +0,0 @@
-.class public Lcom/google/android/mms/pdu/MultimediaMessagePdu;
-.super Lcom/google/android/mms/pdu/GenericPdu;
-.source "MultimediaMessagePdu.java"
-
-
-# instance fields
-.field private mMessageBody:Lcom/google/android/mms/pdu/PduBody;
-
-
-# direct methods
-.method public constructor <init>()V
-    .registers 1
-
-    invoke-direct {p0}, Lcom/google/android/mms/pdu/GenericPdu;-><init>()V
-
-    return-void
-.end method
-
-.method constructor <init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-    .registers 2
-
-    invoke-direct {p0, p1}, Lcom/google/android/mms/pdu/GenericPdu;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    return-void
-.end method
-
-.method public constructor <init>(Lcom/google/android/mms/pdu/PduHeaders;Lcom/google/android/mms/pdu/PduBody;)V
-    .registers 3
-
-    invoke-direct {p0, p1}, Lcom/google/android/mms/pdu/GenericPdu;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    iput-object p2, p0, Lcom/google/android/mms/pdu/MultimediaMessagePdu;->mMessageBody:Lcom/google/android/mms/pdu/PduBody;
-
-    return-void
-.end method
-
-
-# virtual methods
-.method public addTo(Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/MultimediaMessagePdu;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x97
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->appendEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-
-    return-void
-.end method
-
-.method public getBody()Lcom/google/android/mms/pdu/PduBody;
-    .registers 2
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/MultimediaMessagePdu;->mMessageBody:Lcom/google/android/mms/pdu/PduBody;
-
-    return-object v0
-.end method
-
-.method public getDate()J
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/MultimediaMessagePdu;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x85
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getLongInteger(I)J
-
-    move-result-wide v0
-
-    return-wide v0
-.end method
-
-.method public getPriority()I
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/MultimediaMessagePdu;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8f
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public getSubject()Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/MultimediaMessagePdu;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x96
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValue(I)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getTo()[Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/MultimediaMessagePdu;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x97
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValues(I)[Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public setBody(Lcom/google/android/mms/pdu/PduBody;)V
-    .registers 2
-
-    iput-object p1, p0, Lcom/google/android/mms/pdu/MultimediaMessagePdu;->mMessageBody:Lcom/google/android/mms/pdu/PduBody;
-
-    return-void
-.end method
-
-.method public setDate(J)V
-    .registers 5
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/MultimediaMessagePdu;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x85
-
-    invoke-virtual {v0, p1, p2, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setLongInteger(JI)V
-
-    return-void
-.end method
-
-.method public setPriority(I)V
-    .registers 4
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/MultimediaMessagePdu;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8f
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-
-    return-void
-.end method
-
-.method public setSubject(Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/MultimediaMessagePdu;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x96
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-
-    return-void
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/NotificationInd.smali pdroid-framework/smali/com/google/android/mms/pdu/NotificationInd.smali
--- stock-framework/smali/com/google/android/mms/pdu/NotificationInd.smali	2013-07-15 18:10:57.138627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/NotificationInd.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,276 +0,0 @@
-.class public Lcom/google/android/mms/pdu/NotificationInd;
-.super Lcom/google/android/mms/pdu/GenericPdu;
-.source "NotificationInd.java"
-
-
-# direct methods
-.method public constructor <init>()V
-    .registers 2
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    invoke-direct {p0}, Lcom/google/android/mms/pdu/GenericPdu;-><init>()V
-
-    const/16 v0, 0x82
-
-    invoke-virtual {p0, v0}, Lcom/google/android/mms/pdu/NotificationInd;->setMessageType(I)V
-
-    return-void
-.end method
-
-.method constructor <init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-    .registers 2
-
-    invoke-direct {p0, p1}, Lcom/google/android/mms/pdu/GenericPdu;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    return-void
-.end method
-
-
-# virtual methods
-.method public getContentClass()I
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotificationInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0xba
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public getContentLocation()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotificationInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x83
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getDeliveryReport()I
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotificationInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x86
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public getExpiry()J
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotificationInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x88
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getLongInteger(I)J
-
-    move-result-wide v0
-
-    return-wide v0
-.end method
-
-.method public getFrom()Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotificationInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x89
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValue(I)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getMessageClass()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotificationInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8a
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getMessageSize()J
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotificationInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8e
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getLongInteger(I)J
-
-    move-result-wide v0
-
-    return-wide v0
-.end method
-
-.method public getSubject()Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotificationInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x96
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValue(I)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getTransactionId()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotificationInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x98
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public setContentClass(I)V
-    .registers 4
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotificationInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0xba
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-
-    return-void
-.end method
-
-.method public setContentLocation([B)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotificationInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x83
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-
-    return-void
-.end method
-
-.method public setDeliveryReport(I)V
-    .registers 4
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotificationInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x86
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-
-    return-void
-.end method
-
-.method public setExpiry(J)V
-    .registers 5
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotificationInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x88
-
-    invoke-virtual {v0, p1, p2, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setLongInteger(JI)V
-
-    return-void
-.end method
-
-.method public setFrom(Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotificationInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x89
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-
-    return-void
-.end method
-
-.method public setMessageClass([B)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotificationInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8a
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-
-    return-void
-.end method
-
-.method public setMessageSize(J)V
-    .registers 5
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotificationInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8e
-
-    invoke-virtual {v0, p1, p2, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setLongInteger(JI)V
-
-    return-void
-.end method
-
-.method public setSubject(Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotificationInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x96
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-
-    return-void
-.end method
-
-.method public setTransactionId([B)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotificationInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x98
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-
-    return-void
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/NotifyRespInd.smali pdroid-framework/smali/com/google/android/mms/pdu/NotifyRespInd.smali
--- stock-framework/smali/com/google/android/mms/pdu/NotifyRespInd.smali	2013-07-15 18:10:57.138627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/NotifyRespInd.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,126 +0,0 @@
-.class public Lcom/google/android/mms/pdu/NotifyRespInd;
-.super Lcom/google/android/mms/pdu/GenericPdu;
-.source "NotifyRespInd.java"
-
-
-# direct methods
-.method public constructor <init>(I[BI)V
-    .registers 5
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    invoke-direct {p0}, Lcom/google/android/mms/pdu/GenericPdu;-><init>()V
-
-    const/16 v0, 0x83
-
-    invoke-virtual {p0, v0}, Lcom/google/android/mms/pdu/NotifyRespInd;->setMessageType(I)V
-
-    invoke-virtual {p0, p1}, Lcom/google/android/mms/pdu/NotifyRespInd;->setMmsVersion(I)V
-
-    invoke-virtual {p0, p2}, Lcom/google/android/mms/pdu/NotifyRespInd;->setTransactionId([B)V
-
-    invoke-virtual {p0, p3}, Lcom/google/android/mms/pdu/NotifyRespInd;->setStatus(I)V
-
-    return-void
-.end method
-
-.method constructor <init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-    .registers 2
-
-    invoke-direct {p0, p1}, Lcom/google/android/mms/pdu/GenericPdu;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    return-void
-.end method
-
-
-# virtual methods
-.method public getReportAllowed()I
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotifyRespInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x91
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public getStatus()I
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotifyRespInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x95
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public getTransactionId()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotifyRespInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x98
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public setReportAllowed(I)V
-    .registers 4
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotifyRespInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x91
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-
-    return-void
-.end method
-
-.method public setStatus(I)V
-    .registers 4
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotifyRespInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x95
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-
-    return-void
-.end method
-
-.method public setTransactionId([B)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/NotifyRespInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x98
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-
-    return-void
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/PduBody.smali pdroid-framework/smali/com/google/android/mms/pdu/PduBody.smali
--- stock-framework/smali/com/google/android/mms/pdu/PduBody.smali	2013-07-15 18:10:57.138627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/PduBody.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,346 +0,0 @@
-.class public Lcom/google/android/mms/pdu/PduBody;
-.super Ljava/lang/Object;
-.source "PduBody.java"
-
-
-# instance fields
-.field private mPartMapByContentId:Ljava/util/Map;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/Map",
-            "<",
-            "Ljava/lang/String;",
-            "Lcom/google/android/mms/pdu/PduPart;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private mPartMapByContentLocation:Ljava/util/Map;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/Map",
-            "<",
-            "Ljava/lang/String;",
-            "Lcom/google/android/mms/pdu/PduPart;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private mPartMapByFileName:Ljava/util/Map;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/Map",
-            "<",
-            "Ljava/lang/String;",
-            "Lcom/google/android/mms/pdu/PduPart;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private mPartMapByName:Ljava/util/Map;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/Map",
-            "<",
-            "Ljava/lang/String;",
-            "Lcom/google/android/mms/pdu/PduPart;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private mParts:Ljava/util/Vector;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/Vector",
-            "<",
-            "Lcom/google/android/mms/pdu/PduPart;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-
-# direct methods
-.method public constructor <init>()V
-    .registers 2
-
-    const/4 v0, 0x0
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mParts:Ljava/util/Vector;
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mPartMapByContentId:Ljava/util/Map;
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mPartMapByContentLocation:Ljava/util/Map;
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mPartMapByName:Ljava/util/Map;
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mPartMapByFileName:Ljava/util/Map;
-
-    new-instance v0, Ljava/util/Vector;
-
-    invoke-direct {v0}, Ljava/util/Vector;-><init>()V
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mParts:Ljava/util/Vector;
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mPartMapByContentId:Ljava/util/Map;
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mPartMapByContentLocation:Ljava/util/Map;
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mPartMapByName:Ljava/util/Map;
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mPartMapByFileName:Ljava/util/Map;
-
-    return-void
-.end method
-
-.method private putPartToMaps(Lcom/google/android/mms/pdu/PduPart;)V
-    .registers 9
-
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/PduPart;->getContentId()[B
-
-    move-result-object v1
-
-    if-eqz v1, :cond_10
-
-    iget-object v5, p0, Lcom/google/android/mms/pdu/PduBody;->mPartMapByContentId:Ljava/util/Map;
-
-    new-instance v6, Ljava/lang/String;
-
-    invoke-direct {v6, v1}, Ljava/lang/String;-><init>([B)V
-
-    invoke-interface {v5, v6, p1}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    :cond_10
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/PduPart;->getContentLocation()[B
-
-    move-result-object v2
-
-    if-eqz v2, :cond_20
-
-    new-instance v0, Ljava/lang/String;
-
-    invoke-direct {v0, v2}, Ljava/lang/String;-><init>([B)V
-
-    iget-object v5, p0, Lcom/google/android/mms/pdu/PduBody;->mPartMapByContentLocation:Ljava/util/Map;
-
-    invoke-interface {v5, v0, p1}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    :cond_20
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/PduPart;->getName()[B
-
-    move-result-object v4
-
-    if-eqz v4, :cond_30
-
-    new-instance v0, Ljava/lang/String;
-
-    invoke-direct {v0, v4}, Ljava/lang/String;-><init>([B)V
-
-    iget-object v5, p0, Lcom/google/android/mms/pdu/PduBody;->mPartMapByName:Ljava/util/Map;
-
-    invoke-interface {v5, v0, p1}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    :cond_30
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/PduPart;->getFilename()[B
-
-    move-result-object v3
-
-    if-eqz v3, :cond_40
-
-    new-instance v0, Ljava/lang/String;
-
-    invoke-direct {v0, v3}, Ljava/lang/String;-><init>([B)V
-
-    iget-object v5, p0, Lcom/google/android/mms/pdu/PduBody;->mPartMapByFileName:Ljava/util/Map;
-
-    invoke-interface {v5, v0, p1}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    :cond_40
-    return-void
-.end method
-
-
-# virtual methods
-.method public addPart(ILcom/google/android/mms/pdu/PduPart;)V
-    .registers 4
-
-    if-nez p2, :cond_8
-
-    new-instance v0, Ljava/lang/NullPointerException;
-
-    invoke-direct {v0}, Ljava/lang/NullPointerException;-><init>()V
-
-    throw v0
-
-    :cond_8
-    invoke-direct {p0, p2}, Lcom/google/android/mms/pdu/PduBody;->putPartToMaps(Lcom/google/android/mms/pdu/PduPart;)V
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mParts:Ljava/util/Vector;
-
-    invoke-virtual {v0, p1, p2}, Ljava/util/Vector;->add(ILjava/lang/Object;)V
-
-    return-void
-.end method
-
-.method public addPart(Lcom/google/android/mms/pdu/PduPart;)Z
-    .registers 3
-
-    if-nez p1, :cond_8
-
-    new-instance v0, Ljava/lang/NullPointerException;
-
-    invoke-direct {v0}, Ljava/lang/NullPointerException;-><init>()V
-
-    throw v0
-
-    :cond_8
-    invoke-direct {p0, p1}, Lcom/google/android/mms/pdu/PduBody;->putPartToMaps(Lcom/google/android/mms/pdu/PduPart;)V
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mParts:Ljava/util/Vector;
-
-    invoke-virtual {v0, p1}, Ljava/util/Vector;->add(Ljava/lang/Object;)Z
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public getPart(I)Lcom/google/android/mms/pdu/PduPart;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mParts:Ljava/util/Vector;
-
-    invoke-virtual {v0, p1}, Ljava/util/Vector;->get(I)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Lcom/google/android/mms/pdu/PduPart;
-
-    return-object v0
-.end method
-
-.method public getPartByContentId(Ljava/lang/String;)Lcom/google/android/mms/pdu/PduPart;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mPartMapByContentId:Ljava/util/Map;
-
-    invoke-interface {v0, p1}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Lcom/google/android/mms/pdu/PduPart;
-
-    return-object v0
-.end method
-
-.method public getPartByContentLocation(Ljava/lang/String;)Lcom/google/android/mms/pdu/PduPart;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mPartMapByContentLocation:Ljava/util/Map;
-
-    invoke-interface {v0, p1}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Lcom/google/android/mms/pdu/PduPart;
-
-    return-object v0
-.end method
-
-.method public getPartByFileName(Ljava/lang/String;)Lcom/google/android/mms/pdu/PduPart;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mPartMapByFileName:Ljava/util/Map;
-
-    invoke-interface {v0, p1}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Lcom/google/android/mms/pdu/PduPart;
-
-    return-object v0
-.end method
-
-.method public getPartByName(Ljava/lang/String;)Lcom/google/android/mms/pdu/PduPart;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mPartMapByName:Ljava/util/Map;
-
-    invoke-interface {v0, p1}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Lcom/google/android/mms/pdu/PduPart;
-
-    return-object v0
-.end method
-
-.method public getPartIndex(Lcom/google/android/mms/pdu/PduPart;)I
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mParts:Ljava/util/Vector;
-
-    invoke-virtual {v0, p1}, Ljava/util/Vector;->indexOf(Ljava/lang/Object;)I
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public getPartsNum()I
-    .registers 2
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mParts:Ljava/util/Vector;
-
-    invoke-virtual {v0}, Ljava/util/Vector;->size()I
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public removeAll()V
-    .registers 2
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mParts:Ljava/util/Vector;
-
-    invoke-virtual {v0}, Ljava/util/Vector;->clear()V
-
-    return-void
-.end method
-
-.method public removePart(I)Lcom/google/android/mms/pdu/PduPart;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduBody;->mParts:Ljava/util/Vector;
-
-    invoke-virtual {v0, p1}, Ljava/util/Vector;->remove(I)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Lcom/google/android/mms/pdu/PduPart;
-
-    return-object v0
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/PduComposer$1.smali pdroid-framework/smali/com/google/android/mms/pdu/PduComposer$1.smali
--- stock-framework/smali/com/google/android/mms/pdu/PduComposer$1.smali	2013-07-15 18:10:57.138627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/PduComposer$1.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,14 +0,0 @@
-.class synthetic Lcom/google/android/mms/pdu/PduComposer$1;
-.super Ljava/lang/Object;
-.source "PduComposer.java"
-
-
-# annotations
-.annotation system Ldalvik/annotation/EnclosingClass;
-    value = Lcom/google/android/mms/pdu/PduComposer;
-.end annotation
-
-.annotation system Ldalvik/annotation/InnerClass;
-    accessFlags = 0x1008
-    name = null
-.end annotation
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/PduComposer$BufferStack.smali pdroid-framework/smali/com/google/android/mms/pdu/PduComposer$BufferStack.smali
--- stock-framework/smali/com/google/android/mms/pdu/PduComposer$BufferStack.smali	2013-07-15 18:10:57.138627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/PduComposer$BufferStack.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,227 +0,0 @@
-.class Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-.super Ljava/lang/Object;
-.source "PduComposer.java"
-
-
-# annotations
-.annotation system Ldalvik/annotation/EnclosingClass;
-    value = Lcom/google/android/mms/pdu/PduComposer;
-.end annotation
-
-.annotation system Ldalvik/annotation/InnerClass;
-    accessFlags = 0x2
-    name = "BufferStack"
-.end annotation
-
-
-# instance fields
-.field private stack:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-.field stackSize:I
-
-.field final synthetic this$0:Lcom/google/android/mms/pdu/PduComposer;
-
-.field private toCopy:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-
-# direct methods
-.method private constructor <init>(Lcom/google/android/mms/pdu/PduComposer;)V
-    .registers 3
-
-    const/4 v0, 0x0
-
-    iput-object p1, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->this$0:Lcom/google/android/mms/pdu/PduComposer;
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->stack:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->toCopy:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    const/4 v0, 0x0
-
-    iput v0, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->stackSize:I
-
-    return-void
-.end method
-
-.method synthetic constructor <init>(Lcom/google/android/mms/pdu/PduComposer;Lcom/google/android/mms/pdu/PduComposer$1;)V
-    .registers 3
-
-    invoke-direct {p0, p1}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;-><init>(Lcom/google/android/mms/pdu/PduComposer;)V
-
-    return-void
-.end method
-
-
-# virtual methods
-.method copy()V
-    .registers 5
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->this$0:Lcom/google/android/mms/pdu/PduComposer;
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->toCopy:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    iget-object v1, v1, Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;->currentMessage:Ljava/io/ByteArrayOutputStream;
-
-    invoke-virtual {v1}, Ljava/io/ByteArrayOutputStream;->toByteArray()[B
-
-    move-result-object v1
-
-    const/4 v2, 0x0
-
-    iget-object v3, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->toCopy:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    iget v3, v3, Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;->currentPosition:I
-
-    invoke-virtual {v0, v1, v2, v3}, Lcom/google/android/mms/pdu/PduComposer;->arraycopy([BII)V
-
-    const/4 v0, 0x0
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->toCopy:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    return-void
-.end method
-
-.method mark()Lcom/google/android/mms/pdu/PduComposer$PositionMarker;
-    .registers 4
-
-    new-instance v0, Lcom/google/android/mms/pdu/PduComposer$PositionMarker;
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->this$0:Lcom/google/android/mms/pdu/PduComposer;
-
-    const/4 v2, 0x0
-
-    invoke-direct {v0, v1, v2}, Lcom/google/android/mms/pdu/PduComposer$PositionMarker;-><init>(Lcom/google/android/mms/pdu/PduComposer;Lcom/google/android/mms/pdu/PduComposer$1;)V
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->this$0:Lcom/google/android/mms/pdu/PduComposer;
-
-    iget v1, v1, Lcom/google/android/mms/pdu/PduComposer;->mPosition:I
-
-    #setter for: Lcom/google/android/mms/pdu/PduComposer$PositionMarker;->c_pos:I
-    invoke-static {v0, v1}, Lcom/google/android/mms/pdu/PduComposer$PositionMarker;->access$402(Lcom/google/android/mms/pdu/PduComposer$PositionMarker;I)I
-
-    iget v1, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->stackSize:I
-
-    #setter for: Lcom/google/android/mms/pdu/PduComposer$PositionMarker;->currentStackSize:I
-    invoke-static {v0, v1}, Lcom/google/android/mms/pdu/PduComposer$PositionMarker;->access$502(Lcom/google/android/mms/pdu/PduComposer$PositionMarker;I)I
-
-    return-object v0
-.end method
-
-.method newbuf()V
-    .registers 4
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->toCopy:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    if-eqz v1, :cond_c
-
-    new-instance v1, Ljava/lang/RuntimeException;
-
-    const-string v2, "BUG: Invalid newbuf() before copy()"
-
-    invoke-direct {v1, v2}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
-
-    throw v1
-
-    :cond_c
-    new-instance v0, Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    const/4 v1, 0x0
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;-><init>(Lcom/google/android/mms/pdu/PduComposer$1;)V
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->this$0:Lcom/google/android/mms/pdu/PduComposer;
-
-    iget-object v1, v1, Lcom/google/android/mms/pdu/PduComposer;->mMessage:Ljava/io/ByteArrayOutputStream;
-
-    iput-object v1, v0, Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;->currentMessage:Ljava/io/ByteArrayOutputStream;
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->this$0:Lcom/google/android/mms/pdu/PduComposer;
-
-    iget v1, v1, Lcom/google/android/mms/pdu/PduComposer;->mPosition:I
-
-    iput v1, v0, Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;->currentPosition:I
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->stack:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    iput-object v1, v0, Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;->next:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->stack:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    iget v1, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->stackSize:I
-
-    add-int/lit8 v1, v1, 0x1
-
-    iput v1, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->stackSize:I
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->this$0:Lcom/google/android/mms/pdu/PduComposer;
-
-    new-instance v2, Ljava/io/ByteArrayOutputStream;
-
-    invoke-direct {v2}, Ljava/io/ByteArrayOutputStream;-><init>()V
-
-    iput-object v2, v1, Lcom/google/android/mms/pdu/PduComposer;->mMessage:Ljava/io/ByteArrayOutputStream;
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->this$0:Lcom/google/android/mms/pdu/PduComposer;
-
-    const/4 v2, 0x0
-
-    iput v2, v1, Lcom/google/android/mms/pdu/PduComposer;->mPosition:I
-
-    return-void
-.end method
-
-.method pop()V
-    .registers 5
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->this$0:Lcom/google/android/mms/pdu/PduComposer;
-
-    iget-object v0, v2, Lcom/google/android/mms/pdu/PduComposer;->mMessage:Ljava/io/ByteArrayOutputStream;
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->this$0:Lcom/google/android/mms/pdu/PduComposer;
-
-    iget v1, v2, Lcom/google/android/mms/pdu/PduComposer;->mPosition:I
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->this$0:Lcom/google/android/mms/pdu/PduComposer;
-
-    iget-object v3, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->stack:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    iget-object v3, v3, Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;->currentMessage:Ljava/io/ByteArrayOutputStream;
-
-    iput-object v3, v2, Lcom/google/android/mms/pdu/PduComposer;->mMessage:Ljava/io/ByteArrayOutputStream;
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->this$0:Lcom/google/android/mms/pdu/PduComposer;
-
-    iget-object v3, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->stack:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    iget v3, v3, Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;->currentPosition:I
-
-    iput v3, v2, Lcom/google/android/mms/pdu/PduComposer;->mPosition:I
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->stack:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    iput-object v2, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->toCopy:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->stack:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    iget-object v2, v2, Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;->next:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    iput-object v2, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->stack:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    iget v2, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->stackSize:I
-
-    add-int/lit8 v2, v2, -0x1
-
-    iput v2, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->stackSize:I
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->toCopy:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    iput-object v0, v2, Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;->currentMessage:Ljava/io/ByteArrayOutputStream;
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->toCopy:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    iput v1, v2, Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;->currentPosition:I
-
-    return-void
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/PduComposer$LengthRecordNode.smali pdroid-framework/smali/com/google/android/mms/pdu/PduComposer$LengthRecordNode.smali
--- stock-framework/smali/com/google/android/mms/pdu/PduComposer$LengthRecordNode.smali	2013-07-15 18:10:57.138627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/PduComposer$LengthRecordNode.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,50 +0,0 @@
-.class Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-.super Ljava/lang/Object;
-.source "PduComposer.java"
-
-
-# annotations
-.annotation system Ldalvik/annotation/EnclosingClass;
-    value = Lcom/google/android/mms/pdu/PduComposer;
-.end annotation
-
-.annotation system Ldalvik/annotation/InnerClass;
-    accessFlags = 0xa
-    name = "LengthRecordNode"
-.end annotation
-
-
-# instance fields
-.field currentMessage:Ljava/io/ByteArrayOutputStream;
-
-.field public currentPosition:I
-
-.field public next:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-
-# direct methods
-.method private constructor <init>()V
-    .registers 3
-
-    const/4 v1, 0x0
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    iput-object v1, p0, Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;->currentMessage:Ljava/io/ByteArrayOutputStream;
-
-    const/4 v0, 0x0
-
-    iput v0, p0, Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;->currentPosition:I
-
-    iput-object v1, p0, Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;->next:Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-
-    return-void
-.end method
-
-.method synthetic constructor <init>(Lcom/google/android/mms/pdu/PduComposer$1;)V
-    .registers 2
-
-    invoke-direct {p0}, Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;-><init>()V
-
-    return-void
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/PduComposer$PositionMarker.smali pdroid-framework/smali/com/google/android/mms/pdu/PduComposer$PositionMarker.smali
--- stock-framework/smali/com/google/android/mms/pdu/PduComposer$PositionMarker.smali	2013-07-15 18:10:57.138627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/PduComposer$PositionMarker.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,96 +0,0 @@
-.class Lcom/google/android/mms/pdu/PduComposer$PositionMarker;
-.super Ljava/lang/Object;
-.source "PduComposer.java"
-
-
-# annotations
-.annotation system Ldalvik/annotation/EnclosingClass;
-    value = Lcom/google/android/mms/pdu/PduComposer;
-.end annotation
-
-.annotation system Ldalvik/annotation/InnerClass;
-    accessFlags = 0x2
-    name = "PositionMarker"
-.end annotation
-
-
-# instance fields
-.field private c_pos:I
-
-.field private currentStackSize:I
-
-.field final synthetic this$0:Lcom/google/android/mms/pdu/PduComposer;
-
-
-# direct methods
-.method private constructor <init>(Lcom/google/android/mms/pdu/PduComposer;)V
-    .registers 2
-
-    iput-object p1, p0, Lcom/google/android/mms/pdu/PduComposer$PositionMarker;->this$0:Lcom/google/android/mms/pdu/PduComposer;
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    return-void
-.end method
-
-.method synthetic constructor <init>(Lcom/google/android/mms/pdu/PduComposer;Lcom/google/android/mms/pdu/PduComposer$1;)V
-    .registers 3
-
-    invoke-direct {p0, p1}, Lcom/google/android/mms/pdu/PduComposer$PositionMarker;-><init>(Lcom/google/android/mms/pdu/PduComposer;)V
-
-    return-void
-.end method
-
-.method static synthetic access$402(Lcom/google/android/mms/pdu/PduComposer$PositionMarker;I)I
-    .registers 2
-
-    iput p1, p0, Lcom/google/android/mms/pdu/PduComposer$PositionMarker;->c_pos:I
-
-    return p1
-.end method
-
-.method static synthetic access$502(Lcom/google/android/mms/pdu/PduComposer$PositionMarker;I)I
-    .registers 2
-
-    iput p1, p0, Lcom/google/android/mms/pdu/PduComposer$PositionMarker;->currentStackSize:I
-
-    return p1
-.end method
-
-
-# virtual methods
-.method getLength()I
-    .registers 3
-
-    iget v0, p0, Lcom/google/android/mms/pdu/PduComposer$PositionMarker;->currentStackSize:I
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduComposer$PositionMarker;->this$0:Lcom/google/android/mms/pdu/PduComposer;
-
-    #getter for: Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-    invoke-static {v1}, Lcom/google/android/mms/pdu/PduComposer;->access$100(Lcom/google/android/mms/pdu/PduComposer;)Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-result-object v1
-
-    iget v1, v1, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->stackSize:I
-
-    if-eq v0, v1, :cond_14
-
-    new-instance v0, Ljava/lang/RuntimeException;
-
-    const-string v1, "BUG: Invalid call to getLength()"
-
-    invoke-direct {v0, v1}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :cond_14
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduComposer$PositionMarker;->this$0:Lcom/google/android/mms/pdu/PduComposer;
-
-    iget v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mPosition:I
-
-    iget v1, p0, Lcom/google/android/mms/pdu/PduComposer$PositionMarker;->c_pos:I
-
-    sub-int/2addr v0, v1
-
-    return v0
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/PduComposer.smali pdroid-framework/smali/com/google/android/mms/pdu/PduComposer.smali
--- stock-framework/smali/com/google/android/mms/pdu/PduComposer.smali	2013-07-15 18:10:57.138627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/PduComposer.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,2554 +0,0 @@
-.class public Lcom/google/android/mms/pdu/PduComposer;
-.super Ljava/lang/Object;
-.source "PduComposer.java"
-
-
-# annotations
-.annotation system Ldalvik/annotation/MemberClasses;
-    value = {
-        Lcom/google/android/mms/pdu/PduComposer$1;,
-        Lcom/google/android/mms/pdu/PduComposer$BufferStack;,
-        Lcom/google/android/mms/pdu/PduComposer$PositionMarker;,
-        Lcom/google/android/mms/pdu/PduComposer$LengthRecordNode;
-    }
-.end annotation
-
-
-# static fields
-#the value of this static final field might be set in the static constructor
-.field static final synthetic $assertionsDisabled:Z = false
-
-.field private static final END_STRING_FLAG:I = 0x0
-
-.field private static final LENGTH_QUOTE:I = 0x1f
-
-.field private static final LONG_INTEGER_LENGTH_MAX:I = 0x8
-
-.field private static final PDU_COMPOSER_BLOCK_SIZE:I = 0x400
-
-.field private static final PDU_COMPOSE_CONTENT_ERROR:I = 0x1
-
-.field private static final PDU_COMPOSE_FIELD_NOT_SET:I = 0x2
-
-.field private static final PDU_COMPOSE_FIELD_NOT_SUPPORTED:I = 0x3
-
-.field private static final PDU_COMPOSE_SUCCESS:I = 0x0
-
-.field private static final PDU_EMAIL_ADDRESS_TYPE:I = 0x2
-
-.field private static final PDU_IPV4_ADDRESS_TYPE:I = 0x3
-
-.field private static final PDU_IPV6_ADDRESS_TYPE:I = 0x4
-
-.field private static final PDU_PHONE_NUMBER_ADDRESS_TYPE:I = 0x1
-
-.field private static final PDU_UNKNOWN_ADDRESS_TYPE:I = 0x5
-
-.field private static final QUOTED_STRING_FLAG:I = 0x22
-
-.field static final REGEXP_EMAIL_ADDRESS_TYPE:Ljava/lang/String; = "[a-zA-Z| ]*\\<{0,1}[a-zA-Z| ]+@{1}[a-zA-Z| ]+\\.{1}[a-zA-Z| ]+\\>{0,1}"
-
-.field static final REGEXP_IPV4_ADDRESS_TYPE:Ljava/lang/String; = "[0-9]{1,3}\\.{1}[0-9]{1,3}\\.{1}[0-9]{1,3}\\.{1}[0-9]{1,3}"
-
-.field static final REGEXP_IPV6_ADDRESS_TYPE:Ljava/lang/String; = "[a-fA-F]{4}\\:{1}[a-fA-F0-9]{4}\\:{1}[a-fA-F0-9]{4}\\:{1}[a-fA-F0-9]{4}\\:{1}[a-fA-F0-9]{4}\\:{1}[a-fA-F0-9]{4}\\:{1}[a-fA-F0-9]{4}\\:{1}[a-fA-F0-9]{4}"
-
-.field static final REGEXP_PHONE_NUMBER_ADDRESS_TYPE:Ljava/lang/String; = "\\+?[0-9|\\.|\\-]+"
-
-.field private static final SHORT_INTEGER_MAX:I = 0x7f
-
-.field static final STRING_IPV4_ADDRESS_TYPE:Ljava/lang/String; = "/TYPE=IPV4"
-
-.field static final STRING_IPV6_ADDRESS_TYPE:Ljava/lang/String; = "/TYPE=IPV6"
-
-.field static final STRING_PHONE_NUMBER_ADDRESS_TYPE:Ljava/lang/String; = "/TYPE=PLMN"
-
-.field private static final TEXT_MAX:I = 0x7f
-
-.field private static mContentTypeMap:Ljava/util/HashMap;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashMap",
-            "<",
-            "Ljava/lang/String;",
-            "Ljava/lang/Integer;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-
-# instance fields
-.field protected mMessage:Ljava/io/ByteArrayOutputStream;
-
-.field private mPdu:Lcom/google/android/mms/pdu/GenericPdu;
-
-.field private mPduHeader:Lcom/google/android/mms/pdu/PduHeaders;
-
-.field protected mPosition:I
-
-.field private final mResolver:Landroid/content/ContentResolver;
-
-.field private mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-
-# direct methods
-.method static constructor <clinit>()V
-    .registers 4
-
-    const-class v1, Lcom/google/android/mms/pdu/PduComposer;
-
-    invoke-virtual {v1}, Ljava/lang/Class;->desiredAssertionStatus()Z
-
-    move-result v1
-
-    if-nez v1, :cond_2b
-
-    const/4 v1, 0x1
-
-    :goto_9
-    sput-boolean v1, Lcom/google/android/mms/pdu/PduComposer;->$assertionsDisabled:Z
-
-    const/4 v1, 0x0
-
-    sput-object v1, Lcom/google/android/mms/pdu/PduComposer;->mContentTypeMap:Ljava/util/HashMap;
-
-    new-instance v1, Ljava/util/HashMap;
-
-    invoke-direct {v1}, Ljava/util/HashMap;-><init>()V
-
-    sput-object v1, Lcom/google/android/mms/pdu/PduComposer;->mContentTypeMap:Ljava/util/HashMap;
-
-    const/4 v0, 0x0
-
-    :goto_16
-    sget-object v1, Lcom/google/android/mms/pdu/PduContentTypes;->contentTypes:[Ljava/lang/String;
-
-    array-length v1, v1
-
-    if-ge v0, v1, :cond_2d
-
-    sget-object v1, Lcom/google/android/mms/pdu/PduComposer;->mContentTypeMap:Ljava/util/HashMap;
-
-    sget-object v2, Lcom/google/android/mms/pdu/PduContentTypes;->contentTypes:[Ljava/lang/String;
-
-    aget-object v2, v2, v0
-
-    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v3
-
-    invoke-virtual {v1, v2, v3}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    add-int/lit8 v0, v0, 0x1
-
-    goto :goto_16
-
-    :cond_2b
-    const/4 v1, 0x0
-
-    goto :goto_9
-
-    :cond_2d
-    return-void
-.end method
-
-.method public constructor <init>(Landroid/content/Context;Lcom/google/android/mms/pdu/GenericPdu;)V
-    .registers 6
-
-    const/4 v2, 0x0
-
-    const/4 v1, 0x0
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    iput-object v1, p0, Lcom/google/android/mms/pdu/PduComposer;->mMessage:Ljava/io/ByteArrayOutputStream;
-
-    iput-object v1, p0, Lcom/google/android/mms/pdu/PduComposer;->mPdu:Lcom/google/android/mms/pdu/GenericPdu;
-
-    iput v2, p0, Lcom/google/android/mms/pdu/PduComposer;->mPosition:I
-
-    iput-object v1, p0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    iput-object v1, p0, Lcom/google/android/mms/pdu/PduComposer;->mPduHeader:Lcom/google/android/mms/pdu/PduHeaders;
-
-    iput-object p2, p0, Lcom/google/android/mms/pdu/PduComposer;->mPdu:Lcom/google/android/mms/pdu/GenericPdu;
-
-    invoke-virtual {p1}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
-
-    move-result-object v0
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduComposer;->mResolver:Landroid/content/ContentResolver;
-
-    invoke-virtual {p2}, Lcom/google/android/mms/pdu/GenericPdu;->getPduHeaders()Lcom/google/android/mms/pdu/PduHeaders;
-
-    move-result-object v0
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduComposer;->mPduHeader:Lcom/google/android/mms/pdu/PduHeaders;
-
-    new-instance v0, Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    invoke-direct {v0, p0, v1}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;-><init>(Lcom/google/android/mms/pdu/PduComposer;Lcom/google/android/mms/pdu/PduComposer$1;)V
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    new-instance v0, Ljava/io/ByteArrayOutputStream;
-
-    invoke-direct {v0}, Ljava/io/ByteArrayOutputStream;-><init>()V
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduComposer;->mMessage:Ljava/io/ByteArrayOutputStream;
-
-    iput v2, p0, Lcom/google/android/mms/pdu/PduComposer;->mPosition:I
-
-    return-void
-.end method
-
-.method static synthetic access$100(Lcom/google/android/mms/pdu/PduComposer;)Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-    .registers 2
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    return-object v0
-.end method
-
-.method private appendAddressType(Lcom/google/android/mms/pdu/EncodedStringValue;)Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 6
-
-    const/4 v2, 0x0
-
-    :try_start_1
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/EncodedStringValue;->getString()Ljava/lang/String;
-
-    move-result-object v3
-
-    invoke-static {v3}, Lcom/google/android/mms/pdu/PduComposer;->checkAddressType(Ljava/lang/String;)I
-
-    move-result v0
-
-    invoke-static {p1}, Lcom/google/android/mms/pdu/EncodedStringValue;->copy(Lcom/google/android/mms/pdu/EncodedStringValue;)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v2
-
-    const/4 v3, 0x1
-
-    if-ne v3, v0, :cond_1b
-
-    const-string v3, "/TYPE=PLMN"
-
-    invoke-virtual {v3}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v3
-
-    invoke-virtual {v2, v3}, Lcom/google/android/mms/pdu/EncodedStringValue;->appendTextString([B)V
-
-    :cond_19
-    :goto_19
-    move-object v3, v2
-
-    :goto_1a
-    return-object v3
-
-    :cond_1b
-    const/4 v3, 0x3
-
-    if-ne v3, v0, :cond_2b
-
-    const-string v3, "/TYPE=IPV4"
-
-    invoke-virtual {v3}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v3
-
-    invoke-virtual {v2, v3}, Lcom/google/android/mms/pdu/EncodedStringValue;->appendTextString([B)V
-
-    goto :goto_19
-
-    :catch_28
-    move-exception v1
-
-    const/4 v3, 0x0
-
-    goto :goto_1a
-
-    :cond_2b
-    const/4 v3, 0x4
-
-    if-ne v3, v0, :cond_19
-
-    const-string v3, "/TYPE=IPV6"
-
-    invoke-virtual {v3}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v3
-
-    invoke-virtual {v2, v3}, Lcom/google/android/mms/pdu/EncodedStringValue;->appendTextString([B)V
-    :try_end_37
-    .catch Ljava/lang/NullPointerException; {:try_start_1 .. :try_end_37} :catch_28
-
-    goto :goto_19
-.end method
-
-.method private appendHeader(I)I
-    .registers 24
-
-    packed-switch p1, :pswitch_data_256
-
-    :pswitch_3
-    const/16 v20, 0x3
-
-    :goto_5
-    return v20
-
-    :pswitch_6
-    invoke-virtual/range {p0 .. p1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mPduHeader:Lcom/google/android/mms/pdu/PduHeaders;
-
-    move-object/from16 v20, v0
-
-    move-object/from16 v0, v20
-
-    move/from16 v1, p1
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v19
-
-    if-nez v19, :cond_25
-
-    const/16 v20, 0x12
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v20
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendShortInteger(I)V
-
-    :cond_22
-    :goto_22
-    const/16 v20, 0x0
-
-    goto :goto_5
-
-    :cond_25
-    move-object/from16 v0, p0
-
-    move/from16 v1, v19
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendShortInteger(I)V
-
-    goto :goto_22
-
-    :pswitch_2d
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mPduHeader:Lcom/google/android/mms/pdu/PduHeaders;
-
-    move-object/from16 v20, v0
-
-    move-object/from16 v0, v20
-
-    move/from16 v1, p1
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v18
-
-    if-nez v18, :cond_40
-
-    const/16 v20, 0x2
-
-    goto :goto_5
-
-    :cond_40
-    invoke-virtual/range {p0 .. p1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    move-object/from16 v0, p0
-
-    move-object/from16 v1, v18
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendTextString([B)V
-
-    goto :goto_22
-
-    :pswitch_4b
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mPduHeader:Lcom/google/android/mms/pdu/PduHeaders;
-
-    move-object/from16 v20, v0
-
-    move-object/from16 v0, v20
-
-    move/from16 v1, p1
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValues(I)[Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v3
-
-    if-nez v3, :cond_5e
-
-    const/16 v20, 0x2
-
-    goto :goto_5
-
-    :cond_5e
-    const/4 v14, 0x0
-
-    :goto_5f
-    array-length v0, v3
-
-    move/from16 v20, v0
-
-    move/from16 v0, v20
-
-    if-ge v14, v0, :cond_22
-
-    aget-object v20, v3, v14
-
-    move-object/from16 v0, p0
-
-    move-object/from16 v1, v20
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendAddressType(Lcom/google/android/mms/pdu/EncodedStringValue;)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v17
-
-    if-nez v17, :cond_75
-
-    const/16 v20, 0x1
-
-    goto :goto_5
-
-    :cond_75
-    invoke-virtual/range {p0 .. p1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    move-object/from16 v0, p0
-
-    move-object/from16 v1, v17
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendEncodedString(Lcom/google/android/mms/pdu/EncodedStringValue;)V
-
-    add-int/lit8 v14, v14, 0x1
-
-    goto :goto_5f
-
-    :pswitch_82
-    invoke-virtual/range {p0 .. p1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mPduHeader:Lcom/google/android/mms/pdu/PduHeaders;
-
-    move-object/from16 v20, v0
-
-    move-object/from16 v0, v20
-
-    move/from16 v1, p1
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValue(I)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v12
-
-    if-eqz v12, :cond_b0
-
-    invoke-virtual {v12}, Lcom/google/android/mms/pdu/EncodedStringValue;->getString()Ljava/lang/String;
-
-    move-result-object v20
-
-    invoke-static/range {v20 .. v20}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z
-
-    move-result v20
-
-    if-nez v20, :cond_b0
-
-    new-instance v20, Ljava/lang/String;
-
-    invoke-virtual {v12}, Lcom/google/android/mms/pdu/EncodedStringValue;->getTextString()[B
-
-    move-result-object v21
-
-    invoke-direct/range {v20 .. v21}, Ljava/lang/String;-><init>([B)V
-
-    const-string v21, "insert-address-token"
-
-    invoke-virtual/range {v20 .. v21}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v20
-
-    if-eqz v20, :cond_c4
-
-    :cond_b0
-    const/16 v20, 0x1
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v20
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->append(I)V
-
-    const/16 v20, 0x81
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v20
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->append(I)V
-
-    goto/16 :goto_22
-
-    :cond_c4
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v20, v0
-
-    invoke-virtual/range {v20 .. v20}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->newbuf()V
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v20, v0
-
-    invoke-virtual/range {v20 .. v20}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->mark()Lcom/google/android/mms/pdu/PduComposer$PositionMarker;
-
-    move-result-object v13
-
-    const/16 v20, 0x80
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v20
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->append(I)V
-
-    move-object/from16 v0, p0
-
-    invoke-direct {v0, v12}, Lcom/google/android/mms/pdu/PduComposer;->appendAddressType(Lcom/google/android/mms/pdu/EncodedStringValue;)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v17
-
-    if-nez v17, :cond_ec
-
-    const/16 v20, 0x1
-
-    goto/16 :goto_5
-
-    :cond_ec
-    move-object/from16 v0, p0
-
-    move-object/from16 v1, v17
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendEncodedString(Lcom/google/android/mms/pdu/EncodedStringValue;)V
-
-    invoke-virtual {v13}, Lcom/google/android/mms/pdu/PduComposer$PositionMarker;->getLength()I
-
-    move-result v11
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v20, v0
-
-    invoke-virtual/range {v20 .. v20}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->pop()V
-
-    int-to-long v0, v11
-
-    move-wide/from16 v20, v0
-
-    move-object/from16 v0, p0
-
-    move-wide/from16 v1, v20
-
-    invoke-virtual {v0, v1, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendValueLength(J)V
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v20, v0
-
-    invoke-virtual/range {v20 .. v20}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->copy()V
-
-    goto/16 :goto_22
-
-    :pswitch_115
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mPduHeader:Lcom/google/android/mms/pdu/PduHeaders;
-
-    move-object/from16 v20, v0
-
-    move-object/from16 v0, v20
-
-    move/from16 v1, p1
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v16
-
-    if-nez v16, :cond_129
-
-    const/16 v20, 0x2
-
-    goto/16 :goto_5
-
-    :cond_129
-    invoke-virtual/range {p0 .. p1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v16
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    goto/16 :goto_22
-
-    :pswitch_135
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mPduHeader:Lcom/google/android/mms/pdu/PduHeaders;
-
-    move-object/from16 v20, v0
-
-    move-object/from16 v0, v20
-
-    move/from16 v1, p1
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getLongInteger(I)J
-
-    move-result-wide v4
-
-    const-wide/16 v20, -0x1
-
-    cmp-long v20, v20, v4
-
-    if-nez v20, :cond_14d
-
-    const/16 v20, 0x2
-
-    goto/16 :goto_5
-
-    :cond_14d
-    invoke-virtual/range {p0 .. p1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    move-object/from16 v0, p0
-
-    invoke-virtual {v0, v4, v5}, Lcom/google/android/mms/pdu/PduComposer;->appendDateValue(J)V
-
-    goto/16 :goto_22
-
-    :pswitch_157
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mPduHeader:Lcom/google/android/mms/pdu/PduHeaders;
-
-    move-object/from16 v20, v0
-
-    move-object/from16 v0, v20
-
-    move/from16 v1, p1
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValue(I)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v6
-
-    if-nez v6, :cond_16b
-
-    const/16 v20, 0x2
-
-    goto/16 :goto_5
-
-    :cond_16b
-    invoke-virtual/range {p0 .. p1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    move-object/from16 v0, p0
-
-    invoke-virtual {v0, v6}, Lcom/google/android/mms/pdu/PduComposer;->appendEncodedString(Lcom/google/android/mms/pdu/EncodedStringValue;)V
-
-    goto/16 :goto_22
-
-    :pswitch_175
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mPduHeader:Lcom/google/android/mms/pdu/PduHeaders;
-
-    move-object/from16 v20, v0
-
-    move-object/from16 v0, v20
-
-    move/from16 v1, p1
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v15
-
-    if-nez v15, :cond_189
-
-    const/16 v20, 0x2
-
-    goto/16 :goto_5
-
-    :cond_189
-    invoke-virtual/range {p0 .. p1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    const-string v20, "advertisement"
-
-    invoke-virtual/range {v20 .. v20}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v20
-
-    move-object/from16 v0, v20
-
-    invoke-static {v15, v0}, Ljava/util/Arrays;->equals([B[B)Z
-
-    move-result v20
-
-    if-eqz v20, :cond_1a5
-
-    const/16 v20, 0x81
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v20
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    goto/16 :goto_22
-
-    :cond_1a5
-    const-string v20, "auto"
-
-    invoke-virtual/range {v20 .. v20}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v20
-
-    move-object/from16 v0, v20
-
-    invoke-static {v15, v0}, Ljava/util/Arrays;->equals([B[B)Z
-
-    move-result v20
-
-    if-eqz v20, :cond_1be
-
-    const/16 v20, 0x83
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v20
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    goto/16 :goto_22
-
-    :cond_1be
-    const-string/jumbo v20, "personal"
-
-    invoke-virtual/range {v20 .. v20}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v20
-
-    move-object/from16 v0, v20
-
-    invoke-static {v15, v0}, Ljava/util/Arrays;->equals([B[B)Z
-
-    move-result v20
-
-    if-eqz v20, :cond_1d8
-
-    const/16 v20, 0x80
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v20
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    goto/16 :goto_22
-
-    :cond_1d8
-    const-string v20, "informational"
-
-    invoke-virtual/range {v20 .. v20}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v20
-
-    move-object/from16 v0, v20
-
-    invoke-static {v15, v0}, Ljava/util/Arrays;->equals([B[B)Z
-
-    move-result v20
-
-    if-eqz v20, :cond_1f1
-
-    const/16 v20, 0x82
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v20
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    goto/16 :goto_22
-
-    :cond_1f1
-    move-object/from16 v0, p0
-
-    invoke-virtual {v0, v15}, Lcom/google/android/mms/pdu/PduComposer;->appendTextString([B)V
-
-    goto/16 :goto_22
-
-    :pswitch_1f8
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mPduHeader:Lcom/google/android/mms/pdu/PduHeaders;
-
-    move-object/from16 v20, v0
-
-    move-object/from16 v0, v20
-
-    move/from16 v1, p1
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getLongInteger(I)J
-
-    move-result-wide v7
-
-    const-wide/16 v20, -0x1
-
-    cmp-long v20, v20, v7
-
-    if-nez v20, :cond_210
-
-    const/16 v20, 0x2
-
-    goto/16 :goto_5
-
-    :cond_210
-    invoke-virtual/range {p0 .. p1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v20, v0
-
-    invoke-virtual/range {v20 .. v20}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->newbuf()V
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v20, v0
-
-    invoke-virtual/range {v20 .. v20}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->mark()Lcom/google/android/mms/pdu/PduComposer$PositionMarker;
-
-    move-result-object v10
-
-    const/16 v20, 0x81
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v20
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->append(I)V
-
-    move-object/from16 v0, p0
-
-    invoke-virtual {v0, v7, v8}, Lcom/google/android/mms/pdu/PduComposer;->appendLongInteger(J)V
-
-    invoke-virtual {v10}, Lcom/google/android/mms/pdu/PduComposer$PositionMarker;->getLength()I
-
-    move-result v9
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v20, v0
-
-    invoke-virtual/range {v20 .. v20}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->pop()V
-
-    int-to-long v0, v9
-
-    move-wide/from16 v20, v0
-
-    move-object/from16 v0, p0
-
-    move-wide/from16 v1, v20
-
-    invoke-virtual {v0, v1, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendValueLength(J)V
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v20, v0
-
-    invoke-virtual/range {v20 .. v20}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->copy()V
-
-    goto/16 :goto_22
-
-    :pswitch_data_256
-    .packed-switch 0x81
-        :pswitch_4b
-        :pswitch_4b
-        :pswitch_3
-        :pswitch_3
-        :pswitch_135
-        :pswitch_115
-        :pswitch_3
-        :pswitch_1f8
-        :pswitch_82
-        :pswitch_175
-        :pswitch_2d
-        :pswitch_3
-        :pswitch_6
-        :pswitch_3
-        :pswitch_115
-        :pswitch_115
-        :pswitch_115
-        :pswitch_3
-        :pswitch_3
-        :pswitch_3
-        :pswitch_115
-        :pswitch_157
-        :pswitch_4b
-        :pswitch_2d
-        :pswitch_3
-        :pswitch_3
-        :pswitch_115
-    .end packed-switch
-.end method
-
-.method protected static checkAddressType(Ljava/lang/String;)I
-    .registers 3
-
-    const/4 v0, 0x5
-
-    if-nez p0, :cond_4
-
-    :cond_3
-    :goto_3
-    return v0
-
-    :cond_4
-    const-string v1, "[0-9]{1,3}\\.{1}[0-9]{1,3}\\.{1}[0-9]{1,3}\\.{1}[0-9]{1,3}"
-
-    invoke-virtual {p0, v1}, Ljava/lang/String;->matches(Ljava/lang/String;)Z
-
-    move-result v1
-
-    if-eqz v1, :cond_e
-
-    const/4 v0, 0x3
-
-    goto :goto_3
-
-    :cond_e
-    const-string v1, "\\+?[0-9|\\.|\\-]+"
-
-    invoke-virtual {p0, v1}, Ljava/lang/String;->matches(Ljava/lang/String;)Z
-
-    move-result v1
-
-    if-eqz v1, :cond_18
-
-    const/4 v0, 0x1
-
-    goto :goto_3
-
-    :cond_18
-    const-string v1, "[a-zA-Z| ]*\\<{0,1}[a-zA-Z| ]+@{1}[a-zA-Z| ]+\\.{1}[a-zA-Z| ]+\\>{0,1}"
-
-    invoke-virtual {p0, v1}, Ljava/lang/String;->matches(Ljava/lang/String;)Z
-
-    move-result v1
-
-    if-eqz v1, :cond_22
-
-    const/4 v0, 0x2
-
-    goto :goto_3
-
-    :cond_22
-    const-string v1, "[a-fA-F]{4}\\:{1}[a-fA-F0-9]{4}\\:{1}[a-fA-F0-9]{4}\\:{1}[a-fA-F0-9]{4}\\:{1}[a-fA-F0-9]{4}\\:{1}[a-fA-F0-9]{4}\\:{1}[a-fA-F0-9]{4}\\:{1}[a-fA-F0-9]{4}"
-
-    invoke-virtual {p0, v1}, Ljava/lang/String;->matches(Ljava/lang/String;)Z
-
-    move-result v1
-
-    if-eqz v1, :cond_3
-
-    const/4 v0, 0x4
-
-    goto :goto_3
-.end method
-
-.method private makeAckInd()I
-    .registers 4
-
-    const/4 v0, 0x1
-
-    const/4 v1, 0x0
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduComposer;->mMessage:Ljava/io/ByteArrayOutputStream;
-
-    if-nez v2, :cond_f
-
-    new-instance v2, Ljava/io/ByteArrayOutputStream;
-
-    invoke-direct {v2}, Ljava/io/ByteArrayOutputStream;-><init>()V
-
-    iput-object v2, p0, Lcom/google/android/mms/pdu/PduComposer;->mMessage:Ljava/io/ByteArrayOutputStream;
-
-    iput v1, p0, Lcom/google/android/mms/pdu/PduComposer;->mPosition:I
-
-    :cond_f
-    const/16 v2, 0x8c
-
-    invoke-virtual {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    const/16 v2, 0x85
-
-    invoke-virtual {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    const/16 v2, 0x98
-
-    invoke-direct {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    move-result v2
-
-    if-eqz v2, :cond_22
-
-    :cond_21
-    :goto_21
-    return v0
-
-    :cond_22
-    const/16 v2, 0x8d
-
-    invoke-direct {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    move-result v2
-
-    if-nez v2, :cond_21
-
-    const/16 v0, 0x91
-
-    invoke-direct {p0, v0}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    move v0, v1
-
-    goto :goto_21
-.end method
-
-.method private makeMessageBody()I
-    .registers 32
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v29, v0
-
-    invoke-virtual/range {v29 .. v29}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->newbuf()V
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v29, v0
-
-    invoke-virtual/range {v29 .. v29}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->mark()Lcom/google/android/mms/pdu/PduComposer$PositionMarker;
-
-    move-result-object v16
-
-    new-instance v10, Ljava/lang/String;
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mPduHeader:Lcom/google/android/mms/pdu/PduHeaders;
-
-    move-object/from16 v29, v0
-
-    const/16 v30, 0x84
-
-    invoke-virtual/range {v29 .. v30}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v29
-
-    move-object/from16 v0, v29
-
-    invoke-direct {v10, v0}, Ljava/lang/String;-><init>([B)V
-
-    sget-object v29, Lcom/google/android/mms/pdu/PduComposer;->mContentTypeMap:Ljava/util/HashMap;
-
-    move-object/from16 v0, v29
-
-    invoke-virtual {v0, v10}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v12
-
-    check-cast v12, Ljava/lang/Integer;
-
-    if-nez v12, :cond_35
-
-    const/16 v29, 0x1
-
-    :goto_34
-    return v29
-
-    :cond_35
-    invoke-virtual {v12}, Ljava/lang/Integer;->intValue()I
-
-    move-result v29
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v29
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendShortInteger(I)V
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mPdu:Lcom/google/android/mms/pdu/GenericPdu;
-
-    move-object/from16 v29, v0
-
-    check-cast v29, Lcom/google/android/mms/pdu/SendReq;
-
-    invoke-virtual/range {v29 .. v29}, Lcom/google/android/mms/pdu/SendReq;->getBody()Lcom/google/android/mms/pdu/PduBody;
-
-    move-result-object v5
-
-    if-eqz v5, :cond_54
-
-    invoke-virtual {v5}, Lcom/google/android/mms/pdu/PduBody;->getPartsNum()I
-
-    move-result v29
-
-    if-nez v29, :cond_72
-
-    :cond_54
-    const-wide/16 v29, 0x0
-
-    move-object/from16 v0, p0
-
-    move-wide/from16 v1, v29
-
-    invoke-virtual {v0, v1, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendUintvarInteger(J)V
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v29, v0
-
-    invoke-virtual/range {v29 .. v29}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->pop()V
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v29, v0
-
-    invoke-virtual/range {v29 .. v29}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->copy()V
-
-    const/16 v29, 0x0
-
-    goto :goto_34
-
-    :cond_72
-    const/16 v29, 0x0
-
-    :try_start_74
-    move/from16 v0, v29
-
-    invoke-virtual {v5, v0}, Lcom/google/android/mms/pdu/PduBody;->getPart(I)Lcom/google/android/mms/pdu/PduPart;
-
-    move-result-object v23
-
-    invoke-virtual/range {v23 .. v23}, Lcom/google/android/mms/pdu/PduPart;->getContentId()[B
-
-    move-result-object v28
-
-    if-eqz v28, :cond_ad
-
-    const/16 v29, 0x8a
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v29
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    const/16 v29, 0x3c
-
-    const/16 v30, 0x0
-
-    aget-byte v30, v28, v30
-
-    move/from16 v0, v29
-
-    move/from16 v1, v30
-
-    if-ne v0, v1, :cond_12f
-
-    const/16 v29, 0x3e
-
-    move-object/from16 v0, v28
-
-    array-length v0, v0
-
-    move/from16 v30, v0
-
-    add-int/lit8 v30, v30, -0x1
-
-    aget-byte v30, v28, v30
-
-    move/from16 v0, v29
-
-    move/from16 v1, v30
-
-    if-ne v0, v1, :cond_12f
-
-    move-object/from16 v0, p0
-
-    move-object/from16 v1, v28
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendTextString([B)V
-
-    :cond_ad
-    :goto_ad
-    const/16 v29, 0x89
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v29
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    invoke-virtual/range {v23 .. v23}, Lcom/google/android/mms/pdu/PduPart;->getContentType()[B
-
-    move-result-object v29
-
-    move-object/from16 v0, p0
-
-    move-object/from16 v1, v29
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendTextString([B)V
-    :try_end_c1
-    .catch Ljava/lang/ArrayIndexOutOfBoundsException; {:try_start_74 .. :try_end_c1} :catch_15a
-
-    :goto_c1
-    invoke-virtual/range {v16 .. v16}, Lcom/google/android/mms/pdu/PduComposer$PositionMarker;->getLength()I
-
-    move-result v15
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v29, v0
-
-    invoke-virtual/range {v29 .. v29}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->pop()V
-
-    int-to-long v0, v15
-
-    move-wide/from16 v29, v0
-
-    move-object/from16 v0, p0
-
-    move-wide/from16 v1, v29
-
-    invoke-virtual {v0, v1, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendValueLength(J)V
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v29, v0
-
-    invoke-virtual/range {v29 .. v29}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->copy()V
-
-    invoke-virtual {v5}, Lcom/google/android/mms/pdu/PduBody;->getPartsNum()I
-
-    move-result v27
-
-    move/from16 v0, v27
-
-    int-to-long v0, v0
-
-    move-wide/from16 v29, v0
-
-    move-object/from16 v0, p0
-
-    move-wide/from16 v1, v29
-
-    invoke-virtual {v0, v1, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendUintvarInteger(J)V
-
-    const/16 v20, 0x0
-
-    :goto_f3
-    move/from16 v0, v20
-
-    move/from16 v1, v27
-
-    if-ge v0, v1, :cond_303
-
-    move/from16 v0, v20
-
-    invoke-virtual {v5, v0}, Lcom/google/android/mms/pdu/PduBody;->getPart(I)Lcom/google/android/mms/pdu/PduPart;
-
-    move-result-object v23
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v29, v0
-
-    invoke-virtual/range {v29 .. v29}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->newbuf()V
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v29, v0
-
-    invoke-virtual/range {v29 .. v29}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->mark()Lcom/google/android/mms/pdu/PduComposer$PositionMarker;
-
-    move-result-object v4
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v29, v0
-
-    invoke-virtual/range {v29 .. v29}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->newbuf()V
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v29, v0
-
-    invoke-virtual/range {v29 .. v29}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->mark()Lcom/google/android/mms/pdu/PduComposer$PositionMarker;
-
-    move-result-object v11
-
-    invoke-virtual/range {v23 .. v23}, Lcom/google/android/mms/pdu/PduPart;->getContentType()[B
-
-    move-result-object v24
-
-    if-nez v24, :cond_160
-
-    const/16 v29, 0x1
-
-    goto/16 :goto_34
-
-    :cond_12f
-    :try_start_12f
-    new-instance v29, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v29 .. v29}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v30, "<"
-
-    invoke-virtual/range {v29 .. v30}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v29
-
-    new-instance v30, Ljava/lang/String;
-
-    move-object/from16 v0, v30
-
-    move-object/from16 v1, v28
-
-    invoke-direct {v0, v1}, Ljava/lang/String;-><init>([B)V
-
-    invoke-virtual/range {v29 .. v30}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v29
-
-    const-string v30, ">"
-
-    invoke-virtual/range {v29 .. v30}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v29
-
-    invoke-virtual/range {v29 .. v29}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v29
-
-    move-object/from16 v0, p0
-
-    move-object/from16 v1, v29
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendTextString(Ljava/lang/String;)V
-    :try_end_158
-    .catch Ljava/lang/ArrayIndexOutOfBoundsException; {:try_start_12f .. :try_end_158} :catch_15a
-
-    goto/16 :goto_ad
-
-    :catch_15a
-    move-exception v18
-
-    invoke-virtual/range {v18 .. v18}, Ljava/lang/ArrayIndexOutOfBoundsException;->printStackTrace()V
-
-    goto/16 :goto_c1
-
-    :cond_160
-    sget-object v29, Lcom/google/android/mms/pdu/PduComposer;->mContentTypeMap:Ljava/util/HashMap;
-
-    new-instance v30, Ljava/lang/String;
-
-    move-object/from16 v0, v30
-
-    move-object/from16 v1, v24
-
-    invoke-direct {v0, v1}, Ljava/lang/String;-><init>([B)V
-
-    invoke-virtual/range {v29 .. v30}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v25
-
-    check-cast v25, Ljava/lang/Integer;
-
-    if-nez v25, :cond_190
-
-    move-object/from16 v0, p0
-
-    move-object/from16 v1, v24
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendTextString([B)V
-
-    :goto_17a
-    invoke-virtual/range {v23 .. v23}, Lcom/google/android/mms/pdu/PduPart;->getName()[B
-
-    move-result-object v22
-
-    if-nez v22, :cond_19c
-
-    invoke-virtual/range {v23 .. v23}, Lcom/google/android/mms/pdu/PduPart;->getFilename()[B
-
-    move-result-object v22
-
-    if-nez v22, :cond_19c
-
-    invoke-virtual/range {v23 .. v23}, Lcom/google/android/mms/pdu/PduPart;->getContentLocation()[B
-
-    move-result-object v22
-
-    if-nez v22, :cond_19c
-
-    const/16 v29, 0x1
-
-    goto/16 :goto_34
-
-    :cond_190
-    invoke-virtual/range {v25 .. v25}, Ljava/lang/Integer;->intValue()I
-
-    move-result v29
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v29
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendShortInteger(I)V
-
-    goto :goto_17a
-
-    :cond_19c
-    const/16 v29, 0x85
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v29
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    move-object/from16 v0, p0
-
-    move-object/from16 v1, v22
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendTextString([B)V
-
-    invoke-virtual/range {v23 .. v23}, Lcom/google/android/mms/pdu/PduPart;->getCharset()I
-
-    move-result v7
-
-    if-eqz v7, :cond_1c0
-
-    const/16 v29, 0x81
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v29
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    move-object/from16 v0, p0
-
-    invoke-virtual {v0, v7}, Lcom/google/android/mms/pdu/PduComposer;->appendShortInteger(I)V
-
-    :cond_1c0
-    invoke-virtual {v11}, Lcom/google/android/mms/pdu/PduComposer$PositionMarker;->getLength()I
-
-    move-result v13
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v29, v0
-
-    invoke-virtual/range {v29 .. v29}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->pop()V
-
-    int-to-long v0, v13
-
-    move-wide/from16 v29, v0
-
-    move-object/from16 v0, p0
-
-    move-wide/from16 v1, v29
-
-    invoke-virtual {v0, v1, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendValueLength(J)V
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v29, v0
-
-    invoke-virtual/range {v29 .. v29}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->copy()V
-
-    invoke-virtual/range {v23 .. v23}, Lcom/google/android/mms/pdu/PduPart;->getContentId()[B
-
-    move-result-object v8
-
-    if-eqz v8, :cond_20f
-
-    const/16 v29, 0xc0
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v29
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    const/16 v29, 0x3c
-
-    const/16 v30, 0x0
-
-    aget-byte v30, v8, v30
-
-    move/from16 v0, v29
-
-    move/from16 v1, v30
-
-    if-ne v0, v1, :cond_25a
-
-    const/16 v29, 0x3e
-
-    array-length v0, v8
-
-    move/from16 v30, v0
-
-    add-int/lit8 v30, v30, -0x1
-
-    aget-byte v30, v8, v30
-
-    move/from16 v0, v29
-
-    move/from16 v1, v30
-
-    if-ne v0, v1, :cond_25a
-
-    move-object/from16 v0, p0
-
-    invoke-virtual {v0, v8}, Lcom/google/android/mms/pdu/PduComposer;->appendQuotedString([B)V
-
-    :cond_20f
-    :goto_20f
-    invoke-virtual/range {v23 .. v23}, Lcom/google/android/mms/pdu/PduPart;->getContentLocation()[B
-
-    move-result-object v9
-
-    if-eqz v9, :cond_223
-
-    const/16 v29, 0x8e
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v29
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    move-object/from16 v0, p0
-
-    invoke-virtual {v0, v9}, Lcom/google/android/mms/pdu/PduComposer;->appendTextString([B)V
-
-    :cond_223
-    invoke-virtual {v4}, Lcom/google/android/mms/pdu/PduComposer$PositionMarker;->getLength()I
-
-    move-result v19
-
-    const/16 v17, 0x0
-
-    invoke-virtual/range {v23 .. v23}, Lcom/google/android/mms/pdu/PduPart;->getData()[B
-
-    move-result-object v26
-
-    if-eqz v26, :cond_282
-
-    const/16 v29, 0x0
-
-    move-object/from16 v0, v26
-
-    array-length v0, v0
-
-    move/from16 v30, v0
-
-    move-object/from16 v0, p0
-
-    move-object/from16 v1, v26
-
-    move/from16 v2, v29
-
-    move/from16 v3, v30
-
-    invoke-virtual {v0, v1, v2, v3}, Lcom/google/android/mms/pdu/PduComposer;->arraycopy([BII)V
-
-    move-object/from16 v0, v26
-
-    array-length v0, v0
-
-    move/from16 v17, v0
-
-    :cond_246
-    invoke-virtual {v4}, Lcom/google/android/mms/pdu/PduComposer$PositionMarker;->getLength()I
-
-    move-result v29
-
-    sub-int v29, v29, v19
-
-    move/from16 v0, v17
-
-    move/from16 v1, v29
-
-    if-eq v0, v1, :cond_2d5
-
-    new-instance v29, Ljava/lang/RuntimeException;
-
-    const-string v30, "BUG: Length sanity check failed"
-
-    invoke-direct/range {v29 .. v30}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
-
-    throw v29
-
-    :cond_25a
-    new-instance v29, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v29 .. v29}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v30, "<"
-
-    invoke-virtual/range {v29 .. v30}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v29
-
-    new-instance v30, Ljava/lang/String;
-
-    move-object/from16 v0, v30
-
-    invoke-direct {v0, v8}, Ljava/lang/String;-><init>([B)V
-
-    invoke-virtual/range {v29 .. v30}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v29
-
-    const-string v30, ">"
-
-    invoke-virtual/range {v29 .. v30}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v29
-
-    invoke-virtual/range {v29 .. v29}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v29
-
-    move-object/from16 v0, p0
-
-    move-object/from16 v1, v29
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendQuotedString(Ljava/lang/String;)V
-
-    goto :goto_20f
-
-    :cond_282
-    const/16 v29, 0x400
-
-    :try_start_284
-    move/from16 v0, v29
-
-    new-array v6, v0, [B
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mResolver:Landroid/content/ContentResolver;
-
-    move-object/from16 v29, v0
-
-    invoke-virtual/range {v23 .. v23}, Lcom/google/android/mms/pdu/PduPart;->getDataUri()Landroid/net/Uri;
-
-    move-result-object v30
-
-    invoke-virtual/range {v29 .. v30}, Landroid/content/ContentResolver;->openInputStream(Landroid/net/Uri;)Ljava/io/InputStream;
-
-    move-result-object v14
-
-    const/16 v21, 0x0
-
-    :goto_298
-    invoke-virtual {v14, v6}, Ljava/io/InputStream;->read([B)I
-
-    move-result v21
-
-    const/16 v29, -0x1
-
-    move/from16 v0, v21
-
-    move/from16 v1, v29
-
-    if-eq v0, v1, :cond_246
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mMessage:Ljava/io/ByteArrayOutputStream;
-
-    move-object/from16 v29, v0
-
-    const/16 v30, 0x0
-
-    move-object/from16 v0, v29
-
-    move/from16 v1, v30
-
-    move/from16 v2, v21
-
-    invoke-virtual {v0, v6, v1, v2}, Ljava/io/ByteArrayOutputStream;->write([BII)V
-
-    move-object/from16 v0, p0
-
-    iget v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mPosition:I
-
-    move/from16 v29, v0
-
-    add-int v29, v29, v21
-
-    move/from16 v0, v29
-
-    move-object/from16 v1, p0
-
-    iput v0, v1, Lcom/google/android/mms/pdu/PduComposer;->mPosition:I
-    :try_end_2c3
-    .catch Ljava/io/FileNotFoundException; {:try_start_284 .. :try_end_2c3} :catch_2c6
-    .catch Ljava/io/IOException; {:try_start_284 .. :try_end_2c3} :catch_2cb
-    .catch Ljava/lang/RuntimeException; {:try_start_284 .. :try_end_2c3} :catch_2d0
-
-    add-int v17, v17, v21
-
-    goto :goto_298
-
-    :catch_2c6
-    move-exception v18
-
-    const/16 v29, 0x1
-
-    goto/16 :goto_34
-
-    :catch_2cb
-    move-exception v18
-
-    const/16 v29, 0x1
-
-    goto/16 :goto_34
-
-    :catch_2d0
-    move-exception v18
-
-    const/16 v29, 0x1
-
-    goto/16 :goto_34
-
-    :cond_2d5
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v29, v0
-
-    invoke-virtual/range {v29 .. v29}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->pop()V
-
-    move/from16 v0, v19
-
-    int-to-long v0, v0
-
-    move-wide/from16 v29, v0
-
-    move-object/from16 v0, p0
-
-    move-wide/from16 v1, v29
-
-    invoke-virtual {v0, v1, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendUintvarInteger(J)V
-
-    move/from16 v0, v17
-
-    int-to-long v0, v0
-
-    move-wide/from16 v29, v0
-
-    move-object/from16 v0, p0
-
-    move-wide/from16 v1, v29
-
-    invoke-virtual {v0, v1, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendUintvarInteger(J)V
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    move-object/from16 v29, v0
-
-    invoke-virtual/range {v29 .. v29}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->copy()V
-
-    add-int/lit8 v20, v20, 0x1
-
-    goto/16 :goto_f3
-
-    :cond_303
-    const/16 v29, 0x0
-
-    goto/16 :goto_34
-.end method
-
-.method private makeNotifyResp()I
-    .registers 4
-
-    const/4 v1, 0x0
-
-    const/4 v0, 0x1
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduComposer;->mMessage:Ljava/io/ByteArrayOutputStream;
-
-    if-nez v2, :cond_f
-
-    new-instance v2, Ljava/io/ByteArrayOutputStream;
-
-    invoke-direct {v2}, Ljava/io/ByteArrayOutputStream;-><init>()V
-
-    iput-object v2, p0, Lcom/google/android/mms/pdu/PduComposer;->mMessage:Ljava/io/ByteArrayOutputStream;
-
-    iput v1, p0, Lcom/google/android/mms/pdu/PduComposer;->mPosition:I
-
-    :cond_f
-    const/16 v2, 0x8c
-
-    invoke-virtual {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    const/16 v2, 0x83
-
-    invoke-virtual {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    const/16 v2, 0x98
-
-    invoke-direct {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    move-result v2
-
-    if-eqz v2, :cond_22
-
-    :cond_21
-    :goto_21
-    return v0
-
-    :cond_22
-    const/16 v2, 0x8d
-
-    invoke-direct {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    move-result v2
-
-    if-nez v2, :cond_21
-
-    const/16 v2, 0x95
-
-    invoke-direct {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    move-result v2
-
-    if-nez v2, :cond_21
-
-    move v0, v1
-
-    goto :goto_21
-.end method
-
-.method private makeReadRecInd()I
-    .registers 4
-
-    const/4 v1, 0x0
-
-    const/4 v0, 0x1
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduComposer;->mMessage:Ljava/io/ByteArrayOutputStream;
-
-    if-nez v2, :cond_f
-
-    new-instance v2, Ljava/io/ByteArrayOutputStream;
-
-    invoke-direct {v2}, Ljava/io/ByteArrayOutputStream;-><init>()V
-
-    iput-object v2, p0, Lcom/google/android/mms/pdu/PduComposer;->mMessage:Ljava/io/ByteArrayOutputStream;
-
-    iput v1, p0, Lcom/google/android/mms/pdu/PduComposer;->mPosition:I
-
-    :cond_f
-    const/16 v2, 0x8c
-
-    invoke-virtual {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    const/16 v2, 0x87
-
-    invoke-virtual {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    const/16 v2, 0x8d
-
-    invoke-direct {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    move-result v2
-
-    if-eqz v2, :cond_22
-
-    :cond_21
-    :goto_21
-    return v0
-
-    :cond_22
-    const/16 v2, 0x8b
-
-    invoke-direct {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    move-result v2
-
-    if-nez v2, :cond_21
-
-    const/16 v2, 0x97
-
-    invoke-direct {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    move-result v2
-
-    if-nez v2, :cond_21
-
-    const/16 v2, 0x89
-
-    invoke-direct {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    move-result v2
-
-    if-nez v2, :cond_21
-
-    const/16 v2, 0x85
-
-    invoke-direct {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    const/16 v2, 0x9b
-
-    invoke-direct {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    move-result v2
-
-    if-nez v2, :cond_21
-
-    move v0, v1
-
-    goto :goto_21
-.end method
-
-.method private makeSendReqPdu()I
-    .registers 6
-
-    const/16 v4, 0x98
-
-    const/4 v2, 0x1
-
-    iget-object v3, p0, Lcom/google/android/mms/pdu/PduComposer;->mMessage:Ljava/io/ByteArrayOutputStream;
-
-    if-nez v3, :cond_11
-
-    new-instance v3, Ljava/io/ByteArrayOutputStream;
-
-    invoke-direct {v3}, Ljava/io/ByteArrayOutputStream;-><init>()V
-
-    iput-object v3, p0, Lcom/google/android/mms/pdu/PduComposer;->mMessage:Ljava/io/ByteArrayOutputStream;
-
-    const/4 v3, 0x0
-
-    iput v3, p0, Lcom/google/android/mms/pdu/PduComposer;->mPosition:I
-
-    :cond_11
-    const/16 v3, 0x8c
-
-    invoke-virtual {p0, v3}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    const/16 v3, 0x80
-
-    invoke-virtual {p0, v3}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    invoke-virtual {p0, v4}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    iget-object v3, p0, Lcom/google/android/mms/pdu/PduComposer;->mPduHeader:Lcom/google/android/mms/pdu/PduHeaders;
-
-    invoke-virtual {v3, v4}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v1
-
-    if-nez v1, :cond_2e
-
-    new-instance v2, Ljava/lang/IllegalArgumentException;
-
-    const-string v3, "Transaction-ID is null."
-
-    invoke-direct {v2, v3}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V
-
-    throw v2
-
-    :cond_2e
-    invoke-virtual {p0, v1}, Lcom/google/android/mms/pdu/PduComposer;->appendTextString([B)V
-
-    const/16 v3, 0x8d
-
-    invoke-direct {p0, v3}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    move-result v3
-
-    if-eqz v3, :cond_3a
-
-    :cond_39
-    :goto_39
-    return v2
-
-    :cond_3a
-    const/16 v3, 0x85
-
-    invoke-direct {p0, v3}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    const/16 v3, 0x89
-
-    invoke-direct {p0, v3}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    move-result v3
-
-    if-nez v3, :cond_39
-
-    const/4 v0, 0x0
-
-    const/16 v3, 0x97
-
-    invoke-direct {p0, v3}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    move-result v3
-
-    if-eq v3, v2, :cond_51
-
-    const/4 v0, 0x1
-
-    :cond_51
-    const/16 v3, 0x82
-
-    invoke-direct {p0, v3}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    move-result v3
-
-    if-eq v3, v2, :cond_5a
-
-    const/4 v0, 0x1
-
-    :cond_5a
-    const/16 v3, 0x81
-
-    invoke-direct {p0, v3}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    move-result v3
-
-    if-eq v3, v2, :cond_63
-
-    const/4 v0, 0x1
-
-    :cond_63
-    if-eqz v0, :cond_39
-
-    const/16 v2, 0x96
-
-    invoke-direct {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    const/16 v2, 0x8a
-
-    invoke-direct {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    const/16 v2, 0x88
-
-    invoke-direct {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    const/16 v2, 0x8f
-
-    invoke-direct {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    const/16 v2, 0x86
-
-    invoke-direct {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    const/16 v2, 0x90
-
-    invoke-direct {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendHeader(I)I
-
-    const/16 v2, 0x84
-
-    invoke-virtual {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendOctet(I)V
-
-    invoke-direct {p0}, Lcom/google/android/mms/pdu/PduComposer;->makeMessageBody()I
-
-    move-result v2
-
-    goto :goto_39
-.end method
-
-
-# virtual methods
-.method protected append(I)V
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduComposer;->mMessage:Ljava/io/ByteArrayOutputStream;
-
-    invoke-virtual {v0, p1}, Ljava/io/ByteArrayOutputStream;->write(I)V
-
-    iget v0, p0, Lcom/google/android/mms/pdu/PduComposer;->mPosition:I
-
-    add-int/lit8 v0, v0, 0x1
-
-    iput v0, p0, Lcom/google/android/mms/pdu/PduComposer;->mPosition:I
-
-    return-void
-.end method
-
-.method protected appendDateValue(J)V
-    .registers 3
-
-    invoke-virtual {p0, p1, p2}, Lcom/google/android/mms/pdu/PduComposer;->appendLongInteger(J)V
-
-    return-void
-.end method
-
-.method protected appendEncodedString(Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 8
-
-    sget-boolean v4, Lcom/google/android/mms/pdu/PduComposer;->$assertionsDisabled:Z
-
-    if-nez v4, :cond_c
-
-    if-nez p1, :cond_c
-
-    new-instance v4, Ljava/lang/AssertionError;
-
-    invoke-direct {v4}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v4
-
-    :cond_c
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/EncodedStringValue;->getCharacterSet()I
-
-    move-result v0
-
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/EncodedStringValue;->getTextString()[B
-
-    move-result-object v3
-
-    if-nez v3, :cond_17
-
-    :goto_16
-    return-void
-
-    :cond_17
-    iget-object v4, p0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    invoke-virtual {v4}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->newbuf()V
-
-    iget-object v4, p0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    invoke-virtual {v4}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->mark()Lcom/google/android/mms/pdu/PduComposer$PositionMarker;
-
-    move-result-object v2
-
-    invoke-virtual {p0, v0}, Lcom/google/android/mms/pdu/PduComposer;->appendShortInteger(I)V
-
-    invoke-virtual {p0, v3}, Lcom/google/android/mms/pdu/PduComposer;->appendTextString([B)V
-
-    invoke-virtual {v2}, Lcom/google/android/mms/pdu/PduComposer$PositionMarker;->getLength()I
-
-    move-result v1
-
-    iget-object v4, p0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    invoke-virtual {v4}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->pop()V
-
-    int-to-long v4, v1
-
-    invoke-virtual {p0, v4, v5}, Lcom/google/android/mms/pdu/PduComposer;->appendValueLength(J)V
-
-    iget-object v4, p0, Lcom/google/android/mms/pdu/PduComposer;->mStack:Lcom/google/android/mms/pdu/PduComposer$BufferStack;
-
-    invoke-virtual {v4}, Lcom/google/android/mms/pdu/PduComposer$BufferStack;->copy()V
-
-    goto :goto_16
-.end method
-
-.method protected appendLongInteger(J)V
-    .registers 12
-
-    const/16 v7, 0x8
-
-    move-wide v3, p1
-
-    const/4 v2, 0x0
-
-    :goto_4
-    const-wide/16 v5, 0x0
-
-    cmp-long v5, v3, v5
-
-    if-eqz v5, :cond_10
-
-    if-ge v2, v7, :cond_10
-
-    ushr-long/2addr v3, v7
-
-    add-int/lit8 v2, v2, 0x1
-
-    goto :goto_4
-
-    :cond_10
-    invoke-virtual {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->appendShortLength(I)V
-
-    add-int/lit8 v5, v2, -0x1
-
-    mul-int/lit8 v1, v5, 0x8
-
-    const/4 v0, 0x0
-
-    :goto_18
-    if-ge v0, v2, :cond_28
-
-    ushr-long v5, p1, v1
-
-    const-wide/16 v7, 0xff
-
-    and-long/2addr v5, v7
-
-    long-to-int v5, v5
-
-    invoke-virtual {p0, v5}, Lcom/google/android/mms/pdu/PduComposer;->append(I)V
-
-    add-int/lit8 v1, v1, -0x8
-
-    add-int/lit8 v0, v0, 0x1
-
-    goto :goto_18
-
-    :cond_28
-    return-void
-.end method
-
-.method protected appendOctet(I)V
-    .registers 2
-
-    invoke-virtual {p0, p1}, Lcom/google/android/mms/pdu/PduComposer;->append(I)V
-
-    return-void
-.end method
-
-.method protected appendQuotedString(Ljava/lang/String;)V
-    .registers 3
-
-    invoke-virtual {p1}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v0
-
-    invoke-virtual {p0, v0}, Lcom/google/android/mms/pdu/PduComposer;->appendQuotedString([B)V
-
-    return-void
-.end method
-
-.method protected appendQuotedString([B)V
-    .registers 4
-
-    const/4 v1, 0x0
-
-    const/16 v0, 0x22
-
-    invoke-virtual {p0, v0}, Lcom/google/android/mms/pdu/PduComposer;->append(I)V
-
-    array-length v0, p1
-
-    invoke-virtual {p0, p1, v1, v0}, Lcom/google/android/mms/pdu/PduComposer;->arraycopy([BII)V
-
-    invoke-virtual {p0, v1}, Lcom/google/android/mms/pdu/PduComposer;->append(I)V
-
-    return-void
-.end method
-
-.method protected appendShortInteger(I)V
-    .registers 3
-
-    or-int/lit16 v0, p1, 0x80
-
-    and-int/lit16 v0, v0, 0xff
-
-    invoke-virtual {p0, v0}, Lcom/google/android/mms/pdu/PduComposer;->append(I)V
-
-    return-void
-.end method
-
-.method protected appendShortLength(I)V
-    .registers 2
-
-    invoke-virtual {p0, p1}, Lcom/google/android/mms/pdu/PduComposer;->append(I)V
-
-    return-void
-.end method
-
-.method protected appendTextString(Ljava/lang/String;)V
-    .registers 3
-
-    invoke-virtual {p1}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v0
-
-    invoke-virtual {p0, v0}, Lcom/google/android/mms/pdu/PduComposer;->appendTextString([B)V
-
-    return-void
-.end method
-
-.method protected appendTextString([B)V
-    .registers 5
-
-    const/16 v2, 0x7f
-
-    const/4 v1, 0x0
-
-    aget-byte v0, p1, v1
-
-    and-int/lit16 v0, v0, 0xff
-
-    if-le v0, v2, :cond_c
-
-    invoke-virtual {p0, v2}, Lcom/google/android/mms/pdu/PduComposer;->append(I)V
-
-    :cond_c
-    array-length v0, p1
-
-    invoke-virtual {p0, p1, v1, v0}, Lcom/google/android/mms/pdu/PduComposer;->arraycopy([BII)V
-
-    invoke-virtual {p0, v1}, Lcom/google/android/mms/pdu/PduComposer;->append(I)V
-
-    return-void
-.end method
-
-.method protected appendUintvarInteger(J)V
-    .registers 14
-
-    const-wide/16 v9, 0x7f
-
-    const-wide/16 v1, 0x7f
-
-    const/4 v0, 0x0
-
-    :goto_5
-    const/4 v5, 0x5
-
-    if-ge v0, v5, :cond_c
-
-    cmp-long v5, p1, v1
-
-    if-gez v5, :cond_20
-
-    :cond_c
-    :goto_c
-    if-lez v0, :cond_28
-
-    mul-int/lit8 v5, v0, 0x7
-
-    ushr-long v3, p1, v5
-
-    and-long/2addr v3, v9
-
-    const-wide/16 v5, 0x80
-
-    or-long/2addr v5, v3
-
-    const-wide/16 v7, 0xff
-
-    and-long/2addr v5, v7
-
-    long-to-int v5, v5
-
-    invoke-virtual {p0, v5}, Lcom/google/android/mms/pdu/PduComposer;->append(I)V
-
-    add-int/lit8 v0, v0, -0x1
-
-    goto :goto_c
-
-    :cond_20
-    const/4 v5, 0x7
-
-    shl-long v5, v1, v5
-
-    or-long v1, v5, v9
-
-    add-int/lit8 v0, v0, 0x1
-
-    goto :goto_5
-
-    :cond_28
-    and-long v5, p1, v9
-
-    long-to-int v5, v5
-
-    invoke-virtual {p0, v5}, Lcom/google/android/mms/pdu/PduComposer;->append(I)V
-
-    return-void
-.end method
-
-.method protected appendValueLength(J)V
-    .registers 5
-
-    const-wide/16 v0, 0x1f
-
-    cmp-long v0, p1, v0
-
-    if-gez v0, :cond_b
-
-    long-to-int v0, p1
-
-    invoke-virtual {p0, v0}, Lcom/google/android/mms/pdu/PduComposer;->appendShortLength(I)V
-
-    :goto_a
-    return-void
-
-    :cond_b
-    const/16 v0, 0x1f
-
-    invoke-virtual {p0, v0}, Lcom/google/android/mms/pdu/PduComposer;->append(I)V
-
-    invoke-virtual {p0, p1, p2}, Lcom/google/android/mms/pdu/PduComposer;->appendUintvarInteger(J)V
-
-    goto :goto_a
-.end method
-
-.method protected arraycopy([BII)V
-    .registers 5
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduComposer;->mMessage:Ljava/io/ByteArrayOutputStream;
-
-    invoke-virtual {v0, p1, p2, p3}, Ljava/io/ByteArrayOutputStream;->write([BII)V
-
-    iget v0, p0, Lcom/google/android/mms/pdu/PduComposer;->mPosition:I
-
-    add-int/2addr v0, p3
-
-    iput v0, p0, Lcom/google/android/mms/pdu/PduComposer;->mPosition:I
-
-    return-void
-.end method
-
-.method public make()[B
-    .registers 4
-
-    const/4 v1, 0x0
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduComposer;->mPdu:Lcom/google/android/mms/pdu/GenericPdu;
-
-    invoke-virtual {v2}, Lcom/google/android/mms/pdu/GenericPdu;->getMessageType()I
-
-    move-result v0
-
-    packed-switch v0, :pswitch_data_2e
-
-    :cond_a
-    :goto_a
-    :pswitch_a
-    return-object v1
-
-    :pswitch_b
-    invoke-direct {p0}, Lcom/google/android/mms/pdu/PduComposer;->makeSendReqPdu()I
-
-    move-result v2
-
-    if-nez v2, :cond_a
-
-    :cond_11
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduComposer;->mMessage:Ljava/io/ByteArrayOutputStream;
-
-    invoke-virtual {v1}, Ljava/io/ByteArrayOutputStream;->toByteArray()[B
-
-    move-result-object v1
-
-    goto :goto_a
-
-    :pswitch_18
-    invoke-direct {p0}, Lcom/google/android/mms/pdu/PduComposer;->makeNotifyResp()I
-
-    move-result v2
-
-    if-eqz v2, :cond_11
-
-    goto :goto_a
-
-    :pswitch_1f
-    invoke-direct {p0}, Lcom/google/android/mms/pdu/PduComposer;->makeAckInd()I
-
-    move-result v2
-
-    if-eqz v2, :cond_11
-
-    goto :goto_a
-
-    :pswitch_26
-    invoke-direct {p0}, Lcom/google/android/mms/pdu/PduComposer;->makeReadRecInd()I
-
-    move-result v2
-
-    if-eqz v2, :cond_11
-
-    goto :goto_a
-
-    nop
-
-    :pswitch_data_2e
-    .packed-switch 0x80
-        :pswitch_b
-        :pswitch_a
-        :pswitch_a
-        :pswitch_18
-        :pswitch_a
-        :pswitch_1f
-        :pswitch_a
-        :pswitch_26
-    .end packed-switch
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/PduContentTypes.smali pdroid-framework/smali/com/google/android/mms/pdu/PduContentTypes.smali
--- stock-framework/smali/com/google/android/mms/pdu/PduContentTypes.smali	2013-07-15 18:10:57.138627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/PduContentTypes.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,527 +0,0 @@
-.class public Lcom/google/android/mms/pdu/PduContentTypes;
-.super Ljava/lang/Object;
-.source "PduContentTypes.java"
-
-
-# static fields
-.field static final contentTypes:[Ljava/lang/String;
-
-
-# direct methods
-.method static constructor <clinit>()V
-    .registers 3
-
-    const/16 v0, 0x53
-
-    new-array v0, v0, [Ljava/lang/String;
-
-    const/4 v1, 0x0
-
-    const-string v2, "*/*"
-
-    aput-object v2, v0, v1
-
-    const/4 v1, 0x1
-
-    const-string/jumbo v2, "text/*"
-
-    aput-object v2, v0, v1
-
-    const/4 v1, 0x2
-
-    const-string/jumbo v2, "text/html"
-
-    aput-object v2, v0, v1
-
-    const/4 v1, 0x3
-
-    const-string/jumbo v2, "text/plain"
-
-    aput-object v2, v0, v1
-
-    const/4 v1, 0x4
-
-    const-string/jumbo v2, "text/x-hdml"
-
-    aput-object v2, v0, v1
-
-    const/4 v1, 0x5
-
-    const-string/jumbo v2, "text/x-ttml"
-
-    aput-object v2, v0, v1
-
-    const/4 v1, 0x6
-
-    const-string/jumbo v2, "text/x-vCalendar"
-
-    aput-object v2, v0, v1
-
-    const/4 v1, 0x7
-
-    const-string/jumbo v2, "text/x-vCard"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x8
-
-    const-string/jumbo v2, "text/vnd.wap.wml"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x9
-
-    const-string/jumbo v2, "text/vnd.wap.wmlscript"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0xa
-
-    const-string/jumbo v2, "text/vnd.wap.wta-event"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0xb
-
-    const-string/jumbo v2, "multipart/*"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0xc
-
-    const-string/jumbo v2, "multipart/mixed"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0xd
-
-    const-string/jumbo v2, "multipart/form-data"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0xe
-
-    const-string/jumbo v2, "multipart/byterantes"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0xf
-
-    const-string/jumbo v2, "multipart/alternative"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x10
-
-    const-string v2, "application/*"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x11
-
-    const-string v2, "application/java-vm"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x12
-
-    const-string v2, "application/x-www-form-urlencoded"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x13
-
-    const-string v2, "application/x-hdmlc"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x14
-
-    const-string v2, "application/vnd.wap.wmlc"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x15
-
-    const-string v2, "application/vnd.wap.wmlscriptc"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x16
-
-    const-string v2, "application/vnd.wap.wta-eventc"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x17
-
-    const-string v2, "application/vnd.wap.uaprof"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x18
-
-    const-string v2, "application/vnd.wap.wtls-ca-certificate"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x19
-
-    const-string v2, "application/vnd.wap.wtls-user-certificate"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x1a
-
-    const-string v2, "application/x-x509-ca-cert"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x1b
-
-    const-string v2, "application/x-x509-user-cert"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x1c
-
-    const-string v2, "image/*"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x1d
-
-    const-string v2, "image/gif"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x1e
-
-    const-string v2, "image/jpeg"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x1f
-
-    const-string v2, "image/tiff"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x20
-
-    const-string v2, "image/png"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x21
-
-    const-string v2, "image/vnd.wap.wbmp"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x22
-
-    const-string v2, "application/vnd.wap.multipart.*"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x23
-
-    const-string v2, "application/vnd.wap.multipart.mixed"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x24
-
-    const-string v2, "application/vnd.wap.multipart.form-data"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x25
-
-    const-string v2, "application/vnd.wap.multipart.byteranges"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x26
-
-    const-string v2, "application/vnd.wap.multipart.alternative"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x27
-
-    const-string v2, "application/xml"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x28
-
-    const-string/jumbo v2, "text/xml"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x29
-
-    const-string v2, "application/vnd.wap.wbxml"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x2a
-
-    const-string v2, "application/x-x968-cross-cert"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x2b
-
-    const-string v2, "application/x-x968-ca-cert"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x2c
-
-    const-string v2, "application/x-x968-user-cert"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x2d
-
-    const-string/jumbo v2, "text/vnd.wap.si"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x2e
-
-    const-string v2, "application/vnd.wap.sic"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x2f
-
-    const-string/jumbo v2, "text/vnd.wap.sl"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x30
-
-    const-string v2, "application/vnd.wap.slc"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x31
-
-    const-string/jumbo v2, "text/vnd.wap.co"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x32
-
-    const-string v2, "application/vnd.wap.coc"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x33
-
-    const-string v2, "application/vnd.wap.multipart.related"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x34
-
-    const-string v2, "application/vnd.wap.sia"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x35
-
-    const-string/jumbo v2, "text/vnd.wap.connectivity-xml"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x36
-
-    const-string v2, "application/vnd.wap.connectivity-wbxml"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x37
-
-    const-string v2, "application/pkcs7-mime"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x38
-
-    const-string v2, "application/vnd.wap.hashed-certificate"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x39
-
-    const-string v2, "application/vnd.wap.signed-certificate"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x3a
-
-    const-string v2, "application/vnd.wap.cert-response"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x3b
-
-    const-string v2, "application/xhtml+xml"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x3c
-
-    const-string v2, "application/wml+xml"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x3d
-
-    const-string/jumbo v2, "text/css"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x3e
-
-    const-string v2, "application/vnd.wap.mms-message"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x3f
-
-    const-string v2, "application/vnd.wap.rollover-certificate"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x40
-
-    const-string v2, "application/vnd.wap.locc+wbxml"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x41
-
-    const-string v2, "application/vnd.wap.loc+xml"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x42
-
-    const-string v2, "application/vnd.syncml.dm+wbxml"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x43
-
-    const-string v2, "application/vnd.syncml.dm+xml"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x44
-
-    const-string v2, "application/vnd.syncml.notification"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x45
-
-    const-string v2, "application/vnd.wap.xhtml+xml"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x46
-
-    const-string v2, "application/vnd.wv.csp.cir"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x47
-
-    const-string v2, "application/vnd.oma.dd+xml"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x48
-
-    const-string v2, "application/vnd.oma.drm.message"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x49
-
-    const-string v2, "application/vnd.oma.drm.content"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x4a
-
-    const-string v2, "application/vnd.oma.drm.rights+xml"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x4b
-
-    const-string v2, "application/vnd.oma.drm.rights+wbxml"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x4c
-
-    const-string v2, "application/vnd.wv.csp+xml"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x4d
-
-    const-string v2, "application/vnd.wv.csp+wbxml"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x4e
-
-    const-string v2, "application/vnd.syncml.ds.notification"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x4f
-
-    const-string v2, "audio/*"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x50
-
-    const-string/jumbo v2, "video/*"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x51
-
-    const-string v2, "application/vnd.oma.dd2+xml"
-
-    aput-object v2, v0, v1
-
-    const/16 v1, 0x52
-
-    const-string v2, "application/mikey"
-
-    aput-object v2, v0, v1
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduContentTypes;->contentTypes:[Ljava/lang/String;
-
-    return-void
-.end method
-
-.method public constructor <init>()V
-    .registers 1
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    return-void
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/PduHeaders.smali pdroid-framework/smali/com/google/android/mms/pdu/PduHeaders.smali
--- stock-framework/smali/com/google/android/mms/pdu/PduHeaders.smali	2013-07-15 18:10:57.142627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/PduHeaders.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,1208 +0,0 @@
-.class public Lcom/google/android/mms/pdu/PduHeaders;
-.super Ljava/lang/Object;
-.source "PduHeaders.java"
-
-
-# static fields
-.field public static final ADAPTATION_ALLOWED:I = 0xbc
-
-.field public static final ADDITIONAL_HEADERS:I = 0xb0
-
-.field public static final APPLIC_ID:I = 0xb7
-
-.field public static final ATTRIBUTES:I = 0xa8
-
-.field public static final AUX_APPLIC_ID:I = 0xb9
-
-.field public static final BCC:I = 0x81
-
-.field public static final CANCEL_ID:I = 0xbe
-
-.field public static final CANCEL_STATUS:I = 0xbf
-
-.field public static final CANCEL_STATUS_REQUEST_CORRUPTED:I = 0x81
-
-.field public static final CANCEL_STATUS_REQUEST_SUCCESSFULLY_RECEIVED:I = 0x80
-
-.field public static final CC:I = 0x82
-
-.field public static final CONTENT:I = 0xae
-
-.field public static final CONTENT_CLASS:I = 0xba
-
-.field public static final CONTENT_CLASS_CONTENT_BASIC:I = 0x86
-
-.field public static final CONTENT_CLASS_CONTENT_RICH:I = 0x87
-
-.field public static final CONTENT_CLASS_IMAGE_BASIC:I = 0x81
-
-.field public static final CONTENT_CLASS_IMAGE_RICH:I = 0x82
-
-.field public static final CONTENT_CLASS_MEGAPIXEL:I = 0x85
-
-.field public static final CONTENT_CLASS_TEXT:I = 0x80
-
-.field public static final CONTENT_CLASS_VIDEO_BASIC:I = 0x83
-
-.field public static final CONTENT_CLASS_VIDEO_RICH:I = 0x84
-
-.field public static final CONTENT_LOCATION:I = 0x83
-
-.field public static final CONTENT_TYPE:I = 0x84
-
-.field public static final CURRENT_MMS_VERSION:I = 0x12
-
-.field public static final DATE:I = 0x85
-
-.field public static final DELIVERY_REPORT:I = 0x86
-
-.field public static final DELIVERY_TIME:I = 0x87
-
-.field public static final DISTRIBUTION_INDICATOR:I = 0xb1
-
-.field public static final DRM_CONTENT:I = 0xbb
-
-.field public static final ELEMENT_DESCRIPTOR:I = 0xb2
-
-.field public static final EXPIRY:I = 0x88
-
-.field public static final FROM:I = 0x89
-
-.field public static final FROM_ADDRESS_PRESENT_TOKEN:I = 0x80
-
-.field public static final FROM_ADDRESS_PRESENT_TOKEN_STR:Ljava/lang/String; = "address-present-token"
-
-.field public static final FROM_INSERT_ADDRESS_TOKEN:I = 0x81
-
-.field public static final FROM_INSERT_ADDRESS_TOKEN_STR:Ljava/lang/String; = "insert-address-token"
-
-.field public static final LIMIT:I = 0xb3
-
-.field public static final MBOX_QUOTAS:I = 0xac
-
-.field public static final MBOX_TOTALS:I = 0xaa
-
-.field public static final MESSAGE_CLASS:I = 0x8a
-
-.field public static final MESSAGE_CLASS_ADVERTISEMENT:I = 0x81
-
-.field public static final MESSAGE_CLASS_ADVERTISEMENT_STR:Ljava/lang/String; = "advertisement"
-
-.field public static final MESSAGE_CLASS_AUTO:I = 0x83
-
-.field public static final MESSAGE_CLASS_AUTO_STR:Ljava/lang/String; = "auto"
-
-.field public static final MESSAGE_CLASS_INFORMATIONAL:I = 0x82
-
-.field public static final MESSAGE_CLASS_INFORMATIONAL_STR:Ljava/lang/String; = "informational"
-
-.field public static final MESSAGE_CLASS_PERSONAL:I = 0x80
-
-.field public static final MESSAGE_CLASS_PERSONAL_STR:Ljava/lang/String; = "personal"
-
-.field public static final MESSAGE_COUNT:I = 0xad
-
-.field public static final MESSAGE_ID:I = 0x8b
-
-.field public static final MESSAGE_SIZE:I = 0x8e
-
-.field public static final MESSAGE_TYPE:I = 0x8c
-
-.field public static final MESSAGE_TYPE_ACKNOWLEDGE_IND:I = 0x85
-
-.field public static final MESSAGE_TYPE_CANCEL_CONF:I = 0x97
-
-.field public static final MESSAGE_TYPE_CANCEL_REQ:I = 0x96
-
-.field public static final MESSAGE_TYPE_DELETE_CONF:I = 0x95
-
-.field public static final MESSAGE_TYPE_DELETE_REQ:I = 0x94
-
-.field public static final MESSAGE_TYPE_DELIVERY_IND:I = 0x86
-
-.field public static final MESSAGE_TYPE_FORWARD_CONF:I = 0x8a
-
-.field public static final MESSAGE_TYPE_FORWARD_REQ:I = 0x89
-
-.field public static final MESSAGE_TYPE_MBOX_DELETE_CONF:I = 0x92
-
-.field public static final MESSAGE_TYPE_MBOX_DELETE_REQ:I = 0x91
-
-.field public static final MESSAGE_TYPE_MBOX_DESCR:I = 0x93
-
-.field public static final MESSAGE_TYPE_MBOX_STORE_CONF:I = 0x8c
-
-.field public static final MESSAGE_TYPE_MBOX_STORE_REQ:I = 0x8b
-
-.field public static final MESSAGE_TYPE_MBOX_UPLOAD_CONF:I = 0x90
-
-.field public static final MESSAGE_TYPE_MBOX_UPLOAD_REQ:I = 0x8f
-
-.field public static final MESSAGE_TYPE_MBOX_VIEW_CONF:I = 0x8e
-
-.field public static final MESSAGE_TYPE_MBOX_VIEW_REQ:I = 0x8d
-
-.field public static final MESSAGE_TYPE_NOTIFICATION_IND:I = 0x82
-
-.field public static final MESSAGE_TYPE_NOTIFYRESP_IND:I = 0x83
-
-.field public static final MESSAGE_TYPE_READ_ORIG_IND:I = 0x88
-
-.field public static final MESSAGE_TYPE_READ_REC_IND:I = 0x87
-
-.field public static final MESSAGE_TYPE_RETRIEVE_CONF:I = 0x84
-
-.field public static final MESSAGE_TYPE_SEND_CONF:I = 0x81
-
-.field public static final MESSAGE_TYPE_SEND_REQ:I = 0x80
-
-.field public static final MMS_VERSION:I = 0x8d
-
-.field public static final MMS_VERSION_1_0:I = 0x10
-
-.field public static final MMS_VERSION_1_1:I = 0x11
-
-.field public static final MMS_VERSION_1_2:I = 0x12
-
-.field public static final MMS_VERSION_1_3:I = 0x13
-
-.field public static final MM_FLAGS:I = 0xa4
-
-.field public static final MM_FLAGS_ADD_TOKEN:I = 0x80
-
-.field public static final MM_FLAGS_FILTER_TOKEN:I = 0x82
-
-.field public static final MM_FLAGS_REMOVE_TOKEN:I = 0x81
-
-.field public static final MM_STATE:I = 0xa3
-
-.field public static final MM_STATE_DRAFT:I = 0x80
-
-.field public static final MM_STATE_FORWARDED:I = 0x84
-
-.field public static final MM_STATE_NEW:I = 0x82
-
-.field public static final MM_STATE_RETRIEVED:I = 0x83
-
-.field public static final MM_STATE_SENT:I = 0x81
-
-.field public static final PREVIOUSLY_SENT_BY:I = 0xa0
-
-.field public static final PREVIOUSLY_SENT_DATE:I = 0xa1
-
-.field public static final PRIORITY:I = 0x8f
-
-.field public static final PRIORITY_HIGH:I = 0x82
-
-.field public static final PRIORITY_LOW:I = 0x80
-
-.field public static final PRIORITY_NORMAL:I = 0x81
-
-.field public static final QUOTAS:I = 0xab
-
-.field public static final READ_REPLY:I = 0x90
-
-.field public static final READ_REPORT:I = 0x90
-
-.field public static final READ_STATUS:I = 0x9b
-
-.field public static final READ_STATUS_READ:I = 0x80
-
-.field public static final READ_STATUS__DELETED_WITHOUT_BEING_READ:I = 0x81
-
-.field public static final RECOMMENDED_RETRIEVAL_MODE:I = 0xb4
-
-.field public static final RECOMMENDED_RETRIEVAL_MODE_MANUAL:I = 0x80
-
-.field public static final RECOMMENDED_RETRIEVAL_MODE_TEXT:I = 0xb5
-
-.field public static final REPLACE_ID:I = 0xbd
-
-.field public static final REPLY_APPLIC_ID:I = 0xb8
-
-.field public static final REPLY_CHARGING:I = 0x9c
-
-.field public static final REPLY_CHARGING_ACCEPTED:I = 0x82
-
-.field public static final REPLY_CHARGING_ACCEPTED_TEXT_ONLY:I = 0x83
-
-.field public static final REPLY_CHARGING_DEADLINE:I = 0x9d
-
-.field public static final REPLY_CHARGING_ID:I = 0x9e
-
-.field public static final REPLY_CHARGING_REQUESTED:I = 0x80
-
-.field public static final REPLY_CHARGING_REQUESTED_TEXT_ONLY:I = 0x81
-
-.field public static final REPLY_CHARGING_SIZE:I = 0x9f
-
-.field public static final REPORT_ALLOWED:I = 0x91
-
-.field public static final RESPONSE_STATUS:I = 0x92
-
-.field public static final RESPONSE_STATUS_ERROR_CONTENT_NOT_ACCEPTED:I = 0x87
-
-.field public static final RESPONSE_STATUS_ERROR_MESSAGE_FORMAT_CORRUPT:I = 0x83
-
-.field public static final RESPONSE_STATUS_ERROR_MESSAGE_NOT_FOUND:I = 0x85
-
-.field public static final RESPONSE_STATUS_ERROR_NETWORK_PROBLEM:I = 0x86
-
-.field public static final RESPONSE_STATUS_ERROR_PERMANENT_ADDRESS_HIDING_NOT_SUPPORTED:I = 0xea
-
-.field public static final RESPONSE_STATUS_ERROR_PERMANENT_CONTENT_NOT_ACCEPTED:I = 0xe5
-
-.field public static final RESPONSE_STATUS_ERROR_PERMANENT_END:I = 0xff
-
-.field public static final RESPONSE_STATUS_ERROR_PERMANENT_FAILURE:I = 0xe0
-
-.field public static final RESPONSE_STATUS_ERROR_PERMANENT_LACK_OF_PREPAID:I = 0xeb
-
-.field public static final RESPONSE_STATUS_ERROR_PERMANENT_MESSAGE_FORMAT_CORRUPT:I = 0xe2
-
-.field public static final RESPONSE_STATUS_ERROR_PERMANENT_MESSAGE_NOT_FOUND:I = 0xe4
-
-.field public static final RESPONSE_STATUS_ERROR_PERMANENT_REPLY_CHARGING_FORWARDING_DENIED:I = 0xe8
-
-.field public static final RESPONSE_STATUS_ERROR_PERMANENT_REPLY_CHARGING_LIMITATIONS_NOT_MET:I = 0xe6
-
-.field public static final RESPONSE_STATUS_ERROR_PERMANENT_REPLY_CHARGING_NOT_SUPPORTED:I = 0xe9
-
-.field public static final RESPONSE_STATUS_ERROR_PERMANENT_REPLY_CHARGING_REQUEST_NOT_ACCEPTED:I = 0xe6
-
-.field public static final RESPONSE_STATUS_ERROR_PERMANENT_SENDING_ADDRESS_UNRESOLVED:I = 0xe3
-
-.field public static final RESPONSE_STATUS_ERROR_PERMANENT_SERVICE_DENIED:I = 0xe1
-
-.field public static final RESPONSE_STATUS_ERROR_SENDING_ADDRESS_UNRESOLVED:I = 0x84
-
-.field public static final RESPONSE_STATUS_ERROR_SERVICE_DENIED:I = 0x82
-
-.field public static final RESPONSE_STATUS_ERROR_TRANSIENT_FAILURE:I = 0xc0
-
-.field public static final RESPONSE_STATUS_ERROR_TRANSIENT_MESSAGE_NOT_FOUND:I = 0xc2
-
-.field public static final RESPONSE_STATUS_ERROR_TRANSIENT_NETWORK_PROBLEM:I = 0xc3
-
-.field public static final RESPONSE_STATUS_ERROR_TRANSIENT_PARTIAL_SUCCESS:I = 0xc4
-
-.field public static final RESPONSE_STATUS_ERROR_TRANSIENT_SENDNG_ADDRESS_UNRESOLVED:I = 0xc1
-
-.field public static final RESPONSE_STATUS_ERROR_UNSPECIFIED:I = 0x81
-
-.field public static final RESPONSE_STATUS_ERROR_UNSUPPORTED_MESSAGE:I = 0x88
-
-.field public static final RESPONSE_STATUS_OK:I = 0x80
-
-.field public static final RESPONSE_TEXT:I = 0x93
-
-.field public static final RETRIEVE_STATUS:I = 0x99
-
-.field public static final RETRIEVE_STATUS_ERROR_END:I = 0xff
-
-.field public static final RETRIEVE_STATUS_ERROR_PERMANENT_CONTENT_UNSUPPORTED:I = 0xe3
-
-.field public static final RETRIEVE_STATUS_ERROR_PERMANENT_FAILURE:I = 0xe0
-
-.field public static final RETRIEVE_STATUS_ERROR_PERMANENT_MESSAGE_NOT_FOUND:I = 0xe2
-
-.field public static final RETRIEVE_STATUS_ERROR_PERMANENT_SERVICE_DENIED:I = 0xe1
-
-.field public static final RETRIEVE_STATUS_ERROR_TRANSIENT_FAILURE:I = 0xc0
-
-.field public static final RETRIEVE_STATUS_ERROR_TRANSIENT_MESSAGE_NOT_FOUND:I = 0xc1
-
-.field public static final RETRIEVE_STATUS_ERROR_TRANSIENT_NETWORK_PROBLEM:I = 0xc2
-
-.field public static final RETRIEVE_STATUS_OK:I = 0x80
-
-.field public static final RETRIEVE_TEXT:I = 0x9a
-
-.field public static final SENDER_VISIBILITY:I = 0x94
-
-.field public static final SENDER_VISIBILITY_HIDE:I = 0x80
-
-.field public static final SENDER_VISIBILITY_SHOW:I = 0x81
-
-.field public static final START:I = 0xaf
-
-.field public static final STATUS:I = 0x95
-
-.field public static final STATUS_DEFERRED:I = 0x83
-
-.field public static final STATUS_EXPIRED:I = 0x80
-
-.field public static final STATUS_FORWARDED:I = 0x86
-
-.field public static final STATUS_INDETERMINATE:I = 0x85
-
-.field public static final STATUS_REJECTED:I = 0x82
-
-.field public static final STATUS_RETRIEVED:I = 0x81
-
-.field public static final STATUS_TEXT:I = 0xb6
-
-.field public static final STATUS_UNREACHABLE:I = 0x87
-
-.field public static final STATUS_UNRECOGNIZED:I = 0x84
-
-.field public static final STORE:I = 0xa2
-
-.field public static final STORED:I = 0xa7
-
-.field public static final STORE_STATUS:I = 0xa5
-
-.field public static final STORE_STATUS_ERROR_END:I = 0xff
-
-.field public static final STORE_STATUS_ERROR_PERMANENT_FAILURE:I = 0xe0
-
-.field public static final STORE_STATUS_ERROR_PERMANENT_MESSAGE_FORMAT_CORRUPT:I = 0xe2
-
-.field public static final STORE_STATUS_ERROR_PERMANENT_MESSAGE_NOT_FOUND:I = 0xe3
-
-.field public static final STORE_STATUS_ERROR_PERMANENT_MMBOX_FULL:I = 0xe4
-
-.field public static final STORE_STATUS_ERROR_PERMANENT_SERVICE_DENIED:I = 0xe1
-
-.field public static final STORE_STATUS_ERROR_TRANSIENT_FAILURE:I = 0xc0
-
-.field public static final STORE_STATUS_ERROR_TRANSIENT_NETWORK_PROBLEM:I = 0xc1
-
-.field public static final STORE_STATUS_SUCCESS:I = 0x80
-
-.field public static final STORE_STATUS_TEXT:I = 0xa6
-
-.field public static final SUBJECT:I = 0x96
-
-.field public static final TO:I = 0x97
-
-.field public static final TOTALS:I = 0xa9
-
-.field public static final TRANSACTION_ID:I = 0x98
-
-.field public static final VALUE_ABSOLUTE_TOKEN:I = 0x80
-
-.field public static final VALUE_NO:I = 0x81
-
-.field public static final VALUE_RELATIVE_TOKEN:I = 0x81
-
-.field public static final VALUE_YES:I = 0x80
-
-
-# instance fields
-.field private mHeaderMap:Ljava/util/HashMap;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashMap",
-            "<",
-            "Ljava/lang/Integer;",
-            "Ljava/lang/Object;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-
-# direct methods
-.method public constructor <init>()V
-    .registers 2
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    const/4 v0, 0x0
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduHeaders;->mHeaderMap:Ljava/util/HashMap;
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduHeaders;->mHeaderMap:Ljava/util/HashMap;
-
-    return-void
-.end method
-
-
-# virtual methods
-.method protected appendEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-    .registers 6
-
-    if-nez p1, :cond_8
-
-    new-instance v1, Ljava/lang/NullPointerException;
-
-    invoke-direct {v1}, Ljava/lang/NullPointerException;-><init>()V
-
-    throw v1
-
-    :cond_8
-    sparse-switch p2, :sswitch_data_34
-
-    new-instance v1, Ljava/lang/RuntimeException;
-
-    const-string v2, "Invalid header field!"
-
-    invoke-direct {v1, v2}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
-
-    throw v1
-
-    :sswitch_13
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduHeaders;->mHeaderMap:Ljava/util/HashMap;
-
-    invoke-static {p2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v1, v2}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Ljava/util/ArrayList;
-
-    if-nez v0, :cond_26
-
-    new-instance v0, Ljava/util/ArrayList;
-
-    invoke-direct {v0}, Ljava/util/ArrayList;-><init>()V
-
-    :cond_26
-    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduHeaders;->mHeaderMap:Ljava/util/HashMap;
-
-    invoke-static {p2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v1, v2, v0}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    return-void
-
-    nop
-
-    :sswitch_data_34
-    .sparse-switch
-        0x81 -> :sswitch_13
-        0x82 -> :sswitch_13
-        0x97 -> :sswitch_13
-    .end sparse-switch
-.end method
-
-.method protected getEncodedStringValue(I)Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduHeaders;->mHeaderMap:Ljava/util/HashMap;
-
-    invoke-static {p1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-virtual {v0, v1}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    return-object v0
-.end method
-
-.method protected getEncodedStringValues(I)[Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 6
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduHeaders;->mHeaderMap:Ljava/util/HashMap;
-
-    invoke-static {p1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v3
-
-    invoke-virtual {v2, v3}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Ljava/util/ArrayList;
-
-    if-nez v0, :cond_10
-
-    const/4 v2, 0x0
-
-    :goto_f
-    return-object v2
-
-    :cond_10
-    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I
-
-    move-result v2
-
-    new-array v1, v2, [Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->toArray([Ljava/lang/Object;)[Ljava/lang/Object;
-
-    move-result-object v2
-
-    check-cast v2, [Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    goto :goto_f
-.end method
-
-.method protected getLongInteger(I)J
-    .registers 5
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduHeaders;->mHeaderMap:Ljava/util/HashMap;
-
-    invoke-static {p1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v1, v2}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Ljava/lang/Long;
-
-    if-nez v0, :cond_11
-
-    const-wide/16 v1, -0x1
-
-    :goto_10
-    return-wide v1
-
-    :cond_11
-    invoke-virtual {v0}, Ljava/lang/Long;->longValue()J
-
-    move-result-wide v1
-
-    goto :goto_10
-.end method
-
-.method protected getOctet(I)I
-    .registers 5
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduHeaders;->mHeaderMap:Ljava/util/HashMap;
-
-    invoke-static {p1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v1, v2}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Ljava/lang/Integer;
-
-    if-nez v0, :cond_10
-
-    const/4 v1, 0x0
-
-    :goto_f
-    return v1
-
-    :cond_10
-    invoke-virtual {v0}, Ljava/lang/Integer;->intValue()I
-
-    move-result v1
-
-    goto :goto_f
-.end method
-
-.method protected getTextString(I)[B
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduHeaders;->mHeaderMap:Ljava/util/HashMap;
-
-    invoke-static {p1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-virtual {v0, v1}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, [B
-
-    check-cast v0, [B
-
-    return-object v0
-.end method
-
-.method protected setEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-    .registers 5
-
-    if-nez p1, :cond_8
-
-    new-instance v0, Ljava/lang/NullPointerException;
-
-    invoke-direct {v0}, Ljava/lang/NullPointerException;-><init>()V
-
-    throw v0
-
-    :cond_8
-    sparse-switch p2, :sswitch_data_1e
-
-    new-instance v0, Ljava/lang/RuntimeException;
-
-    const-string v1, "Invalid header field!"
-
-    invoke-direct {v0, v1}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :sswitch_13
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduHeaders;->mHeaderMap:Ljava/util/HashMap;
-
-    invoke-static {p2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-virtual {v0, v1, p1}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    return-void
-
-    nop
-
-    :sswitch_data_1e
-    .sparse-switch
-        0x89 -> :sswitch_13
-        0x93 -> :sswitch_13
-        0x96 -> :sswitch_13
-        0x9a -> :sswitch_13
-        0xa0 -> :sswitch_13
-        0xa4 -> :sswitch_13
-        0xa6 -> :sswitch_13
-        0xb5 -> :sswitch_13
-        0xb6 -> :sswitch_13
-    .end sparse-switch
-.end method
-
-.method protected setEncodedStringValues([Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-    .registers 7
-
-    if-nez p1, :cond_8
-
-    new-instance v2, Ljava/lang/NullPointerException;
-
-    invoke-direct {v2}, Ljava/lang/NullPointerException;-><init>()V
-
-    throw v2
-
-    :cond_8
-    sparse-switch p2, :sswitch_data_2e
-
-    new-instance v2, Ljava/lang/RuntimeException;
-
-    const-string v3, "Invalid header field!"
-
-    invoke-direct {v2, v3}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
-
-    throw v2
-
-    :sswitch_13
-    new-instance v1, Ljava/util/ArrayList;
-
-    invoke-direct {v1}, Ljava/util/ArrayList;-><init>()V
-
-    const/4 v0, 0x0
-
-    :goto_19
-    array-length v2, p1
-
-    if-ge v0, v2, :cond_24
-
-    aget-object v2, p1, v0
-
-    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-
-    add-int/lit8 v0, v0, 0x1
-
-    goto :goto_19
-
-    :cond_24
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduHeaders;->mHeaderMap:Ljava/util/HashMap;
-
-    invoke-static {p2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v3
-
-    invoke-virtual {v2, v3, v1}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    return-void
-
-    :sswitch_data_2e
-    .sparse-switch
-        0x81 -> :sswitch_13
-        0x82 -> :sswitch_13
-        0x97 -> :sswitch_13
-    .end sparse-switch
-.end method
-
-.method protected setLongInteger(JI)V
-    .registers 7
-
-    sparse-switch p3, :sswitch_data_1a
-
-    new-instance v0, Ljava/lang/RuntimeException;
-
-    const-string v1, "Invalid header field!"
-
-    invoke-direct {v0, v1}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :sswitch_b
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduHeaders;->mHeaderMap:Ljava/util/HashMap;
-
-    invoke-static {p3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-static {p1, p2}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    return-void
-
-    nop
-
-    :sswitch_data_1a
-    .sparse-switch
-        0x85 -> :sswitch_b
-        0x87 -> :sswitch_b
-        0x88 -> :sswitch_b
-        0x8e -> :sswitch_b
-        0x9d -> :sswitch_b
-        0x9f -> :sswitch_b
-        0xa1 -> :sswitch_b
-        0xad -> :sswitch_b
-        0xaf -> :sswitch_b
-        0xb3 -> :sswitch_b
-    .end sparse-switch
-.end method
-
-.method protected setOctet(II)V
-    .registers 8
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    const/16 v4, 0xe0
-
-    const/16 v3, 0xc0
-
-    const/16 v0, 0x81
-
-    const/16 v2, 0xff
-
-    const/16 v1, 0x80
-
-    packed-switch p2, :pswitch_data_106
-
-    :pswitch_d
-    new-instance v0, Ljava/lang/RuntimeException;
-
-    const-string v1, "Invalid header field!"
-
-    invoke-direct {v0, v1}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :pswitch_15
-    if-eq v1, p1, :cond_91
-
-    if-eq v0, p1, :cond_91
-
-    new-instance v0, Lcom/google/android/mms/InvalidHeaderValueException;
-
-    const-string v1, "Invalid Octet value!"
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/InvalidHeaderValueException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :pswitch_21
-    if-eq v1, p1, :cond_91
-
-    if-eq v0, p1, :cond_91
-
-    new-instance v0, Lcom/google/android/mms/InvalidHeaderValueException;
-
-    const-string v1, "Invalid Octet value!"
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/InvalidHeaderValueException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :pswitch_2d
-    if-eq v1, p1, :cond_91
-
-    if-eq v0, p1, :cond_91
-
-    new-instance v0, Lcom/google/android/mms/InvalidHeaderValueException;
-
-    const-string v1, "Invalid Octet value!"
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/InvalidHeaderValueException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :pswitch_39
-    if-lt p1, v1, :cond_3f
-
-    const/16 v0, 0x82
-
-    if-le p1, v0, :cond_91
-
-    :cond_3f
-    new-instance v0, Lcom/google/android/mms/InvalidHeaderValueException;
-
-    const-string v1, "Invalid Octet value!"
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/InvalidHeaderValueException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :pswitch_47
-    if-lt p1, v1, :cond_4d
-
-    const/16 v0, 0x87
-
-    if-le p1, v0, :cond_91
-
-    :cond_4d
-    new-instance v0, Lcom/google/android/mms/InvalidHeaderValueException;
-
-    const-string v1, "Invalid Octet value!"
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/InvalidHeaderValueException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :pswitch_55
-    if-lt p1, v1, :cond_5b
-
-    const/16 v0, 0x83
-
-    if-le p1, v0, :cond_91
-
-    :cond_5b
-    new-instance v0, Lcom/google/android/mms/InvalidHeaderValueException;
-
-    const-string v1, "Invalid Octet value!"
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/InvalidHeaderValueException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :pswitch_63
-    if-lt p1, v1, :cond_69
-
-    const/16 v0, 0x84
-
-    if-le p1, v0, :cond_91
-
-    :cond_69
-    new-instance v0, Lcom/google/android/mms/InvalidHeaderValueException;
-
-    const-string v1, "Invalid Octet value!"
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/InvalidHeaderValueException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :pswitch_71
-    if-eq v1, p1, :cond_91
-
-    new-instance v0, Lcom/google/android/mms/InvalidHeaderValueException;
-
-    const-string v1, "Invalid Octet value!"
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/InvalidHeaderValueException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :pswitch_7b
-    if-lt p1, v1, :cond_81
-
-    const/16 v0, 0x87
-
-    if-le p1, v0, :cond_91
-
-    :cond_81
-    new-instance v0, Lcom/google/android/mms/InvalidHeaderValueException;
-
-    const-string v1, "Invalid Octet value!"
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/InvalidHeaderValueException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :pswitch_89
-    const/16 v0, 0xc2
-
-    if-le p1, v0, :cond_9f
-
-    if-ge p1, v4, :cond_9f
-
-    const/16 p1, 0xc0
-
-    :cond_91
-    :goto_91
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduHeaders;->mHeaderMap:Ljava/util/HashMap;
-
-    invoke-static {p2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-static {p1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    return-void
-
-    :cond_9f
-    const/16 v0, 0xe3
-
-    if-le p1, v0, :cond_a8
-
-    if-gt p1, v2, :cond_a8
-
-    const/16 p1, 0xe0
-
-    goto :goto_91
-
-    :cond_a8
-    if-lt p1, v1, :cond_b0
-
-    if-le p1, v1, :cond_ae
-
-    if-lt p1, v3, :cond_b0
-
-    :cond_ae
-    if-le p1, v2, :cond_91
-
-    :cond_b0
-    const/16 p1, 0xe0
-
-    goto :goto_91
-
-    :pswitch_b3
-    const/16 v0, 0xc1
-
-    if-le p1, v0, :cond_bc
-
-    if-ge p1, v4, :cond_bc
-
-    const/16 p1, 0xc0
-
-    goto :goto_91
-
-    :cond_bc
-    const/16 v0, 0xe4
-
-    if-le p1, v0, :cond_c5
-
-    if-gt p1, v2, :cond_c5
-
-    const/16 p1, 0xe0
-
-    goto :goto_91
-
-    :cond_c5
-    if-lt p1, v1, :cond_cd
-
-    if-le p1, v1, :cond_cb
-
-    if-lt p1, v3, :cond_cd
-
-    :cond_cb
-    if-le p1, v2, :cond_91
-
-    :cond_cd
-    const/16 p1, 0xe0
-
-    goto :goto_91
-
-    :pswitch_d0
-    const/16 v0, 0xc4
-
-    if-le p1, v0, :cond_d9
-
-    if-ge p1, v4, :cond_d9
-
-    const/16 p1, 0xc0
-
-    goto :goto_91
-
-    :cond_d9
-    const/16 v0, 0xeb
-
-    if-le p1, v0, :cond_df
-
-    if-le p1, v2, :cond_e9
-
-    :cond_df
-    if-lt p1, v1, :cond_e9
-
-    const/16 v0, 0x88
-
-    if-le p1, v0, :cond_e7
-
-    if-lt p1, v3, :cond_e9
-
-    :cond_e7
-    if-le p1, v2, :cond_91
-
-    :cond_e9
-    const/16 p1, 0xe0
-
-    goto :goto_91
-
-    :pswitch_ec
-    const/16 v0, 0x10
-
-    if-lt p1, v0, :cond_f4
-
-    const/16 v0, 0x13
-
-    if-le p1, v0, :cond_91
-
-    :cond_f4
-    const/16 p1, 0x12
-
-    goto :goto_91
-
-    :pswitch_f7
-    if-lt p1, v1, :cond_fd
-
-    const/16 v0, 0x97
-
-    if-le p1, v0, :cond_91
-
-    :cond_fd
-    new-instance v0, Lcom/google/android/mms/InvalidHeaderValueException;
-
-    const-string v1, "Invalid Octet value!"
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/InvalidHeaderValueException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    nop
-
-    :pswitch_data_106
-    .packed-switch 0x86
-        :pswitch_15
-        :pswitch_d
-        :pswitch_d
-        :pswitch_d
-        :pswitch_d
-        :pswitch_d
-        :pswitch_f7
-        :pswitch_ec
-        :pswitch_d
-        :pswitch_39
-        :pswitch_15
-        :pswitch_15
-        :pswitch_d0
-        :pswitch_d
-        :pswitch_15
-        :pswitch_47
-        :pswitch_d
-        :pswitch_d
-        :pswitch_d
-        :pswitch_89
-        :pswitch_d
-        :pswitch_21
-        :pswitch_55
-        :pswitch_d
-        :pswitch_d
-        :pswitch_d
-        :pswitch_d
-        :pswitch_d
-        :pswitch_15
-        :pswitch_63
-        :pswitch_d
-        :pswitch_b3
-        :pswitch_d
-        :pswitch_15
-        :pswitch_d
-        :pswitch_15
-        :pswitch_d
-        :pswitch_15
-        :pswitch_d
-        :pswitch_d
-        :pswitch_d
-        :pswitch_d
-        :pswitch_d
-        :pswitch_15
-        :pswitch_d
-        :pswitch_d
-        :pswitch_71
-        :pswitch_d
-        :pswitch_d
-        :pswitch_d
-        :pswitch_d
-        :pswitch_d
-        :pswitch_7b
-        :pswitch_15
-        :pswitch_15
-        :pswitch_d
-        :pswitch_d
-        :pswitch_2d
-    .end packed-switch
-.end method
-
-.method protected setTextString([BI)V
-    .registers 5
-
-    if-nez p1, :cond_8
-
-    new-instance v0, Ljava/lang/NullPointerException;
-
-    invoke-direct {v0}, Ljava/lang/NullPointerException;-><init>()V
-
-    throw v0
-
-    :cond_8
-    sparse-switch p2, :sswitch_data_1e
-
-    new-instance v0, Ljava/lang/RuntimeException;
-
-    const-string v1, "Invalid header field!"
-
-    invoke-direct {v0, v1}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :sswitch_13
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduHeaders;->mHeaderMap:Ljava/util/HashMap;
-
-    invoke-static {p2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-virtual {v0, v1, p1}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    return-void
-
-    nop
-
-    :sswitch_data_1e
-    .sparse-switch
-        0x83 -> :sswitch_13
-        0x84 -> :sswitch_13
-        0x8a -> :sswitch_13
-        0x8b -> :sswitch_13
-        0x98 -> :sswitch_13
-        0x9e -> :sswitch_13
-        0xb7 -> :sswitch_13
-        0xb8 -> :sswitch_13
-        0xb9 -> :sswitch_13
-        0xbd -> :sswitch_13
-        0xbe -> :sswitch_13
-    .end sparse-switch
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/PduParser.smali pdroid-framework/smali/com/google/android/mms/pdu/PduParser.smali
--- stock-framework/smali/com/google/android/mms/pdu/PduParser.smali	2013-07-15 18:10:57.142627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/PduParser.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,4945 +0,0 @@
-.class public Lcom/google/android/mms/pdu/PduParser;
-.super Ljava/lang/Object;
-.source "PduParser.java"
-
-
-# static fields
-#the value of this static final field might be set in the static constructor
-.field static final synthetic $assertionsDisabled:Z = false
-
-.field private static final DEBUG:Z = false
-
-.field private static final END_STRING_FLAG:I = 0x0
-
-.field private static final LENGTH_QUOTE:I = 0x1f
-
-.field private static final LOCAL_LOGV:Z = false
-
-.field private static final LOG_TAG:Ljava/lang/String; = "PduParser"
-
-.field private static final LONG_INTEGER_LENGTH_MAX:I = 0x8
-
-.field private static final QUOTE:I = 0x7f
-
-.field private static final QUOTED_STRING_FLAG:I = 0x22
-
-.field private static final SHORT_INTEGER_MAX:I = 0x7f
-
-.field private static final SHORT_LENGTH_MAX:I = 0x1e
-
-.field private static final TEXT_MAX:I = 0x7f
-
-.field private static final TEXT_MIN:I = 0x20
-
-.field private static final THE_FIRST_PART:I = 0x0
-
-.field private static final THE_LAST_PART:I = 0x1
-
-.field private static final TYPE_QUOTED_STRING:I = 0x1
-
-.field private static final TYPE_TEXT_STRING:I = 0x0
-
-.field private static final TYPE_TOKEN_STRING:I = 0x2
-
-.field private static mStartParam:[B
-
-.field private static mTypeParam:[B
-
-
-# instance fields
-.field private mBody:Lcom/google/android/mms/pdu/PduBody;
-
-.field private mHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-.field private mPduDataStream:Ljava/io/ByteArrayInputStream;
-
-
-# direct methods
-.method static constructor <clinit>()V
-    .registers 2
-
-    const/4 v1, 0x0
-
-    const-class v0, Lcom/google/android/mms/pdu/PduParser;
-
-    invoke-virtual {v0}, Ljava/lang/Class;->desiredAssertionStatus()Z
-
-    move-result v0
-
-    if-nez v0, :cond_11
-
-    const/4 v0, 0x1
-
-    :goto_a
-    sput-boolean v0, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    sput-object v1, Lcom/google/android/mms/pdu/PduParser;->mTypeParam:[B
-
-    sput-object v1, Lcom/google/android/mms/pdu/PduParser;->mStartParam:[B
-
-    return-void
-
-    :cond_11
-    const/4 v0, 0x0
-
-    goto :goto_a
-.end method
-
-.method public constructor <init>([B)V
-    .registers 3
-
-    const/4 v0, 0x0
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduParser;->mPduDataStream:Ljava/io/ByteArrayInputStream;
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduParser;->mHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduParser;->mBody:Lcom/google/android/mms/pdu/PduBody;
-
-    new-instance v0, Ljava/io/ByteArrayInputStream;
-
-    invoke-direct {v0, p1}, Ljava/io/ByteArrayInputStream;-><init>([B)V
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduParser;->mPduDataStream:Ljava/io/ByteArrayInputStream;
-
-    return-void
-.end method
-
-.method protected static checkMandatoryHeader(Lcom/google/android/mms/pdu/PduHeaders;)Z
-    .registers 40
-
-    if-nez p0, :cond_5
-
-    const/16 v37, 0x0
-
-    :goto_4
-    return v37
-
-    :cond_5
-    const/16 v37, 0x8c
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v8
-
-    const/16 v37, 0x8d
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v9
-
-    if-nez v9, :cond_1e
-
-    const/16 v37, 0x0
-
-    goto :goto_4
-
-    :cond_1e
-    packed-switch v8, :pswitch_data_1f6
-
-    const/16 v37, 0x0
-
-    goto :goto_4
-
-    :pswitch_24
-    const/16 v37, 0x84
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v34
-
-    if-nez v34, :cond_33
-
-    const/16 v37, 0x0
-
-    goto :goto_4
-
-    :cond_33
-    const/16 v37, 0x89
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValue(I)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v35
-
-    if-nez v35, :cond_42
-
-    const/16 v37, 0x0
-
-    goto :goto_4
-
-    :cond_42
-    const/16 v37, 0x98
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v36
-
-    if-nez v36, :cond_1f2
-
-    const/16 v37, 0x0
-
-    goto :goto_4
-
-    :pswitch_51
-    const/16 v37, 0x92
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v32
-
-    if-nez v32, :cond_60
-
-    const/16 v37, 0x0
-
-    goto :goto_4
-
-    :cond_60
-    const/16 v37, 0x98
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v33
-
-    if-nez v33, :cond_1f2
-
-    const/16 v37, 0x0
-
-    goto :goto_4
-
-    :pswitch_6f
-    const/16 v37, 0x83
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v10
-
-    if-nez v10, :cond_7e
-
-    const/16 v37, 0x0
-
-    goto :goto_4
-
-    :cond_7e
-    const/16 v37, 0x88
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getLongInteger(I)J
-
-    move-result-wide v11
-
-    const-wide/16 v37, -0x1
-
-    cmp-long v37, v37, v11
-
-    if-nez v37, :cond_92
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :cond_92
-    const/16 v37, 0x8a
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v13
-
-    if-nez v13, :cond_a2
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :cond_a2
-    const/16 v37, 0x8e
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getLongInteger(I)J
-
-    move-result-wide v14
-
-    const-wide/16 v37, -0x1
-
-    cmp-long v37, v37, v14
-
-    if-nez v37, :cond_b6
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :cond_b6
-    const/16 v37, 0x98
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v16
-
-    if-nez v16, :cond_1f2
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :pswitch_c6
-    const/16 v37, 0x95
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v17
-
-    if-nez v17, :cond_d6
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :cond_d6
-    const/16 v37, 0x98
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v18
-
-    if-nez v18, :cond_1f2
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :pswitch_e6
-    const/16 v37, 0x84
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v19
-
-    if-nez v19, :cond_f6
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :cond_f6
-    const/16 v37, 0x85
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getLongInteger(I)J
-
-    move-result-wide v20
-
-    const-wide/16 v37, -0x1
-
-    cmp-long v37, v37, v20
-
-    if-nez v37, :cond_1f2
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :pswitch_10a
-    const/16 v37, 0x85
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getLongInteger(I)J
-
-    move-result-wide v3
-
-    const-wide/16 v37, -0x1
-
-    cmp-long v37, v37, v3
-
-    if-nez v37, :cond_11e
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :cond_11e
-    const/16 v37, 0x8b
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v5
-
-    if-nez v5, :cond_12e
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :cond_12e
-    const/16 v37, 0x95
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v6
-
-    if-nez v6, :cond_13e
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :cond_13e
-    const/16 v37, 0x97
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValues(I)[Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v7
-
-    if-nez v7, :cond_1f2
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :pswitch_14e
-    const/16 v37, 0x98
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v2
-
-    if-nez v2, :cond_1f2
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :pswitch_15e
-    const/16 v37, 0x85
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getLongInteger(I)J
-
-    move-result-wide v22
-
-    const-wide/16 v37, -0x1
-
-    cmp-long v37, v37, v22
-
-    if-nez v37, :cond_172
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :cond_172
-    const/16 v37, 0x89
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValue(I)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v24
-
-    if-nez v24, :cond_182
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :cond_182
-    const/16 v37, 0x8b
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v25
-
-    if-nez v25, :cond_192
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :cond_192
-    const/16 v37, 0x9b
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v26
-
-    if-nez v26, :cond_1a2
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :cond_1a2
-    const/16 v37, 0x97
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValues(I)[Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v27
-
-    if-nez v27, :cond_1f2
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :pswitch_1b2
-    const/16 v37, 0x89
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValue(I)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v28
-
-    if-nez v28, :cond_1c2
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :cond_1c2
-    const/16 v37, 0x8b
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v29
-
-    if-nez v29, :cond_1d2
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :cond_1d2
-    const/16 v37, 0x9b
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v30
-
-    if-nez v30, :cond_1e2
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :cond_1e2
-    const/16 v37, 0x97
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v37
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValues(I)[Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v31
-
-    if-nez v31, :cond_1f2
-
-    const/16 v37, 0x0
-
-    goto/16 :goto_4
-
-    :cond_1f2
-    const/16 v37, 0x1
-
-    goto/16 :goto_4
-
-    :pswitch_data_1f6
-    .packed-switch 0x80
-        :pswitch_24
-        :pswitch_51
-        :pswitch_6f
-        :pswitch_c6
-        :pswitch_e6
-        :pswitch_14e
-        :pswitch_10a
-        :pswitch_1b2
-        :pswitch_15e
-    .end packed-switch
-.end method
-
-.method private static checkPartPosition(Lcom/google/android/mms/pdu/PduPart;)I
-    .registers 6
-
-    const/4 v3, 0x0
-
-    const/4 v2, 0x1
-
-    sget-boolean v4, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v4, :cond_e
-
-    if-nez p0, :cond_e
-
-    new-instance v2, Ljava/lang/AssertionError;
-
-    invoke-direct {v2}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v2
-
-    :cond_e
-    sget-object v4, Lcom/google/android/mms/pdu/PduParser;->mTypeParam:[B
-
-    if-nez v4, :cond_17
-
-    sget-object v4, Lcom/google/android/mms/pdu/PduParser;->mStartParam:[B
-
-    if-nez v4, :cond_17
-
-    :cond_16
-    :goto_16
-    return v2
-
-    :cond_17
-    sget-object v4, Lcom/google/android/mms/pdu/PduParser;->mStartParam:[B
-
-    if-eqz v4, :cond_2b
-
-    invoke-virtual {p0}, Lcom/google/android/mms/pdu/PduPart;->getContentId()[B
-
-    move-result-object v0
-
-    if-eqz v0, :cond_2b
-
-    sget-object v4, Lcom/google/android/mms/pdu/PduParser;->mStartParam:[B
-
-    invoke-static {v4, v0}, Ljava/util/Arrays;->equals([B[B)Z
-
-    move-result v4
-
-    if-ne v2, v4, :cond_2b
-
-    move v2, v3
-
-    goto :goto_16
-
-    :cond_2b
-    sget-object v4, Lcom/google/android/mms/pdu/PduParser;->mTypeParam:[B
-
-    if-eqz v4, :cond_16
-
-    invoke-virtual {p0}, Lcom/google/android/mms/pdu/PduPart;->getContentType()[B
-
-    move-result-object v1
-
-    if-eqz v1, :cond_16
-
-    sget-object v4, Lcom/google/android/mms/pdu/PduParser;->mTypeParam:[B
-
-    invoke-static {v4, v1}, Ljava/util/Arrays;->equals([B[B)Z
-
-    move-result v4
-
-    if-ne v2, v4, :cond_16
-
-    move v2, v3
-
-    goto :goto_16
-.end method
-
-.method protected static extractByteValue(Ljava/io/ByteArrayInputStream;)I
-    .registers 3
-
-    sget-boolean v1, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v1, :cond_c
-
-    if-nez p0, :cond_c
-
-    new-instance v1, Ljava/lang/AssertionError;
-
-    invoke-direct {v1}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v1
-
-    :cond_c
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->read()I
-
-    move-result v0
-
-    sget-boolean v1, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v1, :cond_1d
-
-    const/4 v1, -0x1
-
-    if-ne v1, v0, :cond_1d
-
-    new-instance v1, Ljava/lang/AssertionError;
-
-    invoke-direct {v1}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v1
-
-    :cond_1d
-    and-int/lit16 v1, v0, 0xff
-
-    return v1
-.end method
-
-.method protected static getWapString(Ljava/io/ByteArrayInputStream;I)[B
-    .registers 6
-
-    const/4 v3, -0x1
-
-    sget-boolean v2, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v2, :cond_d
-
-    if-nez p0, :cond_d
-
-    new-instance v2, Ljava/lang/AssertionError;
-
-    invoke-direct {v2}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v2
-
-    :cond_d
-    new-instance v0, Ljava/io/ByteArrayOutputStream;
-
-    invoke-direct {v0}, Ljava/io/ByteArrayOutputStream;-><init>()V
-
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->read()I
-
-    move-result v1
-
-    sget-boolean v2, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v2, :cond_22
-
-    if-ne v3, v1, :cond_22
-
-    new-instance v2, Ljava/lang/AssertionError;
-
-    invoke-direct {v2}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v2
-
-    :cond_22
-    if-eq v3, v1, :cond_4c
-
-    if-eqz v1, :cond_4c
-
-    const/4 v2, 0x2
-
-    if-ne p1, v2, :cond_42
-
-    invoke-static {v1}, Lcom/google/android/mms/pdu/PduParser;->isTokenCharacter(I)Z
-
-    move-result v2
-
-    if-eqz v2, :cond_32
-
-    invoke-virtual {v0, v1}, Ljava/io/ByteArrayOutputStream;->write(I)V
-
-    :cond_32
-    :goto_32
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->read()I
-
-    move-result v1
-
-    sget-boolean v2, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v2, :cond_22
-
-    if-ne v3, v1, :cond_22
-
-    new-instance v2, Ljava/lang/AssertionError;
-
-    invoke-direct {v2}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v2
-
-    :cond_42
-    invoke-static {v1}, Lcom/google/android/mms/pdu/PduParser;->isText(I)Z
-
-    move-result v2
-
-    if-eqz v2, :cond_32
-
-    invoke-virtual {v0, v1}, Ljava/io/ByteArrayOutputStream;->write(I)V
-
-    goto :goto_32
-
-    :cond_4c
-    invoke-virtual {v0}, Ljava/io/ByteArrayOutputStream;->size()I
-
-    move-result v2
-
-    if-lez v2, :cond_57
-
-    invoke-virtual {v0}, Ljava/io/ByteArrayOutputStream;->toByteArray()[B
-
-    move-result-object v2
-
-    :goto_56
-    return-object v2
-
-    :cond_57
-    const/4 v2, 0x0
-
-    goto :goto_56
-.end method
-
-.method protected static isText(I)Z
-    .registers 3
-
-    const/4 v0, 0x1
-
-    const/16 v1, 0x20
-
-    if-lt p0, v1, :cond_9
-
-    const/16 v1, 0x7e
-
-    if-le p0, v1, :cond_11
-
-    :cond_9
-    const/16 v1, 0x80
-
-    if-lt p0, v1, :cond_12
-
-    const/16 v1, 0xff
-
-    if-gt p0, v1, :cond_12
-
-    :cond_11
-    :goto_11
-    :pswitch_11
-    return v0
-
-    :cond_12
-    packed-switch p0, :pswitch_data_18
-
-    :pswitch_15
-    const/4 v0, 0x0
-
-    goto :goto_11
-
-    nop
-
-    :pswitch_data_18
-    .packed-switch 0x9
-        :pswitch_11
-        :pswitch_11
-        :pswitch_15
-        :pswitch_15
-        :pswitch_11
-    .end packed-switch
-.end method
-
-.method protected static isTokenCharacter(I)Z
-    .registers 3
-
-    const/4 v0, 0x0
-
-    const/16 v1, 0x21
-
-    if-lt p0, v1, :cond_9
-
-    const/16 v1, 0x7e
-
-    if-le p0, v1, :cond_a
-
-    :cond_9
-    :goto_9
-    :sswitch_9
-    return v0
-
-    :cond_a
-    sparse-switch p0, :sswitch_data_10
-
-    const/4 v0, 0x1
-
-    goto :goto_9
-
-    nop
-
-    :sswitch_data_10
-    .sparse-switch
-        0x22 -> :sswitch_9
-        0x28 -> :sswitch_9
-        0x29 -> :sswitch_9
-        0x2c -> :sswitch_9
-        0x2f -> :sswitch_9
-        0x3a -> :sswitch_9
-        0x3b -> :sswitch_9
-        0x3c -> :sswitch_9
-        0x3d -> :sswitch_9
-        0x3e -> :sswitch_9
-        0x3f -> :sswitch_9
-        0x40 -> :sswitch_9
-        0x5b -> :sswitch_9
-        0x5c -> :sswitch_9
-        0x5d -> :sswitch_9
-        0x7b -> :sswitch_9
-        0x7d -> :sswitch_9
-    .end sparse-switch
-.end method
-
-.method private static log(Ljava/lang/String;)V
-    .registers 1
-
-    return-void
-.end method
-
-.method protected static parseContentType(Ljava/io/ByteArrayInputStream;Ljava/util/HashMap;)[B
-    .registers 13
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "(",
-            "Ljava/io/ByteArrayInputStream;",
-            "Ljava/util/HashMap",
-            "<",
-            "Ljava/lang/Integer;",
-            "Ljava/lang/Object;",
-            ">;)[B"
-        }
-    .end annotation
-
-    sget-boolean v9, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v9, :cond_c
-
-    if-nez p0, :cond_c
-
-    new-instance v9, Ljava/lang/AssertionError;
-
-    invoke-direct {v9}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v9
-
-    :cond_c
-    const/4 v0, 0x0
-
-    const/4 v9, 0x1
-
-    invoke-virtual {p0, v9}, Ljava/io/ByteArrayInputStream;->mark(I)V
-
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->read()I
-
-    move-result v8
-
-    sget-boolean v9, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v9, :cond_22
-
-    const/4 v9, -0x1
-
-    if-ne v9, v8, :cond_22
-
-    new-instance v9, Ljava/lang/AssertionError;
-
-    invoke-direct {v9}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v9
-
-    :cond_22
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->reset()V
-
-    and-int/lit16 v1, v8, 0xff
-
-    const/16 v9, 0x20
-
-    if-ge v1, v9, :cond_ae
-
-    invoke-static {p0}, Lcom/google/android/mms/pdu/PduParser;->parseValueLength(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v5
-
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->available()I
-
-    move-result v7
-
-    const/4 v9, 0x1
-
-    invoke-virtual {p0, v9}, Ljava/io/ByteArrayInputStream;->mark(I)V
-
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->read()I
-
-    move-result v8
-
-    sget-boolean v9, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v9, :cond_48
-
-    const/4 v9, -0x1
-
-    if-ne v9, v8, :cond_48
-
-    new-instance v9, Ljava/lang/AssertionError;
-
-    invoke-direct {v9}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v9
-
-    :cond_48
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->reset()V
-
-    and-int/lit16 v3, v8, 0xff
-
-    const/16 v9, 0x20
-
-    if-lt v3, v9, :cond_7e
-
-    const/16 v9, 0x7f
-
-    if-gt v3, v9, :cond_7e
-
-    const/4 v9, 0x0
-
-    invoke-static {p0, v9}, Lcom/google/android/mms/pdu/PduParser;->parseWapString(Ljava/io/ByteArrayInputStream;I)[B
-
-    move-result-object v0
-
-    :goto_5a
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->available()I
-
-    move-result v2
-
-    sub-int v9, v7, v2
-
-    sub-int v6, v5, v9
-
-    if-lez v6, :cond_6b
-
-    invoke-static {v6}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v9
-
-    invoke-static {p0, p1, v9}, Lcom/google/android/mms/pdu/PduParser;->parseContentTypeParams(Ljava/io/ByteArrayInputStream;Ljava/util/HashMap;Ljava/lang/Integer;)V
-
-    :cond_6b
-    if-gez v6, :cond_b7
-
-    const-string v9, "PduParser"
-
-    const-string v10, "Corrupt MMS message"
-
-    invoke-static {v9, v10}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
-
-    sget-object v9, Lcom/google/android/mms/pdu/PduContentTypes;->contentTypes:[Ljava/lang/String;
-
-    const/4 v10, 0x0
-
-    aget-object v9, v9, v10
-
-    invoke-virtual {v9}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v9
-
-    :goto_7d
-    return-object v9
-
-    :cond_7e
-    const/16 v9, 0x7f
-
-    if-le v3, v9, :cond_9d
-
-    invoke-static {p0}, Lcom/google/android/mms/pdu/PduParser;->parseShortInteger(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v4
-
-    sget-object v9, Lcom/google/android/mms/pdu/PduContentTypes;->contentTypes:[Ljava/lang/String;
-
-    array-length v9, v9
-
-    if-ge v4, v9, :cond_94
-
-    sget-object v9, Lcom/google/android/mms/pdu/PduContentTypes;->contentTypes:[Ljava/lang/String;
-
-    aget-object v9, v9, v4
-
-    invoke-virtual {v9}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v0
-
-    goto :goto_5a
-
-    :cond_94
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->reset()V
-
-    const/4 v9, 0x0
-
-    invoke-static {p0, v9}, Lcom/google/android/mms/pdu/PduParser;->parseWapString(Ljava/io/ByteArrayInputStream;I)[B
-
-    move-result-object v0
-
-    goto :goto_5a
-
-    :cond_9d
-    const-string v9, "PduParser"
-
-    const-string v10, "Corrupt content-type"
-
-    invoke-static {v9, v10}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
-
-    sget-object v9, Lcom/google/android/mms/pdu/PduContentTypes;->contentTypes:[Ljava/lang/String;
-
-    const/4 v10, 0x0
-
-    aget-object v9, v9, v10
-
-    invoke-virtual {v9}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v9
-
-    goto :goto_7d
-
-    :cond_ae
-    const/16 v9, 0x7f
-
-    if-gt v1, v9, :cond_b9
-
-    const/4 v9, 0x0
-
-    invoke-static {p0, v9}, Lcom/google/android/mms/pdu/PduParser;->parseWapString(Ljava/io/ByteArrayInputStream;I)[B
-
-    move-result-object v0
-
-    :cond_b7
-    :goto_b7
-    move-object v9, v0
-
-    goto :goto_7d
-
-    :cond_b9
-    sget-object v9, Lcom/google/android/mms/pdu/PduContentTypes;->contentTypes:[Ljava/lang/String;
-
-    invoke-static {p0}, Lcom/google/android/mms/pdu/PduParser;->parseShortInteger(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v10
-
-    aget-object v9, v9, v10
-
-    invoke-virtual {v9}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v0
-
-    goto :goto_b7
-.end method
-
-.method protected static parseContentTypeParams(Ljava/io/ByteArrayInputStream;Ljava/util/HashMap;Ljava/lang/Integer;)V
-    .registers 22
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "(",
-            "Ljava/io/ByteArrayInputStream;",
-            "Ljava/util/HashMap",
-            "<",
-            "Ljava/lang/Integer;",
-            "Ljava/lang/Object;",
-            ">;",
-            "Ljava/lang/Integer;",
-            ")V"
-        }
-    .end annotation
-
-    sget-boolean v17, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v17, :cond_c
-
-    if-nez p0, :cond_c
-
-    new-instance v17, Ljava/lang/AssertionError;
-
-    invoke-direct/range {v17 .. v17}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v17
-
-    :cond_c
-    sget-boolean v17, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v17, :cond_1c
-
-    invoke-virtual/range {p2 .. p2}, Ljava/lang/Integer;->intValue()I
-
-    move-result v17
-
-    if-gtz v17, :cond_1c
-
-    new-instance v17, Ljava/lang/AssertionError;
-
-    invoke-direct/range {v17 .. v17}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v17
-
-    :cond_1c
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->available()I
-
-    move-result v14
-
-    const/4 v15, 0x0
-
-    invoke-virtual/range {p2 .. p2}, Ljava/lang/Integer;->intValue()I
-
-    move-result v10
-
-    :goto_25
-    if-lez v10, :cond_1a7
-
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->read()I
-
-    move-result v12
-
-    sget-boolean v17, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v17, :cond_3b
-
-    const/16 v17, -0x1
-
-    move/from16 v0, v17
-
-    if-ne v0, v12, :cond_3b
-
-    new-instance v17, Ljava/lang/AssertionError;
-
-    invoke-direct/range {v17 .. v17}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v17
-
-    :cond_3b
-    add-int/lit8 v10, v10, -0x1
-
-    sparse-switch v12, :sswitch_data_1b2
-
-    const/16 v17, -0x1
-
-    move-object/from16 v0, p0
-
-    invoke-static {v0, v10}, Lcom/google/android/mms/pdu/PduParser;->skipWapValue(Ljava/io/ByteArrayInputStream;I)I
-
-    move-result v18
-
-    move/from16 v0, v17
-
-    move/from16 v1, v18
-
-    if-ne v0, v1, :cond_1a4
-
-    const-string v17, "PduParser"
-
-    const-string v18, "Corrupt Content-Type"
-
-    invoke-static/range {v17 .. v18}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
-
-    goto :goto_25
-
-    :sswitch_56
-    const/16 v17, 0x1
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v17
-
-    invoke-virtual {v0, v1}, Ljava/io/ByteArrayInputStream;->mark(I)V
-
-    invoke-static/range {p0 .. p0}, Lcom/google/android/mms/pdu/PduParser;->extractByteValue(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v7
-
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->reset()V
-
-    const/16 v17, 0x7f
-
-    move/from16 v0, v17
-
-    if-le v7, v0, :cond_9f
-
-    invoke-static/range {p0 .. p0}, Lcom/google/android/mms/pdu/PduParser;->parseShortInteger(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v9
-
-    sget-object v17, Lcom/google/android/mms/pdu/PduContentTypes;->contentTypes:[Ljava/lang/String;
-
-    move-object/from16 v0, v17
-
-    array-length v0, v0
-
-    move/from16 v17, v0
-
-    move/from16 v0, v17
-
-    if-ge v9, v0, :cond_92
-
-    sget-object v17, Lcom/google/android/mms/pdu/PduContentTypes;->contentTypes:[Ljava/lang/String;
-
-    aget-object v17, v17, v9
-
-    invoke-virtual/range {v17 .. v17}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v16
-
-    const/16 v17, 0x83
-
-    invoke-static/range {v17 .. v17}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v17
-
-    move-object/from16 v0, p1
-
-    move-object/from16 v1, v17
-
-    move-object/from16 v2, v16
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    :cond_92
-    :goto_92
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->available()I
-
-    move-result v15
-
-    invoke-virtual/range {p2 .. p2}, Ljava/lang/Integer;->intValue()I
-
-    move-result v17
-
-    sub-int v18, v14, v15
-
-    sub-int v10, v17, v18
-
-    goto :goto_25
-
-    :cond_9f
-    const/16 v17, 0x0
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v17
-
-    invoke-static {v0, v1}, Lcom/google/android/mms/pdu/PduParser;->parseWapString(Ljava/io/ByteArrayInputStream;I)[B
-
-    move-result-object v16
-
-    if-eqz v16, :cond_92
-
-    if-eqz p1, :cond_92
-
-    const/16 v17, 0x83
-
-    invoke-static/range {v17 .. v17}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v17
-
-    move-object/from16 v0, p1
-
-    move-object/from16 v1, v17
-
-    move-object/from16 v2, v16
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    goto :goto_92
-
-    :sswitch_bd
-    const/16 v17, 0x0
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v17
-
-    invoke-static {v0, v1}, Lcom/google/android/mms/pdu/PduParser;->parseWapString(Ljava/io/ByteArrayInputStream;I)[B
-
-    move-result-object v13
-
-    if-eqz v13, :cond_d8
-
-    if-eqz p1, :cond_d8
-
-    const/16 v17, 0x99
-
-    invoke-static/range {v17 .. v17}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v17
-
-    move-object/from16 v0, p1
-
-    move-object/from16 v1, v17
-
-    invoke-virtual {v0, v1, v13}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    :cond_d8
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->available()I
-
-    move-result v15
-
-    invoke-virtual/range {p2 .. p2}, Ljava/lang/Integer;->intValue()I
-
-    move-result v17
-
-    sub-int v18, v14, v15
-
-    sub-int v10, v17, v18
-
-    goto/16 :goto_25
-
-    :sswitch_e6
-    const/16 v17, 0x1
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v17
-
-    invoke-virtual {v0, v1}, Ljava/io/ByteArrayInputStream;->mark(I)V
-
-    invoke-static/range {p0 .. p0}, Lcom/google/android/mms/pdu/PduParser;->extractByteValue(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v8
-
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->reset()V
-
-    const/16 v17, 0x20
-
-    move/from16 v0, v17
-
-    if-le v8, v0, :cond_102
-
-    const/16 v17, 0x7f
-
-    move/from16 v0, v17
-
-    if-lt v8, v0, :cond_104
-
-    :cond_102
-    if-nez v8, :cond_15e
-
-    :cond_104
-    const/16 v17, 0x0
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v17
-
-    invoke-static {v0, v1}, Lcom/google/android/mms/pdu/PduParser;->parseWapString(Ljava/io/ByteArrayInputStream;I)[B
-
-    move-result-object v5
-
-    :try_start_10e
-    new-instance v17, Ljava/lang/String;
-
-    move-object/from16 v0, v17
-
-    invoke-direct {v0, v5}, Ljava/lang/String;-><init>([B)V
-
-    invoke-static/range {v17 .. v17}, Lcom/google/android/mms/pdu/CharacterSets;->getMibEnumValue(Ljava/lang/String;)I
-
-    move-result v4
-
-    const/16 v17, 0x81
-
-    invoke-static/range {v17 .. v17}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v17
-
-    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v18
-
-    move-object/from16 v0, p1
-
-    move-object/from16 v1, v17
-
-    move-object/from16 v2, v18
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-    :try_end_12c
-    .catch Ljava/io/UnsupportedEncodingException; {:try_start_10e .. :try_end_12c} :catch_13a
-
-    :cond_12c
-    :goto_12c
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->available()I
-
-    move-result v15
-
-    invoke-virtual/range {p2 .. p2}, Ljava/lang/Integer;->intValue()I
-
-    move-result v17
-
-    sub-int v18, v14, v15
-
-    sub-int v10, v17, v18
-
-    goto/16 :goto_25
-
-    :catch_13a
-    move-exception v6
-
-    const-string v17, "PduParser"
-
-    invoke-static {v5}, Ljava/util/Arrays;->toString([B)Ljava/lang/String;
-
-    move-result-object v18
-
-    move-object/from16 v0, v17
-
-    move-object/from16 v1, v18
-
-    invoke-static {v0, v1, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    const/16 v17, 0x81
-
-    invoke-static/range {v17 .. v17}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v17
-
-    const/16 v18, 0x0
-
-    invoke-static/range {v18 .. v18}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v18
-
-    move-object/from16 v0, p1
-
-    move-object/from16 v1, v17
-
-    move-object/from16 v2, v18
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    goto :goto_12c
-
-    :cond_15e
-    invoke-static/range {p0 .. p0}, Lcom/google/android/mms/pdu/PduParser;->parseIntegerValue(Ljava/io/ByteArrayInputStream;)J
-
-    move-result-wide v17
-
-    move-wide/from16 v0, v17
-
-    long-to-int v3, v0
-
-    if-eqz p1, :cond_12c
-
-    const/16 v17, 0x81
-
-    invoke-static/range {v17 .. v17}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v17
-
-    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v18
-
-    move-object/from16 v0, p1
-
-    move-object/from16 v1, v17
-
-    move-object/from16 v2, v18
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    goto :goto_12c
-
-    :sswitch_17b
-    const/16 v17, 0x0
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v17
-
-    invoke-static {v0, v1}, Lcom/google/android/mms/pdu/PduParser;->parseWapString(Ljava/io/ByteArrayInputStream;I)[B
-
-    move-result-object v11
-
-    if-eqz v11, :cond_196
-
-    if-eqz p1, :cond_196
-
-    const/16 v17, 0x97
-
-    invoke-static/range {v17 .. v17}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v17
-
-    move-object/from16 v0, p1
-
-    move-object/from16 v1, v17
-
-    invoke-virtual {v0, v1, v11}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    :cond_196
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->available()I
-
-    move-result v15
-
-    invoke-virtual/range {p2 .. p2}, Ljava/lang/Integer;->intValue()I
-
-    move-result v17
-
-    sub-int v18, v14, v15
-
-    sub-int v10, v17, v18
-
-    goto/16 :goto_25
-
-    :cond_1a4
-    const/4 v10, 0x0
-
-    goto/16 :goto_25
-
-    :cond_1a7
-    if-eqz v10, :cond_1b0
-
-    const-string v17, "PduParser"
-
-    const-string v18, "Corrupt Content-Type"
-
-    invoke-static/range {v17 .. v18}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
-
-    :cond_1b0
-    return-void
-
-    nop
-
-    :sswitch_data_1b2
-    .sparse-switch
-        0x81 -> :sswitch_e6
-        0x83 -> :sswitch_56
-        0x85 -> :sswitch_17b
-        0x89 -> :sswitch_56
-        0x8a -> :sswitch_bd
-        0x97 -> :sswitch_17b
-        0x99 -> :sswitch_bd
-    .end sparse-switch
-.end method
-
-.method protected static parseEncodedStringValue(Ljava/io/ByteArrayInputStream;)Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 10
-
-    const/4 v7, 0x0
-
-    sget-boolean v8, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v8, :cond_d
-
-    if-nez p0, :cond_d
-
-    new-instance v7, Ljava/lang/AssertionError;
-
-    invoke-direct {v7}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v7
-
-    :cond_d
-    const/4 v8, 0x1
-
-    invoke-virtual {p0, v8}, Ljava/io/ByteArrayInputStream;->mark(I)V
-
-    const/4 v3, 0x0
-
-    const/4 v0, 0x0
-
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->read()I
-
-    move-result v5
-
-    sget-boolean v8, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v8, :cond_24
-
-    const/4 v8, -0x1
-
-    if-ne v8, v5, :cond_24
-
-    new-instance v7, Ljava/lang/AssertionError;
-
-    invoke-direct {v7}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v7
-
-    :cond_24
-    and-int/lit16 v2, v5, 0xff
-
-    if-nez v2, :cond_29
-
-    :goto_28
-    return-object v7
-
-    :cond_29
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->reset()V
-
-    const/16 v8, 0x20
-
-    if-ge v2, v8, :cond_37
-
-    invoke-static {p0}, Lcom/google/android/mms/pdu/PduParser;->parseValueLength(Ljava/io/ByteArrayInputStream;)I
-
-    invoke-static {p0}, Lcom/google/android/mms/pdu/PduParser;->parseShortInteger(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v0
-
-    :cond_37
-    const/4 v8, 0x0
-
-    invoke-static {p0, v8}, Lcom/google/android/mms/pdu/PduParser;->parseWapString(Ljava/io/ByteArrayInputStream;I)[B
-
-    move-result-object v6
-
-    if-eqz v0, :cond_46
-
-    :try_start_3e
-    new-instance v4, Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    invoke-direct {v4, v0, v6}, Lcom/google/android/mms/pdu/EncodedStringValue;-><init>(I[B)V
-
-    move-object v3, v4
-
-    :goto_44
-    move-object v7, v3
-
-    goto :goto_28
-
-    :cond_46
-    new-instance v4, Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    invoke-direct {v4, v6}, Lcom/google/android/mms/pdu/EncodedStringValue;-><init>([B)V
-    :try_end_4b
-    .catch Ljava/lang/Exception; {:try_start_3e .. :try_end_4b} :catch_4d
-
-    move-object v3, v4
-
-    goto :goto_44
-
-    :catch_4d
-    move-exception v1
-
-    goto :goto_28
-.end method
-
-.method protected static parseIntegerValue(Ljava/io/ByteArrayInputStream;)J
-    .registers 4
-
-    sget-boolean v1, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v1, :cond_c
-
-    if-nez p0, :cond_c
-
-    new-instance v1, Ljava/lang/AssertionError;
-
-    invoke-direct {v1}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v1
-
-    :cond_c
-    const/4 v1, 0x1
-
-    invoke-virtual {p0, v1}, Ljava/io/ByteArrayInputStream;->mark(I)V
-
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->read()I
-
-    move-result v0
-
-    sget-boolean v1, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v1, :cond_21
-
-    const/4 v1, -0x1
-
-    if-ne v1, v0, :cond_21
-
-    new-instance v1, Ljava/lang/AssertionError;
-
-    invoke-direct {v1}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v1
-
-    :cond_21
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->reset()V
-
-    const/16 v1, 0x7f
-
-    if-le v0, v1, :cond_2e
-
-    invoke-static {p0}, Lcom/google/android/mms/pdu/PduParser;->parseShortInteger(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v1
-
-    int-to-long v1, v1
-
-    :goto_2d
-    return-wide v1
-
-    :cond_2e
-    invoke-static {p0}, Lcom/google/android/mms/pdu/PduParser;->parseLongInteger(Ljava/io/ByteArrayInputStream;)J
-
-    move-result-wide v1
-
-    goto :goto_2d
-.end method
-
-.method protected static parseLongInteger(Ljava/io/ByteArrayInputStream;)J
-    .registers 10
-
-    const/16 v8, 0x8
-
-    const/4 v7, -0x1
-
-    sget-boolean v5, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v5, :cond_f
-
-    if-nez p0, :cond_f
-
-    new-instance v5, Ljava/lang/AssertionError;
-
-    invoke-direct {v5}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v5
-
-    :cond_f
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->read()I
-
-    move-result v4
-
-    sget-boolean v5, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v5, :cond_1f
-
-    if-ne v7, v4, :cond_1f
-
-    new-instance v5, Ljava/lang/AssertionError;
-
-    invoke-direct {v5}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v5
-
-    :cond_1f
-    and-int/lit16 v0, v4, 0xff
-
-    if-le v0, v8, :cond_2b
-
-    new-instance v5, Ljava/lang/RuntimeException;
-
-    const-string v6, "Octet count greater than 8 and I can\'t represent that!"
-
-    invoke-direct {v5, v6}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
-
-    throw v5
-
-    :cond_2b
-    const-wide/16 v2, 0x0
-
-    const/4 v1, 0x0
-
-    :goto_2e
-    if-ge v1, v0, :cond_48
-
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->read()I
-
-    move-result v4
-
-    sget-boolean v5, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v5, :cond_40
-
-    if-ne v7, v4, :cond_40
-
-    new-instance v5, Ljava/lang/AssertionError;
-
-    invoke-direct {v5}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v5
-
-    :cond_40
-    shl-long/2addr v2, v8
-
-    and-int/lit16 v5, v4, 0xff
-
-    int-to-long v5, v5
-
-    add-long/2addr v2, v5
-
-    add-int/lit8 v1, v1, 0x1
-
-    goto :goto_2e
-
-    :cond_48
-    return-wide v2
-.end method
-
-.method protected static parsePartHeaders(Ljava/io/ByteArrayInputStream;Lcom/google/android/mms/pdu/PduPart;I)Z
-    .registers 23
-
-    sget-boolean v17, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v17, :cond_c
-
-    if-nez p0, :cond_c
-
-    new-instance v17, Ljava/lang/AssertionError;
-
-    invoke-direct/range {v17 .. v17}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v17
-
-    :cond_c
-    sget-boolean v17, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v17, :cond_18
-
-    if-nez p1, :cond_18
-
-    new-instance v17, Ljava/lang/AssertionError;
-
-    invoke-direct/range {v17 .. v17}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v17
-
-    :cond_18
-    sget-boolean v17, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v17, :cond_24
-
-    if-gtz p2, :cond_24
-
-    new-instance v17, Ljava/lang/AssertionError;
-
-    invoke-direct/range {v17 .. v17}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v17
-
-    :cond_24
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->available()I
-
-    move-result v9
-
-    const/4 v12, 0x0
-
-    move/from16 v7, p2
-
-    :cond_2b
-    :goto_2b
-    if-lez v7, :cond_1b3
-
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->read()I
-
-    move-result v5
-
-    sget-boolean v17, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v17, :cond_41
-
-    const/16 v17, -0x1
-
-    move/from16 v0, v17
-
-    if-ne v0, v5, :cond_41
-
-    new-instance v17, Ljava/lang/AssertionError;
-
-    invoke-direct/range {v17 .. v17}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v17
-
-    :cond_41
-    add-int/lit8 v7, v7, -0x1
-
-    const/16 v17, 0x7f
-
-    move/from16 v0, v17
-
-    if-le v5, v0, :cond_153
-
-    sparse-switch v5, :sswitch_data_1c4
-
-    const/16 v17, -0x1
-
-    move-object/from16 v0, p0
-
-    invoke-static {v0, v7}, Lcom/google/android/mms/pdu/PduParser;->skipWapValue(Ljava/io/ByteArrayInputStream;I)I
-
-    move-result v18
-
-    move/from16 v0, v17
-
-    move/from16 v1, v18
-
-    if-ne v0, v1, :cond_150
-
-    const-string v17, "PduParser"
-
-    const-string v18, "Corrupt Part headers"
-
-    invoke-static/range {v17 .. v18}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
-
-    const/16 v17, 0x0
-
-    :goto_63
-    return v17
-
-    :sswitch_64
-    const/16 v17, 0x0
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v17
-
-    invoke-static {v0, v1}, Lcom/google/android/mms/pdu/PduParser;->parseWapString(Ljava/io/ByteArrayInputStream;I)[B
-
-    move-result-object v4
-
-    if-eqz v4, :cond_75
-
-    move-object/from16 v0, p1
-
-    invoke-virtual {v0, v4}, Lcom/google/android/mms/pdu/PduPart;->setContentLocation([B)V
-
-    :cond_75
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->available()I
-
-    move-result v12
-
-    sub-int v17, v9, v12
-
-    sub-int v7, p2, v17
-
-    goto :goto_2b
-
-    :sswitch_7e
-    const/16 v17, 0x1
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v17
-
-    invoke-static {v0, v1}, Lcom/google/android/mms/pdu/PduParser;->parseWapString(Ljava/io/ByteArrayInputStream;I)[B
-
-    move-result-object v3
-
-    if-eqz v3, :cond_8f
-
-    move-object/from16 v0, p1
-
-    invoke-virtual {v0, v3}, Lcom/google/android/mms/pdu/PduPart;->setContentId([B)V
-
-    :cond_8f
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->available()I
-
-    move-result v12
-
-    sub-int v17, v9, v12
-
-    sub-int v7, p2, v17
-
-    goto :goto_2b
-
-    :sswitch_98
-    invoke-static {}, Landroid/content/res/Resources;->getSystem()Landroid/content/res/Resources;
-
-    move-result-object v17
-
-    const v18, 0x1110036
-
-    invoke-virtual/range {v17 .. v18}, Landroid/content/res/Resources;->getBoolean(I)Z
-
-    move-result v2
-
-    if-eqz v2, :cond_2b
-
-    invoke-static/range {p0 .. p0}, Lcom/google/android/mms/pdu/PduParser;->parseValueLength(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v8
-
-    const/16 v17, 0x1
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v17
-
-    invoke-virtual {v0, v1}, Ljava/io/ByteArrayInputStream;->mark(I)V
-
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->available()I
-
-    move-result v15
-
-    const/4 v14, 0x0
-
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->read()I
-
-    move-result v16
-
-    const/16 v17, 0x80
-
-    move/from16 v0, v16
-
-    move/from16 v1, v17
-
-    if-ne v0, v1, :cond_116
-
-    sget-object v17, Lcom/google/android/mms/pdu/PduPart;->DISPOSITION_FROM_DATA:[B
-
-    move-object/from16 v0, p1
-
-    move-object/from16 v1, v17
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduPart;->setContentDisposition([B)V
-
-    :goto_cc
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->available()I
-
-    move-result v14
-
-    sub-int v17, v15, v14
-
-    move/from16 v0, v17
-
-    if-ge v0, v8, :cond_10c
-
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->read()I
-
-    move-result v16
-
-    const/16 v17, 0x98
-
-    move/from16 v0, v16
-
-    move/from16 v1, v17
-
-    if-ne v0, v1, :cond_f3
-
-    const/16 v17, 0x0
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v17
-
-    invoke-static {v0, v1}, Lcom/google/android/mms/pdu/PduParser;->parseWapString(Ljava/io/ByteArrayInputStream;I)[B
-
-    move-result-object v17
-
-    move-object/from16 v0, p1
-
-    move-object/from16 v1, v17
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduPart;->setFilename([B)V
-
-    :cond_f3
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->available()I
-
-    move-result v14
-
-    sub-int v17, v15, v14
-
-    move/from16 v0, v17
-
-    if-ge v0, v8, :cond_10c
-
-    sub-int v17, v15, v14
-
-    sub-int v6, v8, v17
-
-    new-array v10, v6, [B
-
-    const/16 v17, 0x0
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v17
-
-    invoke-virtual {v0, v10, v1, v6}, Ljava/io/ByteArrayInputStream;->read([BII)I
-
-    :cond_10c
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->available()I
-
-    move-result v12
-
-    sub-int v17, v9, v12
-
-    sub-int v7, p2, v17
-
-    goto/16 :goto_2b
-
-    :cond_116
-    const/16 v17, 0x81
-
-    move/from16 v0, v16
-
-    move/from16 v1, v17
-
-    if-ne v0, v1, :cond_128
-
-    sget-object v17, Lcom/google/android/mms/pdu/PduPart;->DISPOSITION_ATTACHMENT:[B
-
-    move-object/from16 v0, p1
-
-    move-object/from16 v1, v17
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduPart;->setContentDisposition([B)V
-
-    goto :goto_cc
-
-    :cond_128
-    const/16 v17, 0x82
-
-    move/from16 v0, v16
-
-    move/from16 v1, v17
-
-    if-ne v0, v1, :cond_13a
-
-    sget-object v17, Lcom/google/android/mms/pdu/PduPart;->DISPOSITION_INLINE:[B
-
-    move-object/from16 v0, p1
-
-    move-object/from16 v1, v17
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduPart;->setContentDisposition([B)V
-
-    goto :goto_cc
-
-    :cond_13a
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->reset()V
-
-    const/16 v17, 0x0
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v17
-
-    invoke-static {v0, v1}, Lcom/google/android/mms/pdu/PduParser;->parseWapString(Ljava/io/ByteArrayInputStream;I)[B
-
-    move-result-object v17
-
-    move-object/from16 v0, p1
-
-    move-object/from16 v1, v17
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduPart;->setContentDisposition([B)V
-
-    goto/16 :goto_cc
-
-    :cond_150
-    const/4 v7, 0x0
-
-    goto/16 :goto_2b
-
-    :cond_153
-    const/16 v17, 0x20
-
-    move/from16 v0, v17
-
-    if-lt v5, v0, :cond_197
-
-    const/16 v17, 0x7f
-
-    move/from16 v0, v17
-
-    if-gt v5, v0, :cond_197
-
-    const/16 v17, 0x0
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v17
-
-    invoke-static {v0, v1}, Lcom/google/android/mms/pdu/PduParser;->parseWapString(Ljava/io/ByteArrayInputStream;I)[B
-
-    move-result-object v11
-
-    const/16 v17, 0x0
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v17
-
-    invoke-static {v0, v1}, Lcom/google/android/mms/pdu/PduParser;->parseWapString(Ljava/io/ByteArrayInputStream;I)[B
-
-    move-result-object v13
-
-    const/16 v17, 0x1
-
-    const-string v18, "Content-Transfer-Encoding"
-
-    new-instance v19, Ljava/lang/String;
-
-    move-object/from16 v0, v19
-
-    invoke-direct {v0, v11}, Ljava/lang/String;-><init>([B)V
-
-    invoke-virtual/range {v18 .. v19}, Ljava/lang/String;->equalsIgnoreCase(Ljava/lang/String;)Z
-
-    move-result v18
-
-    move/from16 v0, v17
-
-    move/from16 v1, v18
-
-    if-ne v0, v1, :cond_18d
-
-    move-object/from16 v0, p1
-
-    invoke-virtual {v0, v13}, Lcom/google/android/mms/pdu/PduPart;->setContentTransferEncoding([B)V
-
-    :cond_18d
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->available()I
-
-    move-result v12
-
-    sub-int v17, v9, v12
-
-    sub-int v7, p2, v17
-
-    goto/16 :goto_2b
-
-    :cond_197
-    const/16 v17, -0x1
-
-    move-object/from16 v0, p0
-
-    invoke-static {v0, v7}, Lcom/google/android/mms/pdu/PduParser;->skipWapValue(Ljava/io/ByteArrayInputStream;I)I
-
-    move-result v18
-
-    move/from16 v0, v17
-
-    move/from16 v1, v18
-
-    if-ne v0, v1, :cond_1b0
-
-    const-string v17, "PduParser"
-
-    const-string v18, "Corrupt Part headers"
-
-    invoke-static/range {v17 .. v18}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
-
-    const/16 v17, 0x0
-
-    goto/16 :goto_63
-
-    :cond_1b0
-    const/4 v7, 0x0
-
-    goto/16 :goto_2b
-
-    :cond_1b3
-    if-eqz v7, :cond_1c0
-
-    const-string v17, "PduParser"
-
-    const-string v18, "Corrupt Part headers"
-
-    invoke-static/range {v17 .. v18}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
-
-    const/16 v17, 0x0
-
-    goto/16 :goto_63
-
-    :cond_1c0
-    const/16 v17, 0x1
-
-    goto/16 :goto_63
-
-    :sswitch_data_1c4
-    .sparse-switch
-        0x8e -> :sswitch_64
-        0xae -> :sswitch_98
-        0xc0 -> :sswitch_7e
-        0xc5 -> :sswitch_98
-    .end sparse-switch
-.end method
-
-.method protected static parseParts(Ljava/io/ByteArrayInputStream;)Lcom/google/android/mms/pdu/PduBody;
-    .registers 24
-
-    if-nez p0, :cond_4
-
-    const/4 v3, 0x0
-
-    :cond_3
-    :goto_3
-    return-object v3
-
-    :cond_4
-    invoke-static/range {p0 .. p0}, Lcom/google/android/mms/pdu/PduParser;->parseUnsignedInt(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v7
-
-    new-instance v3, Lcom/google/android/mms/pdu/PduBody;
-
-    invoke-direct {v3}, Lcom/google/android/mms/pdu/PduBody;-><init>()V
-
-    const/4 v12, 0x0
-
-    :goto_e
-    if-ge v12, v7, :cond_3
-
-    invoke-static/range {p0 .. p0}, Lcom/google/android/mms/pdu/PduParser;->parseUnsignedInt(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v11
-
-    invoke-static/range {p0 .. p0}, Lcom/google/android/mms/pdu/PduParser;->parseUnsignedInt(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v8
-
-    new-instance v15, Lcom/google/android/mms/pdu/PduPart;
-
-    invoke-direct {v15}, Lcom/google/android/mms/pdu/PduPart;-><init>()V
-
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->available()I
-
-    move-result v20
-
-    if-gtz v20, :cond_25
-
-    const/4 v3, 0x0
-
-    goto :goto_3
-
-    :cond_25
-    new-instance v13, Ljava/util/HashMap;
-
-    invoke-direct {v13}, Ljava/util/HashMap;-><init>()V
-
-    move-object/from16 v0, p0
-
-    invoke-static {v0, v13}, Lcom/google/android/mms/pdu/PduParser;->parseContentType(Ljava/io/ByteArrayInputStream;Ljava/util/HashMap;)[B
-
-    move-result-object v6
-
-    if-eqz v6, :cond_7b
-
-    invoke-virtual {v15, v6}, Lcom/google/android/mms/pdu/PduPart;->setContentType([B)V
-
-    :goto_35
-    const/16 v21, 0x97
-
-    invoke-static/range {v21 .. v21}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v21
-
-    move-object/from16 v0, v21
-
-    invoke-virtual {v13, v0}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v21
-
-    check-cast v21, [B
-
-    move-object/from16 v14, v21
-
-    check-cast v14, [B
-
-    if-eqz v14, :cond_4c
-
-    invoke-virtual {v15, v14}, Lcom/google/android/mms/pdu/PduPart;->setName([B)V
-
-    :cond_4c
-    const/16 v21, 0x81
-
-    invoke-static/range {v21 .. v21}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v21
-
-    move-object/from16 v0, v21
-
-    invoke-virtual {v13, v0}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, Ljava/lang/Integer;
-
-    if-eqz v4, :cond_65
-
-    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I
-
-    move-result v21
-
-    move/from16 v0, v21
-
-    invoke-virtual {v15, v0}, Lcom/google/android/mms/pdu/PduPart;->setCharset(I)V
-
-    :cond_65
-    invoke-virtual/range {p0 .. p0}, Ljava/io/ByteArrayInputStream;->available()I
-
-    move-result v10
-
-    sub-int v21, v20, v10
-
-    sub-int v19, v11, v21
-
-    if-lez v19, :cond_8b
-
-    move-object/from16 v0, p0
-
-    move/from16 v1, v19
-
-    invoke-static {v0, v15, v1}, Lcom/google/android/mms/pdu/PduParser;->parsePartHeaders(Ljava/io/ByteArrayInputStream;Lcom/google/android/mms/pdu/PduPart;I)Z
-
-    move-result v21
-
-    if-nez v21, :cond_90
-
-    const/4 v3, 0x0
-
-    goto :goto_3
-
-    :cond_7b
-    sget-object v21, Lcom/google/android/mms/pdu/PduContentTypes;->contentTypes:[Ljava/lang/String;
-
-    const/16 v22, 0x0
-
-    aget-object v21, v21, v22
-
-    invoke-virtual/range {v21 .. v21}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v21
-
-    move-object/from16 v0, v21
-
-    invoke-virtual {v15, v0}, Lcom/google/android/mms/pdu/PduPart;->setContentType([B)V
-
-    goto :goto_35
-
-    :cond_8b
-    if-gez v19, :cond_90
-
-    const/4 v3, 0x0
-
-    goto/16 :goto_3
-
-    :cond_90
-    invoke-virtual {v15}, Lcom/google/android/mms/pdu/PduPart;->getContentLocation()[B
-
-    move-result-object v21
-
-    if-nez v21, :cond_b9
-
-    invoke-virtual {v15}, Lcom/google/android/mms/pdu/PduPart;->getName()[B
-
-    move-result-object v21
-
-    if-nez v21, :cond_b9
-
-    invoke-virtual {v15}, Lcom/google/android/mms/pdu/PduPart;->getFilename()[B
-
-    move-result-object v21
-
-    if-nez v21, :cond_b9
-
-    invoke-virtual {v15}, Lcom/google/android/mms/pdu/PduPart;->getContentId()[B
-
-    move-result-object v21
-
-    if-nez v21, :cond_b9
-
-    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J
-
-    move-result-wide v21
-
-    invoke-static/range {v21 .. v22}, Ljava/lang/Long;->toOctalString(J)Ljava/lang/String;
-
-    move-result-object v21
-
-    invoke-virtual/range {v21 .. v21}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v21
-
-    move-object/from16 v0, v21
-
-    invoke-virtual {v15, v0}, Lcom/google/android/mms/pdu/PduPart;->setContentLocation([B)V
-
-    :cond_b9
-    if-lez v8, :cond_f8
-
-    new-array v0, v8, [B
-
-    move-object/from16 v17, v0
-
-    new-instance v16, Ljava/lang/String;
-
-    invoke-virtual {v15}, Lcom/google/android/mms/pdu/PduPart;->getContentType()[B
-
-    move-result-object v21
-
-    move-object/from16 v0, v16
-
-    move-object/from16 v1, v21
-
-    invoke-direct {v0, v1}, Ljava/lang/String;-><init>([B)V
-
-    const/16 v21, 0x0
-
-    move-object/from16 v0, p0
-
-    move-object/from16 v1, v17
-
-    move/from16 v2, v21
-
-    invoke-virtual {v0, v1, v2, v8}, Ljava/io/ByteArrayInputStream;->read([BII)I
-
-    const-string v21, "application/vnd.wap.multipart.alternative"
-
-    move-object/from16 v0, v16
-
-    move-object/from16 v1, v21
-
-    invoke-virtual {v0, v1}, Ljava/lang/String;->equalsIgnoreCase(Ljava/lang/String;)Z
-
-    move-result v21
-
-    if-eqz v21, :cond_109
-
-    new-instance v21, Ljava/io/ByteArrayInputStream;
-
-    move-object/from16 v0, v21
-
-    move-object/from16 v1, v17
-
-    invoke-direct {v0, v1}, Ljava/io/ByteArrayInputStream;-><init>([B)V
-
-    invoke-static/range {v21 .. v21}, Lcom/google/android/mms/pdu/PduParser;->parseParts(Ljava/io/ByteArrayInputStream;)Lcom/google/android/mms/pdu/PduBody;
-
-    move-result-object v5
-
-    const/16 v21, 0x0
-
-    move/from16 v0, v21
-
-    invoke-virtual {v5, v0}, Lcom/google/android/mms/pdu/PduBody;->getPart(I)Lcom/google/android/mms/pdu/PduPart;
-
-    move-result-object v15
-
-    :cond_f8
-    :goto_f8
-    invoke-static {v15}, Lcom/google/android/mms/pdu/PduParser;->checkPartPosition(Lcom/google/android/mms/pdu/PduPart;)I
-
-    move-result v21
-
-    if-nez v21, :cond_144
-
-    const/16 v21, 0x0
-
-    move/from16 v0, v21
-
-    invoke-virtual {v3, v0, v15}, Lcom/google/android/mms/pdu/PduBody;->addPart(ILcom/google/android/mms/pdu/PduPart;)V
-
-    :goto_105
-    add-int/lit8 v12, v12, 0x1
-
-    goto/16 :goto_e
-
-    :cond_109
-    invoke-virtual {v15}, Lcom/google/android/mms/pdu/PduPart;->getContentTransferEncoding()[B
-
-    move-result-object v18
-
-    if-eqz v18, :cond_124
-
-    new-instance v9, Ljava/lang/String;
-
-    move-object/from16 v0, v18
-
-    invoke-direct {v9, v0}, Ljava/lang/String;-><init>([B)V
-
-    const-string v21, "base64"
-
-    move-object/from16 v0, v21
-
-    invoke-virtual {v9, v0}, Ljava/lang/String;->equalsIgnoreCase(Ljava/lang/String;)Z
-
-    move-result v21
-
-    if-eqz v21, :cond_12e
-
-    invoke-static/range {v17 .. v17}, Lcom/google/android/mms/pdu/Base64;->decodeBase64([B)[B
-
-    move-result-object v17
-
-    :cond_124
-    :goto_124
-    if-nez v17, :cond_13e
-
-    const-string v21, "Decode part data error!"
-
-    invoke-static/range {v21 .. v21}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v3, 0x0
-
-    goto/16 :goto_3
-
-    :cond_12e
-    const-string/jumbo v21, "quoted-printable"
-
-    move-object/from16 v0, v21
-
-    invoke-virtual {v9, v0}, Ljava/lang/String;->equalsIgnoreCase(Ljava/lang/String;)Z
-
-    move-result v21
-
-    if-eqz v21, :cond_124
-
-    invoke-static/range {v17 .. v17}, Lcom/google/android/mms/pdu/QuotedPrintable;->decodeQuotedPrintable([B)[B
-
-    move-result-object v17
-
-    goto :goto_124
-
-    :cond_13e
-    move-object/from16 v0, v17
-
-    invoke-virtual {v15, v0}, Lcom/google/android/mms/pdu/PduPart;->setData([B)V
-
-    goto :goto_f8
-
-    :cond_144
-    invoke-virtual {v3, v15}, Lcom/google/android/mms/pdu/PduBody;->addPart(Lcom/google/android/mms/pdu/PduPart;)Z
-
-    goto :goto_105
-.end method
-
-.method protected static parseShortInteger(Ljava/io/ByteArrayInputStream;)I
-    .registers 3
-
-    sget-boolean v1, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v1, :cond_c
-
-    if-nez p0, :cond_c
-
-    new-instance v1, Ljava/lang/AssertionError;
-
-    invoke-direct {v1}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v1
-
-    :cond_c
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->read()I
-
-    move-result v0
-
-    sget-boolean v1, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v1, :cond_1d
-
-    const/4 v1, -0x1
-
-    if-ne v1, v0, :cond_1d
-
-    new-instance v1, Ljava/lang/AssertionError;
-
-    invoke-direct {v1}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v1
-
-    :cond_1d
-    and-int/lit8 v1, v0, 0x7f
-
-    return v1
-.end method
-
-.method protected static parseUnsignedInt(Ljava/io/ByteArrayInputStream;)I
-    .registers 5
-
-    const/4 v3, -0x1
-
-    sget-boolean v2, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v2, :cond_d
-
-    if-nez p0, :cond_d
-
-    new-instance v2, Ljava/lang/AssertionError;
-
-    invoke-direct {v2}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v2
-
-    :cond_d
-    const/4 v0, 0x0
-
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->read()I
-
-    move-result v1
-
-    if-ne v1, v3, :cond_16
-
-    move v2, v1
-
-    :goto_15
-    return v2
-
-    :cond_16
-    and-int/lit16 v2, v1, 0x80
-
-    if-eqz v2, :cond_27
-
-    shl-int/lit8 v0, v0, 0x7
-
-    and-int/lit8 v2, v1, 0x7f
-
-    or-int/2addr v0, v2
-
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->read()I
-
-    move-result v1
-
-    if-ne v1, v3, :cond_16
-
-    move v2, v1
-
-    goto :goto_15
-
-    :cond_27
-    shl-int/lit8 v0, v0, 0x7
-
-    and-int/lit8 v2, v1, 0x7f
-
-    or-int/2addr v0, v2
-
-    move v2, v0
-
-    goto :goto_15
-.end method
-
-.method protected static parseValueLength(Ljava/io/ByteArrayInputStream;)I
-    .registers 5
-
-    sget-boolean v2, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v2, :cond_c
-
-    if-nez p0, :cond_c
-
-    new-instance v2, Ljava/lang/AssertionError;
-
-    invoke-direct {v2}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v2
-
-    :cond_c
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->read()I
-
-    move-result v1
-
-    sget-boolean v2, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v2, :cond_1d
-
-    const/4 v2, -0x1
-
-    if-ne v2, v1, :cond_1d
-
-    new-instance v2, Ljava/lang/AssertionError;
-
-    invoke-direct {v2}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v2
-
-    :cond_1d
-    and-int/lit16 v0, v1, 0xff
-
-    const/16 v2, 0x1e
-
-    if-gt v0, v2, :cond_24
-
-    :goto_23
-    return v0
-
-    :cond_24
-    const/16 v2, 0x1f
-
-    if-ne v0, v2, :cond_2d
-
-    invoke-static {p0}, Lcom/google/android/mms/pdu/PduParser;->parseUnsignedInt(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v0
-
-    goto :goto_23
-
-    :cond_2d
-    new-instance v2, Ljava/lang/RuntimeException;
-
-    const-string v3, "Value length > LENGTH_QUOTE!"
-
-    invoke-direct {v2, v3}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
-
-    throw v2
-.end method
-
-.method protected static parseWapString(Ljava/io/ByteArrayInputStream;I)[B
-    .registers 5
-
-    const/4 v2, 0x1
-
-    sget-boolean v1, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v1, :cond_d
-
-    if-nez p0, :cond_d
-
-    new-instance v1, Ljava/lang/AssertionError;
-
-    invoke-direct {v1}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v1
-
-    :cond_d
-    invoke-virtual {p0, v2}, Ljava/io/ByteArrayInputStream;->mark(I)V
-
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->read()I
-
-    move-result v0
-
-    sget-boolean v1, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v1, :cond_21
-
-    const/4 v1, -0x1
-
-    if-ne v1, v0, :cond_21
-
-    new-instance v1, Ljava/lang/AssertionError;
-
-    invoke-direct {v1}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v1
-
-    :cond_21
-    if-ne v2, p1, :cond_2f
-
-    const/16 v1, 0x22
-
-    if-ne v1, v0, :cond_2f
-
-    invoke-virtual {p0, v2}, Ljava/io/ByteArrayInputStream;->mark(I)V
-
-    :goto_2a
-    invoke-static {p0, p1}, Lcom/google/android/mms/pdu/PduParser;->getWapString(Ljava/io/ByteArrayInputStream;I)[B
-
-    move-result-object v1
-
-    return-object v1
-
-    :cond_2f
-    if-nez p1, :cond_39
-
-    const/16 v1, 0x7f
-
-    if-ne v1, v0, :cond_39
-
-    invoke-virtual {p0, v2}, Ljava/io/ByteArrayInputStream;->mark(I)V
-
-    goto :goto_2a
-
-    :cond_39
-    invoke-virtual {p0}, Ljava/io/ByteArrayInputStream;->reset()V
-
-    goto :goto_2a
-.end method
-
-.method protected static skipWapValue(Ljava/io/ByteArrayInputStream;I)I
-    .registers 5
-
-    sget-boolean v2, Lcom/google/android/mms/pdu/PduParser;->$assertionsDisabled:Z
-
-    if-nez v2, :cond_c
-
-    if-nez p0, :cond_c
-
-    new-instance v2, Ljava/lang/AssertionError;
-
-    invoke-direct {v2}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v2
-
-    :cond_c
-    new-array v0, p1, [B
-
-    const/4 v2, 0x0
-
-    invoke-virtual {p0, v0, v2, p1}, Ljava/io/ByteArrayInputStream;->read([BII)I
-
-    move-result v1
-
-    if-ge v1, p1, :cond_16
-
-    const/4 v1, -0x1
-
-    :cond_16
-    return v1
-.end method
-
-
-# virtual methods
-.method public parse()Lcom/google/android/mms/pdu/GenericPdu;
-    .registers 16
-
-    iget-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mPduDataStream:Ljava/io/ByteArrayInputStream;
-
-    if-nez v13, :cond_6
-
-    const/4 v10, 0x0
-
-    :cond_5
-    :goto_5
-    return-object v10
-
-    :cond_6
-    iget-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mPduDataStream:Ljava/io/ByteArrayInputStream;
-
-    invoke-virtual {p0, v13}, Lcom/google/android/mms/pdu/PduParser;->parseHeaders(Ljava/io/ByteArrayInputStream;)Lcom/google/android/mms/pdu/PduHeaders;
-
-    move-result-object v13
-
-    iput-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    iget-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    if-nez v13, :cond_14
-
-    const/4 v10, 0x0
-
-    goto :goto_5
-
-    :cond_14
-    iget-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v14, 0x8c
-
-    invoke-virtual {v13, v14}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v5
-
-    iget-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    invoke-static {v13}, Lcom/google/android/mms/pdu/PduParser;->checkMandatoryHeader(Lcom/google/android/mms/pdu/PduHeaders;)Z
-
-    move-result v13
-
-    if-nez v13, :cond_2b
-
-    const-string v13, "check mandatory headers failed!"
-
-    invoke-static {v13}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v10, 0x0
-
-    goto :goto_5
-
-    :cond_2b
-    const/16 v13, 0x80
-
-    if-eq v13, v5, :cond_33
-
-    const/16 v13, 0x84
-
-    if-ne v13, v5, :cond_41
-
-    :cond_33
-    iget-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mPduDataStream:Ljava/io/ByteArrayInputStream;
-
-    invoke-static {v13}, Lcom/google/android/mms/pdu/PduParser;->parseParts(Ljava/io/ByteArrayInputStream;)Lcom/google/android/mms/pdu/PduBody;
-
-    move-result-object v13
-
-    iput-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mBody:Lcom/google/android/mms/pdu/PduBody;
-
-    iget-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mBody:Lcom/google/android/mms/pdu/PduBody;
-
-    if-nez v13, :cond_41
-
-    const/4 v10, 0x0
-
-    goto :goto_5
-
-    :cond_41
-    packed-switch v5, :pswitch_data_e6
-
-    const-string v13, "Parser doesn\'t support this message type in this version!"
-
-    invoke-static {v13}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v10, 0x0
-
-    goto :goto_5
-
-    :pswitch_4b
-    new-instance v12, Lcom/google/android/mms/pdu/SendReq;
-
-    iget-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    iget-object v14, p0, Lcom/google/android/mms/pdu/PduParser;->mBody:Lcom/google/android/mms/pdu/PduBody;
-
-    invoke-direct {v12, v13, v14}, Lcom/google/android/mms/pdu/SendReq;-><init>(Lcom/google/android/mms/pdu/PduHeaders;Lcom/google/android/mms/pdu/PduBody;)V
-
-    move-object v10, v12
-
-    goto :goto_5
-
-    :pswitch_56
-    new-instance v11, Lcom/google/android/mms/pdu/SendConf;
-
-    iget-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    invoke-direct {v11, v13}, Lcom/google/android/mms/pdu/SendConf;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    move-object v10, v11
-
-    goto :goto_5
-
-    :pswitch_5f
-    new-instance v6, Lcom/google/android/mms/pdu/NotificationInd;
-
-    iget-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    invoke-direct {v6, v13}, Lcom/google/android/mms/pdu/NotificationInd;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    move-object v10, v6
-
-    goto :goto_5
-
-    :pswitch_68
-    new-instance v7, Lcom/google/android/mms/pdu/NotifyRespInd;
-
-    iget-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    invoke-direct {v7, v13}, Lcom/google/android/mms/pdu/NotifyRespInd;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    move-object v10, v7
-
-    goto :goto_5
-
-    :pswitch_71
-    new-instance v10, Lcom/google/android/mms/pdu/RetrieveConf;
-
-    iget-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    iget-object v14, p0, Lcom/google/android/mms/pdu/PduParser;->mBody:Lcom/google/android/mms/pdu/PduBody;
-
-    invoke-direct {v10, v13, v14}, Lcom/google/android/mms/pdu/RetrieveConf;-><init>(Lcom/google/android/mms/pdu/PduHeaders;Lcom/google/android/mms/pdu/PduBody;)V
-
-    invoke-virtual {v10}, Lcom/google/android/mms/pdu/RetrieveConf;->getContentType()[B
-
-    move-result-object v1
-
-    if-nez v1, :cond_82
-
-    const/4 v10, 0x0
-
-    goto :goto_5
-
-    :cond_82
-    new-instance v2, Ljava/lang/String;
-
-    invoke-direct {v2, v1}, Ljava/lang/String;-><init>([B)V
-
-    const-string v13, "application/vnd.wap.multipart.mixed"
-
-    invoke-virtual {v2, v13}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v13
-
-    if-nez v13, :cond_5
-
-    const-string v13, "application/vnd.wap.multipart.related"
-
-    invoke-virtual {v2, v13}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v13
-
-    if-nez v13, :cond_5
-
-    const-string v13, "application/vnd.wap.multipart.alternative"
-
-    invoke-virtual {v2, v13}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v13
-
-    if-nez v13, :cond_5
-
-    const-string v13, "application/vnd.wap.multipart.alternative"
-
-    invoke-virtual {v2, v13}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v13
-
-    if-eqz v13, :cond_bb
-
-    iget-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mBody:Lcom/google/android/mms/pdu/PduBody;
-
-    const/4 v14, 0x0
-
-    invoke-virtual {v13, v14}, Lcom/google/android/mms/pdu/PduBody;->getPart(I)Lcom/google/android/mms/pdu/PduPart;
-
-    move-result-object v4
-
-    iget-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mBody:Lcom/google/android/mms/pdu/PduBody;
-
-    invoke-virtual {v13}, Lcom/google/android/mms/pdu/PduBody;->removeAll()V
-
-    iget-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mBody:Lcom/google/android/mms/pdu/PduBody;
-
-    const/4 v14, 0x0
-
-    invoke-virtual {v13, v14, v4}, Lcom/google/android/mms/pdu/PduBody;->addPart(ILcom/google/android/mms/pdu/PduPart;)V
-
-    goto/16 :goto_5
-
-    :cond_bb
-    const/4 v10, 0x0
-
-    goto/16 :goto_5
-
-    :pswitch_be
-    new-instance v3, Lcom/google/android/mms/pdu/DeliveryInd;
-
-    iget-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    invoke-direct {v3, v13}, Lcom/google/android/mms/pdu/DeliveryInd;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    move-object v10, v3
-
-    goto/16 :goto_5
-
-    :pswitch_c8
-    new-instance v0, Lcom/google/android/mms/pdu/AcknowledgeInd;
-
-    iget-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    invoke-direct {v0, v13}, Lcom/google/android/mms/pdu/AcknowledgeInd;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    move-object v10, v0
-
-    goto/16 :goto_5
-
-    :pswitch_d2
-    new-instance v8, Lcom/google/android/mms/pdu/ReadOrigInd;
-
-    iget-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    invoke-direct {v8, v13}, Lcom/google/android/mms/pdu/ReadOrigInd;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    move-object v10, v8
-
-    goto/16 :goto_5
-
-    :pswitch_dc
-    new-instance v9, Lcom/google/android/mms/pdu/ReadRecInd;
-
-    iget-object v13, p0, Lcom/google/android/mms/pdu/PduParser;->mHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    invoke-direct {v9, v13}, Lcom/google/android/mms/pdu/ReadRecInd;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    move-object v10, v9
-
-    goto/16 :goto_5
-
-    :pswitch_data_e6
-    .packed-switch 0x80
-        :pswitch_4b
-        :pswitch_56
-        :pswitch_5f
-        :pswitch_68
-        :pswitch_71
-        :pswitch_c8
-        :pswitch_be
-        :pswitch_dc
-        :pswitch_d2
-    .end packed-switch
-.end method
-
-.method protected parseHeaders(Ljava/io/ByteArrayInputStream;)Lcom/google/android/mms/pdu/PduHeaders;
-    .registers 33
-
-    if-nez p1, :cond_4
-
-    const/4 v11, 0x0
-
-    :cond_3
-    :goto_3
-    return-object v11
-
-    :cond_4
-    const/4 v12, 0x1
-
-    new-instance v11, Lcom/google/android/mms/pdu/PduHeaders;
-
-    invoke-direct {v11}, Lcom/google/android/mms/pdu/PduHeaders;-><init>()V
-
-    :cond_a
-    :goto_a
-    if-eqz v12, :cond_3
-
-    invoke-virtual/range {p1 .. p1}, Ljava/io/ByteArrayInputStream;->available()I
-
-    move-result v27
-
-    if-lez v27, :cond_3
-
-    const/16 v27, 0x1
-
-    move-object/from16 v0, p1
-
-    move/from16 v1, v27
-
-    invoke-virtual {v0, v1}, Ljava/io/ByteArrayInputStream;->mark(I)V
-
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->extractByteValue(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v10
-
-    const/16 v27, 0x20
-
-    move/from16 v0, v27
-
-    if-lt v10, v0, :cond_39
-
-    const/16 v27, 0x7f
-
-    move/from16 v0, v27
-
-    if-gt v10, v0, :cond_39
-
-    invoke-virtual/range {p1 .. p1}, Ljava/io/ByteArrayInputStream;->reset()V
-
-    const/16 v27, 0x0
-
-    move-object/from16 v0, p1
-
-    move/from16 v1, v27
-
-    invoke-static {v0, v1}, Lcom/google/android/mms/pdu/PduParser;->parseWapString(Ljava/io/ByteArrayInputStream;I)[B
-
-    move-result-object v4
-
-    goto :goto_a
-
-    :cond_39
-    packed-switch v10, :pswitch_data_570
-
-    :pswitch_3c
-    const-string v27, "Unknown header"
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    goto :goto_a
-
-    :pswitch_42
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->extractByteValue(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v16
-
-    packed-switch v16, :pswitch_data_5f2
-
-    :try_start_49
-    move/from16 v0, v16
-
-    invoke-virtual {v11, v0, v10}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-    :try_end_4e
-    .catch Lcom/google/android/mms/InvalidHeaderValueException; {:try_start_49 .. :try_end_4e} :catch_4f
-    .catch Ljava/lang/RuntimeException; {:try_start_49 .. :try_end_4e} :catch_7a
-
-    goto :goto_a
-
-    :catch_4f
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v28, "Set invalid Octet value: "
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    move-object/from16 v0, v27
-
-    move/from16 v1, v16
-
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, " into the header filed: "
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto :goto_3
-
-    :pswitch_78
-    const/4 v11, 0x0
-
-    goto :goto_3
-
-    :catch_7a
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, "is not Octet header field!"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :pswitch_96
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->extractByteValue(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v24
-
-    :try_start_9a
-    move/from16 v0, v24
-
-    invoke-virtual {v11, v0, v10}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-    :try_end_9f
-    .catch Lcom/google/android/mms/InvalidHeaderValueException; {:try_start_9a .. :try_end_9f} :catch_a1
-    .catch Ljava/lang/RuntimeException; {:try_start_9a .. :try_end_9f} :catch_cb
-
-    goto/16 :goto_a
-
-    :catch_a1
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v28, "Set invalid Octet value: "
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    move-object/from16 v0, v27
-
-    move/from16 v1, v24
-
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, " into the header filed: "
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :catch_cb
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, "is not Octet header field!"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :pswitch_e7
-    :try_start_e7
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->parseLongInteger(Ljava/io/ByteArrayInputStream;)J
-
-    move-result-wide v24
-
-    move-wide/from16 v0, v24
-
-    invoke-virtual {v11, v0, v1, v10}, Lcom/google/android/mms/pdu/PduHeaders;->setLongInteger(JI)V
-    :try_end_f0
-    .catch Ljava/lang/RuntimeException; {:try_start_e7 .. :try_end_f0} :catch_f2
-
-    goto/16 :goto_a
-
-    :catch_f2
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, "is not Long-Integer header field!"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :pswitch_10e
-    :try_start_10e
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->parseIntegerValue(Ljava/io/ByteArrayInputStream;)J
-
-    move-result-wide v24
-
-    move-wide/from16 v0, v24
-
-    invoke-virtual {v11, v0, v1, v10}, Lcom/google/android/mms/pdu/PduHeaders;->setLongInteger(JI)V
-    :try_end_117
-    .catch Ljava/lang/RuntimeException; {:try_start_10e .. :try_end_117} :catch_119
-
-    goto/16 :goto_a
-
-    :catch_119
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, "is not Long-Integer header field!"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :pswitch_135
-    const/16 v27, 0x0
-
-    move-object/from16 v0, p1
-
-    move/from16 v1, v27
-
-    invoke-static {v0, v1}, Lcom/google/android/mms/pdu/PduParser;->parseWapString(Ljava/io/ByteArrayInputStream;I)[B
-
-    move-result-object v24
-
-    if-eqz v24, :cond_a
-
-    :try_start_141
-    move-object/from16 v0, v24
-
-    invoke-virtual {v11, v0, v10}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-    :try_end_146
-    .catch Ljava/lang/NullPointerException; {:try_start_141 .. :try_end_146} :catch_148
-    .catch Ljava/lang/RuntimeException; {:try_start_141 .. :try_end_146} :catch_151
-
-    goto/16 :goto_a
-
-    :catch_148
-    move-exception v6
-
-    const-string/jumbo v27, "null pointer error!"
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    goto/16 :goto_a
-
-    :catch_151
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, "is not Text-String header field!"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :pswitch_16d
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->parseEncodedStringValue(Ljava/io/ByteArrayInputStream;)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v24
-
-    if-eqz v24, :cond_a
-
-    :try_start_173
-    move-object/from16 v0, v24
-
-    invoke-virtual {v11, v0, v10}, Lcom/google/android/mms/pdu/PduHeaders;->setEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-    :try_end_178
-    .catch Ljava/lang/NullPointerException; {:try_start_173 .. :try_end_178} :catch_17a
-    .catch Ljava/lang/RuntimeException; {:try_start_173 .. :try_end_178} :catch_183
-
-    goto/16 :goto_a
-
-    :catch_17a
-    move-exception v6
-
-    const-string/jumbo v27, "null pointer error!"
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    goto/16 :goto_a
-
-    :catch_183
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, "is not Encoded-String-Value header field!"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :pswitch_19f
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->parseEncodedStringValue(Ljava/io/ByteArrayInputStream;)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v24
-
-    if-eqz v24, :cond_a
-
-    invoke-virtual/range {v24 .. v24}, Lcom/google/android/mms/pdu/EncodedStringValue;->getTextString()[B
-
-    move-result-object v3
-
-    if-eqz v3, :cond_1d3
-
-    new-instance v20, Ljava/lang/String;
-
-    move-object/from16 v0, v20
-
-    invoke-direct {v0, v3}, Ljava/lang/String;-><init>([B)V
-
-    const-string v27, "/"
-
-    move-object/from16 v0, v20
-
-    move-object/from16 v1, v27
-
-    invoke-virtual {v0, v1}, Ljava/lang/String;->indexOf(Ljava/lang/String;)I
-
-    move-result v7
-
-    if-lez v7, :cond_1c8
-
-    const/16 v27, 0x0
-
-    move-object/from16 v0, v20
-
-    move/from16 v1, v27
-
-    invoke-virtual {v0, v1, v7}, Ljava/lang/String;->substring(II)Ljava/lang/String;
-
-    move-result-object v20
-
-    :cond_1c8
-    :try_start_1c8
-    invoke-virtual/range {v20 .. v20}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v27
-
-    move-object/from16 v0, v24
-
-    move-object/from16 v1, v27
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/EncodedStringValue;->setTextString([B)V
-    :try_end_1d3
-    .catch Ljava/lang/NullPointerException; {:try_start_1c8 .. :try_end_1d3} :catch_1e3
-
-    :cond_1d3
-    :try_start_1d3
-    move-object/from16 v0, v24
-
-    invoke-virtual {v11, v0, v10}, Lcom/google/android/mms/pdu/PduHeaders;->appendEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-    :try_end_1d8
-    .catch Ljava/lang/NullPointerException; {:try_start_1d3 .. :try_end_1d8} :catch_1da
-    .catch Ljava/lang/RuntimeException; {:try_start_1d3 .. :try_end_1d8} :catch_1ed
-
-    goto/16 :goto_a
-
-    :catch_1da
-    move-exception v6
-
-    const-string/jumbo v27, "null pointer error!"
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    goto/16 :goto_a
-
-    :catch_1e3
-    move-exception v6
-
-    const-string/jumbo v27, "null pointer error!"
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :catch_1ed
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, "is not Encoded-String-Value header field!"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :pswitch_209
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->parseValueLength(Ljava/io/ByteArrayInputStream;)I
-
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->extractByteValue(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v23
-
-    :try_start_210
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->parseLongInteger(Ljava/io/ByteArrayInputStream;)J
-    :try_end_213
-    .catch Ljava/lang/RuntimeException; {:try_start_210 .. :try_end_213} :catch_249
-
-    move-result-wide v21
-
-    const/16 v27, 0x81
-
-    move/from16 v0, v27
-
-    move/from16 v1, v23
-
-    if-ne v0, v1, :cond_226
-
-    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J
-
-    move-result-wide v27
-
-    const-wide/16 v29, 0x3e8
-
-    div-long v27, v27, v29
-
-    add-long v21, v21, v27
-
-    :cond_226
-    :try_start_226
-    move-wide/from16 v0, v21
-
-    invoke-virtual {v11, v0, v1, v10}, Lcom/google/android/mms/pdu/PduHeaders;->setLongInteger(JI)V
-    :try_end_22b
-    .catch Ljava/lang/RuntimeException; {:try_start_226 .. :try_end_22b} :catch_22d
-
-    goto/16 :goto_a
-
-    :catch_22d
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, "is not Long-Integer header field!"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :catch_249
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, "is not Long-Integer header field!"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :pswitch_265
-    const/4 v8, 0x0
-
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->parseValueLength(Ljava/io/ByteArrayInputStream;)I
-
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->extractByteValue(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v9
-
-    const/16 v27, 0x80
-
-    move/from16 v0, v27
-
-    if-ne v0, v9, :cond_2c1
-
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->parseEncodedStringValue(Ljava/io/ByteArrayInputStream;)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v8
-
-    if-eqz v8, :cond_2a5
-
-    invoke-virtual {v8}, Lcom/google/android/mms/pdu/EncodedStringValue;->getTextString()[B
-
-    move-result-object v3
-
-    if-eqz v3, :cond_2a5
-
-    new-instance v20, Ljava/lang/String;
-
-    move-object/from16 v0, v20
-
-    invoke-direct {v0, v3}, Ljava/lang/String;-><init>([B)V
-
-    const-string v27, "/"
-
-    move-object/from16 v0, v20
-
-    move-object/from16 v1, v27
-
-    invoke-virtual {v0, v1}, Ljava/lang/String;->indexOf(Ljava/lang/String;)I
-
-    move-result v7
-
-    if-lez v7, :cond_29c
-
-    const/16 v27, 0x0
-
-    move-object/from16 v0, v20
-
-    move/from16 v1, v27
-
-    invoke-virtual {v0, v1, v7}, Ljava/lang/String;->substring(II)Ljava/lang/String;
-
-    move-result-object v20
-
-    :cond_29c
-    :try_start_29c
-    invoke-virtual/range {v20 .. v20}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v27
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v8, v0}, Lcom/google/android/mms/pdu/EncodedStringValue;->setTextString([B)V
-    :try_end_2a5
-    .catch Ljava/lang/NullPointerException; {:try_start_29c .. :try_end_2a5} :catch_2b7
-
-    :cond_2a5
-    :goto_2a5
-    const/16 v27, 0x89
-
-    :try_start_2a7
-    move/from16 v0, v27
-
-    invoke-virtual {v11, v8, v0}, Lcom/google/android/mms/pdu/PduHeaders;->setEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-    :try_end_2ac
-    .catch Ljava/lang/NullPointerException; {:try_start_2a7 .. :try_end_2ac} :catch_2ae
-    .catch Ljava/lang/RuntimeException; {:try_start_2a7 .. :try_end_2ac} :catch_2eb
-
-    goto/16 :goto_a
-
-    :catch_2ae
-    move-exception v6
-
-    const-string/jumbo v27, "null pointer error!"
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    goto/16 :goto_a
-
-    :catch_2b7
-    move-exception v6
-
-    const-string/jumbo v27, "null pointer error!"
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :cond_2c1
-    :try_start_2c1
-    new-instance v8, Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    const-string v27, "insert-address-token"
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v27
-
-    move-object/from16 v0, v27
-
-    invoke-direct {v8, v0}, Lcom/google/android/mms/pdu/EncodedStringValue;-><init>([B)V
-    :try_end_2ce
-    .catch Ljava/lang/NullPointerException; {:try_start_2c1 .. :try_end_2ce} :catch_2cf
-
-    goto :goto_2a5
-
-    :catch_2cf
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, "is not Encoded-String-Value header field!"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :catch_2eb
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, "is not Encoded-String-Value header field!"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :pswitch_307
-    const/16 v27, 0x1
-
-    move-object/from16 v0, p1
-
-    move/from16 v1, v27
-
-    invoke-virtual {v0, v1}, Ljava/io/ByteArrayInputStream;->mark(I)V
-
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->extractByteValue(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v14
-
-    const/16 v27, 0x80
-
-    move/from16 v0, v27
-
-    if-lt v14, v0, :cond_39c
-
-    const/16 v27, 0x80
-
-    move/from16 v0, v27
-
-    if-ne v0, v14, :cond_33b
-
-    :try_start_320
-    const-string/jumbo v27, "personal"
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v27
-
-    const/16 v28, 0x8a
-
-    move-object/from16 v0, v27
-
-    move/from16 v1, v28
-
-    invoke-virtual {v11, v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-    :try_end_330
-    .catch Ljava/lang/NullPointerException; {:try_start_320 .. :try_end_330} :catch_332
-    .catch Ljava/lang/RuntimeException; {:try_start_320 .. :try_end_330} :catch_352
-
-    goto/16 :goto_a
-
-    :catch_332
-    move-exception v6
-
-    const-string/jumbo v27, "null pointer error!"
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    goto/16 :goto_a
-
-    :cond_33b
-    const/16 v27, 0x81
-
-    move/from16 v0, v27
-
-    if-ne v0, v14, :cond_36e
-
-    :try_start_341
-    const-string v27, "advertisement"
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v27
-
-    const/16 v28, 0x8a
-
-    move-object/from16 v0, v27
-
-    move/from16 v1, v28
-
-    invoke-virtual {v11, v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-    :try_end_350
-    .catch Ljava/lang/NullPointerException; {:try_start_341 .. :try_end_350} :catch_332
-    .catch Ljava/lang/RuntimeException; {:try_start_341 .. :try_end_350} :catch_352
-
-    goto/16 :goto_a
-
-    :catch_352
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, "is not Text-String header field!"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :cond_36e
-    const/16 v27, 0x82
-
-    move/from16 v0, v27
-
-    if-ne v0, v14, :cond_385
-
-    :try_start_374
-    const-string v27, "informational"
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v27
-
-    const/16 v28, 0x8a
-
-    move-object/from16 v0, v27
-
-    move/from16 v1, v28
-
-    invoke-virtual {v11, v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-
-    goto/16 :goto_a
-
-    :cond_385
-    const/16 v27, 0x83
-
-    move/from16 v0, v27
-
-    if-ne v0, v14, :cond_a
-
-    const-string v27, "auto"
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v27
-
-    const/16 v28, 0x8a
-
-    move-object/from16 v0, v27
-
-    move/from16 v1, v28
-
-    invoke-virtual {v11, v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-    :try_end_39a
-    .catch Ljava/lang/NullPointerException; {:try_start_374 .. :try_end_39a} :catch_332
-    .catch Ljava/lang/RuntimeException; {:try_start_374 .. :try_end_39a} :catch_352
-
-    goto/16 :goto_a
-
-    :cond_39c
-    invoke-virtual/range {p1 .. p1}, Ljava/io/ByteArrayInputStream;->reset()V
-
-    const/16 v27, 0x0
-
-    move-object/from16 v0, p1
-
-    move/from16 v1, v27
-
-    invoke-static {v0, v1}, Lcom/google/android/mms/pdu/PduParser;->parseWapString(Ljava/io/ByteArrayInputStream;I)[B
-
-    move-result-object v15
-
-    if-eqz v15, :cond_a
-
-    const/16 v27, 0x8a
-
-    :try_start_3ad
-    move/from16 v0, v27
-
-    invoke-virtual {v11, v15, v0}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-    :try_end_3b2
-    .catch Ljava/lang/NullPointerException; {:try_start_3ad .. :try_end_3b2} :catch_3b4
-    .catch Ljava/lang/RuntimeException; {:try_start_3ad .. :try_end_3b2} :catch_3bd
-
-    goto/16 :goto_a
-
-    :catch_3b4
-    move-exception v6
-
-    const-string/jumbo v27, "null pointer error!"
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    goto/16 :goto_a
-
-    :catch_3bd
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, "is not Text-String header field!"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :pswitch_3d9
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->parseShortInteger(Ljava/io/ByteArrayInputStream;)I
-
-    move-result v26
-
-    const/16 v27, 0x8d
-
-    :try_start_3df
-    move/from16 v0, v26
-
-    move/from16 v1, v27
-
-    invoke-virtual {v11, v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-    :try_end_3e6
-    .catch Lcom/google/android/mms/InvalidHeaderValueException; {:try_start_3df .. :try_end_3e6} :catch_3e8
-    .catch Ljava/lang/RuntimeException; {:try_start_3df .. :try_end_3e6} :catch_412
-
-    goto/16 :goto_a
-
-    :catch_3e8
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v28, "Set invalid Octet value: "
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    move-object/from16 v0, v27
-
-    move/from16 v1, v26
-
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, " into the header filed: "
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :catch_412
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, "is not Octet header field!"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :pswitch_42e
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->parseValueLength(Ljava/io/ByteArrayInputStream;)I
-
-    :try_start_431
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->parseIntegerValue(Ljava/io/ByteArrayInputStream;)J
-    :try_end_434
-    .catch Ljava/lang/RuntimeException; {:try_start_431 .. :try_end_434} :catch_44e
-
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->parseEncodedStringValue(Ljava/io/ByteArrayInputStream;)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v19
-
-    if-eqz v19, :cond_a
-
-    const/16 v27, 0xa0
-
-    :try_start_43c
-    move-object/from16 v0, v19
-
-    move/from16 v1, v27
-
-    invoke-virtual {v11, v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-    :try_end_443
-    .catch Ljava/lang/NullPointerException; {:try_start_43c .. :try_end_443} :catch_445
-    .catch Ljava/lang/RuntimeException; {:try_start_43c .. :try_end_443} :catch_46a
-
-    goto/16 :goto_a
-
-    :catch_445
-    move-exception v6
-
-    const-string/jumbo v27, "null pointer error!"
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    goto/16 :goto_a
-
-    :catch_44e
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, " is not Integer-Value"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :catch_46a
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, "is not Encoded-String-Value header field!"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :pswitch_486
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->parseValueLength(Ljava/io/ByteArrayInputStream;)I
-
-    :try_start_489
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->parseIntegerValue(Ljava/io/ByteArrayInputStream;)J
-    :try_end_48c
-    .catch Ljava/lang/RuntimeException; {:try_start_489 .. :try_end_48c} :catch_4b7
-
-    :try_start_48c
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->parseLongInteger(Ljava/io/ByteArrayInputStream;)J
-
-    move-result-wide v17
-
-    const/16 v27, 0xa1
-
-    move-wide/from16 v0, v17
-
-    move/from16 v2, v27
-
-    invoke-virtual {v11, v0, v1, v2}, Lcom/google/android/mms/pdu/PduHeaders;->setLongInteger(JI)V
-    :try_end_499
-    .catch Ljava/lang/RuntimeException; {:try_start_48c .. :try_end_499} :catch_49b
-
-    goto/16 :goto_a
-
-    :catch_49b
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, "is not Long-Integer header field!"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :catch_4b7
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, " is not Integer-Value"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :pswitch_4d3
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->parseValueLength(Ljava/io/ByteArrayInputStream;)I
-
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->extractByteValue(Ljava/io/ByteArrayInputStream;)I
-
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->parseEncodedStringValue(Ljava/io/ByteArrayInputStream;)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    goto/16 :goto_a
-
-    :pswitch_4de
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->parseValueLength(Ljava/io/ByteArrayInputStream;)I
-
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->extractByteValue(Ljava/io/ByteArrayInputStream;)I
-
-    :try_start_4e4
-    invoke-static/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduParser;->parseIntegerValue(Ljava/io/ByteArrayInputStream;)J
-    :try_end_4e7
-    .catch Ljava/lang/RuntimeException; {:try_start_4e4 .. :try_end_4e7} :catch_4e9
-
-    goto/16 :goto_a
-
-    :catch_4e9
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, " is not Integer-Value"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    :pswitch_505
-    const/16 v27, 0x0
-
-    move-object/from16 v0, p1
-
-    move-object/from16 v1, v27
-
-    invoke-static {v0, v1}, Lcom/google/android/mms/pdu/PduParser;->parseContentType(Ljava/io/ByteArrayInputStream;Ljava/util/HashMap;)[B
-
-    goto/16 :goto_a
-
-    :pswitch_510
-    new-instance v13, Ljava/util/HashMap;
-
-    invoke-direct {v13}, Ljava/util/HashMap;-><init>()V
-
-    move-object/from16 v0, p1
-
-    invoke-static {v0, v13}, Lcom/google/android/mms/pdu/PduParser;->parseContentType(Ljava/io/ByteArrayInputStream;Ljava/util/HashMap;)[B
-
-    move-result-object v5
-
-    if-eqz v5, :cond_524
-
-    const/16 v27, 0x84
-
-    :try_start_51f
-    move/from16 v0, v27
-
-    invoke-virtual {v11, v5, v0}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-    :try_end_524
-    .catch Ljava/lang/NullPointerException; {:try_start_51f .. :try_end_524} :catch_54b
-    .catch Ljava/lang/RuntimeException; {:try_start_51f .. :try_end_524} :catch_553
-
-    :cond_524
-    :goto_524
-    const/16 v27, 0x99
-
-    invoke-static/range {v27 .. v27}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v27
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v13, v0}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v27
-
-    check-cast v27, [B
-
-    check-cast v27, [B
-
-    sput-object v27, Lcom/google/android/mms/pdu/PduParser;->mStartParam:[B
-
-    const/16 v27, 0x83
-
-    invoke-static/range {v27 .. v27}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v27
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v13, v0}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v27
-
-    check-cast v27, [B
-
-    check-cast v27, [B
-
-    sput-object v27, Lcom/google/android/mms/pdu/PduParser;->mTypeParam:[B
-
-    const/4 v12, 0x0
-
-    goto/16 :goto_a
-
-    :catch_54b
-    move-exception v6
-
-    const-string/jumbo v27, "null pointer error!"
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    goto :goto_524
-
-    :catch_553
-    move-exception v6
-
-    new-instance v27, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v27 .. v27}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, v27
-
-    invoke-virtual {v0, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    const-string v28, "is not Text-String header field!"
-
-    invoke-virtual/range {v27 .. v28}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v27
-
-    invoke-virtual/range {v27 .. v27}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v27
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduParser;->log(Ljava/lang/String;)V
-
-    const/4 v11, 0x0
-
-    goto/16 :goto_3
-
-    nop
-
-    :pswitch_data_570
-    .packed-switch 0x81
-        :pswitch_19f
-        :pswitch_19f
-        :pswitch_135
-        :pswitch_510
-        :pswitch_e7
-        :pswitch_96
-        :pswitch_209
-        :pswitch_209
-        :pswitch_265
-        :pswitch_307
-        :pswitch_135
-        :pswitch_42
-        :pswitch_3d9
-        :pswitch_e7
-        :pswitch_96
-        :pswitch_96
-        :pswitch_96
-        :pswitch_96
-        :pswitch_16d
-        :pswitch_96
-        :pswitch_96
-        :pswitch_16d
-        :pswitch_19f
-        :pswitch_135
-        :pswitch_96
-        :pswitch_16d
-        :pswitch_96
-        :pswitch_96
-        :pswitch_209
-        :pswitch_135
-        :pswitch_e7
-        :pswitch_42e
-        :pswitch_486
-        :pswitch_96
-        :pswitch_96
-        :pswitch_4d3
-        :pswitch_96
-        :pswitch_16d
-        :pswitch_96
-        :pswitch_3c
-        :pswitch_96
-        :pswitch_4de
-        :pswitch_96
-        :pswitch_4de
-        :pswitch_10e
-        :pswitch_3c
-        :pswitch_10e
-        :pswitch_3c
-        :pswitch_96
-        :pswitch_505
-        :pswitch_10e
-        :pswitch_96
-        :pswitch_16d
-        :pswitch_16d
-        :pswitch_135
-        :pswitch_135
-        :pswitch_135
-        :pswitch_96
-        :pswitch_96
-        :pswitch_96
-        :pswitch_135
-        :pswitch_135
-        :pswitch_96
-    .end packed-switch
-
-    :pswitch_data_5f2
-    .packed-switch 0x89
-        :pswitch_78
-        :pswitch_78
-        :pswitch_78
-        :pswitch_78
-        :pswitch_78
-        :pswitch_78
-        :pswitch_78
-        :pswitch_78
-        :pswitch_78
-        :pswitch_78
-        :pswitch_78
-        :pswitch_78
-        :pswitch_78
-        :pswitch_78
-        :pswitch_78
-    .end packed-switch
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/PduPart.smali pdroid-framework/smali/com/google/android/mms/pdu/PduPart.smali
--- stock-framework/smali/com/google/android/mms/pdu/PduPart.smali	2013-07-15 18:10:57.142627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/PduPart.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,822 +0,0 @@
-.class public Lcom/google/android/mms/pdu/PduPart;
-.super Ljava/lang/Object;
-.source "PduPart.java"
-
-
-# static fields
-.field public static final CONTENT_TRANSFER_ENCODING:Ljava/lang/String; = "Content-Transfer-Encoding"
-
-.field static final DISPOSITION_ATTACHMENT:[B = null
-
-.field static final DISPOSITION_FROM_DATA:[B = null
-
-.field static final DISPOSITION_INLINE:[B = null
-
-.field public static final P_7BIT:Ljava/lang/String; = "7bit"
-
-.field public static final P_8BIT:Ljava/lang/String; = "8bit"
-
-.field public static final P_BASE64:Ljava/lang/String; = "base64"
-
-.field public static final P_BINARY:Ljava/lang/String; = "binary"
-
-.field public static final P_CHARSET:I = 0x81
-
-.field public static final P_COMMENT:I = 0x9b
-
-.field public static final P_CONTENT_DISPOSITION:I = 0xc5
-
-.field public static final P_CONTENT_ID:I = 0xc0
-
-.field public static final P_CONTENT_LOCATION:I = 0x8e
-
-.field public static final P_CONTENT_TRANSFER_ENCODING:I = 0xc8
-
-.field public static final P_CONTENT_TYPE:I = 0x91
-
-.field public static final P_CREATION_DATE:I = 0x93
-
-.field public static final P_CT_MR_TYPE:I = 0x89
-
-.field public static final P_DEP_COMMENT:I = 0x8c
-
-.field public static final P_DEP_CONTENT_DISPOSITION:I = 0xae
-
-.field public static final P_DEP_DOMAIN:I = 0x8d
-
-.field public static final P_DEP_FILENAME:I = 0x86
-
-.field public static final P_DEP_NAME:I = 0x85
-
-.field public static final P_DEP_PATH:I = 0x8f
-
-.field public static final P_DEP_START:I = 0x8a
-
-.field public static final P_DEP_START_INFO:I = 0x8b
-
-.field public static final P_DIFFERENCES:I = 0x87
-
-.field public static final P_DISPOSITION_ATTACHMENT:I = 0x81
-
-.field public static final P_DISPOSITION_FROM_DATA:I = 0x80
-
-.field public static final P_DISPOSITION_INLINE:I = 0x82
-
-.field public static final P_DOMAIN:I = 0x9c
-
-.field public static final P_FILENAME:I = 0x98
-
-.field public static final P_LEVEL:I = 0x82
-
-.field public static final P_MAC:I = 0x92
-
-.field public static final P_MAX_AGE:I = 0x8e
-
-.field public static final P_MODIFICATION_DATE:I = 0x94
-
-.field public static final P_NAME:I = 0x97
-
-.field public static final P_PADDING:I = 0x88
-
-.field public static final P_PATH:I = 0x9d
-
-.field public static final P_Q:I = 0x80
-
-.field public static final P_QUOTED_PRINTABLE:Ljava/lang/String; = "quoted-printable"
-
-.field public static final P_READ_DATE:I = 0x95
-
-.field public static final P_SEC:I = 0x91
-
-.field public static final P_SECURE:I = 0x90
-
-.field public static final P_SIZE:I = 0x96
-
-.field public static final P_START:I = 0x99
-
-.field public static final P_START_INFO:I = 0x9a
-
-.field public static final P_TYPE:I = 0x83
-
-.field private static final TAG:Ljava/lang/String; = "PduPart"
-
-
-# instance fields
-.field private mPartData:[B
-
-.field private mPartHeader:Ljava/util/Map;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/Map",
-            "<",
-            "Ljava/lang/Integer;",
-            "Ljava/lang/Object;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private mUri:Landroid/net/Uri;
-
-
-# direct methods
-.method static constructor <clinit>()V
-    .registers 1
-
-    const-string v0, "from-data"
-
-    invoke-virtual {v0}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v0
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduPart;->DISPOSITION_FROM_DATA:[B
-
-    const-string v0, "attachment"
-
-    invoke-virtual {v0}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v0
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduPart;->DISPOSITION_ATTACHMENT:[B
-
-    const-string v0, "inline"
-
-    invoke-virtual {v0}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v0
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduPart;->DISPOSITION_INLINE:[B
-
-    return-void
-.end method
-
-.method public constructor <init>()V
-    .registers 2
-
-    const/4 v0, 0x0
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mUri:Landroid/net/Uri;
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mPartData:[B
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    return-void
-.end method
-
-
-# virtual methods
-.method public generateLocation()Ljava/lang/String;
-    .registers 5
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    const/16 v3, 0x97
-
-    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v3
-
-    invoke-interface {v2, v3}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v2
-
-    check-cast v2, [B
-
-    move-object v1, v2
-
-    check-cast v1, [B
-
-    if-nez v1, :cond_37
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    const/16 v3, 0x98
-
-    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v3
-
-    invoke-interface {v2, v3}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v2
-
-    check-cast v2, [B
-
-    move-object v1, v2
-
-    check-cast v1, [B
-
-    if-nez v1, :cond_37
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    const/16 v3, 0x8e
-
-    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v3
-
-    invoke-interface {v2, v3}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v2
-
-    check-cast v2, [B
-
-    move-object v1, v2
-
-    check-cast v1, [B
-
-    :cond_37
-    if-nez v1, :cond_63
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    const/16 v3, 0xc0
-
-    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v3
-
-    invoke-interface {v2, v3}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v2
-
-    check-cast v2, [B
-
-    move-object v0, v2
-
-    check-cast v0, [B
-
-    new-instance v2, Ljava/lang/StringBuilder;
-
-    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v3, "cid:"
-
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v2
-
-    new-instance v3, Ljava/lang/String;
-
-    invoke-direct {v3, v0}, Ljava/lang/String;-><init>([B)V
-
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v2
-
-    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v2
-
-    :goto_62
-    return-object v2
-
-    :cond_63
-    new-instance v2, Ljava/lang/String;
-
-    invoke-direct {v2, v1}, Ljava/lang/String;-><init>([B)V
-
-    goto :goto_62
-.end method
-
-.method public getCharset()I
-    .registers 4
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    const/16 v2, 0x81
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-interface {v1, v2}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Ljava/lang/Integer;
-
-    if-nez v0, :cond_12
-
-    const/4 v1, 0x0
-
-    :goto_11
-    return v1
-
-    :cond_12
-    invoke-virtual {v0}, Ljava/lang/Integer;->intValue()I
-
-    move-result v1
-
-    goto :goto_11
-.end method
-
-.method public getContentDisposition()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    const/16 v1, 0xc5
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-interface {v0, v1}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, [B
-
-    check-cast v0, [B
-
-    return-object v0
-.end method
-
-.method public getContentId()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    const/16 v1, 0xc0
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-interface {v0, v1}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, [B
-
-    check-cast v0, [B
-
-    return-object v0
-.end method
-
-.method public getContentLocation()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    const/16 v1, 0x8e
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-interface {v0, v1}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, [B
-
-    check-cast v0, [B
-
-    return-object v0
-.end method
-
-.method public getContentTransferEncoding()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    const/16 v1, 0xc8
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-interface {v0, v1}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, [B
-
-    check-cast v0, [B
-
-    return-object v0
-.end method
-
-.method public getContentType()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    const/16 v1, 0x91
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-interface {v0, v1}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, [B
-
-    check-cast v0, [B
-
-    return-object v0
-.end method
-
-.method public getData()[B
-    .registers 5
-
-    const/4 v3, 0x0
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduPart;->mPartData:[B
-
-    if-nez v1, :cond_7
-
-    const/4 v0, 0x0
-
-    :goto_6
-    return-object v0
-
-    :cond_7
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduPart;->mPartData:[B
-
-    array-length v1, v1
-
-    new-array v0, v1, [B
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduPart;->mPartData:[B
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduPart;->mPartData:[B
-
-    array-length v2, v2
-
-    invoke-static {v1, v3, v0, v3, v2}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V
-
-    goto :goto_6
-.end method
-
-.method public getDataUri()Landroid/net/Uri;
-    .registers 2
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mUri:Landroid/net/Uri;
-
-    return-object v0
-.end method
-
-.method public getFilename()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    const/16 v1, 0x98
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-interface {v0, v1}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, [B
-
-    check-cast v0, [B
-
-    return-object v0
-.end method
-
-.method public getName()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    const/16 v1, 0x97
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-interface {v0, v1}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, [B
-
-    check-cast v0, [B
-
-    return-object v0
-.end method
-
-.method public setCharset(I)V
-    .registers 5
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    const/16 v1, 0x81
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-static {p1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-interface {v0, v1, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    return-void
-.end method
-
-.method public setContentDisposition([B)V
-    .registers 4
-
-    if-nez p1, :cond_b
-
-    new-instance v0, Ljava/lang/NullPointerException;
-
-    const-string/jumbo v1, "null content-disposition"
-
-    invoke-direct {v0, v1}, Ljava/lang/NullPointerException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :cond_b
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    const/16 v1, 0xc5
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-interface {v0, v1, p1}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    return-void
-.end method
-
-.method public setContentId([B)V
-    .registers 9
-
-    const/16 v6, 0xc0
-
-    const/16 v5, 0x3e
-
-    const/16 v4, 0x3c
-
-    const/4 v3, 0x1
-
-    const/4 v2, 0x0
-
-    if-eqz p1, :cond_d
-
-    array-length v1, p1
-
-    if-nez v1, :cond_15
-
-    :cond_d
-    new-instance v1, Ljava/lang/IllegalArgumentException;
-
-    const-string v2, "Content-Id may not be null or empty."
-
-    invoke-direct {v1, v2}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V
-
-    throw v1
-
-    :cond_15
-    array-length v1, p1
-
-    if-le v1, v3, :cond_2f
-
-    aget-byte v1, p1, v2
-
-    int-to-char v1, v1
-
-    if-ne v1, v4, :cond_2f
-
-    array-length v1, p1
-
-    add-int/lit8 v1, v1, -0x1
-
-    aget-byte v1, p1, v1
-
-    int-to-char v1, v1
-
-    if-ne v1, v5, :cond_2f
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    invoke-static {v6}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-interface {v1, v2, p1}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    :goto_2e
-    return-void
-
-    :cond_2f
-    array-length v1, p1
-
-    add-int/lit8 v1, v1, 0x2
-
-    new-array v0, v1, [B
-
-    aput-byte v4, v0, v2
-
-    array-length v1, v0
-
-    add-int/lit8 v1, v1, -0x1
-
-    aput-byte v5, v0, v1
-
-    array-length v1, p1
-
-    invoke-static {p1, v2, v0, v3, v1}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    invoke-static {v6}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-interface {v1, v2, v0}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    goto :goto_2e
-.end method
-
-.method public setContentLocation([B)V
-    .registers 4
-
-    if-nez p1, :cond_b
-
-    new-instance v0, Ljava/lang/NullPointerException;
-
-    const-string/jumbo v1, "null content-location"
-
-    invoke-direct {v0, v1}, Ljava/lang/NullPointerException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :cond_b
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    const/16 v1, 0x8e
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-interface {v0, v1, p1}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    return-void
-.end method
-
-.method public setContentTransferEncoding([B)V
-    .registers 4
-
-    if-nez p1, :cond_b
-
-    new-instance v0, Ljava/lang/NullPointerException;
-
-    const-string/jumbo v1, "null content-transfer-encoding"
-
-    invoke-direct {v0, v1}, Ljava/lang/NullPointerException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :cond_b
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    const/16 v1, 0xc8
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-interface {v0, v1, p1}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    return-void
-.end method
-
-.method public setContentType([B)V
-    .registers 4
-
-    if-nez p1, :cond_b
-
-    new-instance v0, Ljava/lang/NullPointerException;
-
-    const-string/jumbo v1, "null content-type"
-
-    invoke-direct {v0, v1}, Ljava/lang/NullPointerException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :cond_b
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    const/16 v1, 0x91
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-interface {v0, v1, p1}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    return-void
-.end method
-
-.method public setData([B)V
-    .registers 5
-
-    const/4 v2, 0x0
-
-    if-nez p1, :cond_4
-
-    :goto_3
-    return-void
-
-    :cond_4
-    array-length v0, p1
-
-    new-array v0, v0, [B
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mPartData:[B
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mPartData:[B
-
-    array-length v1, p1
-
-    invoke-static {p1, v2, v0, v2, v1}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V
-
-    goto :goto_3
-.end method
-
-.method public setDataUri(Landroid/net/Uri;)V
-    .registers 2
-
-    iput-object p1, p0, Lcom/google/android/mms/pdu/PduPart;->mUri:Landroid/net/Uri;
-
-    return-void
-.end method
-
-.method public setFilename([B)V
-    .registers 4
-
-    if-nez p1, :cond_b
-
-    new-instance v0, Ljava/lang/NullPointerException;
-
-    const-string/jumbo v1, "null content-id"
-
-    invoke-direct {v0, v1}, Ljava/lang/NullPointerException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :cond_b
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    const/16 v1, 0x98
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-interface {v0, v1, p1}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    return-void
-.end method
-
-.method public setName([B)V
-    .registers 4
-
-    if-nez p1, :cond_b
-
-    new-instance v0, Ljava/lang/NullPointerException;
-
-    const-string/jumbo v1, "null content-id"
-
-    invoke-direct {v0, v1}, Ljava/lang/NullPointerException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :cond_b
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPart;->mPartHeader:Ljava/util/Map;
-
-    const/16 v1, 0x97
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-interface {v0, v1, p1}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    return-void
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/PduPersister.smali pdroid-framework/smali/com/google/android/mms/pdu/PduPersister.smali
--- stock-framework/smali/com/google/android/mms/pdu/PduPersister.smali	2013-07-15 18:10:57.146627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/PduPersister.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,6919 +0,0 @@
-.class public Lcom/google/android/mms/pdu/PduPersister;
-.super Ljava/lang/Object;
-.source "PduPersister.java"
-
-
-# static fields
-#the value of this static final field might be set in the static constructor
-.field static final synthetic $assertionsDisabled:Z = false
-
-.field private static final ADDRESS_FIELDS:[I = null
-
-.field private static final CHARSET_COLUMN_INDEX_MAP:Ljava/util/HashMap; = null
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashMap",
-            "<",
-            "Ljava/lang/Integer;",
-            "Ljava/lang/Integer;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private static final CHARSET_COLUMN_NAME_MAP:Ljava/util/HashMap; = null
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashMap",
-            "<",
-            "Ljava/lang/Integer;",
-            "Ljava/lang/String;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private static final DEBUG:Z = false
-
-.field private static final DUMMY_THREAD_ID:J = 0x7fffffffffffffffL
-
-.field private static final ENCODED_STRING_COLUMN_INDEX_MAP:Ljava/util/HashMap; = null
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashMap",
-            "<",
-            "Ljava/lang/Integer;",
-            "Ljava/lang/Integer;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private static final ENCODED_STRING_COLUMN_NAME_MAP:Ljava/util/HashMap; = null
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashMap",
-            "<",
-            "Ljava/lang/Integer;",
-            "Ljava/lang/String;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private static final LOCAL_LOGV:Z = false
-
-.field private static final LONG_COLUMN_INDEX_MAP:Ljava/util/HashMap; = null
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashMap",
-            "<",
-            "Ljava/lang/Integer;",
-            "Ljava/lang/Integer;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private static final LONG_COLUMN_NAME_MAP:Ljava/util/HashMap; = null
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashMap",
-            "<",
-            "Ljava/lang/Integer;",
-            "Ljava/lang/String;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private static final MESSAGE_BOX_MAP:Ljava/util/HashMap; = null
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashMap",
-            "<",
-            "Landroid/net/Uri;",
-            "Ljava/lang/Integer;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private static final OCTET_COLUMN_INDEX_MAP:Ljava/util/HashMap; = null
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashMap",
-            "<",
-            "Ljava/lang/Integer;",
-            "Ljava/lang/Integer;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private static final OCTET_COLUMN_NAME_MAP:Ljava/util/HashMap; = null
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashMap",
-            "<",
-            "Ljava/lang/Integer;",
-            "Ljava/lang/String;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private static final PART_COLUMN_CHARSET:I = 0x1
-
-.field private static final PART_COLUMN_CONTENT_DISPOSITION:I = 0x2
-
-.field private static final PART_COLUMN_CONTENT_ID:I = 0x3
-
-.field private static final PART_COLUMN_CONTENT_LOCATION:I = 0x4
-
-.field private static final PART_COLUMN_CONTENT_TYPE:I = 0x5
-
-.field private static final PART_COLUMN_FILENAME:I = 0x6
-
-.field private static final PART_COLUMN_ID:I = 0x0
-
-.field private static final PART_COLUMN_NAME:I = 0x7
-
-.field private static final PART_COLUMN_TEXT:I = 0x8
-
-.field private static final PART_PROJECTION:[Ljava/lang/String; = null
-
-.field private static final PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache; = null
-
-.field private static final PDU_COLUMN_CONTENT_CLASS:I = 0xb
-
-.field private static final PDU_COLUMN_CONTENT_LOCATION:I = 0x5
-
-.field private static final PDU_COLUMN_CONTENT_TYPE:I = 0x6
-
-.field private static final PDU_COLUMN_DATE:I = 0x15
-
-.field private static final PDU_COLUMN_DELIVERY_REPORT:I = 0xc
-
-.field private static final PDU_COLUMN_DELIVERY_TIME:I = 0x16
-
-.field private static final PDU_COLUMN_EXPIRY:I = 0x17
-
-.field private static final PDU_COLUMN_ID:I = 0x0
-
-.field private static final PDU_COLUMN_MESSAGE_BOX:I = 0x1
-
-.field private static final PDU_COLUMN_MESSAGE_CLASS:I = 0x7
-
-.field private static final PDU_COLUMN_MESSAGE_ID:I = 0x8
-
-.field private static final PDU_COLUMN_MESSAGE_SIZE:I = 0x18
-
-.field private static final PDU_COLUMN_MESSAGE_TYPE:I = 0xd
-
-.field private static final PDU_COLUMN_MMS_VERSION:I = 0xe
-
-.field private static final PDU_COLUMN_PRIORITY:I = 0xf
-
-.field private static final PDU_COLUMN_READ_REPORT:I = 0x10
-
-.field private static final PDU_COLUMN_READ_STATUS:I = 0x11
-
-.field private static final PDU_COLUMN_REPORT_ALLOWED:I = 0x12
-
-.field private static final PDU_COLUMN_RESPONSE_TEXT:I = 0x9
-
-.field private static final PDU_COLUMN_RETRIEVE_STATUS:I = 0x13
-
-.field private static final PDU_COLUMN_RETRIEVE_TEXT:I = 0x3
-
-.field private static final PDU_COLUMN_RETRIEVE_TEXT_CHARSET:I = 0x1a
-
-.field private static final PDU_COLUMN_STATUS:I = 0x14
-
-.field private static final PDU_COLUMN_SUBJECT:I = 0x4
-
-.field private static final PDU_COLUMN_SUBJECT_CHARSET:I = 0x19
-
-.field private static final PDU_COLUMN_THREAD_ID:I = 0x2
-
-.field private static final PDU_COLUMN_TRANSACTION_ID:I = 0xa
-
-.field private static final PDU_PROJECTION:[Ljava/lang/String; = null
-
-.field public static final PROC_STATUS_COMPLETED:I = 0x3
-
-.field public static final PROC_STATUS_PERMANENTLY_FAILURE:I = 0x2
-
-.field public static final PROC_STATUS_TRANSIENT_FAILURE:I = 0x1
-
-.field private static final TAG:Ljava/lang/String; = "PduPersister"
-
-.field public static final TEMPORARY_DRM_OBJECT_URI:Ljava/lang/String; = "content://mms/9223372036854775807/part"
-
-.field private static final TEXT_STRING_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashMap",
-            "<",
-            "Ljava/lang/Integer;",
-            "Ljava/lang/Integer;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private static final TEXT_STRING_COLUMN_NAME_MAP:Ljava/util/HashMap;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashMap",
-            "<",
-            "Ljava/lang/Integer;",
-            "Ljava/lang/String;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private static sPersister:Lcom/google/android/mms/pdu/PduPersister;
-
-
-# instance fields
-.field private final mContentResolver:Landroid/content/ContentResolver;
-
-.field private final mContext:Landroid/content/Context;
-
-.field private final mDrmManagerClient:Landroid/drm/DrmManagerClient;
-
-
-# direct methods
-.method static constructor <clinit>()V
-    .registers 8
-
-    const/16 v7, 0x9a
-
-    const/16 v6, 0x96
-
-    const/4 v5, 0x3
-
-    const/4 v1, 0x1
-
-    const/4 v4, 0x4
-
-    const-class v0, Lcom/google/android/mms/pdu/PduPersister;
-
-    invoke-virtual {v0}, Ljava/lang/Class;->desiredAssertionStatus()Z
-
-    move-result v0
-
-    if-nez v0, :cond_447
-
-    move v0, v1
-
-    :goto_10
-    sput-boolean v0, Lcom/google/android/mms/pdu/PduPersister;->$assertionsDisabled:Z
-
-    new-array v0, v4, [I
-
-    fill-array-data v0, :array_44a
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduPersister;->ADDRESS_FIELDS:[I
-
-    const/16 v0, 0x1b
-
-    new-array v0, v0, [Ljava/lang/String;
-
-    const/4 v2, 0x0
-
-    const-string v3, "_id"
-
-    aput-object v3, v0, v2
-
-    const-string/jumbo v2, "msg_box"
-
-    aput-object v2, v0, v1
-
-    const/4 v2, 0x2
-
-    const-string/jumbo v3, "thread_id"
-
-    aput-object v3, v0, v2
-
-    const-string/jumbo v2, "retr_txt"
-
-    aput-object v2, v0, v5
-
-    const-string/jumbo v2, "sub"
-
-    aput-object v2, v0, v4
-
-    const/4 v2, 0x5
-
-    const-string v3, "ct_l"
-
-    aput-object v3, v0, v2
-
-    const/4 v2, 0x6
-
-    const-string v3, "ct_t"
-
-    aput-object v3, v0, v2
-
-    const/4 v2, 0x7
-
-    const-string/jumbo v3, "m_cls"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0x8
-
-    const-string/jumbo v3, "m_id"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0x9
-
-    const-string/jumbo v3, "resp_txt"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0xa
-
-    const-string/jumbo v3, "tr_id"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0xb
-
-    const-string v3, "ct_cls"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0xc
-
-    const-string v3, "d_rpt"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0xd
-
-    const-string/jumbo v3, "m_type"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0xe
-
-    const-string/jumbo v3, "v"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0xf
-
-    const-string/jumbo v3, "pri"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0x10
-
-    const-string/jumbo v3, "rr"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0x11
-
-    const-string/jumbo v3, "read_status"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0x12
-
-    const-string/jumbo v3, "rpt_a"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0x13
-
-    const-string/jumbo v3, "retr_st"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0x14
-
-    const-string/jumbo v3, "st"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0x15
-
-    const-string v3, "date"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0x16
-
-    const-string v3, "d_tm"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0x17
-
-    const-string v3, "exp"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0x18
-
-    const-string/jumbo v3, "m_size"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0x19
-
-    const-string/jumbo v3, "sub_cs"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0x1a
-
-    const-string/jumbo v3, "retr_txt_cs"
-
-    aput-object v3, v0, v2
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduPersister;->PDU_PROJECTION:[Ljava/lang/String;
-
-    const/16 v0, 0x9
-
-    new-array v0, v0, [Ljava/lang/String;
-
-    const/4 v2, 0x0
-
-    const-string v3, "_id"
-
-    aput-object v3, v0, v2
-
-    const-string v2, "chset"
-
-    aput-object v2, v0, v1
-
-    const/4 v2, 0x2
-
-    const-string v3, "cd"
-
-    aput-object v3, v0, v2
-
-    const-string v2, "cid"
-
-    aput-object v2, v0, v5
-
-    const-string v2, "cl"
-
-    aput-object v2, v0, v4
-
-    const/4 v2, 0x5
-
-    const-string v3, "ct"
-
-    aput-object v3, v0, v2
-
-    const/4 v2, 0x6
-
-    const-string v3, "fn"
-
-    aput-object v3, v0, v2
-
-    const/4 v2, 0x7
-
-    const-string/jumbo v3, "name"
-
-    aput-object v3, v0, v2
-
-    const/16 v2, 0x8
-
-    const-string/jumbo v3, "text"
-
-    aput-object v3, v0, v2
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduPersister;->PART_PROJECTION:[Ljava/lang/String;
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduPersister;->MESSAGE_BOX_MAP:Ljava/util/HashMap;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->MESSAGE_BOX_MAP:Ljava/util/HashMap;
-
-    sget-object v2, Landroid/provider/Telephony$Mms$Inbox;->CONTENT_URI:Landroid/net/Uri;
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-virtual {v0, v2, v1}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->MESSAGE_BOX_MAP:Ljava/util/HashMap;
-
-    sget-object v1, Landroid/provider/Telephony$Mms$Sent;->CONTENT_URI:Landroid/net/Uri;
-
-    const/4 v2, 0x2
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->MESSAGE_BOX_MAP:Ljava/util/HashMap;
-
-    sget-object v1, Landroid/provider/Telephony$Mms$Draft;->CONTENT_URI:Landroid/net/Uri;
-
-    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->MESSAGE_BOX_MAP:Ljava/util/HashMap;
-
-    sget-object v1, Landroid/provider/Telephony$Mms$Outbox;->CONTENT_URI:Landroid/net/Uri;
-
-    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduPersister;->CHARSET_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->CHARSET_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    invoke-static {v6}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/16 v2, 0x19
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->CHARSET_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/16 v2, 0x1a
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduPersister;->CHARSET_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->CHARSET_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    invoke-static {v6}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string/jumbo v2, "sub_cs"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->CHARSET_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string/jumbo v2, "retr_txt_cs"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduPersister;->ENCODED_STRING_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->ENCODED_STRING_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->ENCODED_STRING_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    invoke-static {v6}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduPersister;->ENCODED_STRING_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->ENCODED_STRING_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string/jumbo v2, "retr_txt"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->ENCODED_STRING_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    invoke-static {v6}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string/jumbo v2, "sub"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduPersister;->TEXT_STRING_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->TEXT_STRING_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x83
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/4 v2, 0x5
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->TEXT_STRING_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x84
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/4 v2, 0x6
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->TEXT_STRING_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x8a
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/4 v2, 0x7
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->TEXT_STRING_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x8b
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/16 v2, 0x8
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->TEXT_STRING_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x93
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/16 v2, 0x9
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->TEXT_STRING_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x98
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/16 v2, 0xa
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduPersister;->TEXT_STRING_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->TEXT_STRING_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x83
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string v2, "ct_l"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->TEXT_STRING_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x84
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string v2, "ct_t"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->TEXT_STRING_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x8a
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string/jumbo v2, "m_cls"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->TEXT_STRING_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x8b
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string/jumbo v2, "m_id"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->TEXT_STRING_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x93
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string/jumbo v2, "resp_txt"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->TEXT_STRING_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x98
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string/jumbo v2, "tr_id"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0xba
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/16 v2, 0xb
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x86
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/16 v2, 0xc
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x8c
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/16 v2, 0xd
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x8d
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/16 v2, 0xe
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x8f
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/16 v2, 0xf
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x90
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/16 v2, 0x10
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x9b
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/16 v2, 0x11
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x91
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/16 v2, 0x12
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x99
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/16 v2, 0x13
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x95
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/16 v2, 0x14
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0xba
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string v2, "ct_cls"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x86
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string v2, "d_rpt"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x8c
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string/jumbo v2, "m_type"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x8d
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string/jumbo v2, "v"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x8f
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string/jumbo v2, "pri"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x90
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string/jumbo v2, "rr"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x9b
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string/jumbo v2, "read_status"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x91
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string/jumbo v2, "rpt_a"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x99
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string/jumbo v2, "retr_st"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x95
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string/jumbo v2, "st"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduPersister;->LONG_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->LONG_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x85
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/16 v2, 0x15
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->LONG_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x87
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/16 v2, 0x16
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->LONG_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x88
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/16 v2, 0x17
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->LONG_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x8e
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const/16 v2, 0x18
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduPersister;->LONG_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->LONG_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x85
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string v2, "date"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->LONG_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x87
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string v2, "d_tm"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->LONG_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x88
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string v2, "exp"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->LONG_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x8e
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    const-string/jumbo v2, "m_size"
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    invoke-static {}, Lcom/google/android/mms/util/PduCache;->getInstance()Lcom/google/android/mms/util/PduCache;
-
-    move-result-object v0
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    return-void
-
-    :cond_447
-    const/4 v0, 0x0
-
-    goto/16 :goto_10
-
-    :array_44a
-    .array-data 0x4
-        0x81t 0x0t 0x0t 0x0t
-        0x82t 0x0t 0x0t 0x0t
-        0x89t 0x0t 0x0t 0x0t
-        0x97t 0x0t 0x0t 0x0t
-    .end array-data
-.end method
-
-.method private constructor <init>(Landroid/content/Context;)V
-    .registers 3
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    iput-object p1, p0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    invoke-virtual {p1}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
-
-    move-result-object v0
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    new-instance v0, Landroid/drm/DrmManagerClient;
-
-    invoke-direct {v0, p1}, Landroid/drm/DrmManagerClient;-><init>(Landroid/content/Context;)V
-
-    iput-object v0, p0, Lcom/google/android/mms/pdu/PduPersister;->mDrmManagerClient:Landroid/drm/DrmManagerClient;
-
-    return-void
-.end method
-
-.method public static convertUriToPath(Landroid/content/Context;Landroid/net/Uri;)Ljava/lang/String;
-    .registers 13
-
-    const/4 v8, 0x0
-
-    if-eqz p1, :cond_1d
-
-    invoke-virtual {p1}, Landroid/net/Uri;->getScheme()Ljava/lang/String;
-
-    move-result-object v10
-
-    if-eqz v10, :cond_19
-
-    const-string v0, ""
-
-    invoke-virtual {v10, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v0
-
-    if-nez v0, :cond_19
-
-    const-string v0, "file"
-
-    invoke-virtual {v10, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_1e
-
-    :cond_19
-    invoke-virtual {p1}, Landroid/net/Uri;->getPath()Ljava/lang/String;
-
-    move-result-object v8
-
-    :cond_1d
-    :goto_1d
-    return-object v8
-
-    :cond_1e
-    const-string v0, "http"
-
-    invoke-virtual {v10, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_2b
-
-    invoke-virtual {p1}, Landroid/net/Uri;->toString()Ljava/lang/String;
-
-    move-result-object v8
-
-    goto :goto_1d
-
-    :cond_2b
-    const-string v0, "content"
-
-    invoke-virtual {v10, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_7e
-
-    const/4 v0, 0x1
-
-    new-array v2, v0, [Ljava/lang/String;
-
-    const/4 v0, 0x0
-
-    const-string v1, "_data"
-
-    aput-object v1, v2, v0
-
-    const/4 v6, 0x0
-
-    :try_start_3c
-    invoke-virtual {p0}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
-
-    move-result-object v0
-
-    const/4 v3, 0x0
-
-    const/4 v4, 0x0
-
-    const/4 v5, 0x0
-
-    move-object v1, p1
-
-    invoke-virtual/range {v0 .. v5}, Landroid/content/ContentResolver;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
-
-    move-result-object v6
-
-    if-eqz v6, :cond_56
-
-    invoke-interface {v6}, Landroid/database/Cursor;->getCount()I
-
-    move-result v0
-
-    if-eqz v0, :cond_56
-
-    invoke-interface {v6}, Landroid/database/Cursor;->moveToFirst()Z
-
-    move-result v0
-
-    if-nez v0, :cond_6e
-
-    :cond_56
-    new-instance v0, Ljava/lang/IllegalArgumentException;
-
-    const-string v1, "Given Uri could not be found in media store"
-
-    invoke-direct {v0, v1}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-    :try_end_5e
-    .catchall {:try_start_3c .. :try_end_5e} :catchall_67
-    .catch Landroid/database/sqlite/SQLiteException; {:try_start_3c .. :try_end_5e} :catch_5e
-
-    :catch_5e
-    move-exception v7
-
-    :try_start_5f
-    new-instance v0, Ljava/lang/IllegalArgumentException;
-
-    const-string v1, "Given Uri is not formatted in a way so that it can be found in media store."
-
-    invoke-direct {v0, v1}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-    :try_end_67
-    .catchall {:try_start_5f .. :try_end_67} :catchall_67
-
-    :catchall_67
-    move-exception v0
-
-    if-eqz v6, :cond_6d
-
-    invoke-interface {v6}, Landroid/database/Cursor;->close()V
-
-    :cond_6d
-    throw v0
-
-    :cond_6e
-    :try_start_6e
-    const-string v0, "_data"
-
-    invoke-interface {v6, v0}, Landroid/database/Cursor;->getColumnIndexOrThrow(Ljava/lang/String;)I
-
-    move-result v9
-
-    invoke-interface {v6, v9}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
-    :try_end_77
-    .catchall {:try_start_6e .. :try_end_77} :catchall_67
-    .catch Landroid/database/sqlite/SQLiteException; {:try_start_6e .. :try_end_77} :catch_5e
-
-    move-result-object v8
-
-    if-eqz v6, :cond_1d
-
-    invoke-interface {v6}, Landroid/database/Cursor;->close()V
-
-    goto :goto_1d
-
-    :cond_7e
-    new-instance v0, Ljava/lang/IllegalArgumentException;
-
-    const-string v1, "Given Uri scheme is not supported"
-
-    invoke-direct {v0, v1}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-.end method
-
-.method private getByteArrayFromPartColumn(Landroid/database/Cursor;I)[B
-    .registers 4
-
-    invoke-interface {p1, p2}, Landroid/database/Cursor;->isNull(I)Z
-
-    move-result v0
-
-    if-nez v0, :cond_f
-
-    invoke-interface {p1, p2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
-
-    move-result-object v0
-
-    invoke-static {v0}, Lcom/google/android/mms/pdu/PduPersister;->getBytes(Ljava/lang/String;)[B
-
-    move-result-object v0
-
-    :goto_e
-    return-object v0
-
-    :cond_f
-    const/4 v0, 0x0
-
-    goto :goto_e
-.end method
-
-.method public static getBytes(Ljava/lang/String;)[B
-    .registers 4
-
-    :try_start_0
-    const-string v1, "iso-8859-1"
-
-    invoke-virtual {p0, v1}, Ljava/lang/String;->getBytes(Ljava/lang/String;)[B
-    :try_end_5
-    .catch Ljava/io/UnsupportedEncodingException; {:try_start_0 .. :try_end_5} :catch_7
-
-    move-result-object v1
-
-    :goto_6
-    return-object v1
-
-    :catch_7
-    move-exception v0
-
-    const-string v1, "PduPersister"
-
-    const-string v2, "ISO_8859_1 must be supported!"
-
-    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    const/4 v1, 0x0
-
-    new-array v1, v1, [B
-
-    goto :goto_6
-.end method
-
-.method private getIntegerFromPartColumn(Landroid/database/Cursor;I)Ljava/lang/Integer;
-    .registers 4
-
-    invoke-interface {p1, p2}, Landroid/database/Cursor;->isNull(I)Z
-
-    move-result v0
-
-    if-nez v0, :cond_f
-
-    invoke-interface {p1, p2}, Landroid/database/Cursor;->getInt(I)I
-
-    move-result v0
-
-    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v0
-
-    :goto_e
-    return-object v0
-
-    :cond_f
-    const/4 v0, 0x0
-
-    goto :goto_e
-.end method
-
-.method public static getPduPersister(Landroid/content/Context;)Lcom/google/android/mms/pdu/PduPersister;
-    .registers 2
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->sPersister:Lcom/google/android/mms/pdu/PduPersister;
-
-    if-eqz v0, :cond_e
-
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->sPersister:Lcom/google/android/mms/pdu/PduPersister;
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    invoke-virtual {p0, v0}, Ljava/lang/Object;->equals(Ljava/lang/Object;)Z
-
-    move-result v0
-
-    if-nez v0, :cond_15
-
-    :cond_e
-    new-instance v0, Lcom/google/android/mms/pdu/PduPersister;
-
-    invoke-direct {v0, p0}, Lcom/google/android/mms/pdu/PduPersister;-><init>(Landroid/content/Context;)V
-
-    sput-object v0, Lcom/google/android/mms/pdu/PduPersister;->sPersister:Lcom/google/android/mms/pdu/PduPersister;
-
-    :cond_15
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->sPersister:Lcom/google/android/mms/pdu/PduPersister;
-
-    return-object v0
-.end method
-
-.method private loadAddress(JLcom/google/android/mms/pdu/PduHeaders;)V
-    .registers 16
-
-    const/4 v11, 0x2
-
-    const/4 v10, 0x0
-
-    const/4 v4, 0x0
-
-    const/4 v6, 0x1
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    new-instance v2, Ljava/lang/StringBuilder;
-
-    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v3, "content://mms/"
-
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v2
-
-    invoke-virtual {v2, p1, p2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
-
-    move-result-object v2
-
-    const-string v3, "/addr"
-
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v2
-
-    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v2
-
-    invoke-static {v2}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;
-
-    move-result-object v2
-
-    const/4 v3, 0x3
-
-    new-array v3, v3, [Ljava/lang/String;
-
-    const-string v5, "address"
-
-    aput-object v5, v3, v10
-
-    const-string v5, "charset"
-
-    aput-object v5, v3, v6
-
-    const-string/jumbo v5, "type"
-
-    aput-object v5, v3, v11
-
-    move-object v5, v4
-
-    move-object v6, v4
-
-    invoke-static/range {v0 .. v6}, Lcom/google/android/mms/util/SqliteWrapper;->query(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
-
-    move-result-object v9
-
-    if-eqz v9, :cond_9b
-
-    :cond_3d
-    :goto_3d
-    :try_start_3d
-    invoke-interface {v9}, Landroid/database/Cursor;->moveToNext()Z
-
-    move-result v0
-
-    if-eqz v0, :cond_98
-
-    const/4 v0, 0x0
-
-    invoke-interface {v9, v0}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
-
-    move-result-object v7
-
-    invoke-static {v7}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z
-
-    move-result v0
-
-    if-nez v0, :cond_3d
-
-    const/4 v0, 0x2
-
-    invoke-interface {v9, v0}, Landroid/database/Cursor;->getInt(I)I
-
-    move-result v8
-
-    sparse-switch v8, :sswitch_data_9c
-
-    const-string v0, "PduPersister"
-
-    new-instance v1, Ljava/lang/StringBuilder;
-
-    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v2, "Unknown address type: "
-
-    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v1
-
-    invoke-virtual {v1, v8}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v1
-
-    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v1
-
-    invoke-static {v0, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
-    :try_end_6e
-    .catchall {:try_start_3d .. :try_end_6e} :catchall_6f
-
-    goto :goto_3d
-
-    :catchall_6f
-    move-exception v0
-
-    invoke-interface {v9}, Landroid/database/Cursor;->close()V
-
-    throw v0
-
-    :sswitch_74
-    :try_start_74
-    new-instance v0, Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    const/4 v1, 0x1
-
-    invoke-interface {v9, v1}, Landroid/database/Cursor;->getInt(I)I
-
-    move-result v1
-
-    invoke-static {v7}, Lcom/google/android/mms/pdu/PduPersister;->getBytes(Ljava/lang/String;)[B
-
-    move-result-object v2
-
-    invoke-direct {v0, v1, v2}, Lcom/google/android/mms/pdu/EncodedStringValue;-><init>(I[B)V
-
-    invoke-virtual {p3, v0, v8}, Lcom/google/android/mms/pdu/PduHeaders;->setEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-
-    goto :goto_3d
-
-    :sswitch_86
-    new-instance v0, Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    const/4 v1, 0x1
-
-    invoke-interface {v9, v1}, Landroid/database/Cursor;->getInt(I)I
-
-    move-result v1
-
-    invoke-static {v7}, Lcom/google/android/mms/pdu/PduPersister;->getBytes(Ljava/lang/String;)[B
-
-    move-result-object v2
-
-    invoke-direct {v0, v1, v2}, Lcom/google/android/mms/pdu/EncodedStringValue;-><init>(I[B)V
-
-    invoke-virtual {p3, v0, v8}, Lcom/google/android/mms/pdu/PduHeaders;->appendEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-    :try_end_97
-    .catchall {:try_start_74 .. :try_end_97} :catchall_6f
-
-    goto :goto_3d
-
-    :cond_98
-    invoke-interface {v9}, Landroid/database/Cursor;->close()V
-
-    :cond_9b
-    return-void
-
-    :sswitch_data_9c
-    .sparse-switch
-        0x81 -> :sswitch_86
-        0x82 -> :sswitch_86
-        0x89 -> :sswitch_74
-        0x97 -> :sswitch_86
-    .end sparse-switch
-.end method
-
-.method private loadParts(J)[Lcom/google/android/mms/pdu/PduPart;
-    .registers 36
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/MmsException;
-        }
-    .end annotation
-
-    move-object/from16 v0, p0
-
-    iget-object v2, v0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    move-object/from16 v0, p0
-
-    iget-object v3, v0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    new-instance v4, Ljava/lang/StringBuilder;
-
-    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v5, "content://mms/"
-
-    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v4
-
-    move-wide/from16 v0, p1
-
-    invoke-virtual {v4, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
-
-    move-result-object v4
-
-    const-string v5, "/part"
-
-    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v4
-
-    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v4
-
-    invoke-static {v4}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;
-
-    move-result-object v4
-
-    sget-object v5, Lcom/google/android/mms/pdu/PduPersister;->PART_PROJECTION:[Ljava/lang/String;
-
-    const/4 v6, 0x0
-
-    const/4 v7, 0x0
-
-    const/4 v8, 0x0
-
-    invoke-static/range {v2 .. v8}, Lcom/google/android/mms/util/SqliteWrapper;->query(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
-
-    move-result-object v12
-
-    const/16 v30, 0x0
-
-    if-eqz v12, :cond_3a
-
-    :try_start_34
-    invoke-interface {v12}, Landroid/database/Cursor;->getCount()I
-    :try_end_37
-    .catchall {:try_start_34 .. :try_end_37} :catchall_15b
-
-    move-result v2
-
-    if-nez v2, :cond_41
-
-    :cond_3a
-    const/4 v2, 0x0
-
-    if-eqz v12, :cond_40
-
-    invoke-interface {v12}, Landroid/database/Cursor;->close()V
-
-    :cond_40
-    :goto_40
-    return-object v2
-
-    :cond_41
-    :try_start_41
-    invoke-interface {v12}, Landroid/database/Cursor;->getCount()I
-
-    move-result v24
-
-    const/16 v27, 0x0
-
-    move/from16 v0, v24
-
-    new-array v0, v0, [Lcom/google/android/mms/pdu/PduPart;
-
-    move-object/from16 v30, v0
-
-    move/from16 v28, v27
-
-    :goto_4f
-    invoke-interface {v12}, Landroid/database/Cursor;->moveToNext()Z
-
-    move-result v2
-
-    if-eqz v2, :cond_1c0
-
-    new-instance v23, Lcom/google/android/mms/pdu/PduPart;
-
-    invoke-direct/range {v23 .. v23}, Lcom/google/android/mms/pdu/PduPart;-><init>()V
-
-    const/4 v2, 0x1
-
-    move-object/from16 v0, p0
-
-    invoke-direct {v0, v12, v2}, Lcom/google/android/mms/pdu/PduPersister;->getIntegerFromPartColumn(Landroid/database/Cursor;I)Ljava/lang/Integer;
-
-    move-result-object v13
-
-    if-eqz v13, :cond_6c
-
-    invoke-virtual {v13}, Ljava/lang/Integer;->intValue()I
-
-    move-result v2
-
-    move-object/from16 v0, v23
-
-    invoke-virtual {v0, v2}, Lcom/google/android/mms/pdu/PduPart;->setCharset(I)V
-
-    :cond_6c
-    const/4 v2, 0x2
-
-    move-object/from16 v0, p0
-
-    invoke-direct {v0, v12, v2}, Lcom/google/android/mms/pdu/PduPersister;->getByteArrayFromPartColumn(Landroid/database/Cursor;I)[B
-
-    move-result-object v14
-
-    if-eqz v14, :cond_7a
-
-    move-object/from16 v0, v23
-
-    invoke-virtual {v0, v14}, Lcom/google/android/mms/pdu/PduPart;->setContentDisposition([B)V
-
-    :cond_7a
-    const/4 v2, 0x3
-
-    move-object/from16 v0, p0
-
-    invoke-direct {v0, v12, v2}, Lcom/google/android/mms/pdu/PduPersister;->getByteArrayFromPartColumn(Landroid/database/Cursor;I)[B
-
-    move-result-object v15
-
-    if-eqz v15, :cond_88
-
-    move-object/from16 v0, v23
-
-    invoke-virtual {v0, v15}, Lcom/google/android/mms/pdu/PduPart;->setContentId([B)V
-
-    :cond_88
-    const/4 v2, 0x4
-
-    move-object/from16 v0, p0
-
-    invoke-direct {v0, v12, v2}, Lcom/google/android/mms/pdu/PduPersister;->getByteArrayFromPartColumn(Landroid/database/Cursor;I)[B
-
-    move-result-object v16
-
-    if-eqz v16, :cond_98
-
-    move-object/from16 v0, v23
-
-    move-object/from16 v1, v16
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduPart;->setContentLocation([B)V
-
-    :cond_98
-    const/4 v2, 0x5
-
-    move-object/from16 v0, p0
-
-    invoke-direct {v0, v12, v2}, Lcom/google/android/mms/pdu/PduPersister;->getByteArrayFromPartColumn(Landroid/database/Cursor;I)[B
-
-    move-result-object v17
-
-    if-eqz v17, :cond_153
-
-    move-object/from16 v0, v23
-
-    move-object/from16 v1, v17
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduPart;->setContentType([B)V
-
-    const/4 v2, 0x6
-
-    move-object/from16 v0, p0
-
-    invoke-direct {v0, v12, v2}, Lcom/google/android/mms/pdu/PduPersister;->getByteArrayFromPartColumn(Landroid/database/Cursor;I)[B
-
-    move-result-object v19
-
-    if-eqz v19, :cond_b8
-
-    move-object/from16 v0, v23
-
-    move-object/from16 v1, v19
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduPart;->setFilename([B)V
-
-    :cond_b8
-    const/4 v2, 0x7
-
-    move-object/from16 v0, p0
-
-    invoke-direct {v0, v12, v2}, Lcom/google/android/mms/pdu/PduPersister;->getByteArrayFromPartColumn(Landroid/database/Cursor;I)[B
-
-    move-result-object v22
-
-    if-eqz v22, :cond_c8
-
-    move-object/from16 v0, v23
-
-    move-object/from16 v1, v22
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduPart;->setName([B)V
-
-    :cond_c8
-    const/4 v2, 0x0
-
-    invoke-interface {v12, v2}, Landroid/database/Cursor;->getLong(I)J
-
-    move-result-wide v25
-
-    new-instance v2, Ljava/lang/StringBuilder;
-
-    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v3, "content://mms/part/"
-
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v2
-
-    move-wide/from16 v0, v25
-
-    invoke-virtual {v2, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
-
-    move-result-object v2
-
-    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v2
-
-    invoke-static {v2}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;
-
-    move-result-object v29
-
-    move-object/from16 v0, v23
-
-    move-object/from16 v1, v29
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduPart;->setDataUri(Landroid/net/Uri;)V
-
-    invoke-static/range {v17 .. v17}, Lcom/google/android/mms/pdu/PduPersister;->toIsoString([B)Ljava/lang/String;
-
-    move-result-object v32
-
-    invoke-static/range {v32 .. v32}, Lcom/google/android/mms/ContentType;->isImageType(Ljava/lang/String;)Z
-
-    move-result v2
-
-    if-nez v2, :cond_14b
-
-    invoke-static/range {v32 .. v32}, Lcom/google/android/mms/ContentType;->isAudioType(Ljava/lang/String;)Z
-
-    move-result v2
-
-    if-nez v2, :cond_14b
-
-    invoke-static/range {v32 .. v32}, Lcom/google/android/mms/ContentType;->isVideoType(Ljava/lang/String;)Z
-
-    move-result v2
-
-    if-nez v2, :cond_14b
-
-    new-instance v9, Ljava/io/ByteArrayOutputStream;
-
-    invoke-direct {v9}, Ljava/io/ByteArrayOutputStream;-><init>()V
-
-    const/16 v20, 0x0
-
-    const-string/jumbo v2, "text/plain"
-
-    move-object/from16 v0, v32
-
-    invoke-virtual {v2, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v2
-
-    if-nez v2, :cond_12a
-
-    const-string v2, "application/smil"
-
-    move-object/from16 v0, v32
-
-    invoke-virtual {v2, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v2
-
-    if-nez v2, :cond_12a
-
-    const-string/jumbo v2, "text/html"
-
-    move-object/from16 v0, v32
-
-    invoke-virtual {v2, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v2
-
-    if-eqz v2, :cond_165
-
-    :cond_12a
-    const/16 v2, 0x8
-
-    invoke-interface {v12, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
-
-    move-result-object v31
-
-    new-instance v2, Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    if-eqz v31, :cond_162
-
-    :goto_134
-    move-object/from16 v0, v31
-
-    invoke-direct {v2, v0}, Lcom/google/android/mms/pdu/EncodedStringValue;-><init>(Ljava/lang/String;)V
-
-    invoke-virtual {v2}, Lcom/google/android/mms/pdu/EncodedStringValue;->getTextString()[B
-
-    move-result-object v10
-
-    const/4 v2, 0x0
-
-    array-length v3, v10
-
-    invoke-virtual {v9, v10, v2, v3}, Ljava/io/ByteArrayOutputStream;->write([BII)V
-
-    :cond_142
-    :goto_142
-    invoke-virtual {v9}, Ljava/io/ByteArrayOutputStream;->toByteArray()[B
-
-    move-result-object v2
-
-    move-object/from16 v0, v23
-
-    invoke-virtual {v0, v2}, Lcom/google/android/mms/pdu/PduPart;->setData([B)V
-
-    :cond_14b
-    add-int/lit8 v27, v28, 0x1
-
-    aput-object v23, v30, v28
-
-    move/from16 v28, v27
-
-    goto/16 :goto_4f
-
-    :cond_153
-    new-instance v2, Lcom/google/android/mms/MmsException;
-
-    const-string v3, "Content-Type must be set."
-
-    invoke-direct {v2, v3}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/String;)V
-
-    throw v2
-    :try_end_15b
-    .catchall {:try_start_41 .. :try_end_15b} :catchall_15b
-
-    :catchall_15b
-    move-exception v2
-
-    if-eqz v12, :cond_161
-
-    invoke-interface {v12}, Landroid/database/Cursor;->close()V
-
-    :cond_161
-    throw v2
-
-    :cond_162
-    :try_start_162
-    const-string v31, ""
-    :try_end_164
-    .catchall {:try_start_162 .. :try_end_164} :catchall_15b
-
-    goto :goto_134
-
-    :cond_165
-    :try_start_165
-    move-object/from16 v0, p0
-
-    iget-object v2, v0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    move-object/from16 v0, v29
-
-    invoke-virtual {v2, v0}, Landroid/content/ContentResolver;->openInputStream(Landroid/net/Uri;)Ljava/io/InputStream;
-
-    move-result-object v20
-
-    const/16 v2, 0x100
-
-    new-array v11, v2, [B
-
-    move-object/from16 v0, v20
-
-    invoke-virtual {v0, v11}, Ljava/io/InputStream;->read([B)I
-
-    move-result v21
-
-    :goto_179
-    if-ltz v21, :cond_188
-
-    const/4 v2, 0x0
-
-    move/from16 v0, v21
-
-    invoke-virtual {v9, v11, v2, v0}, Ljava/io/ByteArrayOutputStream;->write([BII)V
-
-    move-object/from16 v0, v20
-
-    invoke-virtual {v0, v11}, Ljava/io/InputStream;->read([B)I
-    :try_end_186
-    .catchall {:try_start_165 .. :try_end_186} :catchall_1ae
-    .catch Ljava/io/IOException; {:try_start_165 .. :try_end_186} :catch_199
-
-    move-result v21
-
-    goto :goto_179
-
-    :cond_188
-    if-eqz v20, :cond_142
-
-    :try_start_18a
-    invoke-virtual/range {v20 .. v20}, Ljava/io/InputStream;->close()V
-    :try_end_18d
-    .catchall {:try_start_18a .. :try_end_18d} :catchall_15b
-    .catch Ljava/io/IOException; {:try_start_18a .. :try_end_18d} :catch_18e
-
-    goto :goto_142
-
-    :catch_18e
-    move-exception v18
-
-    :try_start_18f
-    const-string v2, "PduPersister"
-
-    const-string v3, "Failed to close stream"
-
-    move-object/from16 v0, v18
-
-    invoke-static {v2, v3, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_198
-    .catchall {:try_start_18f .. :try_end_198} :catchall_15b
-
-    goto :goto_142
-
-    :catch_199
-    move-exception v18
-
-    :try_start_19a
-    const-string v2, "PduPersister"
-
-    const-string v3, "Failed to load part data"
-
-    move-object/from16 v0, v18
-
-    invoke-static {v2, v3, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    invoke-interface {v12}, Landroid/database/Cursor;->close()V
-
-    new-instance v2, Lcom/google/android/mms/MmsException;
-
-    move-object/from16 v0, v18
-
-    invoke-direct {v2, v0}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/Throwable;)V
-
-    throw v2
-    :try_end_1ae
-    .catchall {:try_start_19a .. :try_end_1ae} :catchall_1ae
-
-    :catchall_1ae
-    move-exception v2
-
-    if-eqz v20, :cond_1b4
-
-    :try_start_1b1
-    invoke-virtual/range {v20 .. v20}, Ljava/io/InputStream;->close()V
-    :try_end_1b4
-    .catchall {:try_start_1b1 .. :try_end_1b4} :catchall_15b
-    .catch Ljava/io/IOException; {:try_start_1b1 .. :try_end_1b4} :catch_1b5
-
-    :cond_1b4
-    :goto_1b4
-    :try_start_1b4
-    throw v2
-
-    :catch_1b5
-    move-exception v18
-
-    const-string v3, "PduPersister"
-
-    const-string v4, "Failed to close stream"
-
-    move-object/from16 v0, v18
-
-    invoke-static {v3, v4, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_1bf
-    .catchall {:try_start_1b4 .. :try_end_1bf} :catchall_15b
-
-    goto :goto_1b4
-
-    :cond_1c0
-    if-eqz v12, :cond_1c5
-
-    invoke-interface {v12}, Landroid/database/Cursor;->close()V
-
-    :cond_1c5
-    move-object/from16 v2, v30
-
-    goto/16 :goto_40
-.end method
-
-.method private persistAddress(JI[Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 13
-
-    new-instance v5, Landroid/content/ContentValues;
-
-    const/4 v6, 0x3
-
-    invoke-direct {v5, v6}, Landroid/content/ContentValues;-><init>(I)V
-
-    move-object v1, p4
-
-    array-length v3, v1
-
-    const/4 v2, 0x0
-
-    :goto_9
-    if-ge v2, v3, :cond_5b
-
-    aget-object v0, v1, v2
-
-    invoke-virtual {v5}, Landroid/content/ContentValues;->clear()V
-
-    const-string v6, "address"
-
-    invoke-virtual {v0}, Lcom/google/android/mms/pdu/EncodedStringValue;->getTextString()[B
-
-    move-result-object v7
-
-    invoke-static {v7}, Lcom/google/android/mms/pdu/PduPersister;->toIsoString([B)Ljava/lang/String;
-
-    move-result-object v7
-
-    invoke-virtual {v5, v6, v7}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    const-string v6, "charset"
-
-    invoke-virtual {v0}, Lcom/google/android/mms/pdu/EncodedStringValue;->getCharacterSet()I
-
-    move-result v7
-
-    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v7
-
-    invoke-virtual {v5, v6, v7}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
-
-    const-string/jumbo v6, "type"
-
-    invoke-static {p3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v7
-
-    invoke-virtual {v5, v6, v7}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
-
-    new-instance v6, Ljava/lang/StringBuilder;
-
-    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v7, "content://mms/"
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    invoke-virtual {v6, p1, p2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    const-string v7, "/addr"
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v6
-
-    invoke-static {v6}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;
-
-    move-result-object v4
-
-    iget-object v6, p0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    iget-object v7, p0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    invoke-static {v6, v7, v4, v5}, Lcom/google/android/mms/util/SqliteWrapper;->insert(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/net/Uri;
-
-    add-int/lit8 v2, v2, 0x1
-
-    goto :goto_9
-
-    :cond_5b
-    return-void
-.end method
-
-.method private persistData(Lcom/google/android/mms/pdu/PduPart;Landroid/net/Uri;Ljava/lang/String;)V
-    .registers 27
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/MmsException;
-        }
-    .end annotation
-
-    const/16 v20, 0x0
-
-    const/16 v16, 0x0
-
-    const/4 v13, 0x0
-
-    const/4 v12, 0x0
-
-    const/16 v21, 0x0
-
-    :try_start_8
-    invoke-virtual/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduPart;->getData()[B
-
-    move-result-object v11
-
-    const-string/jumbo v2, "text/plain"
-
-    move-object/from16 v0, p3
-
-    invoke-virtual {v2, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v2
-
-    if-nez v2, :cond_2c
-
-    const-string v2, "application/smil"
-
-    move-object/from16 v0, p3
-
-    invoke-virtual {v2, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v2
-
-    if-nez v2, :cond_2c
-
-    const-string/jumbo v2, "text/html"
-
-    move-object/from16 v0, p3
-
-    invoke-virtual {v2, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v2
-
-    if-eqz v2, :cond_c5
-
-    :cond_2c
-    new-instance v10, Landroid/content/ContentValues;
-
-    invoke-direct {v10}, Landroid/content/ContentValues;-><init>()V
-
-    const-string/jumbo v2, "text"
-
-    new-instance v3, Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    invoke-direct {v3, v11}, Lcom/google/android/mms/pdu/EncodedStringValue;-><init>([B)V
-
-    invoke-virtual {v3}, Lcom/google/android/mms/pdu/EncodedStringValue;->getString()Ljava/lang/String;
-
-    move-result-object v3
-
-    invoke-virtual {v10, v2, v3}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    move-object/from16 v0, p0
-
-    iget-object v2, v0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    const/4 v3, 0x0
-
-    const/4 v4, 0x0
-
-    move-object/from16 v0, p2
-
-    invoke-virtual {v2, v0, v10, v3, v4}, Landroid/content/ContentResolver;->update(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
-
-    move-result v2
-
-    const/4 v3, 0x1
-
-    if-eq v2, v3, :cond_22a
-
-    new-instance v2, Lcom/google/android/mms/MmsException;
-
-    new-instance v3, Ljava/lang/StringBuilder;
-
-    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string/jumbo v4, "unable to update "
-
-    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    invoke-virtual/range {p2 .. p2}, Landroid/net/Uri;->toString()Ljava/lang/String;
-
-    move-result-object v4
-
-    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v3
-
-    invoke-direct {v2, v3}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/String;)V
-
-    throw v2
-    :try_end_6d
-    .catchall {:try_start_8 .. :try_end_6d} :catchall_7b
-    .catch Ljava/io/FileNotFoundException; {:try_start_8 .. :try_end_6d} :catch_6d
-    .catch Ljava/io/IOException; {:try_start_8 .. :try_end_6d} :catch_179
-
-    :catch_6d
-    move-exception v14
-
-    :try_start_6e
-    const-string v2, "PduPersister"
-
-    const-string v3, "Failed to open Input/Output stream."
-
-    invoke-static {v2, v3, v14}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    new-instance v2, Lcom/google/android/mms/MmsException;
-
-    invoke-direct {v2, v14}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/Throwable;)V
-
-    throw v2
-    :try_end_7b
-    .catchall {:try_start_6e .. :try_end_7b} :catchall_7b
-
-    :catchall_7b
-    move-exception v2
-
-    move-object/from16 v22, v2
-
-    if-eqz v20, :cond_83
-
-    :try_start_80
-    invoke-virtual/range {v20 .. v20}, Ljava/io/OutputStream;->close()V
-    :try_end_83
-    .catch Ljava/io/IOException; {:try_start_80 .. :try_end_83} :catch_286
-
-    :cond_83
-    :goto_83
-    if-eqz v16, :cond_88
-
-    :try_start_85
-    invoke-virtual/range {v16 .. v16}, Ljava/io/InputStream;->close()V
-    :try_end_88
-    .catch Ljava/io/IOException; {:try_start_85 .. :try_end_88} :catch_2a3
-
-    :cond_88
-    :goto_88
-    if-eqz v13, :cond_c4
-
-    move-object/from16 v0, v21
-
-    invoke-virtual {v13, v0}, Lcom/google/android/mms/util/DrmConvertSession;->close(Ljava/lang/String;)I
-
-    new-instance v15, Ljava/io/File;
-
-    move-object/from16 v0, v21
-
-    invoke-direct {v15, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V
-
-    new-instance v5, Landroid/content/ContentValues;
-
-    const/4 v2, 0x0
-
-    invoke-direct {v5, v2}, Landroid/content/ContentValues;-><init>(I)V
-
-    move-object/from16 v0, p0
-
-    iget-object v2, v0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    move-object/from16 v0, p0
-
-    iget-object v3, v0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    new-instance v4, Ljava/lang/StringBuilder;
-
-    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v6, "content://mms/resetFilePerm/"
-
-    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v4
-
-    invoke-virtual {v15}, Ljava/io/File;->getName()Ljava/lang/String;
-
-    move-result-object v6
-
-    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v4
-
-    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v4
-
-    invoke-static {v4}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;
-
-    move-result-object v4
-
-    const/4 v6, 0x0
-
-    const/4 v7, 0x0
-
-    invoke-static/range {v2 .. v7}, Lcom/google/android/mms/util/SqliteWrapper;->update(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
-
-    :cond_c4
-    throw v22
-
-    :cond_c5
-    :try_start_c5
-    invoke-static/range {p3 .. p3}, Lcom/google/android/mms/util/DownloadDrmHelper;->isDrmConvertNeeded(Ljava/lang/String;)Z
-    :try_end_c8
-    .catchall {:try_start_c5 .. :try_end_c8} :catchall_7b
-    .catch Ljava/io/FileNotFoundException; {:try_start_c5 .. :try_end_c8} :catch_6d
-    .catch Ljava/io/IOException; {:try_start_c5 .. :try_end_c8} :catch_179
-
-    move-result v17
-
-    if-eqz v17, :cond_187
-
-    if-eqz p2, :cond_14c
-
-    :try_start_cd
-    move-object/from16 v0, p0
-
-    iget-object v2, v0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    move-object/from16 v0, p2
-
-    invoke-static {v2, v0}, Lcom/google/android/mms/pdu/PduPersister;->convertUriToPath(Landroid/content/Context;Landroid/net/Uri;)Ljava/lang/String;
-
-    move-result-object v21
-
-    new-instance v15, Ljava/io/File;
-
-    move-object/from16 v0, v21
-
-    invoke-direct {v15, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V
-
-    invoke-virtual {v15}, Ljava/io/File;->length()J
-    :try_end_e1
-    .catchall {:try_start_cd .. :try_end_e1} :catchall_7b
-    .catch Ljava/lang/Exception; {:try_start_cd .. :try_end_e1} :catch_12f
-    .catch Ljava/io/FileNotFoundException; {:try_start_cd .. :try_end_e1} :catch_6d
-    .catch Ljava/io/IOException; {:try_start_cd .. :try_end_e1} :catch_179
-
-    move-result-wide v18
-
-    const-wide/16 v2, 0x0
-
-    cmp-long v2, v18, v2
-
-    if-lez v2, :cond_14c
-
-    if-eqz v20, :cond_ed
-
-    :try_start_ea
-    invoke-virtual/range {v20 .. v20}, Ljava/io/OutputStream;->close()V
-    :try_end_ed
-    .catch Ljava/io/IOException; {:try_start_ea .. :try_end_ed} :catch_334
-
-    :cond_ed
-    :goto_ed
-    if-eqz v16, :cond_f2
-
-    :try_start_ef
-    invoke-virtual/range {v16 .. v16}, Ljava/io/InputStream;->close()V
-    :try_end_f2
-    .catch Ljava/io/IOException; {:try_start_ef .. :try_end_f2} :catch_351
-
-    :cond_f2
-    :goto_f2
-    if-eqz v13, :cond_12e
-
-    move-object/from16 v0, v21
-
-    invoke-virtual {v13, v0}, Lcom/google/android/mms/util/DrmConvertSession;->close(Ljava/lang/String;)I
-
-    new-instance v15, Ljava/io/File;
-
-    move-object/from16 v0, v21
-
-    invoke-direct {v15, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V
-
-    new-instance v5, Landroid/content/ContentValues;
-
-    const/4 v2, 0x0
-
-    invoke-direct {v5, v2}, Landroid/content/ContentValues;-><init>(I)V
-
-    move-object/from16 v0, p0
-
-    iget-object v2, v0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    move-object/from16 v0, p0
-
-    iget-object v3, v0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    new-instance v4, Ljava/lang/StringBuilder;
-
-    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v6, "content://mms/resetFilePerm/"
-
-    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v4
-
-    invoke-virtual {v15}, Ljava/io/File;->getName()Ljava/lang/String;
-
-    move-result-object v6
-
-    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v4
-
-    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v4
-
-    invoke-static {v4}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;
-
-    move-result-object v4
-
-    :goto_129
-    const/4 v6, 0x0
-
-    const/4 v7, 0x0
-
-    invoke-static/range {v2 .. v7}, Lcom/google/android/mms/util/SqliteWrapper;->update(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
-
-    :cond_12e
-    return-void
-
-    :catch_12f
-    move-exception v14
-
-    :try_start_130
-    const-string v2, "PduPersister"
-
-    new-instance v3, Ljava/lang/StringBuilder;
-
-    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v4, "Can\'t get file info for: "
-
-    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    invoke-virtual/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduPart;->getDataUri()Landroid/net/Uri;
-
-    move-result-object v4
-
-    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v3
-
-    invoke-static {v2, v3, v14}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    :cond_14c
-    move-object/from16 v0, p0
-
-    iget-object v2, v0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    move-object/from16 v0, p3
-
-    invoke-static {v2, v0}, Lcom/google/android/mms/util/DrmConvertSession;->open(Landroid/content/Context;Ljava/lang/String;)Lcom/google/android/mms/util/DrmConvertSession;
-
-    move-result-object v13
-
-    if-nez v13, :cond_187
-
-    new-instance v2, Lcom/google/android/mms/MmsException;
-
-    new-instance v3, Ljava/lang/StringBuilder;
-
-    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v4, "Mimetype "
-
-    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    move-object/from16 v0, p3
-
-    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    const-string v4, " can not be converted."
-
-    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v3
-
-    invoke-direct {v2, v3}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/String;)V
-
-    throw v2
-    :try_end_179
-    .catchall {:try_start_130 .. :try_end_179} :catchall_7b
-    .catch Ljava/io/FileNotFoundException; {:try_start_130 .. :try_end_179} :catch_6d
-    .catch Ljava/io/IOException; {:try_start_130 .. :try_end_179} :catch_179
-
-    :catch_179
-    move-exception v14
-
-    :try_start_17a
-    const-string v2, "PduPersister"
-
-    const-string v3, "Failed to read/write data."
-
-    invoke-static {v2, v3, v14}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    new-instance v2, Lcom/google/android/mms/MmsException;
-
-    invoke-direct {v2, v14}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/Throwable;)V
-
-    throw v2
-    :try_end_187
-    .catchall {:try_start_17a .. :try_end_187} :catchall_7b
-
-    :cond_187
-    :try_start_187
-    move-object/from16 v0, p0
-
-    iget-object v2, v0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    move-object/from16 v0, p2
-
-    invoke-virtual {v2, v0}, Landroid/content/ContentResolver;->openOutputStream(Landroid/net/Uri;)Ljava/io/OutputStream;
-
-    move-result-object v20
-
-    if-nez v11, :cond_223
-
-    invoke-virtual/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduPart;->getDataUri()Landroid/net/Uri;
-
-    move-result-object v12
-
-    if-eqz v12, :cond_19d
-
-    move-object/from16 v0, p2
-
-    if-ne v12, v0, :cond_1e7
-
-    :cond_19d
-    const-string v2, "PduPersister"
-
-    const-string v3, "Can\'t find data for this part."
-
-    invoke-static {v2, v3}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
-    :try_end_1a4
-    .catchall {:try_start_187 .. :try_end_1a4} :catchall_7b
-    .catch Ljava/io/FileNotFoundException; {:try_start_187 .. :try_end_1a4} :catch_6d
-    .catch Ljava/io/IOException; {:try_start_187 .. :try_end_1a4} :catch_179
-
-    if-eqz v20, :cond_1a9
-
-    :try_start_1a6
-    invoke-virtual/range {v20 .. v20}, Ljava/io/OutputStream;->close()V
-    :try_end_1a9
-    .catch Ljava/io/IOException; {:try_start_1a6 .. :try_end_1a9} :catch_2fa
-
-    :cond_1a9
-    :goto_1a9
-    if-eqz v16, :cond_1ae
-
-    :try_start_1ab
-    invoke-virtual/range {v16 .. v16}, Ljava/io/InputStream;->close()V
-    :try_end_1ae
-    .catch Ljava/io/IOException; {:try_start_1ab .. :try_end_1ae} :catch_317
-
-    :cond_1ae
-    :goto_1ae
-    if-eqz v13, :cond_12e
-
-    move-object/from16 v0, v21
-
-    invoke-virtual {v13, v0}, Lcom/google/android/mms/util/DrmConvertSession;->close(Ljava/lang/String;)I
-
-    new-instance v15, Ljava/io/File;
-
-    move-object/from16 v0, v21
-
-    invoke-direct {v15, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V
-
-    new-instance v5, Landroid/content/ContentValues;
-
-    const/4 v2, 0x0
-
-    invoke-direct {v5, v2}, Landroid/content/ContentValues;-><init>(I)V
-
-    move-object/from16 v0, p0
-
-    iget-object v2, v0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    move-object/from16 v0, p0
-
-    iget-object v3, v0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    new-instance v4, Ljava/lang/StringBuilder;
-
-    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v6, "content://mms/resetFilePerm/"
-
-    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v4
-
-    invoke-virtual {v15}, Ljava/io/File;->getName()Ljava/lang/String;
-
-    move-result-object v6
-
-    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v4
-
-    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v4
-
-    invoke-static {v4}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;
-
-    move-result-object v4
-
-    goto/16 :goto_129
-
-    :cond_1e7
-    :try_start_1e7
-    move-object/from16 v0, p0
-
-    iget-object v2, v0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    invoke-virtual {v2, v12}, Landroid/content/ContentResolver;->openInputStream(Landroid/net/Uri;)Ljava/io/InputStream;
-
-    move-result-object v16
-
-    const/16 v2, 0x2000
-
-    new-array v8, v2, [B
-
-    const/16 v18, 0x0
-
-    :goto_1f5
-    move-object/from16 v0, v16
-
-    invoke-virtual {v0, v8}, Ljava/io/InputStream;->read([B)I
-
-    move-result v18
-
-    const/4 v2, -0x1
-
-    move/from16 v0, v18
-
-    if-eq v0, v2, :cond_22a
-
-    if-nez v17, :cond_20b
-
-    const/4 v2, 0x0
-
-    move-object/from16 v0, v20
-
-    move/from16 v1, v18
-
-    invoke-virtual {v0, v8, v2, v1}, Ljava/io/OutputStream;->write([BII)V
-
-    goto :goto_1f5
-
-    :cond_20b
-    move/from16 v0, v18
-
-    invoke-virtual {v13, v8, v0}, Lcom/google/android/mms/util/DrmConvertSession;->convert([BI)[B
-
-    move-result-object v9
-
-    if-eqz v9, :cond_21b
-
-    const/4 v2, 0x0
-
-    array-length v3, v9
-
-    move-object/from16 v0, v20
-
-    invoke-virtual {v0, v9, v2, v3}, Ljava/io/OutputStream;->write([BII)V
-
-    goto :goto_1f5
-
-    :cond_21b
-    new-instance v2, Lcom/google/android/mms/MmsException;
-
-    const-string v3, "Error converting drm data."
-
-    invoke-direct {v2, v3}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/String;)V
-
-    throw v2
-
-    :cond_223
-    if-nez v17, :cond_26d
-
-    move-object/from16 v0, v20
-
-    invoke-virtual {v0, v11}, Ljava/io/OutputStream;->write([B)V
-    :try_end_22a
-    .catchall {:try_start_1e7 .. :try_end_22a} :catchall_7b
-    .catch Ljava/io/FileNotFoundException; {:try_start_1e7 .. :try_end_22a} :catch_6d
-    .catch Ljava/io/IOException; {:try_start_1e7 .. :try_end_22a} :catch_179
-
-    :cond_22a
-    :goto_22a
-    if-eqz v20, :cond_22f
-
-    :try_start_22c
-    invoke-virtual/range {v20 .. v20}, Ljava/io/OutputStream;->close()V
-    :try_end_22f
-    .catch Ljava/io/IOException; {:try_start_22c .. :try_end_22f} :catch_2c0
-
-    :cond_22f
-    :goto_22f
-    if-eqz v16, :cond_234
-
-    :try_start_231
-    invoke-virtual/range {v16 .. v16}, Ljava/io/InputStream;->close()V
-    :try_end_234
-    .catch Ljava/io/IOException; {:try_start_231 .. :try_end_234} :catch_2dd
-
-    :cond_234
-    :goto_234
-    if-eqz v13, :cond_12e
-
-    move-object/from16 v0, v21
-
-    invoke-virtual {v13, v0}, Lcom/google/android/mms/util/DrmConvertSession;->close(Ljava/lang/String;)I
-
-    new-instance v15, Ljava/io/File;
-
-    move-object/from16 v0, v21
-
-    invoke-direct {v15, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V
-
-    new-instance v5, Landroid/content/ContentValues;
-
-    const/4 v2, 0x0
-
-    invoke-direct {v5, v2}, Landroid/content/ContentValues;-><init>(I)V
-
-    move-object/from16 v0, p0
-
-    iget-object v2, v0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    move-object/from16 v0, p0
-
-    iget-object v3, v0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    new-instance v4, Ljava/lang/StringBuilder;
-
-    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v6, "content://mms/resetFilePerm/"
-
-    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v4
-
-    invoke-virtual {v15}, Ljava/io/File;->getName()Ljava/lang/String;
-
-    move-result-object v6
-
-    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v4
-
-    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v4
-
-    invoke-static {v4}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;
-
-    move-result-object v4
-
-    goto/16 :goto_129
-
-    :cond_26d
-    move-object/from16 v12, p2
-
-    :try_start_26f
-    array-length v2, v11
-
-    invoke-virtual {v13, v11, v2}, Lcom/google/android/mms/util/DrmConvertSession;->convert([BI)[B
-
-    move-result-object v9
-
-    if-eqz v9, :cond_27e
-
-    const/4 v2, 0x0
-
-    array-length v3, v9
-
-    move-object/from16 v0, v20
-
-    invoke-virtual {v0, v9, v2, v3}, Ljava/io/OutputStream;->write([BII)V
-
-    goto :goto_22a
-
-    :cond_27e
-    new-instance v2, Lcom/google/android/mms/MmsException;
-
-    const-string v3, "Error converting drm data."
-
-    invoke-direct {v2, v3}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/String;)V
-
-    throw v2
-    :try_end_286
-    .catchall {:try_start_26f .. :try_end_286} :catchall_7b
-    .catch Ljava/io/FileNotFoundException; {:try_start_26f .. :try_end_286} :catch_6d
-    .catch Ljava/io/IOException; {:try_start_26f .. :try_end_286} :catch_179
-
-    :catch_286
-    move-exception v14
-
-    const-string v2, "PduPersister"
-
-    new-instance v3, Ljava/lang/StringBuilder;
-
-    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v4, "IOException while closing: "
-
-    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    move-object/from16 v0, v20
-
-    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v3
-
-    invoke-static {v2, v3, v14}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto/16 :goto_83
-
-    :catch_2a3
-    move-exception v14
-
-    const-string v2, "PduPersister"
-
-    new-instance v3, Ljava/lang/StringBuilder;
-
-    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v4, "IOException while closing: "
-
-    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    move-object/from16 v0, v16
-
-    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v3
-
-    invoke-static {v2, v3, v14}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto/16 :goto_88
-
-    :catch_2c0
-    move-exception v14
-
-    const-string v2, "PduPersister"
-
-    new-instance v3, Ljava/lang/StringBuilder;
-
-    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v4, "IOException while closing: "
-
-    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    move-object/from16 v0, v20
-
-    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v3
-
-    invoke-static {v2, v3, v14}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto/16 :goto_22f
-
-    :catch_2dd
-    move-exception v14
-
-    const-string v2, "PduPersister"
-
-    new-instance v3, Ljava/lang/StringBuilder;
-
-    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v4, "IOException while closing: "
-
-    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    move-object/from16 v0, v16
-
-    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v3
-
-    invoke-static {v2, v3, v14}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto/16 :goto_234
-
-    :catch_2fa
-    move-exception v14
-
-    const-string v2, "PduPersister"
-
-    new-instance v3, Ljava/lang/StringBuilder;
-
-    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v4, "IOException while closing: "
-
-    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    move-object/from16 v0, v20
-
-    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v3
-
-    invoke-static {v2, v3, v14}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto/16 :goto_1a9
-
-    :catch_317
-    move-exception v14
-
-    const-string v2, "PduPersister"
-
-    new-instance v3, Ljava/lang/StringBuilder;
-
-    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v4, "IOException while closing: "
-
-    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    move-object/from16 v0, v16
-
-    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v3
-
-    invoke-static {v2, v3, v14}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto/16 :goto_1ae
-
-    :catch_334
-    move-exception v14
-
-    const-string v2, "PduPersister"
-
-    new-instance v3, Ljava/lang/StringBuilder;
-
-    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v4, "IOException while closing: "
-
-    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    move-object/from16 v0, v20
-
-    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v3
-
-    invoke-static {v2, v3, v14}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto/16 :goto_ed
-
-    :catch_351
-    move-exception v14
-
-    const-string v2, "PduPersister"
-
-    new-instance v3, Ljava/lang/StringBuilder;
-
-    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v4, "IOException while closing: "
-
-    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    move-object/from16 v0, v16
-
-    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v3
-
-    invoke-static {v2, v3, v14}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto/16 :goto_f2
-.end method
-
-.method private setEncodedStringValueToHeaders(Landroid/database/Cursor;ILcom/google/android/mms/pdu/PduHeaders;I)V
-    .registers 11
-
-    invoke-interface {p1, p2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
-
-    move-result-object v2
-
-    if-eqz v2, :cond_2c
-
-    invoke-virtual {v2}, Ljava/lang/String;->length()I
-
-    move-result v4
-
-    if-lez v4, :cond_2c
-
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->CHARSET_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    invoke-static {p4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v5
-
-    invoke-virtual {v4, v5}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, Ljava/lang/Integer;
-
-    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I
-
-    move-result v1
-
-    invoke-interface {p1, v1}, Landroid/database/Cursor;->getInt(I)I
-
-    move-result v0
-
-    new-instance v3, Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    invoke-static {v2}, Lcom/google/android/mms/pdu/PduPersister;->getBytes(Ljava/lang/String;)[B
-
-    move-result-object v4
-
-    invoke-direct {v3, v0, v4}, Lcom/google/android/mms/pdu/EncodedStringValue;-><init>(I[B)V
-
-    invoke-virtual {p3, v3, p4}, Lcom/google/android/mms/pdu/PduHeaders;->setEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-
-    :cond_2c
-    return-void
-.end method
-
-.method private setLongToHeaders(Landroid/database/Cursor;ILcom/google/android/mms/pdu/PduHeaders;I)V
-    .registers 8
-
-    invoke-interface {p1, p2}, Landroid/database/Cursor;->isNull(I)Z
-
-    move-result v2
-
-    if-nez v2, :cond_d
-
-    invoke-interface {p1, p2}, Landroid/database/Cursor;->getLong(I)J
-
-    move-result-wide v0
-
-    invoke-virtual {p3, v0, v1, p4}, Lcom/google/android/mms/pdu/PduHeaders;->setLongInteger(JI)V
-
-    :cond_d
-    return-void
-.end method
-
-.method private setOctetToHeaders(Landroid/database/Cursor;ILcom/google/android/mms/pdu/PduHeaders;I)V
-    .registers 7
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    invoke-interface {p1, p2}, Landroid/database/Cursor;->isNull(I)Z
-
-    move-result v1
-
-    if-nez v1, :cond_d
-
-    invoke-interface {p1, p2}, Landroid/database/Cursor;->getInt(I)I
-
-    move-result v0
-
-    invoke-virtual {p3, v0, p4}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-
-    :cond_d
-    return-void
-.end method
-
-.method private setTextStringToHeaders(Landroid/database/Cursor;ILcom/google/android/mms/pdu/PduHeaders;I)V
-    .registers 7
-
-    invoke-interface {p1, p2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
-
-    move-result-object v0
-
-    if-eqz v0, :cond_d
-
-    invoke-static {v0}, Lcom/google/android/mms/pdu/PduPersister;->getBytes(Ljava/lang/String;)[B
-
-    move-result-object v1
-
-    invoke-virtual {p3, v1, p4}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-
-    :cond_d
-    return-void
-.end method
-
-.method public static toIsoString([B)Ljava/lang/String;
-    .registers 4
-
-    :try_start_0
-    new-instance v1, Ljava/lang/String;
-
-    const-string v2, "iso-8859-1"
-
-    invoke-direct {v1, p0, v2}, Ljava/lang/String;-><init>([BLjava/lang/String;)V
-    :try_end_7
-    .catch Ljava/io/UnsupportedEncodingException; {:try_start_0 .. :try_end_7} :catch_8
-
-    :goto_7
-    return-object v1
-
-    :catch_8
-    move-exception v0
-
-    const-string v1, "PduPersister"
-
-    const-string v2, "ISO_8859_1 must be supported!"
-
-    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    const-string v1, ""
-
-    goto :goto_7
-.end method
-
-.method private updateAddress(JI[Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 10
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    new-instance v2, Ljava/lang/StringBuilder;
-
-    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v3, "content://mms/"
-
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v2
-
-    invoke-virtual {v2, p1, p2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
-
-    move-result-object v2
-
-    const-string v3, "/addr"
-
-    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v2
-
-    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v2
-
-    invoke-static {v2}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;
-
-    move-result-object v2
-
-    new-instance v3, Ljava/lang/StringBuilder;
-
-    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string/jumbo v4, "type="
-
-    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    invoke-virtual {v3, p3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v3
-
-    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v3
-
-    const/4 v4, 0x0
-
-    invoke-static {v0, v1, v2, v3, v4}, Lcom/google/android/mms/util/SqliteWrapper;->delete(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I
-
-    invoke-direct {p0, p1, p2, p3, p4}, Lcom/google/android/mms/pdu/PduPersister;->persistAddress(JI[Lcom/google/android/mms/pdu/EncodedStringValue;)V
-
-    return-void
-.end method
-
-.method private updatePart(Landroid/net/Uri;Lcom/google/android/mms/pdu/PduPart;)V
-    .registers 14
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/MmsException;
-        }
-    .end annotation
-
-    const/4 v4, 0x0
-
-    new-instance v3, Landroid/content/ContentValues;
-
-    const/4 v0, 0x7
-
-    invoke-direct {v3, v0}, Landroid/content/ContentValues;-><init>(I)V
-
-    invoke-virtual {p2}, Lcom/google/android/mms/pdu/PduPart;->getCharset()I
-
-    move-result v6
-
-    if-eqz v6, :cond_16
-
-    const-string v0, "chset"
-
-    invoke-static {v6}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-virtual {v3, v0, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
-
-    :cond_16
-    const/4 v7, 0x0
-
-    invoke-virtual {p2}, Lcom/google/android/mms/pdu/PduPart;->getContentType()[B
-
-    move-result-object v0
-
-    if-eqz v0, :cond_ac
-
-    invoke-virtual {p2}, Lcom/google/android/mms/pdu/PduPart;->getContentType()[B
-
-    move-result-object v0
-
-    invoke-static {v0}, Lcom/google/android/mms/pdu/PduPersister;->toIsoString([B)Ljava/lang/String;
-
-    move-result-object v7
-
-    const-string v0, "ct"
-
-    invoke-virtual {v3, v0, v7}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    invoke-virtual {p2}, Lcom/google/android/mms/pdu/PduPart;->getFilename()[B
-
-    move-result-object v0
-
-    if-eqz v0, :cond_3e
-
-    new-instance v8, Ljava/lang/String;
-
-    invoke-virtual {p2}, Lcom/google/android/mms/pdu/PduPart;->getFilename()[B
-
-    move-result-object v0
-
-    invoke-direct {v8, v0}, Ljava/lang/String;-><init>([B)V
-
-    const-string v0, "fn"
-
-    invoke-virtual {v3, v0, v8}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    :cond_3e
-    invoke-virtual {p2}, Lcom/google/android/mms/pdu/PduPart;->getName()[B
-
-    move-result-object v0
-
-    if-eqz v0, :cond_53
-
-    new-instance v9, Ljava/lang/String;
-
-    invoke-virtual {p2}, Lcom/google/android/mms/pdu/PduPart;->getName()[B
-
-    move-result-object v0
-
-    invoke-direct {v9, v0}, Ljava/lang/String;-><init>([B)V
-
-    const-string/jumbo v0, "name"
-
-    invoke-virtual {v3, v0, v9}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    :cond_53
-    const/4 v10, 0x0
-
-    invoke-virtual {p2}, Lcom/google/android/mms/pdu/PduPart;->getContentDisposition()[B
-
-    move-result-object v0
-
-    if-eqz v0, :cond_69
-
-    invoke-virtual {p2}, Lcom/google/android/mms/pdu/PduPart;->getContentDisposition()[B
-
-    move-result-object v0
-
-    invoke-static {v0}, Lcom/google/android/mms/pdu/PduPersister;->toIsoString([B)Ljava/lang/String;
-
-    move-result-object v10
-
-    const-string v0, "cd"
-
-    check-cast v10, Ljava/lang/String;
-
-    invoke-virtual {v3, v0, v10}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    :cond_69
-    invoke-virtual {p2}, Lcom/google/android/mms/pdu/PduPart;->getContentId()[B
-
-    move-result-object v0
-
-    if-eqz v0, :cond_7e
-
-    invoke-virtual {p2}, Lcom/google/android/mms/pdu/PduPart;->getContentId()[B
-
-    move-result-object v0
-
-    invoke-static {v0}, Lcom/google/android/mms/pdu/PduPersister;->toIsoString([B)Ljava/lang/String;
-
-    move-result-object v10
-
-    const-string v0, "cid"
-
-    check-cast v10, Ljava/lang/String;
-
-    invoke-virtual {v3, v0, v10}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    :cond_7e
-    invoke-virtual {p2}, Lcom/google/android/mms/pdu/PduPart;->getContentLocation()[B
-
-    move-result-object v0
-
-    if-eqz v0, :cond_93
-
-    invoke-virtual {p2}, Lcom/google/android/mms/pdu/PduPart;->getContentLocation()[B
-
-    move-result-object v0
-
-    invoke-static {v0}, Lcom/google/android/mms/pdu/PduPersister;->toIsoString([B)Ljava/lang/String;
-
-    move-result-object v10
-
-    const-string v0, "cl"
-
-    check-cast v10, Ljava/lang/String;
-
-    invoke-virtual {v3, v0, v10}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    :cond_93
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    move-object v2, p1
-
-    move-object v5, v4
-
-    invoke-static/range {v0 .. v5}, Lcom/google/android/mms/util/SqliteWrapper;->update(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
-
-    invoke-virtual {p2}, Lcom/google/android/mms/pdu/PduPart;->getData()[B
-
-    move-result-object v0
-
-    if-nez v0, :cond_a8
-
-    invoke-virtual {p2}, Lcom/google/android/mms/pdu/PduPart;->getDataUri()Landroid/net/Uri;
-
-    move-result-object v0
-
-    if-eq p1, v0, :cond_ab
-
-    :cond_a8
-    invoke-direct {p0, p2, p1, v7}, Lcom/google/android/mms/pdu/PduPersister;->persistData(Lcom/google/android/mms/pdu/PduPart;Landroid/net/Uri;Ljava/lang/String;)V
-
-    :cond_ab
-    return-void
-
-    :cond_ac
-    new-instance v0, Lcom/google/android/mms/MmsException;
-
-    const-string v1, "MIME type of the part must be set."
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-.end method
-
-
-# virtual methods
-.method public getPendingMessages(J)Landroid/database/Cursor;
-    .registers 11
-
-    sget-object v0, Landroid/provider/Telephony$MmsSms$PendingMessages;->CONTENT_URI:Landroid/net/Uri;
-
-    invoke-virtual {v0}, Landroid/net/Uri;->buildUpon()Landroid/net/Uri$Builder;
-
-    move-result-object v7
-
-    const-string/jumbo v0, "protocol"
-
-    const-string/jumbo v1, "mms"
-
-    invoke-virtual {v7, v0, v1}, Landroid/net/Uri$Builder;->appendQueryParameter(Ljava/lang/String;Ljava/lang/String;)Landroid/net/Uri$Builder;
-
-    const-string v4, "err_type < ? AND due_time <= ?"
-
-    const/4 v0, 0x2
-
-    new-array v5, v0, [Ljava/lang/String;
-
-    const/4 v0, 0x0
-
-    const/16 v1, 0xa
-
-    invoke-static {v1}, Ljava/lang/String;->valueOf(I)Ljava/lang/String;
-
-    move-result-object v1
-
-    aput-object v1, v5, v0
-
-    const/4 v0, 0x1
-
-    invoke-static {p1, p2}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;
-
-    move-result-object v1
-
-    aput-object v1, v5, v0
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    invoke-virtual {v7}, Landroid/net/Uri$Builder;->build()Landroid/net/Uri;
-
-    move-result-object v2
-
-    const/4 v3, 0x0
-
-    const-string v6, "due_time"
-
-    invoke-static/range {v0 .. v6}, Lcom/google/android/mms/util/SqliteWrapper;->query(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public load(Landroid/net/Uri;)Lcom/google/android/mms/pdu/GenericPdu;
-    .registers 33
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/MmsException;
-        }
-    .end annotation
-
-    const/16 v26, 0x0
-
-    const/4 v13, 0x0
-
-    const/16 v20, 0x0
-
-    const-wide/16 v29, -0x1
-
-    :try_start_7
-    sget-object v5, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    monitor-enter v5
-    :try_end_a
-    .catchall {:try_start_7 .. :try_end_a} :catchall_54
-
-    :try_start_a
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    move-object/from16 v0, p1
-
-    invoke-virtual {v4, v0}, Lcom/google/android/mms/util/PduCache;->isUpdating(Landroid/net/Uri;)Z
-    :try_end_11
-    .catchall {:try_start_a .. :try_end_11} :catchall_51
-
-    move-result v4
-
-    if-eqz v4, :cond_71
-
-    :try_start_14
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    invoke-virtual {v4}, Ljava/lang/Object;->wait()V
-    :try_end_19
-    .catchall {:try_start_14 .. :try_end_19} :catchall_51
-    .catch Ljava/lang/InterruptedException; {:try_start_14 .. :try_end_19} :catch_48
-
-    :goto_19
-    :try_start_19
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    move-object/from16 v0, p1
-
-    invoke-virtual {v4, v0}, Lcom/google/android/mms/util/PduCache;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v4
-
-    move-object v0, v4
-
-    check-cast v0, Lcom/google/android/mms/util/PduCacheEntry;
-
-    move-object v13, v0
-
-    if-eqz v13, :cond_71
-
-    invoke-virtual {v13}, Lcom/google/android/mms/util/PduCacheEntry;->getPdu()Lcom/google/android/mms/pdu/GenericPdu;
-
-    move-result-object v4
-
-    monitor-exit v5
-    :try_end_2c
-    .catchall {:try_start_19 .. :try_end_2c} :catchall_51
-
-    sget-object v5, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    monitor-enter v5
-
-    if-eqz v26, :cond_302
-
-    :try_start_31
-    sget-boolean v6, Lcom/google/android/mms/pdu/PduPersister;->$assertionsDisabled:Z
-
-    if-nez v6, :cond_2ef
-
-    sget-object v6, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    move-object/from16 v0, p1
-
-    invoke-virtual {v6, v0}, Lcom/google/android/mms/util/PduCache;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v6
-
-    if-eqz v6, :cond_2ef
-
-    new-instance v4, Ljava/lang/AssertionError;
-
-    invoke-direct {v4}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v4
-
-    :catchall_45
-    move-exception v4
-
-    :goto_46
-    monitor-exit v5
-    :try_end_47
-    .catchall {:try_start_31 .. :try_end_47} :catchall_45
-
-    throw v4
-
-    :catch_48
-    move-exception v15
-
-    :try_start_49
-    const-string v4, "PduPersister"
-
-    const-string v6, "load: "
-
-    invoke-static {v4, v6, v15}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto :goto_19
-
-    :catchall_51
-    move-exception v4
-
-    :goto_52
-    monitor-exit v5
-    :try_end_53
-    .catchall {:try_start_49 .. :try_end_53} :catchall_51
-
-    :try_start_53
-    throw v4
-    :try_end_54
-    .catchall {:try_start_53 .. :try_end_54} :catchall_54
-
-    :catchall_54
-    move-exception v4
-
-    :goto_55
-    sget-object v5, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    monitor-enter v5
-
-    if-eqz v26, :cond_2bd
-
-    :try_start_5a
-    sget-boolean v6, Lcom/google/android/mms/pdu/PduPersister;->$assertionsDisabled:Z
-
-    if-nez v6, :cond_2aa
-
-    sget-object v6, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    move-object/from16 v0, p1
-
-    invoke-virtual {v6, v0}, Lcom/google/android/mms/util/PduCache;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v6
-
-    if-eqz v6, :cond_2aa
-
-    new-instance v4, Ljava/lang/AssertionError;
-
-    invoke-direct {v4}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v4
-
-    :catchall_6e
-    move-exception v4
-
-    :goto_6f
-    monitor-exit v5
-    :try_end_70
-    .catchall {:try_start_5a .. :try_end_70} :catchall_6e
-
-    throw v4
-
-    :cond_71
-    move-object v14, v13
-
-    :try_start_72
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    const/4 v6, 0x1
-
-    move-object/from16 v0, p1
-
-    invoke-virtual {v4, v0, v6}, Lcom/google/android/mms/util/PduCache;->setUpdating(Landroid/net/Uri;Z)V
-
-    monitor-exit v5
-    :try_end_7b
-    .catchall {:try_start_72 .. :try_end_7b} :catchall_31c
-
-    :try_start_7b
-    move-object/from16 v0, p0
-
-    iget-object v4, v0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    move-object/from16 v0, p0
-
-    iget-object v5, v0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    sget-object v7, Lcom/google/android/mms/pdu/PduPersister;->PDU_PROJECTION:[Ljava/lang/String;
-
-    const/4 v8, 0x0
-
-    const/4 v9, 0x0
-
-    const/4 v10, 0x0
-
-    move-object/from16 v6, p1
-
-    invoke-static/range {v4 .. v10}, Lcom/google/android/mms/util/SqliteWrapper;->query(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
-
-    move-result-object v12
-
-    new-instance v17, Lcom/google/android/mms/pdu/PduHeaders;
-
-    invoke-direct/range {v17 .. v17}, Lcom/google/android/mms/pdu/PduHeaders;-><init>()V
-
-    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J
-    :try_end_96
-    .catchall {:try_start_7b .. :try_end_96} :catchall_c8
-
-    move-result-wide v21
-
-    if-eqz v12, :cond_a6
-
-    :try_start_99
-    invoke-interface {v12}, Landroid/database/Cursor;->getCount()I
-
-    move-result v4
-
-    const/4 v5, 0x1
-
-    if-ne v4, v5, :cond_a6
-
-    invoke-interface {v12}, Landroid/database/Cursor;->moveToFirst()Z
-
-    move-result v4
-
-    if-nez v4, :cond_cb
-
-    :cond_a6
-    new-instance v4, Lcom/google/android/mms/MmsException;
-
-    new-instance v5, Ljava/lang/StringBuilder;
-
-    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v6, "Bad uri: "
-
-    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v5
-
-    move-object/from16 v0, p1
-
-    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
-
-    move-result-object v5
-
-    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v5
-
-    invoke-direct {v4, v5}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/String;)V
-
-    throw v4
-    :try_end_c1
-    .catchall {:try_start_99 .. :try_end_c1} :catchall_c1
-
-    :catchall_c1
-    move-exception v4
-
-    if-eqz v12, :cond_c7
-
-    :try_start_c4
-    invoke-interface {v12}, Landroid/database/Cursor;->close()V
-
-    :cond_c7
-    throw v4
-    :try_end_c8
-    .catchall {:try_start_c4 .. :try_end_c8} :catchall_c8
-
-    :catchall_c8
-    move-exception v4
-
-    move-object v13, v14
-
-    goto :goto_55
-
-    :cond_cb
-    const/4 v4, 0x1
-
-    :try_start_cc
-    invoke-interface {v12, v4}, Landroid/database/Cursor;->getInt(I)I
-
-    move-result v20
-
-    const/4 v4, 0x2
-
-    invoke-interface {v12, v4}, Landroid/database/Cursor;->getLong(I)J
-
-    move-result-wide v29
-
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->ENCODED_STRING_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    invoke-virtual {v4}, Ljava/util/HashMap;->entrySet()Ljava/util/Set;
-
-    move-result-object v28
-
-    invoke-interface/range {v28 .. v28}, Ljava/util/Set;->iterator()Ljava/util/Iterator;
-
-    move-result-object v19
-
-    :goto_df
-    invoke-interface/range {v19 .. v19}, Ljava/util/Iterator;->hasNext()Z
-
-    move-result v4
-
-    if-eqz v4, :cond_107
-
-    invoke-interface/range {v19 .. v19}, Ljava/util/Iterator;->next()Ljava/lang/Object;
-
-    move-result-object v16
-
-    check-cast v16, Ljava/util/Map$Entry;
-
-    invoke-interface/range {v16 .. v16}, Ljava/util/Map$Entry;->getValue()Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, Ljava/lang/Integer;
-
-    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I
-
-    move-result v5
-
-    invoke-interface/range {v16 .. v16}, Ljava/util/Map$Entry;->getKey()Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, Ljava/lang/Integer;
-
-    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I
-
-    move-result v4
-
-    move-object/from16 v0, p0
-
-    move-object/from16 v1, v17
-
-    invoke-direct {v0, v12, v5, v1, v4}, Lcom/google/android/mms/pdu/PduPersister;->setEncodedStringValueToHeaders(Landroid/database/Cursor;ILcom/google/android/mms/pdu/PduHeaders;I)V
-
-    goto :goto_df
-
-    :cond_107
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->TEXT_STRING_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    invoke-virtual {v4}, Ljava/util/HashMap;->entrySet()Ljava/util/Set;
-
-    move-result-object v28
-
-    invoke-interface/range {v28 .. v28}, Ljava/util/Set;->iterator()Ljava/util/Iterator;
-
-    move-result-object v19
-
-    :goto_111
-    invoke-interface/range {v19 .. v19}, Ljava/util/Iterator;->hasNext()Z
-
-    move-result v4
-
-    if-eqz v4, :cond_139
-
-    invoke-interface/range {v19 .. v19}, Ljava/util/Iterator;->next()Ljava/lang/Object;
-
-    move-result-object v16
-
-    check-cast v16, Ljava/util/Map$Entry;
-
-    invoke-interface/range {v16 .. v16}, Ljava/util/Map$Entry;->getValue()Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, Ljava/lang/Integer;
-
-    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I
-
-    move-result v5
-
-    invoke-interface/range {v16 .. v16}, Ljava/util/Map$Entry;->getKey()Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, Ljava/lang/Integer;
-
-    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I
-
-    move-result v4
-
-    move-object/from16 v0, p0
-
-    move-object/from16 v1, v17
-
-    invoke-direct {v0, v12, v5, v1, v4}, Lcom/google/android/mms/pdu/PduPersister;->setTextStringToHeaders(Landroid/database/Cursor;ILcom/google/android/mms/pdu/PduHeaders;I)V
-
-    goto :goto_111
-
-    :cond_139
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    invoke-virtual {v4}, Ljava/util/HashMap;->entrySet()Ljava/util/Set;
-
-    move-result-object v28
-
-    invoke-interface/range {v28 .. v28}, Ljava/util/Set;->iterator()Ljava/util/Iterator;
-
-    move-result-object v19
-
-    :goto_143
-    invoke-interface/range {v19 .. v19}, Ljava/util/Iterator;->hasNext()Z
-
-    move-result v4
-
-    if-eqz v4, :cond_16b
-
-    invoke-interface/range {v19 .. v19}, Ljava/util/Iterator;->next()Ljava/lang/Object;
-
-    move-result-object v16
-
-    check-cast v16, Ljava/util/Map$Entry;
-
-    invoke-interface/range {v16 .. v16}, Ljava/util/Map$Entry;->getValue()Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, Ljava/lang/Integer;
-
-    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I
-
-    move-result v5
-
-    invoke-interface/range {v16 .. v16}, Ljava/util/Map$Entry;->getKey()Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, Ljava/lang/Integer;
-
-    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I
-
-    move-result v4
-
-    move-object/from16 v0, p0
-
-    move-object/from16 v1, v17
-
-    invoke-direct {v0, v12, v5, v1, v4}, Lcom/google/android/mms/pdu/PduPersister;->setOctetToHeaders(Landroid/database/Cursor;ILcom/google/android/mms/pdu/PduHeaders;I)V
-
-    goto :goto_143
-
-    :cond_16b
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->LONG_COLUMN_INDEX_MAP:Ljava/util/HashMap;
-
-    invoke-virtual {v4}, Ljava/util/HashMap;->entrySet()Ljava/util/Set;
-
-    move-result-object v28
-
-    invoke-interface/range {v28 .. v28}, Ljava/util/Set;->iterator()Ljava/util/Iterator;
-
-    move-result-object v19
-
-    :goto_175
-    invoke-interface/range {v19 .. v19}, Ljava/util/Iterator;->hasNext()Z
-
-    move-result v4
-
-    if-eqz v4, :cond_19d
-
-    invoke-interface/range {v19 .. v19}, Ljava/util/Iterator;->next()Ljava/lang/Object;
-
-    move-result-object v16
-
-    check-cast v16, Ljava/util/Map$Entry;
-
-    invoke-interface/range {v16 .. v16}, Ljava/util/Map$Entry;->getValue()Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, Ljava/lang/Integer;
-
-    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I
-
-    move-result v5
-
-    invoke-interface/range {v16 .. v16}, Ljava/util/Map$Entry;->getKey()Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, Ljava/lang/Integer;
-
-    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I
-
-    move-result v4
-
-    move-object/from16 v0, p0
-
-    move-object/from16 v1, v17
-
-    invoke-direct {v0, v12, v5, v1, v4}, Lcom/google/android/mms/pdu/PduPersister;->setLongToHeaders(Landroid/database/Cursor;ILcom/google/android/mms/pdu/PduHeaders;I)V
-    :try_end_19c
-    .catchall {:try_start_cc .. :try_end_19c} :catchall_c1
-
-    goto :goto_175
-
-    :cond_19d
-    if-eqz v12, :cond_1a2
-
-    :try_start_19f
-    invoke-interface {v12}, Landroid/database/Cursor;->close()V
-
-    :cond_1a2
-    const-wide/16 v4, -0x1
-
-    cmp-long v4, v21, v4
-
-    if-nez v4, :cond_1b0
-
-    new-instance v4, Lcom/google/android/mms/MmsException;
-
-    const-string v5, "Error! ID of the message: -1."
-
-    invoke-direct {v4, v5}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/String;)V
-
-    throw v4
-
-    :cond_1b0
-    move-object/from16 v0, p0
-
-    move-wide/from16 v1, v21
-
-    move-object/from16 v3, v17
-
-    invoke-direct {v0, v1, v2, v3}, Lcom/google/android/mms/pdu/PduPersister;->loadAddress(JLcom/google/android/mms/pdu/PduHeaders;)V
-
-    const/16 v4, 0x8c
-
-    move-object/from16 v0, v17
-
-    invoke-virtual {v0, v4}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v23
-
-    new-instance v11, Lcom/google/android/mms/pdu/PduBody;
-
-    invoke-direct {v11}, Lcom/google/android/mms/pdu/PduBody;-><init>()V
-
-    const/16 v4, 0x84
-
-    move/from16 v0, v23
-
-    if-eq v0, v4, :cond_1d2
-
-    const/16 v4, 0x80
-
-    move/from16 v0, v23
-
-    if-ne v0, v4, :cond_1f1
-
-    :cond_1d2
-    move-object/from16 v0, p0
-
-    move-wide/from16 v1, v21
-
-    invoke-direct {v0, v1, v2}, Lcom/google/android/mms/pdu/PduPersister;->loadParts(J)[Lcom/google/android/mms/pdu/PduPart;
-
-    move-result-object v24
-
-    if-eqz v24, :cond_1f1
-
-    move-object/from16 v0, v24
-
-    array-length v0, v0
-
-    move/from16 v25, v0
-
-    const/16 v18, 0x0
-
-    :goto_1e3
-    move/from16 v0, v18
-
-    move/from16 v1, v25
-
-    if-ge v0, v1, :cond_1f1
-
-    aget-object v4, v24, v18
-
-    invoke-virtual {v11, v4}, Lcom/google/android/mms/pdu/PduBody;->addPart(Lcom/google/android/mms/pdu/PduPart;)Z
-
-    add-int/lit8 v18, v18, 0x1
-
-    goto :goto_1e3
-
-    :cond_1f1
-    packed-switch v23, :pswitch_data_322
-
-    new-instance v4, Lcom/google/android/mms/MmsException;
-
-    new-instance v5, Ljava/lang/StringBuilder;
-
-    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v6, "Unrecognized PDU type: "
-
-    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v5
-
-    invoke-static/range {v23 .. v23}, Ljava/lang/Integer;->toHexString(I)Ljava/lang/String;
-
-    move-result-object v6
-
-    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v5
-
-    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v5
-
-    invoke-direct {v4, v5}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/String;)V
-
-    throw v4
-
-    :pswitch_211
-    new-instance v27, Lcom/google/android/mms/pdu/NotificationInd;
-
-    move-object/from16 v0, v27
-
-    move-object/from16 v1, v17
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/pdu/NotificationInd;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-    :try_end_21a
-    .catchall {:try_start_19f .. :try_end_21a} :catchall_c8
-
-    move-object/from16 v26, v27
-
-    :goto_21c
-    sget-object v5, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    monitor-enter v5
-
-    if-eqz v26, :cond_320
-
-    :try_start_221
-    sget-boolean v4, Lcom/google/android/mms/pdu/PduPersister;->$assertionsDisabled:Z
-
-    if-nez v4, :cond_2cc
-
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    move-object/from16 v0, p1
-
-    invoke-virtual {v4, v0}, Lcom/google/android/mms/util/PduCache;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v4
-
-    if-eqz v4, :cond_2cc
-
-    new-instance v4, Ljava/lang/AssertionError;
-
-    invoke-direct {v4}, Ljava/lang/AssertionError;-><init>()V
-
-    throw v4
-    :try_end_235
-    .catchall {:try_start_221 .. :try_end_235} :catchall_235
-
-    :catchall_235
-    move-exception v4
-
-    move-object v13, v14
-
-    :goto_237
-    :try_start_237
-    monitor-exit v5
-    :try_end_238
-    .catchall {:try_start_237 .. :try_end_238} :catchall_311
-
-    throw v4
-
-    :pswitch_239
-    :try_start_239
-    new-instance v27, Lcom/google/android/mms/pdu/DeliveryInd;
-
-    move-object/from16 v0, v27
-
-    move-object/from16 v1, v17
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/pdu/DeliveryInd;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    move-object/from16 v26, v27
-
-    goto :goto_21c
-
-    :pswitch_245
-    new-instance v27, Lcom/google/android/mms/pdu/ReadOrigInd;
-
-    move-object/from16 v0, v27
-
-    move-object/from16 v1, v17
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/pdu/ReadOrigInd;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    move-object/from16 v26, v27
-
-    goto :goto_21c
-
-    :pswitch_251
-    new-instance v27, Lcom/google/android/mms/pdu/RetrieveConf;
-
-    move-object/from16 v0, v27
-
-    move-object/from16 v1, v17
-
-    invoke-direct {v0, v1, v11}, Lcom/google/android/mms/pdu/RetrieveConf;-><init>(Lcom/google/android/mms/pdu/PduHeaders;Lcom/google/android/mms/pdu/PduBody;)V
-
-    move-object/from16 v26, v27
-
-    goto :goto_21c
-
-    :pswitch_25d
-    new-instance v27, Lcom/google/android/mms/pdu/SendReq;
-
-    move-object/from16 v0, v27
-
-    move-object/from16 v1, v17
-
-    invoke-direct {v0, v1, v11}, Lcom/google/android/mms/pdu/SendReq;-><init>(Lcom/google/android/mms/pdu/PduHeaders;Lcom/google/android/mms/pdu/PduBody;)V
-
-    move-object/from16 v26, v27
-
-    goto :goto_21c
-
-    :pswitch_269
-    new-instance v27, Lcom/google/android/mms/pdu/AcknowledgeInd;
-
-    move-object/from16 v0, v27
-
-    move-object/from16 v1, v17
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/pdu/AcknowledgeInd;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    move-object/from16 v26, v27
-
-    goto :goto_21c
-
-    :pswitch_275
-    new-instance v27, Lcom/google/android/mms/pdu/NotifyRespInd;
-
-    move-object/from16 v0, v27
-
-    move-object/from16 v1, v17
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/pdu/NotifyRespInd;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    move-object/from16 v26, v27
-
-    goto :goto_21c
-
-    :pswitch_281
-    new-instance v27, Lcom/google/android/mms/pdu/ReadRecInd;
-
-    move-object/from16 v0, v27
-
-    move-object/from16 v1, v17
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/pdu/ReadRecInd;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    move-object/from16 v26, v27
-
-    goto :goto_21c
-
-    :pswitch_28d
-    new-instance v4, Lcom/google/android/mms/MmsException;
-
-    new-instance v5, Ljava/lang/StringBuilder;
-
-    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v6, "Unsupported PDU type: "
-
-    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v5
-
-    invoke-static/range {v23 .. v23}, Ljava/lang/Integer;->toHexString(I)Ljava/lang/String;
-
-    move-result-object v6
-
-    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v5
-
-    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v5
-
-    invoke-direct {v4, v5}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/String;)V
-
-    throw v4
-    :try_end_2aa
-    .catchall {:try_start_239 .. :try_end_2aa} :catchall_c8
-
-    :cond_2aa
-    :try_start_2aa
-    new-instance v14, Lcom/google/android/mms/util/PduCacheEntry;
-
-    move-object/from16 v0, v26
-
-    move/from16 v1, v20
-
-    move-wide/from16 v2, v29
-
-    invoke-direct {v14, v0, v1, v2, v3}, Lcom/google/android/mms/util/PduCacheEntry;-><init>(Lcom/google/android/mms/pdu/GenericPdu;IJ)V
-    :try_end_2b5
-    .catchall {:try_start_2aa .. :try_end_2b5} :catchall_6e
-
-    :try_start_2b5
-    sget-object v6, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    move-object/from16 v0, p1
-
-    invoke-virtual {v6, v0, v14}, Lcom/google/android/mms/util/PduCache;->put(Landroid/net/Uri;Lcom/google/android/mms/util/PduCacheEntry;)Z
-    :try_end_2bc
-    .catchall {:try_start_2b5 .. :try_end_2bc} :catchall_318
-
-    move-object v13, v14
-
-    :cond_2bd
-    :try_start_2bd
-    sget-object v6, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    const/4 v7, 0x0
-
-    move-object/from16 v0, p1
-
-    invoke-virtual {v6, v0, v7}, Lcom/google/android/mms/util/PduCache;->setUpdating(Landroid/net/Uri;Z)V
-
-    sget-object v6, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    invoke-virtual {v6}, Ljava/lang/Object;->notifyAll()V
-
-    monitor-exit v5
-    :try_end_2cb
-    .catchall {:try_start_2bd .. :try_end_2cb} :catchall_6e
-
-    throw v4
-
-    :cond_2cc
-    :try_start_2cc
-    new-instance v13, Lcom/google/android/mms/util/PduCacheEntry;
-
-    move-object/from16 v0, v26
-
-    move/from16 v1, v20
-
-    move-wide/from16 v2, v29
-
-    invoke-direct {v13, v0, v1, v2, v3}, Lcom/google/android/mms/util/PduCacheEntry;-><init>(Lcom/google/android/mms/pdu/GenericPdu;IJ)V
-    :try_end_2d7
-    .catchall {:try_start_2cc .. :try_end_2d7} :catchall_235
-
-    :try_start_2d7
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    move-object/from16 v0, p1
-
-    invoke-virtual {v4, v0, v13}, Lcom/google/android/mms/util/PduCache;->put(Landroid/net/Uri;Lcom/google/android/mms/util/PduCacheEntry;)Z
-
-    :goto_2de
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    const/4 v6, 0x0
-
-    move-object/from16 v0, p1
-
-    invoke-virtual {v4, v0, v6}, Lcom/google/android/mms/util/PduCache;->setUpdating(Landroid/net/Uri;Z)V
-
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    invoke-virtual {v4}, Ljava/lang/Object;->notifyAll()V
-
-    monitor-exit v5
-    :try_end_2ec
-    .catchall {:try_start_2d7 .. :try_end_2ec} :catchall_311
-
-    move-object/from16 v4, v26
-
-    :goto_2ee
-    return-object v4
-
-    :cond_2ef
-    :try_start_2ef
-    new-instance v14, Lcom/google/android/mms/util/PduCacheEntry;
-
-    move-object/from16 v0, v26
-
-    move/from16 v1, v20
-
-    move-wide/from16 v2, v29
-
-    invoke-direct {v14, v0, v1, v2, v3}, Lcom/google/android/mms/util/PduCacheEntry;-><init>(Lcom/google/android/mms/pdu/GenericPdu;IJ)V
-    :try_end_2fa
-    .catchall {:try_start_2ef .. :try_end_2fa} :catchall_45
-
-    :try_start_2fa
-    sget-object v6, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    move-object/from16 v0, p1
-
-    invoke-virtual {v6, v0, v14}, Lcom/google/android/mms/util/PduCache;->put(Landroid/net/Uri;Lcom/google/android/mms/util/PduCacheEntry;)Z
-    :try_end_301
-    .catchall {:try_start_2fa .. :try_end_301} :catchall_314
-
-    move-object v13, v14
-
-    :cond_302
-    :try_start_302
-    sget-object v6, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    const/4 v7, 0x0
-
-    move-object/from16 v0, p1
-
-    invoke-virtual {v6, v0, v7}, Lcom/google/android/mms/util/PduCache;->setUpdating(Landroid/net/Uri;Z)V
-
-    sget-object v6, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    invoke-virtual {v6}, Ljava/lang/Object;->notifyAll()V
-
-    monitor-exit v5
-    :try_end_310
-    .catchall {:try_start_302 .. :try_end_310} :catchall_45
-
-    goto :goto_2ee
-
-    :catchall_311
-    move-exception v4
-
-    goto/16 :goto_237
-
-    :catchall_314
-    move-exception v4
-
-    move-object v13, v14
-
-    goto/16 :goto_46
-
-    :catchall_318
-    move-exception v4
-
-    move-object v13, v14
-
-    goto/16 :goto_6f
-
-    :catchall_31c
-    move-exception v4
-
-    move-object v13, v14
-
-    goto/16 :goto_52
-
-    :cond_320
-    move-object v13, v14
-
-    goto :goto_2de
-
-    :pswitch_data_322
-    .packed-switch 0x80
-        :pswitch_25d
-        :pswitch_28d
-        :pswitch_211
-        :pswitch_275
-        :pswitch_251
-        :pswitch_269
-        :pswitch_239
-        :pswitch_281
-        :pswitch_245
-        :pswitch_28d
-        :pswitch_28d
-        :pswitch_28d
-        :pswitch_28d
-        :pswitch_28d
-        :pswitch_28d
-        :pswitch_28d
-        :pswitch_28d
-        :pswitch_28d
-        :pswitch_28d
-        :pswitch_28d
-        :pswitch_28d
-        :pswitch_28d
-        :pswitch_28d
-        :pswitch_28d
-    .end packed-switch
-.end method
-
-.method public move(Landroid/net/Uri;Landroid/net/Uri;)Landroid/net/Uri;
-    .registers 12
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/MmsException;
-        }
-    .end annotation
-
-    const/4 v4, 0x0
-
-    invoke-static {p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J
-
-    move-result-wide v7
-
-    const-wide/16 v0, -0x1
-
-    cmp-long v0, v7, v0
-
-    if-nez v0, :cond_13
-
-    new-instance v0, Lcom/google/android/mms/MmsException;
-
-    const-string v1, "Error! ID of the message: -1."
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :cond_13
-    sget-object v0, Lcom/google/android/mms/pdu/PduPersister;->MESSAGE_BOX_MAP:Ljava/util/HashMap;
-
-    invoke-virtual {v0, p2}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v6
-
-    check-cast v6, Ljava/lang/Integer;
-
-    if-nez v6, :cond_25
-
-    new-instance v0, Lcom/google/android/mms/MmsException;
-
-    const-string v1, "Bad destination, must be one of content://mms/inbox, content://mms/sent, content://mms/drafts, content://mms/outbox, content://mms/temp."
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/String;)V
-
-    throw v0
-
-    :cond_25
-    new-instance v3, Landroid/content/ContentValues;
-
-    const/4 v0, 0x1
-
-    invoke-direct {v3, v0}, Landroid/content/ContentValues;-><init>(I)V
-
-    const-string/jumbo v0, "msg_box"
-
-    invoke-virtual {v3, v0, v6}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    move-object v2, p1
-
-    move-object v5, v4
-
-    invoke-static/range {v0 .. v5}, Lcom/google/android/mms/util/SqliteWrapper;->update(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
-
-    invoke-static {p2, v7, v8}, Landroid/content/ContentUris;->withAppendedId(Landroid/net/Uri;J)Landroid/net/Uri;
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public persist(Lcom/google/android/mms/pdu/GenericPdu;Landroid/net/Uri;)Landroid/net/Uri;
-    .registers 48
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/MmsException;
-        }
-    .end annotation
-
-    if-nez p2, :cond_a
-
-    new-instance v4, Lcom/google/android/mms/MmsException;
-
-    const-string v5, "Uri may not be null."
-
-    invoke-direct {v4, v5}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/String;)V
-
-    throw v4
-
-    :cond_a
-    const-wide/16 v34, -0x1
-
-    :try_start_c
-    invoke-static/range {p2 .. p2}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J
-    :try_end_f
-    .catch Ljava/lang/NumberFormatException; {:try_start_c .. :try_end_f} :catch_2ff
-
-    move-result-wide v34
-
-    :goto_10
-    const-wide/16 v4, -0x1
-
-    cmp-long v4, v34, v4
-
-    if-eqz v4, :cond_2c
-
-    const/16 v26, 0x1
-
-    :goto_18
-    if-nez v26, :cond_2f
-
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->MESSAGE_BOX_MAP:Ljava/util/HashMap;
-
-    move-object/from16 v0, p2
-
-    invoke-virtual {v4, v0}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v4
-
-    if-nez v4, :cond_2f
-
-    new-instance v4, Lcom/google/android/mms/MmsException;
-
-    const-string v5, "Bad destination, must be one of content://mms/inbox, content://mms/sent, content://mms/drafts, content://mms/outbox, content://mms/temp."
-
-    invoke-direct {v4, v5}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/String;)V
-
-    throw v4
-
-    :cond_2c
-    const/16 v26, 0x0
-
-    goto :goto_18
-
-    :cond_2f
-    sget-object v5, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    monitor-enter v5
-
-    :try_start_32
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    move-object/from16 v0, p2
-
-    invoke-virtual {v4, v0}, Lcom/google/android/mms/util/PduCache;->isUpdating(Landroid/net/Uri;)Z
-    :try_end_39
-    .catchall {:try_start_32 .. :try_end_39} :catchall_b5
-
-    move-result v4
-
-    if-eqz v4, :cond_41
-
-    :try_start_3c
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    invoke-virtual {v4}, Ljava/lang/Object;->wait()V
-    :try_end_41
-    .catchall {:try_start_3c .. :try_end_41} :catchall_b5
-    .catch Ljava/lang/InterruptedException; {:try_start_3c .. :try_end_41} :catch_a9
-
-    :cond_41
-    :goto_41
-    :try_start_41
-    monitor-exit v5
-    :try_end_42
-    .catchall {:try_start_41 .. :try_end_42} :catchall_b5
-
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    move-object/from16 v0, p2
-
-    invoke-virtual {v4, v0}, Lcom/google/android/mms/util/PduCache;->purge(Landroid/net/Uri;)Lcom/google/android/mms/util/PduCacheEntry;
-
-    invoke-virtual/range {p1 .. p1}, Lcom/google/android/mms/pdu/GenericPdu;->getPduHeaders()Lcom/google/android/mms/pdu/PduHeaders;
-
-    move-result-object v28
-
-    const/16 v19, 0x0
-
-    new-instance v7, Landroid/content/ContentValues;
-
-    invoke-direct {v7}, Landroid/content/ContentValues;-><init>()V
-
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->ENCODED_STRING_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    invoke-virtual {v4}, Ljava/util/HashMap;->entrySet()Ljava/util/Set;
-
-    move-result-object v40
-
-    invoke-interface/range {v40 .. v40}, Ljava/util/Set;->iterator()Ljava/util/Iterator;
-
-    move-result-object v30
-
-    :cond_5e
-    :goto_5e
-    invoke-interface/range {v30 .. v30}, Ljava/util/Iterator;->hasNext()Z
-
-    move-result v4
-
-    if-eqz v4, :cond_b8
-
-    invoke-interface/range {v30 .. v30}, Ljava/util/Iterator;->next()Ljava/lang/Object;
-
-    move-result-object v24
-
-    check-cast v24, Ljava/util/Map$Entry;
-
-    invoke-interface/range {v24 .. v24}, Ljava/util/Map$Entry;->getKey()Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, Ljava/lang/Integer;
-
-    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I
-
-    move-result v27
-
-    move-object/from16 v0, v28
-
-    move/from16 v1, v27
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValue(I)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v25
-
-    if-eqz v25, :cond_5e
-
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->CHARSET_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    invoke-static/range {v27 .. v27}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v5
-
-    invoke-virtual {v4, v5}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v20
-
-    check-cast v20, Ljava/lang/String;
-
-    invoke-interface/range {v24 .. v24}, Ljava/util/Map$Entry;->getValue()Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, Ljava/lang/String;
-
-    invoke-virtual/range {v25 .. v25}, Lcom/google/android/mms/pdu/EncodedStringValue;->getTextString()[B
-
-    move-result-object v5
-
-    invoke-static {v5}, Lcom/google/android/mms/pdu/PduPersister;->toIsoString([B)Ljava/lang/String;
-
-    move-result-object v5
-
-    invoke-virtual {v7, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    invoke-virtual/range {v25 .. v25}, Lcom/google/android/mms/pdu/EncodedStringValue;->getCharacterSet()I
-
-    move-result v4
-
-    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v4
-
-    move-object/from16 v0, v20
-
-    invoke-virtual {v7, v0, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
-
-    goto :goto_5e
-
-    :catch_a9
-    move-exception v23
-
-    :try_start_aa
-    const-string v4, "PduPersister"
-
-    const-string/jumbo v8, "persist1: "
-
-    move-object/from16 v0, v23
-
-    invoke-static {v4, v8, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto :goto_41
-
-    :catchall_b5
-    move-exception v4
-
-    monitor-exit v5
-    :try_end_b7
-    .catchall {:try_start_aa .. :try_end_b7} :catchall_b5
-
-    throw v4
-
-    :cond_b8
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->TEXT_STRING_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    invoke-virtual {v4}, Ljava/util/HashMap;->entrySet()Ljava/util/Set;
-
-    move-result-object v40
-
-    invoke-interface/range {v40 .. v40}, Ljava/util/Set;->iterator()Ljava/util/Iterator;
-
-    move-result-object v30
-
-    :cond_c2
-    :goto_c2
-    invoke-interface/range {v30 .. v30}, Ljava/util/Iterator;->hasNext()Z
-
-    move-result v4
-
-    if-eqz v4, :cond_ee
-
-    invoke-interface/range {v30 .. v30}, Ljava/util/Iterator;->next()Ljava/lang/Object;
-
-    move-result-object v24
-
-    check-cast v24, Ljava/util/Map$Entry;
-
-    invoke-interface/range {v24 .. v24}, Ljava/util/Map$Entry;->getKey()Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, Ljava/lang/Integer;
-
-    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I
-
-    move-result v4
-
-    move-object/from16 v0, v28
-
-    invoke-virtual {v0, v4}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v41
-
-    if-eqz v41, :cond_c2
-
-    invoke-interface/range {v24 .. v24}, Ljava/util/Map$Entry;->getValue()Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, Ljava/lang/String;
-
-    invoke-static/range {v41 .. v41}, Lcom/google/android/mms/pdu/PduPersister;->toIsoString([B)Ljava/lang/String;
-
-    move-result-object v5
-
-    invoke-virtual {v7, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    goto :goto_c2
-
-    :cond_ee
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->OCTET_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    invoke-virtual {v4}, Ljava/util/HashMap;->entrySet()Ljava/util/Set;
-
-    move-result-object v40
-
-    invoke-interface/range {v40 .. v40}, Ljava/util/Set;->iterator()Ljava/util/Iterator;
-
-    move-result-object v30
-
-    :cond_f8
-    :goto_f8
-    invoke-interface/range {v30 .. v30}, Ljava/util/Iterator;->hasNext()Z
-
-    move-result v4
-
-    if-eqz v4, :cond_124
-
-    invoke-interface/range {v30 .. v30}, Ljava/util/Iterator;->next()Ljava/lang/Object;
-
-    move-result-object v24
-
-    check-cast v24, Ljava/util/Map$Entry;
-
-    invoke-interface/range {v24 .. v24}, Ljava/util/Map$Entry;->getKey()Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, Ljava/lang/Integer;
-
-    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I
-
-    move-result v4
-
-    move-object/from16 v0, v28
-
-    invoke-virtual {v0, v4}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v18
-
-    if-eqz v18, :cond_f8
-
-    invoke-interface/range {v24 .. v24}, Ljava/util/Map$Entry;->getValue()Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, Ljava/lang/String;
-
-    invoke-static/range {v18 .. v18}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v5
-
-    invoke-virtual {v7, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
-
-    goto :goto_f8
-
-    :cond_124
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->LONG_COLUMN_NAME_MAP:Ljava/util/HashMap;
-
-    invoke-virtual {v4}, Ljava/util/HashMap;->entrySet()Ljava/util/Set;
-
-    move-result-object v40
-
-    invoke-interface/range {v40 .. v40}, Ljava/util/Set;->iterator()Ljava/util/Iterator;
-
-    move-result-object v30
-
-    :cond_12e
-    :goto_12e
-    invoke-interface/range {v30 .. v30}, Ljava/util/Iterator;->hasNext()Z
-
-    move-result v4
-
-    if-eqz v4, :cond_15e
-
-    invoke-interface/range {v30 .. v30}, Ljava/util/Iterator;->next()Ljava/lang/Object;
-
-    move-result-object v24
-
-    check-cast v24, Ljava/util/Map$Entry;
-
-    invoke-interface/range {v24 .. v24}, Ljava/util/Map$Entry;->getKey()Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, Ljava/lang/Integer;
-
-    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I
-
-    move-result v4
-
-    move-object/from16 v0, v28
-
-    invoke-virtual {v0, v4}, Lcom/google/android/mms/pdu/PduHeaders;->getLongInteger(I)J
-
-    move-result-wide v31
-
-    const-wide/16 v4, -0x1
-
-    cmp-long v4, v31, v4
-
-    if-eqz v4, :cond_12e
-
-    invoke-interface/range {v24 .. v24}, Ljava/util/Map$Entry;->getValue()Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, Ljava/lang/String;
-
-    invoke-static/range {v31 .. v32}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
-
-    move-result-object v5
-
-    invoke-virtual {v7, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V
-
-    goto :goto_12e
-
-    :cond_15e
-    new-instance v15, Ljava/util/HashMap;
-
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->ADDRESS_FIELDS:[I
-
-    array-length v4, v4
-
-    invoke-direct {v15, v4}, Ljava/util/HashMap;-><init>(I)V
-
-    sget-object v16, Lcom/google/android/mms/pdu/PduPersister;->ADDRESS_FIELDS:[I
-
-    move-object/from16 v0, v16
-
-    array-length v0, v0
-
-    move/from16 v33, v0
-
-    const/16 v30, 0x0
-
-    :goto_16f
-    move/from16 v0, v30
-
-    move/from16 v1, v33
-
-    if-ge v0, v1, :cond_1a0
-
-    aget v14, v16, v30
-
-    const/16 v17, 0x0
-
-    const/16 v4, 0x89
-
-    if-ne v14, v4, :cond_199
-
-    move-object/from16 v0, v28
-
-    invoke-virtual {v0, v14}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValue(I)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v44
-
-    if-eqz v44, :cond_18d
-
-    const/4 v4, 0x1
-
-    new-array v0, v4, [Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-object/from16 v17, v0
-
-    const/4 v4, 0x0
-
-    aput-object v44, v17, v4
-
-    :cond_18d
-    :goto_18d
-    invoke-static {v14}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v4
-
-    move-object/from16 v0, v17
-
-    invoke-virtual {v15, v4, v0}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    add-int/lit8 v30, v30, 0x1
-
-    goto :goto_16f
-
-    :cond_199
-    move-object/from16 v0, v28
-
-    invoke-virtual {v0, v14}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValues(I)[Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v17
-
-    goto :goto_18d
-
-    :cond_1a0
-    new-instance v39, Ljava/util/HashSet;
-
-    invoke-direct/range {v39 .. v39}, Ljava/util/HashSet;-><init>()V
-
-    invoke-virtual/range {p1 .. p1}, Lcom/google/android/mms/pdu/GenericPdu;->getMessageType()I
-
-    move-result v36
-
-    const/16 v4, 0x82
-
-    move/from16 v0, v36
-
-    if-eq v0, v4, :cond_1bb
-
-    const/16 v4, 0x84
-
-    move/from16 v0, v36
-
-    if-eq v0, v4, :cond_1bb
-
-    const/16 v4, 0x80
-
-    move/from16 v0, v36
-
-    if-ne v0, v4, :cond_215
-
-    :cond_1bb
-    const/16 v17, 0x0
-
-    packed-switch v36, :pswitch_data_304
-
-    :goto_1c0
-    :pswitch_1c0
-    if-eqz v17, :cond_1fb
-
-    move-object/from16 v16, v17
-
-    move-object/from16 v0, v16
-
-    array-length v0, v0
-
-    move/from16 v33, v0
-
-    const/16 v30, 0x0
-
-    :goto_1cb
-    move/from16 v0, v30
-
-    move/from16 v1, v33
-
-    if-ge v0, v1, :cond_1fb
-
-    aget-object v44, v16, v30
-
-    if-eqz v44, :cond_1de
-
-    invoke-virtual/range {v44 .. v44}, Lcom/google/android/mms/pdu/EncodedStringValue;->getString()Ljava/lang/String;
-
-    move-result-object v4
-
-    move-object/from16 v0, v39
-
-    invoke-virtual {v0, v4}, Ljava/util/HashSet;->add(Ljava/lang/Object;)Z
-
-    :cond_1de
-    add-int/lit8 v30, v30, 0x1
-
-    goto :goto_1cb
-
-    :pswitch_1e1
-    const/16 v4, 0x89
-
-    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v4
-
-    invoke-virtual {v15, v4}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v17
-
-    check-cast v17, [Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    goto :goto_1c0
-
-    :pswitch_1ee
-    const/16 v4, 0x97
-
-    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v4
-
-    invoke-virtual {v15, v4}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v17
-
-    check-cast v17, [Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    goto :goto_1c0
-
-    :cond_1fb
-    invoke-virtual/range {v39 .. v39}, Ljava/util/HashSet;->isEmpty()Z
-
-    move-result v4
-
-    if-nez v4, :cond_215
-
-    move-object/from16 v0, p0
-
-    iget-object v4, v0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    move-object/from16 v0, v39
-
-    invoke-static {v4, v0}, Landroid/provider/Telephony$Threads;->getOrCreateThreadId(Landroid/content/Context;Ljava/util/Set;)J
-
-    move-result-wide v42
-
-    const-string/jumbo v4, "thread_id"
-
-    invoke-static/range {v42 .. v43}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
-
-    move-result-object v5
-
-    invoke-virtual {v7, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V
-
-    :cond_215
-    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J
-
-    move-result-wide v21
-
-    move-object/from16 v0, p1
-
-    instance-of v4, v0, Lcom/google/android/mms/pdu/MultimediaMessagePdu;
-
-    if-eqz v4, :cond_247
-
-    check-cast p1, Lcom/google/android/mms/pdu/MultimediaMessagePdu;
-
-    invoke-virtual/range {p1 .. p1}, Lcom/google/android/mms/pdu/MultimediaMessagePdu;->getBody()Lcom/google/android/mms/pdu/PduBody;
-
-    move-result-object v19
-
-    if-eqz v19, :cond_247
-
-    invoke-virtual/range {v19 .. v19}, Lcom/google/android/mms/pdu/PduBody;->getPartsNum()I
-
-    move-result v38
-
-    const/16 v29, 0x0
-
-    :goto_22d
-    move/from16 v0, v29
-
-    move/from16 v1, v38
-
-    if-ge v0, v1, :cond_247
-
-    move-object/from16 v0, v19
-
-    move/from16 v1, v29
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduBody;->getPart(I)Lcom/google/android/mms/pdu/PduPart;
-
-    move-result-object v37
-
-    move-object/from16 v0, p0
-
-    move-object/from16 v1, v37
-
-    move-wide/from16 v2, v21
-
-    invoke-virtual {v0, v1, v2, v3}, Lcom/google/android/mms/pdu/PduPersister;->persistPart(Lcom/google/android/mms/pdu/PduPart;J)Landroid/net/Uri;
-
-    add-int/lit8 v29, v29, 0x1
-
-    goto :goto_22d
-
-    :cond_247
-    const/4 v6, 0x0
-
-    if-eqz v26, :cond_2e0
-
-    move-object/from16 v6, p2
-
-    move-object/from16 v0, p0
-
-    iget-object v4, v0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    move-object/from16 v0, p0
-
-    iget-object v5, v0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    const/4 v8, 0x0
-
-    const/4 v9, 0x0
-
-    invoke-static/range {v4 .. v9}, Lcom/google/android/mms/util/SqliteWrapper;->update(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
-
-    :goto_259
-    new-instance v7, Landroid/content/ContentValues;
-
-    const/4 v4, 0x1
-
-    invoke-direct {v7, v4}, Landroid/content/ContentValues;-><init>(I)V
-
-    const-string/jumbo v4, "mid"
-
-    invoke-static/range {v34 .. v35}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
-
-    move-result-object v5
-
-    invoke-virtual {v7, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V
-
-    move-object/from16 v0, p0
-
-    iget-object v8, v0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    move-object/from16 v0, p0
-
-    iget-object v9, v0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    new-instance v4, Ljava/lang/StringBuilder;
-
-    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v5, "content://mms/"
-
-    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v4
-
-    move-wide/from16 v0, v21
-
-    invoke-virtual {v4, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
-
-    move-result-object v4
-
-    const-string v5, "/part"
-
-    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v4
-
-    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v4
-
-    invoke-static {v4}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;
-
-    move-result-object v10
-
-    const/4 v12, 0x0
-
-    const/4 v13, 0x0
-
-    move-object v11, v7
-
-    invoke-static/range {v8 .. v13}, Lcom/google/android/mms/util/SqliteWrapper;->update(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
-
-    if-nez v26, :cond_2b7
-
-    new-instance v4, Ljava/lang/StringBuilder;
-
-    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
-
-    move-object/from16 v0, p2
-
-    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
-
-    move-result-object v4
-
-    const-string v5, "/"
-
-    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v4
-
-    move-wide/from16 v0, v34
-
-    invoke-virtual {v4, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
-
-    move-result-object v4
-
-    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v4
-
-    invoke-static {v4}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;
-
-    move-result-object v6
-
-    :cond_2b7
-    sget-object v16, Lcom/google/android/mms/pdu/PduPersister;->ADDRESS_FIELDS:[I
-
-    move-object/from16 v0, v16
-
-    array-length v0, v0
-
-    move/from16 v33, v0
-
-    const/16 v30, 0x0
-
-    :goto_2c0
-    move/from16 v0, v30
-
-    move/from16 v1, v33
-
-    if-ge v0, v1, :cond_302
-
-    aget v14, v16, v30
-
-    invoke-static {v14}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v4
-
-    invoke-virtual {v15, v4}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v17
-
-    check-cast v17, [Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    if-eqz v17, :cond_2dd
-
-    move-object/from16 v0, p0
-
-    move-wide/from16 v1, v34
-
-    move-object/from16 v3, v17
-
-    invoke-direct {v0, v1, v2, v14, v3}, Lcom/google/android/mms/pdu/PduPersister;->persistAddress(JI[Lcom/google/android/mms/pdu/EncodedStringValue;)V
-
-    :cond_2dd
-    add-int/lit8 v30, v30, 0x1
-
-    goto :goto_2c0
-
-    :cond_2e0
-    move-object/from16 v0, p0
-
-    iget-object v4, v0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    move-object/from16 v0, p0
-
-    iget-object v5, v0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    move-object/from16 v0, p2
-
-    invoke-static {v4, v5, v0, v7}, Lcom/google/android/mms/util/SqliteWrapper;->insert(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/net/Uri;
-
-    move-result-object v6
-
-    if-nez v6, :cond_2f9
-
-    new-instance v4, Lcom/google/android/mms/MmsException;
-
-    const-string/jumbo v5, "persist() failed: return null."
-
-    invoke-direct {v4, v5}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/String;)V
-
-    throw v4
-
-    :cond_2f9
-    invoke-static {v6}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J
-
-    move-result-wide v34
-
-    goto/16 :goto_259
-
-    :catch_2ff
-    move-exception v4
-
-    goto/16 :goto_10
-
-    :cond_302
-    return-object v6
-
-    nop
-
-    :pswitch_data_304
-    .packed-switch 0x80
-        :pswitch_1ee
-        :pswitch_1c0
-        :pswitch_1e1
-        :pswitch_1c0
-        :pswitch_1e1
-    .end packed-switch
-.end method
-
-.method public persistPart(Lcom/google/android/mms/pdu/PduPart;J)Landroid/net/Uri;
-    .registers 14
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/MmsException;
-        }
-    .end annotation
-
-    new-instance v8, Ljava/lang/StringBuilder;
-
-    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v9, "content://mms/"
-
-    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v8
-
-    invoke-virtual {v8, p2, p3}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
-
-    move-result-object v8
-
-    const-string v9, "/part"
-
-    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v8
-
-    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v8
-
-    invoke-static {v8}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;
-
-    move-result-object v5
-
-    new-instance v7, Landroid/content/ContentValues;
-
-    const/16 v8, 0x8
-
-    invoke-direct {v7, v8}, Landroid/content/ContentValues;-><init>(I)V
-
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/PduPart;->getCharset()I
-
-    move-result v0
-
-    if-eqz v0, :cond_33
-
-    const-string v8, "chset"
-
-    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v9
-
-    invoke-virtual {v7, v8, v9}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
-
-    :cond_33
-    const/4 v1, 0x0
-
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/PduPart;->getContentType()[B
-
-    move-result-object v8
-
-    if-eqz v8, :cond_df
-
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/PduPart;->getContentType()[B
-
-    move-result-object v8
-
-    invoke-static {v8}, Lcom/google/android/mms/pdu/PduPersister;->toIsoString([B)Ljava/lang/String;
-
-    move-result-object v1
-
-    const-string v8, "image/jpg"
-
-    invoke-virtual {v8, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v8
-
-    if-eqz v8, :cond_4c
-
-    const-string v1, "image/jpeg"
-
-    :cond_4c
-    const-string v8, "ct"
-
-    invoke-virtual {v7, v8, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    const-string v8, "application/smil"
-
-    invoke-virtual {v8, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v8
-
-    if-eqz v8, :cond_64
-
-    const-string/jumbo v8, "seq"
-
-    const/4 v9, -0x1
-
-    invoke-static {v9}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v9
-
-    invoke-virtual {v7, v8, v9}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
-
-    :cond_64
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/PduPart;->getFilename()[B
-
-    move-result-object v8
-
-    if-eqz v8, :cond_78
-
-    new-instance v2, Ljava/lang/String;
-
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/PduPart;->getFilename()[B
-
-    move-result-object v8
-
-    invoke-direct {v2, v8}, Ljava/lang/String;-><init>([B)V
-
-    const-string v8, "fn"
-
-    invoke-virtual {v7, v8, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    :cond_78
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/PduPart;->getName()[B
-
-    move-result-object v8
-
-    if-eqz v8, :cond_8d
-
-    new-instance v3, Ljava/lang/String;
-
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/PduPart;->getName()[B
-
-    move-result-object v8
-
-    invoke-direct {v3, v8}, Ljava/lang/String;-><init>([B)V
-
-    const-string/jumbo v8, "name"
-
-    invoke-virtual {v7, v8, v3}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    :cond_8d
-    const/4 v6, 0x0
-
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/PduPart;->getContentDisposition()[B
-
-    move-result-object v8
-
-    if-eqz v8, :cond_a3
-
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/PduPart;->getContentDisposition()[B
-
-    move-result-object v8
-
-    invoke-static {v8}, Lcom/google/android/mms/pdu/PduPersister;->toIsoString([B)Ljava/lang/String;
-
-    move-result-object v6
-
-    const-string v8, "cd"
-
-    check-cast v6, Ljava/lang/String;
-
-    invoke-virtual {v7, v8, v6}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    :cond_a3
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/PduPart;->getContentId()[B
-
-    move-result-object v8
-
-    if-eqz v8, :cond_b8
-
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/PduPart;->getContentId()[B
-
-    move-result-object v8
-
-    invoke-static {v8}, Lcom/google/android/mms/pdu/PduPersister;->toIsoString([B)Ljava/lang/String;
-
-    move-result-object v6
-
-    const-string v8, "cid"
-
-    check-cast v6, Ljava/lang/String;
-
-    invoke-virtual {v7, v8, v6}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    :cond_b8
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/PduPart;->getContentLocation()[B
-
-    move-result-object v8
-
-    if-eqz v8, :cond_cd
-
-    invoke-virtual {p1}, Lcom/google/android/mms/pdu/PduPart;->getContentLocation()[B
-
-    move-result-object v8
-
-    invoke-static {v8}, Lcom/google/android/mms/pdu/PduPersister;->toIsoString([B)Ljava/lang/String;
-
-    move-result-object v6
-
-    const-string v8, "cl"
-
-    check-cast v6, Ljava/lang/String;
-
-    invoke-virtual {v7, v8, v6}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    :cond_cd
-    iget-object v8, p0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    iget-object v9, p0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    invoke-static {v8, v9, v5, v7}, Lcom/google/android/mms/util/SqliteWrapper;->insert(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/net/Uri;
-
-    move-result-object v4
-
-    if-nez v4, :cond_e7
-
-    new-instance v8, Lcom/google/android/mms/MmsException;
-
-    const-string v9, "Failed to persist part, return null."
-
-    invoke-direct {v8, v9}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/String;)V
-
-    throw v8
-
-    :cond_df
-    new-instance v8, Lcom/google/android/mms/MmsException;
-
-    const-string v9, "MIME type of the part must be set."
-
-    invoke-direct {v8, v9}, Lcom/google/android/mms/MmsException;-><init>(Ljava/lang/String;)V
-
-    throw v8
-
-    :cond_e7
-    invoke-direct {p0, p1, v4, v1}, Lcom/google/android/mms/pdu/PduPersister;->persistData(Lcom/google/android/mms/pdu/PduPart;Landroid/net/Uri;Ljava/lang/String;)V
-
-    invoke-virtual {p1, v4}, Lcom/google/android/mms/pdu/PduPart;->setDataUri(Landroid/net/Uri;)V
-
-    return-object v4
-.end method
-
-.method public release()V
-    .registers 5
-
-    const/4 v3, 0x0
-
-    const-string v1, "content://mms/9223372036854775807/part"
-
-    invoke-static {v1}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;
-
-    move-result-object v0
-
-    iget-object v1, p0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    iget-object v2, p0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    invoke-static {v1, v2, v0, v3, v3}, Lcom/google/android/mms/util/SqliteWrapper;->delete(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I
-
-    return-void
-.end method
-
-.method public updateHeaders(Landroid/net/Uri;Lcom/google/android/mms/pdu/SendReq;)V
-    .registers 41
-
-    sget-object v4, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    monitor-enter v4
-
-    :try_start_3
-    sget-object v3, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    move-object/from16 v0, p1
-
-    invoke-virtual {v3, v0}, Lcom/google/android/mms/util/PduCache;->isUpdating(Landroid/net/Uri;)Z
-    :try_end_a
-    .catchall {:try_start_3 .. :try_end_a} :catchall_142
-
-    move-result v3
-
-    if-eqz v3, :cond_12
-
-    :try_start_d
-    sget-object v3, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    invoke-virtual {v3}, Ljava/lang/Object;->wait()V
-    :try_end_12
-    .catchall {:try_start_d .. :try_end_12} :catchall_142
-    .catch Ljava/lang/InterruptedException; {:try_start_d .. :try_end_12} :catch_135
-
-    :cond_12
-    :goto_12
-    :try_start_12
-    monitor-exit v4
-    :try_end_13
-    .catchall {:try_start_12 .. :try_end_13} :catchall_142
-
-    sget-object v3, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    move-object/from16 v0, p1
-
-    invoke-virtual {v3, v0}, Lcom/google/android/mms/util/PduCache;->purge(Landroid/net/Uri;)Lcom/google/android/mms/util/PduCacheEntry;
-
-    new-instance v6, Landroid/content/ContentValues;
-
-    const/16 v3, 0xa
-
-    invoke-direct {v6, v3}, Landroid/content/ContentValues;-><init>(I)V
-
-    invoke-virtual/range {p2 .. p2}, Lcom/google/android/mms/pdu/SendReq;->getContentType()[B
-
-    move-result-object v13
-
-    if-eqz v13, :cond_30
-
-    const-string v3, "ct_t"
-
-    invoke-static {v13}, Lcom/google/android/mms/pdu/PduPersister;->toIsoString([B)Ljava/lang/String;
-
-    move-result-object v4
-
-    invoke-virtual {v6, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    :cond_30
-    invoke-virtual/range {p2 .. p2}, Lcom/google/android/mms/pdu/SendReq;->getDate()J
-
-    move-result-wide v14
-
-    const-wide/16 v3, -0x1
-
-    cmp-long v3, v14, v3
-
-    if-eqz v3, :cond_43
-
-    const-string v3, "date"
-
-    invoke-static {v14, v15}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
-
-    move-result-object v4
-
-    invoke-virtual {v6, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V
-
-    :cond_43
-    invoke-virtual/range {p2 .. p2}, Lcom/google/android/mms/pdu/SendReq;->getDeliveryReport()I
-
-    move-result v16
-
-    if-eqz v16, :cond_52
-
-    const-string v3, "d_rpt"
-
-    invoke-static/range {v16 .. v16}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v4
-
-    invoke-virtual {v6, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
-
-    :cond_52
-    invoke-virtual/range {p2 .. p2}, Lcom/google/android/mms/pdu/SendReq;->getExpiry()J
-
-    move-result-wide v18
-
-    const-wide/16 v3, -0x1
-
-    cmp-long v3, v18, v3
-
-    if-eqz v3, :cond_65
-
-    const-string v3, "exp"
-
-    invoke-static/range {v18 .. v19}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
-
-    move-result-object v4
-
-    invoke-virtual {v6, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V
-
-    :cond_65
-    invoke-virtual/range {p2 .. p2}, Lcom/google/android/mms/pdu/SendReq;->getMessageClass()[B
-
-    move-result-object v27
-
-    if-eqz v27, :cond_75
-
-    const-string/jumbo v3, "m_cls"
-
-    invoke-static/range {v27 .. v27}, Lcom/google/android/mms/pdu/PduPersister;->toIsoString([B)Ljava/lang/String;
-
-    move-result-object v4
-
-    invoke-virtual {v6, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    :cond_75
-    invoke-virtual/range {p2 .. p2}, Lcom/google/android/mms/pdu/SendReq;->getPriority()I
-
-    move-result v30
-
-    if-eqz v30, :cond_85
-
-    const-string/jumbo v3, "pri"
-
-    invoke-static/range {v30 .. v30}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v4
-
-    invoke-virtual {v6, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
-
-    :cond_85
-    invoke-virtual/range {p2 .. p2}, Lcom/google/android/mms/pdu/SendReq;->getReadReport()I
-
-    move-result v31
-
-    if-eqz v31, :cond_95
-
-    const-string/jumbo v3, "rr"
-
-    invoke-static/range {v31 .. v31}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v4
-
-    invoke-virtual {v6, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
-
-    :cond_95
-    invoke-virtual/range {p2 .. p2}, Lcom/google/android/mms/pdu/SendReq;->getTransactionId()[B
-
-    move-result-object v36
-
-    if-eqz v36, :cond_a5
-
-    const-string/jumbo v3, "tr_id"
-
-    invoke-static/range {v36 .. v36}, Lcom/google/android/mms/pdu/PduPersister;->toIsoString([B)Ljava/lang/String;
-
-    move-result-object v4
-
-    invoke-virtual {v6, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    :cond_a5
-    invoke-virtual/range {p2 .. p2}, Lcom/google/android/mms/pdu/SendReq;->getSubject()Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v33
-
-    if-eqz v33, :cond_145
-
-    const-string/jumbo v3, "sub"
-
-    invoke-virtual/range {v33 .. v33}, Lcom/google/android/mms/pdu/EncodedStringValue;->getTextString()[B
-
-    move-result-object v4
-
-    invoke-static {v4}, Lcom/google/android/mms/pdu/PduPersister;->toIsoString([B)Ljava/lang/String;
-
-    move-result-object v4
-
-    invoke-virtual {v6, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    const-string/jumbo v3, "sub_cs"
-
-    invoke-virtual/range {v33 .. v33}, Lcom/google/android/mms/pdu/EncodedStringValue;->getCharacterSet()I
-
-    move-result v4
-
-    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v4
-
-    invoke-virtual {v6, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
-
-    :goto_c7
-    invoke-virtual/range {p2 .. p2}, Lcom/google/android/mms/pdu/SendReq;->getMessageSize()J
-
-    move-result-wide v25
-
-    const-wide/16 v3, 0x0
-
-    cmp-long v3, v25, v3
-
-    if-lez v3, :cond_db
-
-    const-string/jumbo v3, "m_size"
-
-    invoke-static/range {v25 .. v26}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
-
-    move-result-object v4
-
-    invoke-virtual {v6, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V
-
-    :cond_db
-    invoke-virtual/range {p2 .. p2}, Lcom/google/android/mms/pdu/SendReq;->getPduHeaders()Lcom/google/android/mms/pdu/PduHeaders;
-
-    move-result-object v20
-
-    new-instance v32, Ljava/util/HashSet;
-
-    invoke-direct/range {v32 .. v32}, Ljava/util/HashSet;-><init>()V
-
-    sget-object v10, Lcom/google/android/mms/pdu/PduPersister;->ADDRESS_FIELDS:[I
-
-    array-length v0, v10
-
-    move/from16 v23, v0
-
-    const/16 v21, 0x0
-
-    move/from16 v22, v21
-
-    :goto_ed
-    move/from16 v0, v22
-
-    move/from16 v1, v23
-
-    if-ge v0, v1, :cond_15b
-
-    aget v9, v10, v22
-
-    const/4 v12, 0x0
-
-    const/16 v3, 0x89
-
-    if-ne v9, v3, :cond_14f
-
-    move-object/from16 v0, v20
-
-    invoke-virtual {v0, v9}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValue(I)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v37
-
-    if-eqz v37, :cond_108
-
-    const/4 v3, 0x1
-
-    new-array v12, v3, [Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    const/4 v3, 0x0
-
-    aput-object v37, v12, v3
-
-    :cond_108
-    :goto_108
-    if-eqz v12, :cond_156
-
-    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J
-
-    move-result-wide v28
-
-    move-object/from16 v0, p0
-
-    move-wide/from16 v1, v28
-
-    invoke-direct {v0, v1, v2, v9, v12}, Lcom/google/android/mms/pdu/PduPersister;->updateAddress(JI[Lcom/google/android/mms/pdu/EncodedStringValue;)V
-
-    const/16 v3, 0x97
-
-    if-ne v9, v3, :cond_156
-
-    move-object v11, v12
-
-    array-length v0, v11
-
-    move/from16 v24, v0
-
-    const/16 v21, 0x0
-
-    :goto_11f
-    move/from16 v0, v21
-
-    move/from16 v1, v24
-
-    if-ge v0, v1, :cond_156
-
-    aget-object v37, v11, v21
-
-    if-eqz v37, :cond_132
-
-    invoke-virtual/range {v37 .. v37}, Lcom/google/android/mms/pdu/EncodedStringValue;->getString()Ljava/lang/String;
-
-    move-result-object v3
-
-    move-object/from16 v0, v32
-
-    invoke-virtual {v0, v3}, Ljava/util/HashSet;->add(Ljava/lang/Object;)Z
-
-    :cond_132
-    add-int/lit8 v21, v21, 0x1
-
-    goto :goto_11f
-
-    :catch_135
-    move-exception v17
-
-    :try_start_136
-    const-string v3, "PduPersister"
-
-    const-string/jumbo v5, "updateHeaders: "
-
-    move-object/from16 v0, v17
-
-    invoke-static {v3, v5, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto/16 :goto_12
-
-    :catchall_142
-    move-exception v3
-
-    monitor-exit v4
-    :try_end_144
-    .catchall {:try_start_136 .. :try_end_144} :catchall_142
-
-    throw v3
-
-    :cond_145
-    const-string/jumbo v3, "sub"
-
-    const-string v4, ""
-
-    invoke-virtual {v6, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
-
-    goto/16 :goto_c7
-
-    :cond_14f
-    move-object/from16 v0, v20
-
-    invoke-virtual {v0, v9}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValues(I)[Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v12
-
-    goto :goto_108
-
-    :cond_156
-    add-int/lit8 v21, v22, 0x1
-
-    move/from16 v22, v21
-
-    goto :goto_ed
-
-    :cond_15b
-    invoke-virtual/range {v32 .. v32}, Ljava/util/HashSet;->isEmpty()Z
-
-    move-result v3
-
-    if-nez v3, :cond_175
-
-    move-object/from16 v0, p0
-
-    iget-object v3, v0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    move-object/from16 v0, v32
-
-    invoke-static {v3, v0}, Landroid/provider/Telephony$Threads;->getOrCreateThreadId(Landroid/content/Context;Ljava/util/Set;)J
-
-    move-result-wide v34
-
-    const-string/jumbo v3, "thread_id"
-
-    invoke-static/range {v34 .. v35}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
-
-    move-result-object v4
-
-    invoke-virtual {v6, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V
-
-    :cond_175
-    move-object/from16 v0, p0
-
-    iget-object v3, v0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    move-object/from16 v0, p0
-
-    iget-object v4, v0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    const/4 v7, 0x0
-
-    const/4 v8, 0x0
-
-    move-object/from16 v5, p1
-
-    invoke-static/range {v3 .. v8}, Lcom/google/android/mms/util/SqliteWrapper;->update(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
-
-    return-void
-.end method
-
-.method public updateParts(Landroid/net/Uri;Lcom/google/android/mms/pdu/PduBody;)V
-    .registers 26
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/MmsException;
-        }
-    .end annotation
-
-    :try_start_0
-    sget-object v19, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    monitor-enter v19
-    :try_end_3
-    .catchall {:try_start_0 .. :try_end_3} :catchall_8b
-
-    :try_start_3
-    sget-object v18, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    move-object/from16 v0, v18
-
-    move-object/from16 v1, p1
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/util/PduCache;->isUpdating(Landroid/net/Uri;)Z
-    :try_end_c
-    .catchall {:try_start_3 .. :try_end_c} :catchall_88
-
-    move-result v18
-
-    if-eqz v18, :cond_2f
-
-    :try_start_f
-    sget-object v18, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    invoke-virtual/range {v18 .. v18}, Ljava/lang/Object;->wait()V
-    :try_end_14
-    .catchall {:try_start_f .. :try_end_14} :catchall_88
-    .catch Ljava/lang/InterruptedException; {:try_start_f .. :try_end_14} :catch_7a
-
-    :goto_14
-    :try_start_14
-    sget-object v18, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    move-object/from16 v0, v18
-
-    move-object/from16 v1, p1
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/util/PduCache;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v5
-
-    check-cast v5, Lcom/google/android/mms/util/PduCacheEntry;
-
-    if-eqz v5, :cond_2f
-
-    invoke-virtual {v5}, Lcom/google/android/mms/util/PduCacheEntry;->getPdu()Lcom/google/android/mms/pdu/GenericPdu;
-
-    move-result-object v18
-
-    check-cast v18, Lcom/google/android/mms/pdu/MultimediaMessagePdu;
-
-    move-object/from16 v0, v18
-
-    move-object/from16 v1, p2
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/MultimediaMessagePdu;->setBody(Lcom/google/android/mms/pdu/PduBody;)V
-
-    :cond_2f
-    sget-object v18, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    const/16 v20, 0x1
-
-    move-object/from16 v0, v18
-
-    move-object/from16 v1, p1
-
-    move/from16 v2, v20
-
-    invoke-virtual {v0, v1, v2}, Lcom/google/android/mms/util/PduCache;->setUpdating(Landroid/net/Uri;Z)V
-
-    monitor-exit v19
-    :try_end_3d
-    .catchall {:try_start_14 .. :try_end_3d} :catchall_88
-
-    :try_start_3d
-    new-instance v16, Ljava/util/ArrayList;
-
-    invoke-direct/range {v16 .. v16}, Ljava/util/ArrayList;-><init>()V
-
-    new-instance v17, Ljava/util/HashMap;
-
-    invoke-direct/range {v17 .. v17}, Ljava/util/HashMap;-><init>()V
-
-    invoke-virtual/range {p2 .. p2}, Lcom/google/android/mms/pdu/PduBody;->getPartsNum()I
-
-    move-result v15
-
-    new-instance v18, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V
-
-    const/16 v19, 0x28
-
-    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;
-
-    move-result-object v8
-
-    const/4 v9, 0x0
-
-    :goto_57
-    if-ge v9, v15, :cond_d3
-
-    move-object/from16 v0, p2
-
-    invoke-virtual {v0, v9}, Lcom/google/android/mms/pdu/PduBody;->getPart(I)Lcom/google/android/mms/pdu/PduPart;
-
-    move-result-object v13
-
-    invoke-virtual {v13}, Lcom/google/android/mms/pdu/PduPart;->getDataUri()Landroid/net/Uri;
-
-    move-result-object v14
-
-    if-eqz v14, :cond_72
-
-    invoke-virtual {v14}, Landroid/net/Uri;->getAuthority()Ljava/lang/String;
-
-    move-result-object v18
-
-    const-string/jumbo v19, "mms"
-
-    invoke-virtual/range {v18 .. v19}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z
-
-    move-result v18
-
-    if-nez v18, :cond_a3
-
-    :cond_72
-    move-object/from16 v0, v16
-
-    invoke-virtual {v0, v13}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
-    :try_end_77
-    .catchall {:try_start_3d .. :try_end_77} :catchall_8b
-
-    :goto_77
-    add-int/lit8 v9, v9, 0x1
-
-    goto :goto_57
-
-    :catch_7a
-    move-exception v6
-
-    :try_start_7b
-    const-string v18, "PduPersister"
-
-    const-string/jumbo v20, "updateParts: "
-
-    move-object/from16 v0, v18
-
-    move-object/from16 v1, v20
-
-    invoke-static {v0, v1, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto :goto_14
-
-    :catchall_88
-    move-exception v18
-
-    monitor-exit v19
-    :try_end_8a
-    .catchall {:try_start_7b .. :try_end_8a} :catchall_88
-
-    :try_start_8a
-    throw v18
-    :try_end_8b
-    .catchall {:try_start_8a .. :try_end_8b} :catchall_8b
-
-    :catchall_8b
-    move-exception v18
-
-    sget-object v19, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    monitor-enter v19
-
-    :try_start_8f
-    sget-object v20, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    const/16 v21, 0x0
-
-    move-object/from16 v0, v20
-
-    move-object/from16 v1, p1
-
-    move/from16 v2, v21
-
-    invoke-virtual {v0, v1, v2}, Lcom/google/android/mms/util/PduCache;->setUpdating(Landroid/net/Uri;Z)V
-
-    sget-object v20, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    invoke-virtual/range {v20 .. v20}, Ljava/lang/Object;->notifyAll()V
-
-    monitor-exit v19
-    :try_end_a2
-    .catchall {:try_start_8f .. :try_end_a2} :catchall_194
-
-    throw v18
-
-    :cond_a3
-    :try_start_a3
-    move-object/from16 v0, v17
-
-    invoke-virtual {v0, v14, v13}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    invoke-virtual {v8}, Ljava/lang/StringBuilder;->length()I
-
-    move-result v18
-
-    const/16 v19, 0x1
-
-    move/from16 v0, v18
-
-    move/from16 v1, v19
-
-    if-le v0, v1, :cond_bb
-
-    const-string v18, " AND "
-
-    move-object/from16 v0, v18
-
-    invoke-virtual {v8, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    :cond_bb
-    const-string v18, "_id"
-
-    move-object/from16 v0, v18
-
-    invoke-virtual {v8, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    const-string v18, "!="
-
-    move-object/from16 v0, v18
-
-    invoke-virtual {v8, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    invoke-virtual {v14}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;
-
-    move-result-object v18
-
-    move-object/from16 v0, v18
-
-    invoke-static {v8, v0}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V
-
-    goto :goto_77
-
-    :cond_d3
-    const/16 v18, 0x29
-
-    move/from16 v0, v18
-
-    invoke-virtual {v8, v0}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;
-
-    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J
-
-    move-result-wide v11
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduPersister;->mContext:Landroid/content/Context;
-
-    move-object/from16 v19, v0
-
-    move-object/from16 v0, p0
-
-    iget-object v0, v0, Lcom/google/android/mms/pdu/PduPersister;->mContentResolver:Landroid/content/ContentResolver;
-
-    move-object/from16 v20, v0
-
-    new-instance v18, Ljava/lang/StringBuilder;
-
-    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V
-
-    sget-object v21, Landroid/provider/Telephony$Mms;->CONTENT_URI:Landroid/net/Uri;
-
-    move-object/from16 v0, v18
-
-    move-object/from16 v1, v21
-
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
-
-    move-result-object v18
-
-    const-string v21, "/"
-
-    move-object/from16 v0, v18
-
-    move-object/from16 v1, v21
-
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v18
-
-    move-object/from16 v0, v18
-
-    invoke-virtual {v0, v11, v12}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
-
-    move-result-object v18
-
-    const-string v21, "/part"
-
-    move-object/from16 v0, v18
-
-    move-object/from16 v1, v21
-
-    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v18
-
-    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v18
-
-    invoke-static/range {v18 .. v18}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;
-
-    move-result-object v21
-
-    invoke-virtual {v8}, Ljava/lang/StringBuilder;->length()I
-
-    move-result v18
-
-    const/16 v22, 0x2
-
-    move/from16 v0, v18
-
-    move/from16 v1, v22
-
-    if-le v0, v1, :cond_150
-
-    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v18
-
-    :goto_12b
-    const/16 v22, 0x0
-
-    move-object/from16 v0, v19
-
-    move-object/from16 v1, v20
-
-    move-object/from16 v2, v21
-
-    move-object/from16 v3, v18
-
-    move-object/from16 v4, v22
-
-    invoke-static {v0, v1, v2, v3, v4}, Lcom/google/android/mms/util/SqliteWrapper;->delete(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I
-
-    invoke-virtual/range {v16 .. v16}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;
-
-    move-result-object v10
-
-    :goto_13e
-    invoke-interface {v10}, Ljava/util/Iterator;->hasNext()Z
-
-    move-result v18
-
-    if-eqz v18, :cond_153
-
-    invoke-interface {v10}, Ljava/util/Iterator;->next()Ljava/lang/Object;
-
-    move-result-object v13
-
-    check-cast v13, Lcom/google/android/mms/pdu/PduPart;
-
-    move-object/from16 v0, p0
-
-    invoke-virtual {v0, v13, v11, v12}, Lcom/google/android/mms/pdu/PduPersister;->persistPart(Lcom/google/android/mms/pdu/PduPart;J)Landroid/net/Uri;
-
-    goto :goto_13e
-
-    :cond_150
-    const/16 v18, 0x0
-
-    goto :goto_12b
-
-    :cond_153
-    invoke-virtual/range {v17 .. v17}, Ljava/util/HashMap;->entrySet()Ljava/util/Set;
-
-    move-result-object v18
-
-    invoke-interface/range {v18 .. v18}, Ljava/util/Set;->iterator()Ljava/util/Iterator;
-
-    move-result-object v10
-
-    :goto_15b
-    invoke-interface {v10}, Ljava/util/Iterator;->hasNext()Z
-
-    move-result v18
-
-    if-eqz v18, :cond_17d
-
-    invoke-interface {v10}, Ljava/util/Iterator;->next()Ljava/lang/Object;
-
-    move-result-object v7
-
-    check-cast v7, Ljava/util/Map$Entry;
-
-    invoke-interface {v7}, Ljava/util/Map$Entry;->getKey()Ljava/lang/Object;
-
-    move-result-object v18
-
-    check-cast v18, Landroid/net/Uri;
-
-    invoke-interface {v7}, Ljava/util/Map$Entry;->getValue()Ljava/lang/Object;
-
-    move-result-object v19
-
-    check-cast v19, Lcom/google/android/mms/pdu/PduPart;
-
-    move-object/from16 v0, p0
-
-    move-object/from16 v1, v18
-
-    move-object/from16 v2, v19
-
-    invoke-direct {v0, v1, v2}, Lcom/google/android/mms/pdu/PduPersister;->updatePart(Landroid/net/Uri;Lcom/google/android/mms/pdu/PduPart;)V
-    :try_end_17c
-    .catchall {:try_start_a3 .. :try_end_17c} :catchall_8b
-
-    goto :goto_15b
-
-    :cond_17d
-    sget-object v19, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    monitor-enter v19
-
-    :try_start_180
-    sget-object v18, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    const/16 v20, 0x0
-
-    move-object/from16 v0, v18
-
-    move-object/from16 v1, p1
-
-    move/from16 v2, v20
-
-    invoke-virtual {v0, v1, v2}, Lcom/google/android/mms/util/PduCache;->setUpdating(Landroid/net/Uri;Z)V
-
-    sget-object v18, Lcom/google/android/mms/pdu/PduPersister;->PDU_CACHE_INSTANCE:Lcom/google/android/mms/util/PduCache;
-
-    invoke-virtual/range {v18 .. v18}, Ljava/lang/Object;->notifyAll()V
-
-    monitor-exit v19
-    :try_end_193
-    .catchall {:try_start_180 .. :try_end_193} :catchall_197
-
-    return-void
-
-    :catchall_194
-    move-exception v18
-
-    :try_start_195
-    monitor-exit v19
-    :try_end_196
-    .catchall {:try_start_195 .. :try_end_196} :catchall_194
-
-    throw v18
-
-    :catchall_197
-    move-exception v18
-
-    :try_start_198
-    monitor-exit v19
-    :try_end_199
-    .catchall {:try_start_198 .. :try_end_199} :catchall_197
-
-    throw v18
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/QuotedPrintable.smali pdroid-framework/smali/com/google/android/mms/pdu/QuotedPrintable.smali
--- stock-framework/smali/com/google/android/mms/pdu/QuotedPrintable.smali	2013-07-15 18:10:57.146627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/QuotedPrintable.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,145 +0,0 @@
-.class public Lcom/google/android/mms/pdu/QuotedPrintable;
-.super Ljava/lang/Object;
-.source "QuotedPrintable.java"
-
-
-# static fields
-.field private static ESCAPE_CHAR:B
-
-
-# direct methods
-.method static constructor <clinit>()V
-    .registers 1
-
-    const/16 v0, 0x3d
-
-    sput-byte v0, Lcom/google/android/mms/pdu/QuotedPrintable;->ESCAPE_CHAR:B
-
-    return-void
-.end method
-
-.method public constructor <init>()V
-    .registers 1
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    return-void
-.end method
-
-.method public static final decodeQuotedPrintable([B)[B
-    .registers 11
-
-    const/4 v9, -0x1
-
-    const/4 v6, 0x0
-
-    if-nez p0, :cond_5
-
-    :cond_4
-    :goto_4
-    return-object v6
-
-    :cond_5
-    new-instance v1, Ljava/io/ByteArrayOutputStream;
-
-    invoke-direct {v1}, Ljava/io/ByteArrayOutputStream;-><init>()V
-
-    const/4 v3, 0x0
-
-    :goto_b
-    array-length v7, p0
-
-    if-ge v3, v7, :cond_53
-
-    aget-byte v0, p0, v3
-
-    sget-byte v7, Lcom/google/android/mms/pdu/QuotedPrintable;->ESCAPE_CHAR:B
-
-    if-ne v0, v7, :cond_4f
-
-    const/16 v7, 0xd
-
-    add-int/lit8 v8, v3, 0x1
-
-    :try_start_18
-    aget-byte v8, p0, v8
-
-    int-to-char v8, v8
-
-    if-ne v7, v8, :cond_2b
-
-    const/16 v7, 0xa
-
-    add-int/lit8 v8, v3, 0x2
-
-    aget-byte v8, p0, v8
-
-    int-to-char v8, v8
-
-    if-ne v7, v8, :cond_2b
-
-    add-int/lit8 v3, v3, 0x2
-
-    :goto_28
-    add-int/lit8 v3, v3, 0x1
-
-    goto :goto_b
-
-    :cond_2b
-    add-int/lit8 v3, v3, 0x1
-
-    aget-byte v7, p0, v3
-
-    int-to-char v7, v7
-
-    const/16 v8, 0x10
-
-    invoke-static {v7, v8}, Ljava/lang/Character;->digit(CI)I
-
-    move-result v5
-
-    add-int/lit8 v3, v3, 0x1
-
-    aget-byte v7, p0, v3
-
-    int-to-char v7, v7
-
-    const/16 v8, 0x10
-
-    invoke-static {v7, v8}, Ljava/lang/Character;->digit(CI)I
-
-    move-result v4
-
-    if-eq v5, v9, :cond_4
-
-    if-eq v4, v9, :cond_4
-
-    shl-int/lit8 v7, v5, 0x4
-
-    add-int/2addr v7, v4
-
-    int-to-char v7, v7
-
-    invoke-virtual {v1, v7}, Ljava/io/ByteArrayOutputStream;->write(I)V
-    :try_end_4c
-    .catch Ljava/lang/ArrayIndexOutOfBoundsException; {:try_start_18 .. :try_end_4c} :catch_4d
-
-    goto :goto_28
-
-    :catch_4d
-    move-exception v2
-
-    goto :goto_4
-
-    :cond_4f
-    invoke-virtual {v1, v0}, Ljava/io/ByteArrayOutputStream;->write(I)V
-
-    goto :goto_28
-
-    :cond_53
-    invoke-virtual {v1}, Ljava/io/ByteArrayOutputStream;->toByteArray()[B
-
-    move-result-object v6
-
-    goto :goto_4
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/ReadOrigInd.smali pdroid-framework/smali/com/google/android/mms/pdu/ReadOrigInd.smali
--- stock-framework/smali/com/google/android/mms/pdu/ReadOrigInd.smali	2013-07-15 18:10:57.146627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/ReadOrigInd.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,167 +0,0 @@
-.class public Lcom/google/android/mms/pdu/ReadOrigInd;
-.super Lcom/google/android/mms/pdu/GenericPdu;
-.source "ReadOrigInd.java"
-
-
-# direct methods
-.method public constructor <init>()V
-    .registers 2
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    invoke-direct {p0}, Lcom/google/android/mms/pdu/GenericPdu;-><init>()V
-
-    const/16 v0, 0x88
-
-    invoke-virtual {p0, v0}, Lcom/google/android/mms/pdu/ReadOrigInd;->setMessageType(I)V
-
-    return-void
-.end method
-
-.method constructor <init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-    .registers 2
-
-    invoke-direct {p0, p1}, Lcom/google/android/mms/pdu/GenericPdu;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    return-void
-.end method
-
-
-# virtual methods
-.method public getDate()J
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/ReadOrigInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x85
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getLongInteger(I)J
-
-    move-result-wide v0
-
-    return-wide v0
-.end method
-
-.method public getFrom()Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/ReadOrigInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x89
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValue(I)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getMessageId()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/ReadOrigInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8b
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getReadStatus()I
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/ReadOrigInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x9b
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public getTo()[Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/ReadOrigInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x97
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValues(I)[Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public setDate(J)V
-    .registers 5
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/ReadOrigInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x85
-
-    invoke-virtual {v0, p1, p2, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setLongInteger(JI)V
-
-    return-void
-.end method
-
-.method public setFrom(Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/ReadOrigInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x89
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-
-    return-void
-.end method
-
-.method public setMessageId([B)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/ReadOrigInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8b
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-
-    return-void
-.end method
-
-.method public setReadStatus(I)V
-    .registers 4
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/ReadOrigInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x9b
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-
-    return-void
-.end method
-
-.method public setTo([Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/ReadOrigInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x97
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setEncodedStringValues([Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-
-    return-void
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/ReadRecInd.smali pdroid-framework/smali/com/google/android/mms/pdu/ReadRecInd.smali
--- stock-framework/smali/com/google/android/mms/pdu/ReadRecInd.smali	2013-07-15 18:10:57.146627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/ReadRecInd.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,151 +0,0 @@
-.class public Lcom/google/android/mms/pdu/ReadRecInd;
-.super Lcom/google/android/mms/pdu/GenericPdu;
-.source "ReadRecInd.java"
-
-
-# direct methods
-.method public constructor <init>(Lcom/google/android/mms/pdu/EncodedStringValue;[BII[Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 7
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    invoke-direct {p0}, Lcom/google/android/mms/pdu/GenericPdu;-><init>()V
-
-    const/16 v0, 0x87
-
-    invoke-virtual {p0, v0}, Lcom/google/android/mms/pdu/ReadRecInd;->setMessageType(I)V
-
-    invoke-virtual {p0, p1}, Lcom/google/android/mms/pdu/ReadRecInd;->setFrom(Lcom/google/android/mms/pdu/EncodedStringValue;)V
-
-    invoke-virtual {p0, p2}, Lcom/google/android/mms/pdu/ReadRecInd;->setMessageId([B)V
-
-    invoke-virtual {p0, p3}, Lcom/google/android/mms/pdu/ReadRecInd;->setMmsVersion(I)V
-
-    invoke-virtual {p0, p5}, Lcom/google/android/mms/pdu/ReadRecInd;->setTo([Lcom/google/android/mms/pdu/EncodedStringValue;)V
-
-    invoke-virtual {p0, p4}, Lcom/google/android/mms/pdu/ReadRecInd;->setReadStatus(I)V
-
-    return-void
-.end method
-
-.method constructor <init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-    .registers 2
-
-    invoke-direct {p0, p1}, Lcom/google/android/mms/pdu/GenericPdu;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    return-void
-.end method
-
-
-# virtual methods
-.method public getDate()J
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/ReadRecInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x85
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getLongInteger(I)J
-
-    move-result-wide v0
-
-    return-wide v0
-.end method
-
-.method public getMessageId()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/ReadRecInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8b
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getReadStatus()I
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/ReadRecInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x9b
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public getTo()[Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/ReadRecInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x97
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValues(I)[Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public setDate(J)V
-    .registers 5
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/ReadRecInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x85
-
-    invoke-virtual {v0, p1, p2, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setLongInteger(JI)V
-
-    return-void
-.end method
-
-.method public setMessageId([B)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/ReadRecInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8b
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-
-    return-void
-.end method
-
-.method public setReadStatus(I)V
-    .registers 4
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/ReadRecInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x9b
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-
-    return-void
-.end method
-
-.method public setTo([Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/ReadRecInd;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x97
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setEncodedStringValues([Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-
-    return-void
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/RetrieveConf.smali pdroid-framework/smali/com/google/android/mms/pdu/RetrieveConf.smali
--- stock-framework/smali/com/google/android/mms/pdu/RetrieveConf.smali	2013-07-15 18:10:57.146627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/RetrieveConf.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,315 +0,0 @@
-.class public Lcom/google/android/mms/pdu/RetrieveConf;
-.super Lcom/google/android/mms/pdu/MultimediaMessagePdu;
-.source "RetrieveConf.java"
-
-
-# direct methods
-.method public constructor <init>()V
-    .registers 2
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    invoke-direct {p0}, Lcom/google/android/mms/pdu/MultimediaMessagePdu;-><init>()V
-
-    const/16 v0, 0x84
-
-    invoke-virtual {p0, v0}, Lcom/google/android/mms/pdu/RetrieveConf;->setMessageType(I)V
-
-    return-void
-.end method
-
-.method constructor <init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-    .registers 2
-
-    invoke-direct {p0, p1}, Lcom/google/android/mms/pdu/MultimediaMessagePdu;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    return-void
-.end method
-
-.method constructor <init>(Lcom/google/android/mms/pdu/PduHeaders;Lcom/google/android/mms/pdu/PduBody;)V
-    .registers 3
-
-    invoke-direct {p0, p1, p2}, Lcom/google/android/mms/pdu/MultimediaMessagePdu;-><init>(Lcom/google/android/mms/pdu/PduHeaders;Lcom/google/android/mms/pdu/PduBody;)V
-
-    return-void
-.end method
-
-
-# virtual methods
-.method public addCc(Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x82
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->appendEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-
-    return-void
-.end method
-
-.method public getCc()[Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x82
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValues(I)[Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getContentType()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x84
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getDeliveryReport()I
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x86
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public getFrom()Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x89
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValue(I)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getMessageClass()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8a
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getMessageId()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8b
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getReadReport()I
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x90
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public getRetrieveStatus()I
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x99
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public getRetrieveText()Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x9a
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValue(I)Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getTransactionId()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x98
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public setContentType([B)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x84
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-
-    return-void
-.end method
-
-.method public setDeliveryReport(I)V
-    .registers 4
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x86
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-
-    return-void
-.end method
-
-.method public setFrom(Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x89
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-
-    return-void
-.end method
-
-.method public setMessageClass([B)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8a
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-
-    return-void
-.end method
-
-.method public setMessageId([B)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8b
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-
-    return-void
-.end method
-
-.method public setReadReport(I)V
-    .registers 4
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x90
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-
-    return-void
-.end method
-
-.method public setRetrieveStatus(I)V
-    .registers 4
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x99
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-
-    return-void
-.end method
-
-.method public setRetrieveText(Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x9a
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-
-    return-void
-.end method
-
-.method public setTransactionId([B)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/RetrieveConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x98
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-
-    return-void
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/SendConf.smali pdroid-framework/smali/com/google/android/mms/pdu/SendConf.smali
--- stock-framework/smali/com/google/android/mms/pdu/SendConf.smali	2013-07-15 18:10:57.146627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/SendConf.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,115 +0,0 @@
-.class public Lcom/google/android/mms/pdu/SendConf;
-.super Lcom/google/android/mms/pdu/GenericPdu;
-.source "SendConf.java"
-
-
-# direct methods
-.method public constructor <init>()V
-    .registers 2
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    invoke-direct {p0}, Lcom/google/android/mms/pdu/GenericPdu;-><init>()V
-
-    const/16 v0, 0x81
-
-    invoke-virtual {p0, v0}, Lcom/google/android/mms/pdu/SendConf;->setMessageType(I)V
-
-    return-void
-.end method
-
-.method constructor <init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-    .registers 2
-
-    invoke-direct {p0, p1}, Lcom/google/android/mms/pdu/GenericPdu;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    return-void
-.end method
-
-
-# virtual methods
-.method public getMessageId()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8b
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getResponseStatus()I
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x92
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public getTransactionId()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x98
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public setMessageId([B)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8b
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-
-    return-void
-.end method
-
-.method public setResponseStatus(I)V
-    .registers 4
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x92
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-
-    return-void
-.end method
-
-.method public setTransactionId([B)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendConf;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x98
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-
-    return-void
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/pdu/SendReq.smali pdroid-framework/smali/com/google/android/mms/pdu/SendReq.smali
--- stock-framework/smali/com/google/android/mms/pdu/SendReq.smali	2013-07-15 18:10:57.146627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/pdu/SendReq.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,428 +0,0 @@
-.class public Lcom/google/android/mms/pdu/SendReq;
-.super Lcom/google/android/mms/pdu/MultimediaMessagePdu;
-.source "SendReq.java"
-
-
-# static fields
-.field private static final TAG:Ljava/lang/String; = "SendReq"
-
-
-# direct methods
-.method public constructor <init>()V
-    .registers 4
-
-    invoke-direct {p0}, Lcom/google/android/mms/pdu/MultimediaMessagePdu;-><init>()V
-
-    const/16 v1, 0x80
-
-    :try_start_5
-    invoke-virtual {p0, v1}, Lcom/google/android/mms/pdu/SendReq;->setMessageType(I)V
-
-    const/16 v1, 0x12
-
-    invoke-virtual {p0, v1}, Lcom/google/android/mms/pdu/SendReq;->setMmsVersion(I)V
-
-    const-string v1, "application/vnd.wap.multipart.related"
-
-    invoke-virtual {v1}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v1
-
-    invoke-virtual {p0, v1}, Lcom/google/android/mms/pdu/SendReq;->setContentType([B)V
-
-    new-instance v1, Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    const-string v2, "insert-address-token"
-
-    invoke-virtual {v2}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v2
-
-    invoke-direct {v1, v2}, Lcom/google/android/mms/pdu/EncodedStringValue;-><init>([B)V
-
-    invoke-virtual {p0, v1}, Lcom/google/android/mms/pdu/SendReq;->setFrom(Lcom/google/android/mms/pdu/EncodedStringValue;)V
-
-    invoke-direct {p0}, Lcom/google/android/mms/pdu/SendReq;->generateTransactionId()[B
-
-    move-result-object v1
-
-    invoke-virtual {p0, v1}, Lcom/google/android/mms/pdu/SendReq;->setTransactionId([B)V
-    :try_end_2b
-    .catch Lcom/google/android/mms/InvalidHeaderValueException; {:try_start_5 .. :try_end_2b} :catch_2c
-
-    return-void
-
-    :catch_2c
-    move-exception v0
-
-    const-string v1, "SendReq"
-
-    const-string v2, "Unexpected InvalidHeaderValueException."
-
-    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    new-instance v1, Ljava/lang/RuntimeException;
-
-    invoke-direct {v1, v0}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/Throwable;)V
-
-    throw v1
-.end method
-
-.method constructor <init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-    .registers 2
-
-    invoke-direct {p0, p1}, Lcom/google/android/mms/pdu/MultimediaMessagePdu;-><init>(Lcom/google/android/mms/pdu/PduHeaders;)V
-
-    return-void
-.end method
-
-.method constructor <init>(Lcom/google/android/mms/pdu/PduHeaders;Lcom/google/android/mms/pdu/PduBody;)V
-    .registers 3
-
-    invoke-direct {p0, p1, p2}, Lcom/google/android/mms/pdu/MultimediaMessagePdu;-><init>(Lcom/google/android/mms/pdu/PduHeaders;Lcom/google/android/mms/pdu/PduBody;)V
-
-    return-void
-.end method
-
-.method public constructor <init>([BLcom/google/android/mms/pdu/EncodedStringValue;I[B)V
-    .registers 6
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    invoke-direct {p0}, Lcom/google/android/mms/pdu/MultimediaMessagePdu;-><init>()V
-
-    const/16 v0, 0x80
-
-    invoke-virtual {p0, v0}, Lcom/google/android/mms/pdu/SendReq;->setMessageType(I)V
-
-    invoke-virtual {p0, p1}, Lcom/google/android/mms/pdu/SendReq;->setContentType([B)V
-
-    invoke-virtual {p0, p2}, Lcom/google/android/mms/pdu/SendReq;->setFrom(Lcom/google/android/mms/pdu/EncodedStringValue;)V
-
-    invoke-virtual {p0, p3}, Lcom/google/android/mms/pdu/SendReq;->setMmsVersion(I)V
-
-    invoke-virtual {p0, p4}, Lcom/google/android/mms/pdu/SendReq;->setTransactionId([B)V
-
-    return-void
-.end method
-
-.method private generateTransactionId()[B
-    .registers 5
-
-    new-instance v1, Ljava/lang/StringBuilder;
-
-    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v2, "T"
-
-    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v1
-
-    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J
-
-    move-result-wide v2
-
-    invoke-static {v2, v3}, Ljava/lang/Long;->toHexString(J)Ljava/lang/String;
-
-    move-result-object v2
-
-    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v1
-
-    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v0
-
-    invoke-virtual {v0}, Ljava/lang/String;->getBytes()[B
-
-    move-result-object v1
-
-    return-object v1
-.end method
-
-
-# virtual methods
-.method public addBcc(Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x81
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->appendEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-
-    return-void
-.end method
-
-.method public addCc(Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x82
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->appendEncodedStringValue(Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-
-    return-void
-.end method
-
-.method public getBcc()[Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x81
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValues(I)[Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getCc()[Lcom/google/android/mms/pdu/EncodedStringValue;
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x82
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getEncodedStringValues(I)[Lcom/google/android/mms/pdu/EncodedStringValue;
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getContentType()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x84
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getDeliveryReport()I
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x86
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public getExpiry()J
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x88
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getLongInteger(I)J
-
-    move-result-wide v0
-
-    return-wide v0
-.end method
-
-.method public getMessageClass()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8a
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public getMessageSize()J
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8e
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getLongInteger(I)J
-
-    move-result-wide v0
-
-    return-wide v0
-.end method
-
-.method public getReadReport()I
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x90
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getOctet(I)I
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public getTransactionId()[B
-    .registers 3
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x98
-
-    invoke-virtual {v0, v1}, Lcom/google/android/mms/pdu/PduHeaders;->getTextString(I)[B
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public setBcc([Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x81
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setEncodedStringValues([Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-
-    return-void
-.end method
-
-.method public setCc([Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x82
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setEncodedStringValues([Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-
-    return-void
-.end method
-
-.method public setContentType([B)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x84
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-
-    return-void
-.end method
-
-.method public setDeliveryReport(I)V
-    .registers 4
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x86
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-
-    return-void
-.end method
-
-.method public setExpiry(J)V
-    .registers 5
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x88
-
-    invoke-virtual {v0, p1, p2, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setLongInteger(JI)V
-
-    return-void
-.end method
-
-.method public setMessageClass([B)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8a
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-
-    return-void
-.end method
-
-.method public setMessageSize(J)V
-    .registers 5
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x8e
-
-    invoke-virtual {v0, p1, p2, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setLongInteger(JI)V
-
-    return-void
-.end method
-
-.method public setReadReport(I)V
-    .registers 4
-    .annotation system Ldalvik/annotation/Throws;
-        value = {
-            Lcom/google/android/mms/InvalidHeaderValueException;
-        }
-    .end annotation
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x90
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setOctet(II)V
-
-    return-void
-.end method
-
-.method public setTo([Lcom/google/android/mms/pdu/EncodedStringValue;)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x97
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setEncodedStringValues([Lcom/google/android/mms/pdu/EncodedStringValue;I)V
-
-    return-void
-.end method
-
-.method public setTransactionId([B)V
-    .registers 4
-
-    iget-object v0, p0, Lcom/google/android/mms/pdu/SendReq;->mPduHeaders:Lcom/google/android/mms/pdu/PduHeaders;
-
-    const/16 v1, 0x98
-
-    invoke-virtual {v0, p1, v1}, Lcom/google/android/mms/pdu/PduHeaders;->setTextString([BI)V
-
-    return-void
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/util/AbstractCache$1.smali pdroid-framework/smali/com/google/android/mms/util/AbstractCache$1.smali
--- stock-framework/smali/com/google/android/mms/util/AbstractCache$1.smali	2013-07-15 18:10:57.146627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/util/AbstractCache$1.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,14 +0,0 @@
-.class synthetic Lcom/google/android/mms/util/AbstractCache$1;
-.super Ljava/lang/Object;
-.source "AbstractCache.java"
-
-
-# annotations
-.annotation system Ldalvik/annotation/EnclosingClass;
-    value = Lcom/google/android/mms/util/AbstractCache;
-.end annotation
-
-.annotation system Ldalvik/annotation/InnerClass;
-    accessFlags = 0x1008
-    name = null
-.end annotation
diff -Npruw stock-framework/smali/com/google/android/mms/util/AbstractCache$CacheEntry.smali pdroid-framework/smali/com/google/android/mms/util/AbstractCache$CacheEntry.smali
--- stock-framework/smali/com/google/android/mms/util/AbstractCache$CacheEntry.smali	2013-07-15 18:10:57.146627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/util/AbstractCache$CacheEntry.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,53 +0,0 @@
-.class Lcom/google/android/mms/util/AbstractCache$CacheEntry;
-.super Ljava/lang/Object;
-.source "AbstractCache.java"
-
-
-# annotations
-.annotation system Ldalvik/annotation/EnclosingClass;
-    value = Lcom/google/android/mms/util/AbstractCache;
-.end annotation
-
-.annotation system Ldalvik/annotation/InnerClass;
-    accessFlags = 0xa
-    name = "CacheEntry"
-.end annotation
-
-.annotation system Ldalvik/annotation/Signature;
-    value = {
-        "<V:",
-        "Ljava/lang/Object;",
-        ">",
-        "Ljava/lang/Object;"
-    }
-.end annotation
-
-
-# instance fields
-.field hit:I
-
-.field value:Ljava/lang/Object;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "TV;"
-        }
-    .end annotation
-.end field
-
-
-# direct methods
-.method private constructor <init>()V
-    .registers 1
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    return-void
-.end method
-
-.method synthetic constructor <init>(Lcom/google/android/mms/util/AbstractCache$1;)V
-    .registers 2
-
-    invoke-direct {p0}, Lcom/google/android/mms/util/AbstractCache$CacheEntry;-><init>()V
-
-    return-void
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/util/AbstractCache.smali pdroid-framework/smali/com/google/android/mms/util/AbstractCache.smali
--- stock-framework/smali/com/google/android/mms/util/AbstractCache.smali	2013-07-15 18:10:57.146627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/util/AbstractCache.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,196 +0,0 @@
-.class public abstract Lcom/google/android/mms/util/AbstractCache;
-.super Ljava/lang/Object;
-.source "AbstractCache.java"
-
-
-# annotations
-.annotation system Ldalvik/annotation/MemberClasses;
-    value = {
-        Lcom/google/android/mms/util/AbstractCache$1;,
-        Lcom/google/android/mms/util/AbstractCache$CacheEntry;
-    }
-.end annotation
-
-.annotation system Ldalvik/annotation/Signature;
-    value = {
-        "<K:",
-        "Ljava/lang/Object;",
-        "V:",
-        "Ljava/lang/Object;",
-        ">",
-        "Ljava/lang/Object;"
-    }
-.end annotation
-
-
-# static fields
-.field private static final DEBUG:Z = false
-
-.field private static final LOCAL_LOGV:Z = false
-
-.field private static final MAX_CACHED_ITEMS:I = 0x1f4
-
-.field private static final TAG:Ljava/lang/String; = "AbstractCache"
-
-
-# instance fields
-.field private final mCacheMap:Ljava/util/HashMap;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashMap",
-            "<TK;",
-            "Lcom/google/android/mms/util/AbstractCache$CacheEntry",
-            "<TV;>;>;"
-        }
-    .end annotation
-.end field
-
-
-# direct methods
-.method protected constructor <init>()V
-    .registers 2
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    iput-object v0, p0, Lcom/google/android/mms/util/AbstractCache;->mCacheMap:Ljava/util/HashMap;
-
-    return-void
-.end method
-
-
-# virtual methods
-.method public get(Ljava/lang/Object;)Ljava/lang/Object;
-    .registers 4
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "(TK;)TV;"
-        }
-    .end annotation
-
-    if-eqz p1, :cond_15
-
-    iget-object v1, p0, Lcom/google/android/mms/util/AbstractCache;->mCacheMap:Ljava/util/HashMap;
-
-    invoke-virtual {v1, p1}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Lcom/google/android/mms/util/AbstractCache$CacheEntry;
-
-    if-eqz v0, :cond_15
-
-    iget v1, v0, Lcom/google/android/mms/util/AbstractCache$CacheEntry;->hit:I
-
-    add-int/lit8 v1, v1, 0x1
-
-    iput v1, v0, Lcom/google/android/mms/util/AbstractCache$CacheEntry;->hit:I
-
-    iget-object v1, v0, Lcom/google/android/mms/util/AbstractCache$CacheEntry;->value:Ljava/lang/Object;
-
-    :goto_14
-    return-object v1
-
-    :cond_15
-    const/4 v1, 0x0
-
-    goto :goto_14
-.end method
-
-.method public purge(Ljava/lang/Object;)Ljava/lang/Object;
-    .registers 4
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "(TK;)TV;"
-        }
-    .end annotation
-
-    iget-object v1, p0, Lcom/google/android/mms/util/AbstractCache;->mCacheMap:Ljava/util/HashMap;
-
-    invoke-virtual {v1, p1}, Ljava/util/HashMap;->remove(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Lcom/google/android/mms/util/AbstractCache$CacheEntry;
-
-    if-eqz v0, :cond_d
-
-    iget-object v1, v0, Lcom/google/android/mms/util/AbstractCache$CacheEntry;->value:Ljava/lang/Object;
-
-    :goto_c
-    return-object v1
-
-    :cond_d
-    const/4 v1, 0x0
-
-    goto :goto_c
-.end method
-
-.method public purgeAll()V
-    .registers 2
-
-    iget-object v0, p0, Lcom/google/android/mms/util/AbstractCache;->mCacheMap:Ljava/util/HashMap;
-
-    invoke-virtual {v0}, Ljava/util/HashMap;->clear()V
-
-    return-void
-.end method
-
-.method public put(Ljava/lang/Object;Ljava/lang/Object;)Z
-    .registers 7
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "(TK;TV;)Z"
-        }
-    .end annotation
-
-    const/4 v1, 0x0
-
-    iget-object v2, p0, Lcom/google/android/mms/util/AbstractCache;->mCacheMap:Ljava/util/HashMap;
-
-    invoke-virtual {v2}, Ljava/util/HashMap;->size()I
-
-    move-result v2
-
-    const/16 v3, 0x1f4
-
-    if-lt v2, v3, :cond_c
-
-    :cond_b
-    :goto_b
-    return v1
-
-    :cond_c
-    if-eqz p1, :cond_b
-
-    new-instance v0, Lcom/google/android/mms/util/AbstractCache$CacheEntry;
-
-    const/4 v1, 0x0
-
-    invoke-direct {v0, v1}, Lcom/google/android/mms/util/AbstractCache$CacheEntry;-><init>(Lcom/google/android/mms/util/AbstractCache$1;)V
-
-    iput-object p2, v0, Lcom/google/android/mms/util/AbstractCache$CacheEntry;->value:Ljava/lang/Object;
-
-    iget-object v1, p0, Lcom/google/android/mms/util/AbstractCache;->mCacheMap:Ljava/util/HashMap;
-
-    invoke-virtual {v1, p1, v0}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    const/4 v1, 0x1
-
-    goto :goto_b
-.end method
-
-.method public size()I
-    .registers 2
-
-    iget-object v0, p0, Lcom/google/android/mms/util/AbstractCache;->mCacheMap:Ljava/util/HashMap;
-
-    invoke-virtual {v0}, Ljava/util/HashMap;->size()I
-
-    move-result v0
-
-    return v0
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/util/DownloadDrmHelper.smali pdroid-framework/smali/com/google/android/mms/util/DownloadDrmHelper.smali
--- stock-framework/smali/com/google/android/mms/util/DownloadDrmHelper.smali	2013-07-15 18:10:57.146627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/util/DownloadDrmHelper.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,177 +0,0 @@
-.class public Lcom/google/android/mms/util/DownloadDrmHelper;
-.super Ljava/lang/Object;
-.source "DownloadDrmHelper.java"
-
-
-# static fields
-.field public static final EXTENSION_DRM_MESSAGE:Ljava/lang/String; = ".dm"
-
-.field public static final EXTENSION_INTERNAL_FWDL:Ljava/lang/String; = ".fl"
-
-.field public static final MIMETYPE_DRM_MESSAGE:Ljava/lang/String; = "application/vnd.oma.drm.message"
-
-.field private static final TAG:Ljava/lang/String; = "DownloadDrmHelper"
-
-
-# direct methods
-.method public constructor <init>()V
-    .registers 1
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    return-void
-.end method
-
-.method public static getOriginalMimeType(Landroid/content/Context;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
-    .registers 8
-
-    move-object v2, p2
-
-    new-instance v0, Landroid/drm/DrmManagerClient;
-
-    invoke-direct {v0, p0}, Landroid/drm/DrmManagerClient;-><init>(Landroid/content/Context;)V
-
-    const/4 v3, 0x0
-
-    :try_start_7
-    invoke-virtual {v0, p1, v3}, Landroid/drm/DrmManagerClient;->canHandle(Ljava/lang/String;Ljava/lang/String;)Z
-
-    move-result v3
-
-    if-eqz v3, :cond_11
-
-    invoke-virtual {v0, p1}, Landroid/drm/DrmManagerClient;->getOriginalMimeType(Ljava/lang/String;)Ljava/lang/String;
-    :try_end_10
-    .catch Ljava/lang/IllegalArgumentException; {:try_start_7 .. :try_end_10} :catch_12
-    .catch Ljava/lang/IllegalStateException; {:try_start_7 .. :try_end_10} :catch_1b
-
-    move-result-object v2
-
-    :cond_11
-    :goto_11
-    return-object v2
-
-    :catch_12
-    move-exception v1
-
-    const-string v3, "DownloadDrmHelper"
-
-    const-string v4, "Can\'t get original mime type since path is null or empty string."
-
-    invoke-static {v3, v4}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
-
-    goto :goto_11
-
-    :catch_1b
-    move-exception v1
-
-    const-string v3, "DownloadDrmHelper"
-
-    const-string v4, "DrmManagerClient didn\'t initialize properly."
-
-    invoke-static {v3, v4}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
-
-    goto :goto_11
-.end method
-
-.method public static isDrmConvertNeeded(Ljava/lang/String;)Z
-    .registers 2
-
-    const-string v0, "application/vnd.oma.drm.message"
-
-    invoke-virtual {v0, p0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public static isDrmMimeType(Landroid/content/Context;Ljava/lang/String;)Z
-    .registers 7
-
-    const/4 v2, 0x0
-
-    if-eqz p0, :cond_18
-
-    :try_start_3
-    new-instance v0, Landroid/drm/DrmManagerClient;
-
-    invoke-direct {v0, p0}, Landroid/drm/DrmManagerClient;-><init>(Landroid/content/Context;)V
-
-    if-eqz v0, :cond_18
-
-    if-eqz p1, :cond_18
-
-    invoke-virtual {p1}, Ljava/lang/String;->length()I
-
-    move-result v3
-
-    if-lez v3, :cond_18
-
-    const-string v3, ""
-
-    invoke-virtual {v0, v3, p1}, Landroid/drm/DrmManagerClient;->canHandle(Ljava/lang/String;Ljava/lang/String;)Z
-    :try_end_17
-    .catch Ljava/lang/IllegalArgumentException; {:try_start_3 .. :try_end_17} :catch_19
-    .catch Ljava/lang/IllegalStateException; {:try_start_3 .. :try_end_17} :catch_22
-
-    move-result v2
-
-    :cond_18
-    :goto_18
-    return v2
-
-    :catch_19
-    move-exception v1
-
-    const-string v3, "DownloadDrmHelper"
-
-    const-string v4, "DrmManagerClient instance could not be created, context is Illegal."
-
-    invoke-static {v3, v4}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
-
-    goto :goto_18
-
-    :catch_22
-    move-exception v1
-
-    const-string v3, "DownloadDrmHelper"
-
-    const-string v4, "DrmManagerClient didn\'t initialize properly."
-
-    invoke-static {v3, v4}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
-
-    goto :goto_18
-.end method
-
-.method public static modifyDrmFwLockFileExtension(Ljava/lang/String;)Ljava/lang/String;
-    .registers 3
-
-    if-eqz p0, :cond_16
-
-    const-string v1, "."
-
-    invoke-virtual {p0, v1}, Ljava/lang/String;->lastIndexOf(Ljava/lang/String;)I
-
-    move-result v0
-
-    const/4 v1, -0x1
-
-    if-eq v0, v1, :cond_10
-
-    const/4 v1, 0x0
-
-    invoke-virtual {p0, v1, v0}, Ljava/lang/String;->substring(II)Ljava/lang/String;
-
-    move-result-object p0
-
-    :cond_10
-    const-string v1, ".fl"
-
-    invoke-virtual {p0, v1}, Ljava/lang/String;->concat(Ljava/lang/String;)Ljava/lang/String;
-
-    move-result-object p0
-
-    :cond_16
-    return-object p0
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/util/DrmConvertSession.smali pdroid-framework/smali/com/google/android/mms/util/DrmConvertSession.smali
--- stock-framework/smali/com/google/android/mms/util/DrmConvertSession.smali	2013-07-15 18:10:57.150627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/util/DrmConvertSession.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,871 +0,0 @@
-.class public Lcom/google/android/mms/util/DrmConvertSession;
-.super Ljava/lang/Object;
-.source "DrmConvertSession.java"
-
-
-# static fields
-.field private static final TAG:Ljava/lang/String; = "DrmConvertSession"
-
-
-# instance fields
-.field private mConvertSessionId:I
-
-.field private mDrmClient:Landroid/drm/DrmManagerClient;
-
-
-# direct methods
-.method private constructor <init>(Landroid/drm/DrmManagerClient;I)V
-    .registers 3
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    iput-object p1, p0, Lcom/google/android/mms/util/DrmConvertSession;->mDrmClient:Landroid/drm/DrmManagerClient;
-
-    iput p2, p0, Lcom/google/android/mms/util/DrmConvertSession;->mConvertSessionId:I
-
-    return-void
-.end method
-
-.method public static open(Landroid/content/Context;Ljava/lang/String;)Lcom/google/android/mms/util/DrmConvertSession;
-    .registers 9
-
-    const/4 v1, 0x0
-
-    const/4 v0, -0x1
-
-    if-eqz p0, :cond_18
-
-    if-eqz p1, :cond_18
-
-    const-string v4, ""
-
-    invoke-virtual {p1, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v4
-
-    if-nez v4, :cond_18
-
-    :try_start_e
-    new-instance v2, Landroid/drm/DrmManagerClient;
-
-    invoke-direct {v2, p0}, Landroid/drm/DrmManagerClient;-><init>(Landroid/content/Context;)V
-    :try_end_13
-    .catch Ljava/lang/IllegalArgumentException; {:try_start_e .. :try_end_13} :catch_63
-    .catch Ljava/lang/IllegalStateException; {:try_start_e .. :try_end_13} :catch_61
-
-    :try_start_13
-    invoke-virtual {v2, p1}, Landroid/drm/DrmManagerClient;->openConvertSession(Ljava/lang/String;)I
-    :try_end_16
-    .catch Ljava/lang/IllegalArgumentException; {:try_start_13 .. :try_end_16} :catch_1e
-    .catch Ljava/lang/IllegalStateException; {:try_start_13 .. :try_end_16} :catch_48
-
-    move-result v0
-
-    :goto_17
-    move-object v1, v2
-
-    :cond_18
-    :goto_18
-    if-eqz v1, :cond_1c
-
-    if-gez v0, :cond_5b
-
-    :cond_1c
-    const/4 v4, 0x0
-
-    :goto_1d
-    return-object v4
-
-    :catch_1e
-    move-exception v3
-
-    :try_start_1f
-    const-string v4, "DrmConvertSession"
-
-    new-instance v5, Ljava/lang/StringBuilder;
-
-    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v6, "Conversion of Mimetype: "
-
-    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v5
-
-    invoke-virtual {v5, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v5
-
-    const-string v6, " is not supported."
-
-    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v5
-
-    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v5
-
-    invoke-static {v4, v5, v3}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_3d
-    .catch Ljava/lang/IllegalArgumentException; {:try_start_1f .. :try_end_3d} :catch_3e
-    .catch Ljava/lang/IllegalStateException; {:try_start_1f .. :try_end_3d} :catch_51
-
-    goto :goto_17
-
-    :catch_3e
-    move-exception v3
-
-    move-object v1, v2
-
-    :goto_40
-    const-string v4, "DrmConvertSession"
-
-    const-string v5, "DrmManagerClient instance could not be created, context is Illegal."
-
-    invoke-static {v4, v5}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
-
-    goto :goto_18
-
-    :catch_48
-    move-exception v3
-
-    :try_start_49
-    const-string v4, "DrmConvertSession"
-
-    const-string v5, "Could not access Open DrmFramework."
-
-    invoke-static {v4, v5, v3}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_50
-    .catch Ljava/lang/IllegalArgumentException; {:try_start_49 .. :try_end_50} :catch_3e
-    .catch Ljava/lang/IllegalStateException; {:try_start_49 .. :try_end_50} :catch_51
-
-    goto :goto_17
-
-    :catch_51
-    move-exception v3
-
-    move-object v1, v2
-
-    :goto_53
-    const-string v4, "DrmConvertSession"
-
-    const-string v5, "DrmManagerClient didn\'t initialize properly."
-
-    invoke-static {v4, v5}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
-
-    goto :goto_18
-
-    :cond_5b
-    new-instance v4, Lcom/google/android/mms/util/DrmConvertSession;
-
-    invoke-direct {v4, v1, v0}, Lcom/google/android/mms/util/DrmConvertSession;-><init>(Landroid/drm/DrmManagerClient;I)V
-
-    goto :goto_1d
-
-    :catch_61
-    move-exception v3
-
-    goto :goto_53
-
-    :catch_63
-    move-exception v3
-
-    goto :goto_40
-.end method
-
-
-# virtual methods
-.method public close(Ljava/lang/String;)I
-    .registers 11
-
-    const/4 v0, 0x0
-
-    const/16 v2, 0x1eb
-
-    iget-object v5, p0, Lcom/google/android/mms/util/DrmConvertSession;->mDrmClient:Landroid/drm/DrmManagerClient;
-
-    if-eqz v5, :cond_20
-
-    iget v5, p0, Lcom/google/android/mms/util/DrmConvertSession;->mConvertSessionId:I
-
-    if-ltz v5, :cond_20
-
-    :try_start_b
-    iget-object v5, p0, Lcom/google/android/mms/util/DrmConvertSession;->mDrmClient:Landroid/drm/DrmManagerClient;
-
-    iget v6, p0, Lcom/google/android/mms/util/DrmConvertSession;->mConvertSessionId:I
-
-    invoke-virtual {v5, v6}, Landroid/drm/DrmManagerClient;->closeConvertSession(I)Landroid/drm/DrmConvertedStatus;
-
-    move-result-object v0
-
-    if-eqz v0, :cond_1e
-
-    iget v5, v0, Landroid/drm/DrmConvertedStatus;->statusCode:I
-
-    const/4 v6, 0x1
-
-    if-ne v5, v6, :cond_1e
-
-    iget-object v5, v0, Landroid/drm/DrmConvertedStatus;->convertedData:[B
-    :try_end_1c
-    .catch Ljava/lang/IllegalStateException; {:try_start_b .. :try_end_1c} :catch_5f
-
-    if-nez v5, :cond_21
-
-    :cond_1e
-    const/16 v2, 0x196
-
-    :cond_20
-    :goto_20
-    return v2
-
-    :cond_21
-    const/4 v3, 0x0
-
-    :try_start_22
-    new-instance v4, Ljava/io/RandomAccessFile;
-
-    const-string/jumbo v5, "rw"
-
-    invoke-direct {v4, p1, v5}, Ljava/io/RandomAccessFile;-><init>(Ljava/lang/String;Ljava/lang/String;)V
-    :try_end_2a
-    .catchall {:try_start_22 .. :try_end_2a} :catchall_18e
-    .catch Ljava/io/FileNotFoundException; {:try_start_22 .. :try_end_2a} :catch_7b
-    .catch Ljava/io/IOException; {:try_start_22 .. :try_end_2a} :catch_c6
-    .catch Ljava/lang/IllegalArgumentException; {:try_start_22 .. :try_end_2a} :catch_111
-    .catch Ljava/lang/SecurityException; {:try_start_22 .. :try_end_2a} :catch_145
-
-    :try_start_2a
-    iget v5, v0, Landroid/drm/DrmConvertedStatus;->offset:I
-
-    int-to-long v5, v5
-
-    invoke-virtual {v4, v5, v6}, Ljava/io/RandomAccessFile;->seek(J)V
-
-    iget-object v5, v0, Landroid/drm/DrmConvertedStatus;->convertedData:[B
-
-    invoke-virtual {v4, v5}, Ljava/io/RandomAccessFile;->write([B)V
-    :try_end_35
-    .catchall {:try_start_2a .. :try_end_35} :catchall_1b7
-    .catch Ljava/io/FileNotFoundException; {:try_start_2a .. :try_end_35} :catch_1c5
-    .catch Ljava/io/IOException; {:try_start_2a .. :try_end_35} :catch_1c1
-    .catch Ljava/lang/IllegalArgumentException; {:try_start_2a .. :try_end_35} :catch_1bd
-    .catch Ljava/lang/SecurityException; {:try_start_2a .. :try_end_35} :catch_1ba
-
-    const/16 v2, 0xc8
-
-    if-eqz v4, :cond_20
-
-    :try_start_39
-    invoke-virtual {v4}, Ljava/io/RandomAccessFile;->close()V
-    :try_end_3c
-    .catch Ljava/io/IOException; {:try_start_39 .. :try_end_3c} :catch_3d
-    .catch Ljava/lang/IllegalStateException; {:try_start_39 .. :try_end_3c} :catch_5f
-
-    goto :goto_20
-
-    :catch_3d
-    move-exception v1
-
-    const/16 v2, 0x1ec
-
-    :try_start_40
-    const-string v5, "DrmConvertSession"
-
-    new-instance v6, Ljava/lang/StringBuilder;
-
-    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v7, "Failed to close File:"
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    invoke-virtual {v6, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    const-string v7, "."
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v6
-
-    invoke-static {v5, v6, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_5e
-    .catch Ljava/lang/IllegalStateException; {:try_start_40 .. :try_end_5e} :catch_5f
-
-    goto :goto_20
-
-    :catch_5f
-    move-exception v1
-
-    const-string v5, "DrmConvertSession"
-
-    new-instance v6, Ljava/lang/StringBuilder;
-
-    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v7, "Could not close convertsession. Convertsession: "
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    iget v7, p0, Lcom/google/android/mms/util/DrmConvertSession;->mConvertSessionId:I
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v6
-
-    invoke-static {v5, v6, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto :goto_20
-
-    :catch_7b
-    move-exception v1
-
-    :goto_7c
-    const/16 v2, 0x1ec
-
-    :try_start_7e
-    const-string v5, "DrmConvertSession"
-
-    new-instance v6, Ljava/lang/StringBuilder;
-
-    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v7, "File: "
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    invoke-virtual {v6, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    const-string v7, " could not be found."
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v6
-
-    invoke-static {v5, v6, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_9c
-    .catchall {:try_start_7e .. :try_end_9c} :catchall_18e
-
-    if-eqz v3, :cond_20
-
-    :try_start_9e
-    invoke-virtual {v3}, Ljava/io/RandomAccessFile;->close()V
-    :try_end_a1
-    .catch Ljava/io/IOException; {:try_start_9e .. :try_end_a1} :catch_a3
-    .catch Ljava/lang/IllegalStateException; {:try_start_9e .. :try_end_a1} :catch_5f
-
-    goto/16 :goto_20
-
-    :catch_a3
-    move-exception v1
-
-    const/16 v2, 0x1ec
-
-    :try_start_a6
-    const-string v5, "DrmConvertSession"
-
-    new-instance v6, Ljava/lang/StringBuilder;
-
-    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v7, "Failed to close File:"
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    invoke-virtual {v6, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    const-string v7, "."
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v6
-
-    invoke-static {v5, v6, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_c4
-    .catch Ljava/lang/IllegalStateException; {:try_start_a6 .. :try_end_c4} :catch_5f
-
-    goto/16 :goto_20
-
-    :catch_c6
-    move-exception v1
-
-    :goto_c7
-    const/16 v2, 0x1ec
-
-    :try_start_c9
-    const-string v5, "DrmConvertSession"
-
-    new-instance v6, Ljava/lang/StringBuilder;
-
-    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v7, "Could not access File: "
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    invoke-virtual {v6, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    const-string v7, " ."
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v6
-
-    invoke-static {v5, v6, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_e7
-    .catchall {:try_start_c9 .. :try_end_e7} :catchall_18e
-
-    if-eqz v3, :cond_20
-
-    :try_start_e9
-    invoke-virtual {v3}, Ljava/io/RandomAccessFile;->close()V
-    :try_end_ec
-    .catch Ljava/io/IOException; {:try_start_e9 .. :try_end_ec} :catch_ee
-    .catch Ljava/lang/IllegalStateException; {:try_start_e9 .. :try_end_ec} :catch_5f
-
-    goto/16 :goto_20
-
-    :catch_ee
-    move-exception v1
-
-    const/16 v2, 0x1ec
-
-    :try_start_f1
-    const-string v5, "DrmConvertSession"
-
-    new-instance v6, Ljava/lang/StringBuilder;
-
-    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v7, "Failed to close File:"
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    invoke-virtual {v6, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    const-string v7, "."
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v6
-
-    invoke-static {v5, v6, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_10f
-    .catch Ljava/lang/IllegalStateException; {:try_start_f1 .. :try_end_10f} :catch_5f
-
-    goto/16 :goto_20
-
-    :catch_111
-    move-exception v1
-
-    :goto_112
-    const/16 v2, 0x1ec
-
-    :try_start_114
-    const-string v5, "DrmConvertSession"
-
-    const-string v6, "Could not open file in mode: rw"
-
-    invoke-static {v5, v6, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_11b
-    .catchall {:try_start_114 .. :try_end_11b} :catchall_18e
-
-    if-eqz v3, :cond_20
-
-    :try_start_11d
-    invoke-virtual {v3}, Ljava/io/RandomAccessFile;->close()V
-    :try_end_120
-    .catch Ljava/io/IOException; {:try_start_11d .. :try_end_120} :catch_122
-    .catch Ljava/lang/IllegalStateException; {:try_start_11d .. :try_end_120} :catch_5f
-
-    goto/16 :goto_20
-
-    :catch_122
-    move-exception v1
-
-    const/16 v2, 0x1ec
-
-    :try_start_125
-    const-string v5, "DrmConvertSession"
-
-    new-instance v6, Ljava/lang/StringBuilder;
-
-    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v7, "Failed to close File:"
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    invoke-virtual {v6, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    const-string v7, "."
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v6
-
-    invoke-static {v5, v6, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_143
-    .catch Ljava/lang/IllegalStateException; {:try_start_125 .. :try_end_143} :catch_5f
-
-    goto/16 :goto_20
-
-    :catch_145
-    move-exception v1
-
-    :goto_146
-    :try_start_146
-    const-string v5, "DrmConvertSession"
-
-    new-instance v6, Ljava/lang/StringBuilder;
-
-    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v7, "Access to File: "
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    invoke-virtual {v6, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    const-string v7, " was denied denied by SecurityManager."
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v6
-
-    invoke-static {v5, v6, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_164
-    .catchall {:try_start_146 .. :try_end_164} :catchall_18e
-
-    if-eqz v3, :cond_20
-
-    :try_start_166
-    invoke-virtual {v3}, Ljava/io/RandomAccessFile;->close()V
-    :try_end_169
-    .catch Ljava/io/IOException; {:try_start_166 .. :try_end_169} :catch_16b
-    .catch Ljava/lang/IllegalStateException; {:try_start_166 .. :try_end_169} :catch_5f
-
-    goto/16 :goto_20
-
-    :catch_16b
-    move-exception v1
-
-    const/16 v2, 0x1ec
-
-    :try_start_16e
-    const-string v5, "DrmConvertSession"
-
-    new-instance v6, Ljava/lang/StringBuilder;
-
-    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v7, "Failed to close File:"
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    invoke-virtual {v6, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    const-string v7, "."
-
-    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v6
-
-    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v6
-
-    invoke-static {v5, v6, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_18c
-    .catch Ljava/lang/IllegalStateException; {:try_start_16e .. :try_end_18c} :catch_5f
-
-    goto/16 :goto_20
-
-    :catchall_18e
-    move-exception v5
-
-    :goto_18f
-    if-eqz v3, :cond_194
-
-    :try_start_191
-    invoke-virtual {v3}, Ljava/io/RandomAccessFile;->close()V
-    :try_end_194
-    .catch Ljava/io/IOException; {:try_start_191 .. :try_end_194} :catch_195
-    .catch Ljava/lang/IllegalStateException; {:try_start_191 .. :try_end_194} :catch_5f
-
-    :cond_194
-    :goto_194
-    :try_start_194
-    throw v5
-
-    :catch_195
-    move-exception v1
-
-    const/16 v2, 0x1ec
-
-    const-string v6, "DrmConvertSession"
-
-    new-instance v7, Ljava/lang/StringBuilder;
-
-    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v8, "Failed to close File:"
-
-    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v7
-
-    invoke-virtual {v7, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v7
-
-    const-string v8, "."
-
-    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v7
-
-    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v7
-
-    invoke-static {v6, v7, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_1b6
-    .catch Ljava/lang/IllegalStateException; {:try_start_194 .. :try_end_1b6} :catch_5f
-
-    goto :goto_194
-
-    :catchall_1b7
-    move-exception v5
-
-    move-object v3, v4
-
-    goto :goto_18f
-
-    :catch_1ba
-    move-exception v1
-
-    move-object v3, v4
-
-    goto :goto_146
-
-    :catch_1bd
-    move-exception v1
-
-    move-object v3, v4
-
-    goto/16 :goto_112
-
-    :catch_1c1
-    move-exception v1
-
-    move-object v3, v4
-
-    goto/16 :goto_c7
-
-    :catch_1c5
-    move-exception v1
-
-    move-object v3, v4
-
-    goto/16 :goto_7c
-.end method
-
-.method public convert([BI)[B
-    .registers 10
-
-    const/4 v3, 0x0
-
-    if-eqz p1, :cond_65
-
-    const/4 v1, 0x0
-
-    :try_start_4
-    array-length v4, p1
-
-    if-eq p2, v4, :cond_24
-
-    new-array v0, p2, [B
-
-    const/4 v4, 0x0
-
-    const/4 v5, 0x0
-
-    invoke-static {p1, v4, v0, v5, p2}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V
-
-    iget-object v4, p0, Lcom/google/android/mms/util/DrmConvertSession;->mDrmClient:Landroid/drm/DrmManagerClient;
-
-    iget v5, p0, Lcom/google/android/mms/util/DrmConvertSession;->mConvertSessionId:I
-
-    invoke-virtual {v4, v5, v0}, Landroid/drm/DrmManagerClient;->convertData(I[B)Landroid/drm/DrmConvertedStatus;
-
-    move-result-object v1
-
-    :goto_16
-    if-eqz v1, :cond_23
-
-    iget v4, v1, Landroid/drm/DrmConvertedStatus;->statusCode:I
-
-    const/4 v5, 0x1
-
-    if-ne v4, v5, :cond_23
-
-    iget-object v4, v1, Landroid/drm/DrmConvertedStatus;->convertedData:[B
-
-    if-eqz v4, :cond_23
-
-    iget-object v3, v1, Landroid/drm/DrmConvertedStatus;->convertedData:[B
-
-    :cond_23
-    :goto_23
-    return-object v3
-
-    :cond_24
-    iget-object v4, p0, Lcom/google/android/mms/util/DrmConvertSession;->mDrmClient:Landroid/drm/DrmManagerClient;
-
-    iget v5, p0, Lcom/google/android/mms/util/DrmConvertSession;->mConvertSessionId:I
-
-    invoke-virtual {v4, v5, p1}, Landroid/drm/DrmManagerClient;->convertData(I[B)Landroid/drm/DrmConvertedStatus;
-    :try_end_2b
-    .catch Ljava/lang/IllegalArgumentException; {:try_start_4 .. :try_end_2b} :catch_2d
-    .catch Ljava/lang/IllegalStateException; {:try_start_4 .. :try_end_2b} :catch_49
-
-    move-result-object v1
-
-    goto :goto_16
-
-    :catch_2d
-    move-exception v2
-
-    const-string v4, "DrmConvertSession"
-
-    new-instance v5, Ljava/lang/StringBuilder;
-
-    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v6, "Buffer with data to convert is illegal. Convertsession: "
-
-    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v5
-
-    iget v6, p0, Lcom/google/android/mms/util/DrmConvertSession;->mConvertSessionId:I
-
-    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v5
-
-    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v5
-
-    invoke-static {v4, v5, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto :goto_23
-
-    :catch_49
-    move-exception v2
-
-    const-string v4, "DrmConvertSession"
-
-    new-instance v5, Ljava/lang/StringBuilder;
-
-    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
-
-    const-string v6, "Could not convert data. Convertsession: "
-
-    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
-
-    move-result-object v5
-
-    iget v6, p0, Lcom/google/android/mms/util/DrmConvertSession;->mConvertSessionId:I
-
-    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
-
-    move-result-object v5
-
-    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
-
-    move-result-object v5
-
-    invoke-static {v4, v5, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto :goto_23
-
-    :cond_65
-    new-instance v4, Ljava/lang/IllegalArgumentException;
-
-    const-string v5, "Parameter inBuffer is null"
-
-    invoke-direct {v4, v5}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V
-
-    throw v4
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/util/PduCacheEntry.smali pdroid-framework/smali/com/google/android/mms/util/PduCacheEntry.smali
--- stock-framework/smali/com/google/android/mms/util/PduCacheEntry.smali	2013-07-15 18:10:57.150627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/util/PduCacheEntry.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,53 +0,0 @@
-.class public final Lcom/google/android/mms/util/PduCacheEntry;
-.super Ljava/lang/Object;
-.source "PduCacheEntry.java"
-
-
-# instance fields
-.field private final mMessageBox:I
-
-.field private final mPdu:Lcom/google/android/mms/pdu/GenericPdu;
-
-.field private final mThreadId:J
-
-
-# direct methods
-.method public constructor <init>(Lcom/google/android/mms/pdu/GenericPdu;IJ)V
-    .registers 5
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    iput-object p1, p0, Lcom/google/android/mms/util/PduCacheEntry;->mPdu:Lcom/google/android/mms/pdu/GenericPdu;
-
-    iput p2, p0, Lcom/google/android/mms/util/PduCacheEntry;->mMessageBox:I
-
-    iput-wide p3, p0, Lcom/google/android/mms/util/PduCacheEntry;->mThreadId:J
-
-    return-void
-.end method
-
-
-# virtual methods
-.method public getMessageBox()I
-    .registers 2
-
-    iget v0, p0, Lcom/google/android/mms/util/PduCacheEntry;->mMessageBox:I
-
-    return v0
-.end method
-
-.method public getPdu()Lcom/google/android/mms/pdu/GenericPdu;
-    .registers 2
-
-    iget-object v0, p0, Lcom/google/android/mms/util/PduCacheEntry;->mPdu:Lcom/google/android/mms/pdu/GenericPdu;
-
-    return-object v0
-.end method
-
-.method public getThreadId()J
-    .registers 3
-
-    iget-wide v0, p0, Lcom/google/android/mms/util/PduCacheEntry;->mThreadId:J
-
-    return-wide v0
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/util/PduCache.smali pdroid-framework/smali/com/google/android/mms/util/PduCache.smali
--- stock-framework/smali/com/google/android/mms/util/PduCache.smali	2013-07-15 18:10:57.150627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/util/PduCache.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,942 +0,0 @@
-.class public final Lcom/google/android/mms/util/PduCache;
-.super Lcom/google/android/mms/util/AbstractCache;
-.source "PduCache.java"
-
-
-# annotations
-.annotation system Ldalvik/annotation/Signature;
-    value = {
-        "Lcom/google/android/mms/util/AbstractCache",
-        "<",
-        "Landroid/net/Uri;",
-        "Lcom/google/android/mms/util/PduCacheEntry;",
-        ">;"
-    }
-.end annotation
-
-
-# static fields
-.field private static final DEBUG:Z = false
-
-.field private static final LOCAL_LOGV:Z = false
-
-.field private static final MATCH_TO_MSGBOX_ID_MAP:Ljava/util/HashMap; = null
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashMap",
-            "<",
-            "Ljava/lang/Integer;",
-            "Ljava/lang/Integer;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-.field private static final MMS_ALL:I = 0x0
-
-.field private static final MMS_ALL_ID:I = 0x1
-
-.field private static final MMS_CONVERSATION:I = 0xa
-
-.field private static final MMS_CONVERSATION_ID:I = 0xb
-
-.field private static final MMS_DRAFTS:I = 0x6
-
-.field private static final MMS_DRAFTS_ID:I = 0x7
-
-.field private static final MMS_INBOX:I = 0x2
-
-.field private static final MMS_INBOX_ID:I = 0x3
-
-.field private static final MMS_OUTBOX:I = 0x8
-
-.field private static final MMS_OUTBOX_ID:I = 0x9
-
-.field private static final MMS_SENT:I = 0x4
-
-.field private static final MMS_SENT_ID:I = 0x5
-
-.field private static final TAG:Ljava/lang/String; = "PduCache"
-
-.field private static final URI_MATCHER:Landroid/content/UriMatcher;
-
-.field private static sInstance:Lcom/google/android/mms/util/PduCache;
-
-
-# instance fields
-.field private final mMessageBoxes:Ljava/util/HashMap;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashMap",
-            "<",
-            "Ljava/lang/Integer;",
-            "Ljava/util/HashSet",
-            "<",
-            "Landroid/net/Uri;",
-            ">;>;"
-        }
-    .end annotation
-.end field
-
-.field private final mThreads:Ljava/util/HashMap;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashMap",
-            "<",
-            "Ljava/lang/Long;",
-            "Ljava/util/HashSet",
-            "<",
-            "Landroid/net/Uri;",
-            ">;>;"
-        }
-    .end annotation
-.end field
-
-.field private final mUpdating:Ljava/util/HashSet;
-    .annotation system Ldalvik/annotation/Signature;
-        value = {
-            "Ljava/util/HashSet",
-            "<",
-            "Landroid/net/Uri;",
-            ">;"
-        }
-    .end annotation
-.end field
-
-
-# direct methods
-.method static constructor <clinit>()V
-    .registers 9
-
-    const/4 v8, 0x6
-
-    const/4 v7, 0x3
-
-    const/4 v6, 0x1
-
-    const/4 v5, 0x4
-
-    const/4 v4, 0x2
-
-    new-instance v0, Landroid/content/UriMatcher;
-
-    const/4 v1, -0x1
-
-    invoke-direct {v0, v1}, Landroid/content/UriMatcher;-><init>(I)V
-
-    sput-object v0, Lcom/google/android/mms/util/PduCache;->URI_MATCHER:Landroid/content/UriMatcher;
-
-    sget-object v0, Lcom/google/android/mms/util/PduCache;->URI_MATCHER:Landroid/content/UriMatcher;
-
-    const-string/jumbo v1, "mms"
-
-    const/4 v2, 0x0
-
-    const/4 v3, 0x0
-
-    invoke-virtual {v0, v1, v2, v3}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V
-
-    sget-object v0, Lcom/google/android/mms/util/PduCache;->URI_MATCHER:Landroid/content/UriMatcher;
-
-    const-string/jumbo v1, "mms"
-
-    const-string v2, "#"
-
-    invoke-virtual {v0, v1, v2, v6}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V
-
-    sget-object v0, Lcom/google/android/mms/util/PduCache;->URI_MATCHER:Landroid/content/UriMatcher;
-
-    const-string/jumbo v1, "mms"
-
-    const-string v2, "inbox"
-
-    invoke-virtual {v0, v1, v2, v4}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V
-
-    sget-object v0, Lcom/google/android/mms/util/PduCache;->URI_MATCHER:Landroid/content/UriMatcher;
-
-    const-string/jumbo v1, "mms"
-
-    const-string v2, "inbox/#"
-
-    invoke-virtual {v0, v1, v2, v7}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V
-
-    sget-object v0, Lcom/google/android/mms/util/PduCache;->URI_MATCHER:Landroid/content/UriMatcher;
-
-    const-string/jumbo v1, "mms"
-
-    const-string/jumbo v2, "sent"
-
-    invoke-virtual {v0, v1, v2, v5}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V
-
-    sget-object v0, Lcom/google/android/mms/util/PduCache;->URI_MATCHER:Landroid/content/UriMatcher;
-
-    const-string/jumbo v1, "mms"
-
-    const-string/jumbo v2, "sent/#"
-
-    const/4 v3, 0x5
-
-    invoke-virtual {v0, v1, v2, v3}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V
-
-    sget-object v0, Lcom/google/android/mms/util/PduCache;->URI_MATCHER:Landroid/content/UriMatcher;
-
-    const-string/jumbo v1, "mms"
-
-    const-string v2, "drafts"
-
-    invoke-virtual {v0, v1, v2, v8}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V
-
-    sget-object v0, Lcom/google/android/mms/util/PduCache;->URI_MATCHER:Landroid/content/UriMatcher;
-
-    const-string/jumbo v1, "mms"
-
-    const-string v2, "drafts/#"
-
-    const/4 v3, 0x7
-
-    invoke-virtual {v0, v1, v2, v3}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V
-
-    sget-object v0, Lcom/google/android/mms/util/PduCache;->URI_MATCHER:Landroid/content/UriMatcher;
-
-    const-string/jumbo v1, "mms"
-
-    const-string/jumbo v2, "outbox"
-
-    const/16 v3, 0x8
-
-    invoke-virtual {v0, v1, v2, v3}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V
-
-    sget-object v0, Lcom/google/android/mms/util/PduCache;->URI_MATCHER:Landroid/content/UriMatcher;
-
-    const-string/jumbo v1, "mms"
-
-    const-string/jumbo v2, "outbox/#"
-
-    const/16 v3, 0x9
-
-    invoke-virtual {v0, v1, v2, v3}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V
-
-    sget-object v0, Lcom/google/android/mms/util/PduCache;->URI_MATCHER:Landroid/content/UriMatcher;
-
-    const-string/jumbo v1, "mms-sms"
-
-    const-string v2, "conversations"
-
-    const/16 v3, 0xa
-
-    invoke-virtual {v0, v1, v2, v3}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V
-
-    sget-object v0, Lcom/google/android/mms/util/PduCache;->URI_MATCHER:Landroid/content/UriMatcher;
-
-    const-string/jumbo v1, "mms-sms"
-
-    const-string v2, "conversations/#"
-
-    const/16 v3, 0xb
-
-    invoke-virtual {v0, v1, v2, v3}, Landroid/content/UriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    sput-object v0, Lcom/google/android/mms/util/PduCache;->MATCH_TO_MSGBOX_ID_MAP:Ljava/util/HashMap;
-
-    sget-object v0, Lcom/google/android/mms/util/PduCache;->MATCH_TO_MSGBOX_ID_MAP:Ljava/util/HashMap;
-
-    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-static {v6}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/util/PduCache;->MATCH_TO_MSGBOX_ID_MAP:Ljava/util/HashMap;
-
-    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/util/PduCache;->MATCH_TO_MSGBOX_ID_MAP:Ljava/util/HashMap;
-
-    invoke-static {v8}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    sget-object v0, Lcom/google/android/mms/util/PduCache;->MATCH_TO_MSGBOX_ID_MAP:Ljava/util/HashMap;
-
-    const/16 v1, 0x8
-
-    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v1
-
-    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    invoke-virtual {v0, v1, v2}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    return-void
-.end method
-
-.method private constructor <init>()V
-    .registers 2
-
-    invoke-direct {p0}, Lcom/google/android/mms/util/AbstractCache;-><init>()V
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    iput-object v0, p0, Lcom/google/android/mms/util/PduCache;->mMessageBoxes:Ljava/util/HashMap;
-
-    new-instance v0, Ljava/util/HashMap;
-
-    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V
-
-    iput-object v0, p0, Lcom/google/android/mms/util/PduCache;->mThreads:Ljava/util/HashMap;
-
-    new-instance v0, Ljava/util/HashSet;
-
-    invoke-direct {v0}, Ljava/util/HashSet;-><init>()V
-
-    iput-object v0, p0, Lcom/google/android/mms/util/PduCache;->mUpdating:Ljava/util/HashSet;
-
-    return-void
-.end method
-
-.method public static final declared-synchronized getInstance()Lcom/google/android/mms/util/PduCache;
-    .registers 2
-
-    const-class v1, Lcom/google/android/mms/util/PduCache;
-
-    monitor-enter v1
-
-    :try_start_3
-    sget-object v0, Lcom/google/android/mms/util/PduCache;->sInstance:Lcom/google/android/mms/util/PduCache;
-
-    if-nez v0, :cond_e
-
-    new-instance v0, Lcom/google/android/mms/util/PduCache;
-
-    invoke-direct {v0}, Lcom/google/android/mms/util/PduCache;-><init>()V
-
-    sput-object v0, Lcom/google/android/mms/util/PduCache;->sInstance:Lcom/google/android/mms/util/PduCache;
-
-    :cond_e
-    sget-object v0, Lcom/google/android/mms/util/PduCache;->sInstance:Lcom/google/android/mms/util/PduCache;
-    :try_end_10
-    .catchall {:try_start_3 .. :try_end_10} :catchall_12
-
-    monitor-exit v1
-
-    return-object v0
-
-    :catchall_12
-    move-exception v0
-
-    monitor-exit v1
-
-    throw v0
-.end method
-
-.method private normalizeKey(Landroid/net/Uri;)Landroid/net/Uri;
-    .registers 6
-
-    sget-object v3, Lcom/google/android/mms/util/PduCache;->URI_MATCHER:Landroid/content/UriMatcher;
-
-    invoke-virtual {v3, p1}, Landroid/content/UriMatcher;->match(Landroid/net/Uri;)I
-
-    move-result v0
-
-    const/4 v2, 0x0
-
-    packed-switch v0, :pswitch_data_1a
-
-    :pswitch_a
-    const/4 v3, 0x0
-
-    :goto_b
-    return-object v3
-
-    :pswitch_c
-    move-object v2, p1
-
-    :goto_d
-    move-object v3, v2
-
-    goto :goto_b
-
-    :pswitch_f
-    invoke-virtual {p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;
-
-    move-result-object v1
-
-    sget-object v3, Landroid/provider/Telephony$Mms;->CONTENT_URI:Landroid/net/Uri;
-
-    invoke-static {v3, v1}, Landroid/net/Uri;->withAppendedPath(Landroid/net/Uri;Ljava/lang/String;)Landroid/net/Uri;
-
-    move-result-object v2
-
-    goto :goto_d
-
-    :pswitch_data_1a
-    .packed-switch 0x1
-        :pswitch_c
-        :pswitch_a
-        :pswitch_f
-        :pswitch_a
-        :pswitch_f
-        :pswitch_a
-        :pswitch_f
-        :pswitch_a
-        :pswitch_f
-    .end packed-switch
-.end method
-
-.method private purgeByMessageBox(Ljava/lang/Integer;)V
-    .registers 7
-
-    if-eqz p1, :cond_2d
-
-    iget-object v4, p0, Lcom/google/android/mms/util/PduCache;->mMessageBoxes:Ljava/util/HashMap;
-
-    invoke-virtual {v4, p1}, Ljava/util/HashMap;->remove(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v3
-
-    check-cast v3, Ljava/util/HashSet;
-
-    if-eqz v3, :cond_2d
-
-    invoke-virtual {v3}, Ljava/util/HashSet;->iterator()Ljava/util/Iterator;
-
-    move-result-object v1
-
-    :cond_10
-    :goto_10
-    invoke-interface {v1}, Ljava/util/Iterator;->hasNext()Z
-
-    move-result v4
-
-    if-eqz v4, :cond_2d
-
-    invoke-interface {v1}, Ljava/util/Iterator;->next()Ljava/lang/Object;
-
-    move-result-object v2
-
-    check-cast v2, Landroid/net/Uri;
-
-    iget-object v4, p0, Lcom/google/android/mms/util/PduCache;->mUpdating:Ljava/util/HashSet;
-
-    invoke-virtual {v4, v2}, Ljava/util/HashSet;->remove(Ljava/lang/Object;)Z
-
-    invoke-super {p0, v2}, Lcom/google/android/mms/util/AbstractCache;->purge(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Lcom/google/android/mms/util/PduCacheEntry;
-
-    if-eqz v0, :cond_10
-
-    invoke-direct {p0, v2, v0}, Lcom/google/android/mms/util/PduCache;->removeFromThreads(Landroid/net/Uri;Lcom/google/android/mms/util/PduCacheEntry;)V
-
-    goto :goto_10
-
-    :cond_2d
-    return-void
-.end method
-
-.method private purgeByThreadId(J)V
-    .registers 9
-
-    iget-object v4, p0, Lcom/google/android/mms/util/PduCache;->mThreads:Ljava/util/HashMap;
-
-    invoke-static {p1, p2}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
-
-    move-result-object v5
-
-    invoke-virtual {v4, v5}, Ljava/util/HashMap;->remove(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v3
-
-    check-cast v3, Ljava/util/HashSet;
-
-    if-eqz v3, :cond_2f
-
-    invoke-virtual {v3}, Ljava/util/HashSet;->iterator()Ljava/util/Iterator;
-
-    move-result-object v1
-
-    :cond_12
-    :goto_12
-    invoke-interface {v1}, Ljava/util/Iterator;->hasNext()Z
-
-    move-result v4
-
-    if-eqz v4, :cond_2f
-
-    invoke-interface {v1}, Ljava/util/Iterator;->next()Ljava/lang/Object;
-
-    move-result-object v2
-
-    check-cast v2, Landroid/net/Uri;
-
-    iget-object v4, p0, Lcom/google/android/mms/util/PduCache;->mUpdating:Ljava/util/HashSet;
-
-    invoke-virtual {v4, v2}, Ljava/util/HashSet;->remove(Ljava/lang/Object;)Z
-
-    invoke-super {p0, v2}, Lcom/google/android/mms/util/AbstractCache;->purge(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Lcom/google/android/mms/util/PduCacheEntry;
-
-    if-eqz v0, :cond_12
-
-    invoke-direct {p0, v2, v0}, Lcom/google/android/mms/util/PduCache;->removeFromMessageBoxes(Landroid/net/Uri;Lcom/google/android/mms/util/PduCacheEntry;)V
-
-    goto :goto_12
-
-    :cond_2f
-    return-void
-.end method
-
-.method private purgeSingleEntry(Landroid/net/Uri;)Lcom/google/android/mms/util/PduCacheEntry;
-    .registers 4
-
-    iget-object v1, p0, Lcom/google/android/mms/util/PduCache;->mUpdating:Ljava/util/HashSet;
-
-    invoke-virtual {v1, p1}, Ljava/util/HashSet;->remove(Ljava/lang/Object;)Z
-
-    invoke-super {p0, p1}, Lcom/google/android/mms/util/AbstractCache;->purge(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Lcom/google/android/mms/util/PduCacheEntry;
-
-    if-eqz v0, :cond_14
-
-    invoke-direct {p0, p1, v0}, Lcom/google/android/mms/util/PduCache;->removeFromThreads(Landroid/net/Uri;Lcom/google/android/mms/util/PduCacheEntry;)V
-
-    invoke-direct {p0, p1, v0}, Lcom/google/android/mms/util/PduCache;->removeFromMessageBoxes(Landroid/net/Uri;Lcom/google/android/mms/util/PduCacheEntry;)V
-
-    :goto_13
-    return-object v0
-
-    :cond_14
-    const/4 v0, 0x0
-
-    goto :goto_13
-.end method
-
-.method private removeFromMessageBoxes(Landroid/net/Uri;Lcom/google/android/mms/util/PduCacheEntry;)V
-    .registers 7
-
-    iget-object v1, p0, Lcom/google/android/mms/util/PduCache;->mThreads:Ljava/util/HashMap;
-
-    invoke-virtual {p2}, Lcom/google/android/mms/util/PduCacheEntry;->getMessageBox()I
-
-    move-result v2
-
-    int-to-long v2, v2
-
-    invoke-static {v2, v3}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
-
-    move-result-object v2
-
-    invoke-virtual {v1, v2}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Ljava/util/HashSet;
-
-    if-eqz v0, :cond_16
-
-    invoke-virtual {v0, p1}, Ljava/util/HashSet;->remove(Ljava/lang/Object;)Z
-
-    :cond_16
-    return-void
-.end method
-
-.method private removeFromThreads(Landroid/net/Uri;Lcom/google/android/mms/util/PduCacheEntry;)V
-    .registers 7
-
-    iget-object v1, p0, Lcom/google/android/mms/util/PduCache;->mThreads:Ljava/util/HashMap;
-
-    invoke-virtual {p2}, Lcom/google/android/mms/util/PduCacheEntry;->getThreadId()J
-
-    move-result-wide v2
-
-    invoke-static {v2, v3}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
-
-    move-result-object v2
-
-    invoke-virtual {v1, v2}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Ljava/util/HashSet;
-
-    if-eqz v0, :cond_15
-
-    invoke-virtual {v0, p1}, Ljava/util/HashSet;->remove(Ljava/lang/Object;)Z
-
-    :cond_15
-    return-void
-.end method
-
-
-# virtual methods
-.method public declared-synchronized isUpdating(Landroid/net/Uri;)Z
-    .registers 3
-
-    monitor-enter p0
-
-    :try_start_1
-    iget-object v0, p0, Lcom/google/android/mms/util/PduCache;->mUpdating:Ljava/util/HashSet;
-
-    invoke-virtual {v0, p1}, Ljava/util/HashSet;->contains(Ljava/lang/Object;)Z
-    :try_end_6
-    .catchall {:try_start_1 .. :try_end_6} :catchall_9
-
-    move-result v0
-
-    monitor-exit p0
-
-    return v0
-
-    :catchall_9
-    move-exception v0
-
-    monitor-exit p0
-
-    throw v0
-.end method
-
-.method public declared-synchronized purge(Landroid/net/Uri;)Lcom/google/android/mms/util/PduCacheEntry;
-    .registers 8
-
-    const/4 v3, 0x0
-
-    monitor-enter p0
-
-    :try_start_2
-    sget-object v2, Lcom/google/android/mms/util/PduCache;->URI_MATCHER:Landroid/content/UriMatcher;
-
-    invoke-virtual {v2, p1}, Landroid/content/UriMatcher;->match(Landroid/net/Uri;)I
-    :try_end_7
-    .catchall {:try_start_2 .. :try_end_7} :catchall_41
-
-    move-result v0
-
-    packed-switch v0, :pswitch_data_44
-
-    move-object v2, v3
-
-    :goto_c
-    monitor-exit p0
-
-    return-object v2
-
-    :pswitch_e
-    :try_start_e
-    invoke-direct {p0, p1}, Lcom/google/android/mms/util/PduCache;->purgeSingleEntry(Landroid/net/Uri;)Lcom/google/android/mms/util/PduCacheEntry;
-
-    move-result-object v2
-
-    goto :goto_c
-
-    :pswitch_13
-    invoke-virtual {p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;
-
-    move-result-object v1
-
-    sget-object v2, Landroid/provider/Telephony$Mms;->CONTENT_URI:Landroid/net/Uri;
-
-    invoke-static {v2, v1}, Landroid/net/Uri;->withAppendedPath(Landroid/net/Uri;Ljava/lang/String;)Landroid/net/Uri;
-
-    move-result-object v2
-
-    invoke-direct {p0, v2}, Lcom/google/android/mms/util/PduCache;->purgeSingleEntry(Landroid/net/Uri;)Lcom/google/android/mms/util/PduCacheEntry;
-
-    move-result-object v2
-
-    goto :goto_c
-
-    :pswitch_22
-    invoke-virtual {p0}, Lcom/google/android/mms/util/PduCache;->purgeAll()V
-
-    move-object v2, v3
-
-    goto :goto_c
-
-    :pswitch_27
-    sget-object v2, Lcom/google/android/mms/util/PduCache;->MATCH_TO_MSGBOX_ID_MAP:Ljava/util/HashMap;
-
-    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v4
-
-    invoke-virtual {v2, v4}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v2
-
-    check-cast v2, Ljava/lang/Integer;
-
-    invoke-direct {p0, v2}, Lcom/google/android/mms/util/PduCache;->purgeByMessageBox(Ljava/lang/Integer;)V
-
-    move-object v2, v3
-
-    goto :goto_c
-
-    :pswitch_38
-    invoke-static {p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J
-
-    move-result-wide v4
-
-    invoke-direct {p0, v4, v5}, Lcom/google/android/mms/util/PduCache;->purgeByThreadId(J)V
-    :try_end_3f
-    .catchall {:try_start_e .. :try_end_3f} :catchall_41
-
-    move-object v2, v3
-
-    goto :goto_c
-
-    :catchall_41
-    move-exception v2
-
-    monitor-exit p0
-
-    throw v2
-
-    :pswitch_data_44
-    .packed-switch 0x0
-        :pswitch_22
-        :pswitch_e
-        :pswitch_27
-        :pswitch_13
-        :pswitch_27
-        :pswitch_13
-        :pswitch_27
-        :pswitch_13
-        :pswitch_27
-        :pswitch_13
-        :pswitch_22
-        :pswitch_38
-    .end packed-switch
-.end method
-
-.method public bridge synthetic purge(Ljava/lang/Object;)Ljava/lang/Object;
-    .registers 3
-
-    check-cast p1, Landroid/net/Uri;
-
-    invoke-virtual {p0, p1}, Lcom/google/android/mms/util/PduCache;->purge(Landroid/net/Uri;)Lcom/google/android/mms/util/PduCacheEntry;
-
-    move-result-object v0
-
-    return-object v0
-.end method
-
-.method public declared-synchronized purgeAll()V
-    .registers 2
-
-    monitor-enter p0
-
-    :try_start_1
-    invoke-super {p0}, Lcom/google/android/mms/util/AbstractCache;->purgeAll()V
-
-    iget-object v0, p0, Lcom/google/android/mms/util/PduCache;->mMessageBoxes:Ljava/util/HashMap;
-
-    invoke-virtual {v0}, Ljava/util/HashMap;->clear()V
-
-    iget-object v0, p0, Lcom/google/android/mms/util/PduCache;->mThreads:Ljava/util/HashMap;
-
-    invoke-virtual {v0}, Ljava/util/HashMap;->clear()V
-
-    iget-object v0, p0, Lcom/google/android/mms/util/PduCache;->mUpdating:Ljava/util/HashSet;
-
-    invoke-virtual {v0}, Ljava/util/HashSet;->clear()V
-    :try_end_13
-    .catchall {:try_start_1 .. :try_end_13} :catchall_15
-
-    monitor-exit p0
-
-    return-void
-
-    :catchall_15
-    move-exception v0
-
-    monitor-exit p0
-
-    throw v0
-.end method
-
-.method public declared-synchronized put(Landroid/net/Uri;Lcom/google/android/mms/util/PduCacheEntry;)Z
-    .registers 12
-
-    monitor-enter p0
-
-    :try_start_1
-    invoke-virtual {p2}, Lcom/google/android/mms/util/PduCacheEntry;->getMessageBox()I
-
-    move-result v2
-
-    iget-object v7, p0, Lcom/google/android/mms/util/PduCache;->mMessageBoxes:Ljava/util/HashMap;
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v8
-
-    invoke-virtual {v7, v8}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v1
-
-    check-cast v1, Ljava/util/HashSet;
-
-    if-nez v1, :cond_21
-
-    new-instance v1, Ljava/util/HashSet;
-
-    invoke-direct {v1}, Ljava/util/HashSet;-><init>()V
-
-    iget-object v7, p0, Lcom/google/android/mms/util/PduCache;->mMessageBoxes:Ljava/util/HashMap;
-
-    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v8
-
-    invoke-virtual {v7, v8, v1}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    :cond_21
-    invoke-virtual {p2}, Lcom/google/android/mms/util/PduCacheEntry;->getThreadId()J
-
-    move-result-wide v5
-
-    iget-object v7, p0, Lcom/google/android/mms/util/PduCache;->mThreads:Ljava/util/HashMap;
-
-    invoke-static {v5, v6}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
-
-    move-result-object v8
-
-    invoke-virtual {v7, v8}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
-
-    move-result-object v4
-
-    check-cast v4, Ljava/util/HashSet;
-
-    if-nez v4, :cond_41
-
-    new-instance v4, Ljava/util/HashSet;
-
-    invoke-direct {v4}, Ljava/util/HashSet;-><init>()V
-
-    iget-object v7, p0, Lcom/google/android/mms/util/PduCache;->mThreads:Ljava/util/HashMap;
-
-    invoke-static {v5, v6}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
-
-    move-result-object v8
-
-    invoke-virtual {v7, v8, v4}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
-
-    :cond_41
-    invoke-direct {p0, p1}, Lcom/google/android/mms/util/PduCache;->normalizeKey(Landroid/net/Uri;)Landroid/net/Uri;
-
-    move-result-object v0
-
-    invoke-super {p0, v0, p2}, Lcom/google/android/mms/util/AbstractCache;->put(Ljava/lang/Object;Ljava/lang/Object;)Z
-
-    move-result v3
-
-    if-eqz v3, :cond_51
-
-    invoke-virtual {v1, v0}, Ljava/util/HashSet;->add(Ljava/lang/Object;)Z
-
-    invoke-virtual {v4, v0}, Ljava/util/HashSet;->add(Ljava/lang/Object;)Z
-
-    :cond_51
-    const/4 v7, 0x0
-
-    invoke-virtual {p0, p1, v7}, Lcom/google/android/mms/util/PduCache;->setUpdating(Landroid/net/Uri;Z)V
-    :try_end_55
-    .catchall {:try_start_1 .. :try_end_55} :catchall_57
-
-    monitor-exit p0
-
-    return v3
-
-    :catchall_57
-    move-exception v7
-
-    monitor-exit p0
-
-    throw v7
-.end method
-
-.method public bridge synthetic put(Ljava/lang/Object;Ljava/lang/Object;)Z
-    .registers 4
-
-    check-cast p1, Landroid/net/Uri;
-
-    check-cast p2, Lcom/google/android/mms/util/PduCacheEntry;
-
-    invoke-virtual {p0, p1, p2}, Lcom/google/android/mms/util/PduCache;->put(Landroid/net/Uri;Lcom/google/android/mms/util/PduCacheEntry;)Z
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public declared-synchronized setUpdating(Landroid/net/Uri;Z)V
-    .registers 4
-
-    monitor-enter p0
-
-    if-eqz p2, :cond_a
-
-    :try_start_3
-    iget-object v0, p0, Lcom/google/android/mms/util/PduCache;->mUpdating:Ljava/util/HashSet;
-
-    invoke-virtual {v0, p1}, Ljava/util/HashSet;->add(Ljava/lang/Object;)Z
-    :try_end_8
-    .catchall {:try_start_3 .. :try_end_8} :catchall_10
-
-    :goto_8
-    monitor-exit p0
-
-    return-void
-
-    :cond_a
-    :try_start_a
-    iget-object v0, p0, Lcom/google/android/mms/util/PduCache;->mUpdating:Ljava/util/HashSet;
-
-    invoke-virtual {v0, p1}, Ljava/util/HashSet;->remove(Ljava/lang/Object;)Z
-    :try_end_f
-    .catchall {:try_start_a .. :try_end_f} :catchall_10
-
-    goto :goto_8
-
-    :catchall_10
-    move-exception v0
-
-    monitor-exit p0
-
-    throw v0
-.end method
diff -Npruw stock-framework/smali/com/google/android/mms/util/SqliteWrapper.smali pdroid-framework/smali/com/google/android/mms/util/SqliteWrapper.smali
--- stock-framework/smali/com/google/android/mms/util/SqliteWrapper.smali	2013-07-15 18:10:57.150627972 -0500
+++ pdroid-framework/smali/com/google/android/mms/util/SqliteWrapper.smali	1969-12-31 18:00:00.000000000 -0600
@@ -1,235 +0,0 @@
-.class public final Lcom/google/android/mms/util/SqliteWrapper;
-.super Ljava/lang/Object;
-.source "SqliteWrapper.java"
-
-
-# static fields
-.field private static final SQLITE_EXCEPTION_DETAIL_MESSAGE:Ljava/lang/String; = "unable to open database file"
-
-.field private static final TAG:Ljava/lang/String; = "SqliteWrapper"
-
-
-# direct methods
-.method private constructor <init>()V
-    .registers 1
-
-    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
-
-    return-void
-.end method
-
-.method public static checkSQLiteException(Landroid/content/Context;Landroid/database/sqlite/SQLiteException;)V
-    .registers 4
-
-    invoke-static {p1}, Lcom/google/android/mms/util/SqliteWrapper;->isLowMemory(Landroid/database/sqlite/SQLiteException;)Z
-
-    move-result v0
-
-    if-eqz v0, :cond_12
-
-    const v0, 0x104013b
-
-    const/4 v1, 0x0
-
-    invoke-static {p0, v0, v1}, Landroid/widget/Toast;->makeText(Landroid/content/Context;II)Landroid/widget/Toast;
-
-    move-result-object v0
-
-    invoke-virtual {v0}, Landroid/widget/Toast;->show()V
-
-    return-void
-
-    :cond_12
-    throw p1
-.end method
-
-.method public static delete(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I
-    .registers 8
-
-    :try_start_0
-    invoke-virtual {p1, p2, p3, p4}, Landroid/content/ContentResolver;->delete(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I
-    :try_end_3
-    .catch Landroid/database/sqlite/SQLiteException; {:try_start_0 .. :try_end_3} :catch_5
-
-    move-result v1
-
-    :goto_4
-    return v1
-
-    :catch_5
-    move-exception v0
-
-    const-string v1, "SqliteWrapper"
-
-    const-string v2, "Catch a SQLiteException when delete: "
-
-    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    invoke-static {p0, v0}, Lcom/google/android/mms/util/SqliteWrapper;->checkSQLiteException(Landroid/content/Context;Landroid/database/sqlite/SQLiteException;)V
-
-    const/4 v1, -0x1
-
-    goto :goto_4
-.end method
-
-.method public static insert(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/net/Uri;
-    .registers 7
-
-    :try_start_0
-    invoke-virtual {p1, p2, p3}, Landroid/content/ContentResolver;->insert(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/net/Uri;
-    :try_end_3
-    .catch Landroid/database/sqlite/SQLiteException; {:try_start_0 .. :try_end_3} :catch_5
-
-    move-result-object v1
-
-    :goto_4
-    return-object v1
-
-    :catch_5
-    move-exception v0
-
-    const-string v1, "SqliteWrapper"
-
-    const-string v2, "Catch a SQLiteException when insert: "
-
-    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    invoke-static {p0, v0}, Lcom/google/android/mms/util/SqliteWrapper;->checkSQLiteException(Landroid/content/Context;Landroid/database/sqlite/SQLiteException;)V
-
-    const/4 v1, 0x0
-
-    goto :goto_4
-.end method
-
-.method private static isLowMemory(Landroid/content/Context;)Z
-    .registers 4
-
-    if-nez p0, :cond_4
-
-    const/4 v2, 0x0
-
-    :goto_3
-    return v2
-
-    :cond_4
-    const-string v2, "activity"
-
-    invoke-virtual {p0, v2}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;
-
-    move-result-object v0
-
-    check-cast v0, Landroid/app/ActivityManager;
-
-    new-instance v1, Landroid/app/ActivityManager$MemoryInfo;
-
-    invoke-direct {v1}, Landroid/app/ActivityManager$MemoryInfo;-><init>()V
-
-    invoke-virtual {v0, v1}, Landroid/app/ActivityManager;->getMemoryInfo(Landroid/app/ActivityManager$MemoryInfo;)V
-
-    iget-boolean v2, v1, Landroid/app/ActivityManager$MemoryInfo;->lowMemory:Z
-
-    goto :goto_3
-.end method
-
-.method private static isLowMemory(Landroid/database/sqlite/SQLiteException;)Z
-    .registers 3
-
-    invoke-virtual {p0}, Landroid/database/sqlite/SQLiteException;->getMessage()Ljava/lang/String;
-
-    move-result-object v0
-
-    const-string/jumbo v1, "unable to open database file"
-
-    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
-
-    move-result v0
-
-    return v0
-.end method
-
-.method public static query(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
-    .registers 10
-
-    :try_start_0
-    invoke-virtual/range {p1 .. p6}, Landroid/content/ContentResolver;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
-    :try_end_3
-    .catch Landroid/database/sqlite/SQLiteException; {:try_start_0 .. :try_end_3} :catch_5
-
-    move-result-object v1
-
-    :goto_4
-    return-object v1
-
-    :catch_5
-    move-exception v0
-
-    const-string v1, "SqliteWrapper"
-
-    const-string v2, "Catch a SQLiteException when query: "
-
-    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    invoke-static {p0, v0}, Lcom/google/android/mms/util/SqliteWrapper;->checkSQLiteException(Landroid/content/Context;Landroid/database/sqlite/SQLiteException;)V
-
-    const/4 v1, 0x0
-
-    goto :goto_4
-.end method
-
-.method public static requery(Landroid/content/Context;Landroid/database/Cursor;)Z
-    .registers 5
-
-    :try_start_0
-    invoke-interface {p1}, Landroid/database/Cursor;->requery()Z
-    :try_end_3
-    .catch Landroid/database/sqlite/SQLiteException; {:try_start_0 .. :try_end_3} :catch_5
-
-    move-result v1
-
-    :goto_4
-    return v1
-
-    :catch_5
-    move-exception v0
-
-    const-string v1, "SqliteWrapper"
-
-    const-string v2, "Catch a SQLiteException when requery: "
-
-    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    invoke-static {p0, v0}, Lcom/google/android/mms/util/SqliteWrapper;->checkSQLiteException(Landroid/content/Context;Landroid/database/sqlite/SQLiteException;)V
-
-    const/4 v1, 0x0
-
-    goto :goto_4
-.end method
-
-.method public static update(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
-    .registers 9
-
-    :try_start_0
-    invoke-virtual {p1, p2, p3, p4, p5}, Landroid/content/ContentResolver;->update(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
-    :try_end_3
-    .catch Landroid/database/sqlite/SQLiteException; {:try_start_0 .. :try_end_3} :catch_5
-
-    move-result v1
-
-    :goto_4
-    return v1
-
-    :catch_5
-    move-exception v0
-
-    const-string v1, "SqliteWrapper"
-
-    const-string v2, "Catch a SQLiteException when update: "
-
-    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    invoke-static {p0, v0}, Lcom/google/android/mms/util/SqliteWrapper;->checkSQLiteException(Landroid/content/Context;Landroid/database/sqlite/SQLiteException;)V
-
-    const/4 v1, -0x1
-
-    goto :goto_4
-.end method
