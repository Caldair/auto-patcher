diff -Npru stock_framework/smali/android/accounts/AccountAuthenticatorCache.smali pdroid_framework/smali/android/accounts/AccountAuthenticatorCache.smali
--- stock_framework/smali/android/accounts/AccountAuthenticatorCache.smali	2012-07-02 22:51:47.691789299 -0700
+++ pdroid_framework/smali/android/accounts/AccountAuthenticatorCache.smali	2012-07-02 22:52:32.451513595 -0700
@@ -136,7 +136,7 @@
 
     invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z
     :try_end_2c
-    .catchall {:try_start_7 .. :try_end_2c} :catchall_3e
+    .catchall {:try_start_7 .. :try_end_2c} :catchall_3b
 
     move-result v0
 
@@ -144,9 +144,9 @@
 
     const/4 v0, 0x0
 
+    :goto_30
     invoke-virtual {v8}, Landroid/content/res/TypedArray;->recycle()V
 
-    :goto_33
     return-object v0
 
     :cond_34
@@ -157,13 +157,11 @@
 
     invoke-direct/range {v0 .. v7}, Landroid/accounts/AuthenticatorDescription;-><init>(Ljava/lang/String;Ljava/lang/String;IIIIZ)V
     :try_end_3a
-    .catchall {:try_start_34 .. :try_end_3a} :catchall_3e
+    .catchall {:try_start_34 .. :try_end_3a} :catchall_3b
 
-    invoke-virtual {v8}, Landroid/content/res/TypedArray;->recycle()V
-
-    goto :goto_33
+    goto :goto_30
 
-    :catchall_3e
+    :catchall_3b
     move-exception v0
 
     invoke-virtual {v8}, Landroid/content/res/TypedArray;->recycle()V
diff -Npru stock_framework/smali/android/accounts/AccountManager$AmsTask.smali pdroid_framework/smali/android/accounts/AccountManager$AmsTask.smali
--- stock_framework/smali/android/accounts/AccountManager$AmsTask.smali	2012-07-02 22:51:47.769807993 -0700
+++ pdroid_framework/smali/android/accounts/AccountManager$AmsTask.smali	2012-07-02 22:52:32.540534926 -0700
@@ -133,102 +133,102 @@
 
     :try_start_e
     invoke-virtual {p0}, Landroid/accounts/AccountManager$AmsTask;->get()Ljava/lang/Object;
+    :try_end_11
+    .catchall {:try_start_e .. :try_end_11} :catchall_2a
+    .catch Ljava/util/concurrent/CancellationException; {:try_start_e .. :try_end_11} :catch_23
+    .catch Ljava/util/concurrent/TimeoutException; {:try_start_e .. :try_end_11} :catch_72
+    .catch Ljava/lang/InterruptedException; {:try_start_e .. :try_end_11} :catch_60
+    .catch Ljava/util/concurrent/ExecutionException; {:try_start_e .. :try_end_11} :catch_2f
 
     move-result-object v2
 
+    :try_start_12
     check-cast v2, Landroid/os/Bundle;
     :try_end_14
-    .catchall {:try_start_e .. :try_end_14} :catchall_2d
-    .catch Ljava/util/concurrent/CancellationException; {:try_start_e .. :try_end_14} :catch_26
-    .catch Ljava/util/concurrent/TimeoutException; {:try_start_e .. :try_end_14} :catch_32
-    .catch Ljava/lang/InterruptedException; {:try_start_e .. :try_end_14} :catch_3c
-    .catch Ljava/util/concurrent/ExecutionException; {:try_start_e .. :try_end_14} :catch_41
+    .catchall {:try_start_12 .. :try_end_14} :catchall_2a
+    .catch Ljava/util/concurrent/CancellationException; {:try_start_12 .. :try_end_14} :catch_23
+    .catch Ljava/util/concurrent/TimeoutException; {:try_start_12 .. :try_end_14} :catch_72
+    .catch Ljava/lang/InterruptedException; {:try_start_12 .. :try_end_14} :catch_6a
+    .catch Ljava/util/concurrent/ExecutionException; {:try_start_12 .. :try_end_14} :catch_2f
 
+    :goto_14
     invoke-virtual {p0, v4}, Landroid/accounts/AccountManager$AmsTask;->cancel(Z)Z
 
-    :goto_17
     return-object v2
 
     :cond_18
     :try_start_18
     invoke-virtual {p1}, Ljava/lang/Long;->longValue()J
+    :try_end_1b
+    .catchall {:try_start_18 .. :try_end_1b} :catchall_2a
+    .catch Ljava/util/concurrent/CancellationException; {:try_start_18 .. :try_end_1b} :catch_23
+    .catch Ljava/util/concurrent/TimeoutException; {:try_start_18 .. :try_end_1b} :catch_72
+    .catch Ljava/lang/InterruptedException; {:try_start_18 .. :try_end_1b} :catch_6c
+    .catch Ljava/util/concurrent/ExecutionException; {:try_start_18 .. :try_end_1b} :catch_2f
 
     move-result-wide v2
 
+    :try_start_1c
     invoke-virtual {p0, v2, v3, p2}, Landroid/accounts/AccountManager$AmsTask;->get(JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
+    :try_end_1f
+    .catchall {:try_start_1c .. :try_end_1f} :catchall_2a
+    .catch Ljava/util/concurrent/CancellationException; {:try_start_1c .. :try_end_1f} :catch_23
+    .catch Ljava/util/concurrent/TimeoutException; {:try_start_1c .. :try_end_1f} :catch_72
+    .catch Ljava/lang/InterruptedException; {:try_start_1c .. :try_end_1f} :catch_6e
+    .catch Ljava/util/concurrent/ExecutionException; {:try_start_1c .. :try_end_1f} :catch_2f
 
     move-result-object v2
 
+    :try_start_20
     check-cast v2, Landroid/os/Bundle;
     :try_end_22
-    .catchall {:try_start_18 .. :try_end_22} :catchall_2d
-    .catch Ljava/util/concurrent/CancellationException; {:try_start_18 .. :try_end_22} :catch_26
-    .catch Ljava/util/concurrent/TimeoutException; {:try_start_18 .. :try_end_22} :catch_32
-    .catch Ljava/lang/InterruptedException; {:try_start_18 .. :try_end_22} :catch_3c
-    .catch Ljava/util/concurrent/ExecutionException; {:try_start_18 .. :try_end_22} :catch_41
+    .catchall {:try_start_20 .. :try_end_22} :catchall_2a
+    .catch Ljava/util/concurrent/CancellationException; {:try_start_20 .. :try_end_22} :catch_23
+    .catch Ljava/util/concurrent/TimeoutException; {:try_start_20 .. :try_end_22} :catch_72
+    .catch Ljava/lang/InterruptedException; {:try_start_20 .. :try_end_22} :catch_70
+    .catch Ljava/util/concurrent/ExecutionException; {:try_start_20 .. :try_end_22} :catch_2f
 
-    invoke-virtual {p0, v4}, Landroid/accounts/AccountManager$AmsTask;->cancel(Z)Z
-
-    goto :goto_17
+    goto :goto_14
 
-    :catch_26
+    :catch_23
     move-exception v1
 
-    :try_start_27
+    :try_start_24
     new-instance v2, Landroid/accounts/OperationCanceledException;
 
     invoke-direct {v2}, Landroid/accounts/OperationCanceledException;-><init>()V
 
     throw v2
-    :try_end_2d
-    .catchall {:try_start_27 .. :try_end_2d} :catchall_2d
+    :try_end_2a
+    .catchall {:try_start_24 .. :try_end_2a} :catchall_2a
 
-    :catchall_2d
+    :catchall_2a
     move-exception v2
 
     invoke-virtual {p0, v4}, Landroid/accounts/AccountManager$AmsTask;->cancel(Z)Z
 
     throw v2
 
-    :catch_32
-    move-exception v2
-
-    invoke-virtual {p0, v4}, Landroid/accounts/AccountManager$AmsTask;->cancel(Z)Z
-
-    :goto_36
-    new-instance v2, Landroid/accounts/OperationCanceledException;
-
-    invoke-direct {v2}, Landroid/accounts/OperationCanceledException;-><init>()V
-
-    throw v2
-
-    :catch_3c
-    move-exception v2
-
-    invoke-virtual {p0, v4}, Landroid/accounts/AccountManager$AmsTask;->cancel(Z)Z
-
-    goto :goto_36
-
-    :catch_41
+    :catch_2f
     move-exception v1
 
-    :try_start_42
+    :try_start_30
     invoke-virtual {v1}, Ljava/util/concurrent/ExecutionException;->getCause()Ljava/lang/Throwable;
 
     move-result-object v0
 
     instance-of v2, v0, Ljava/io/IOException;
 
-    if-eqz v2, :cond_4d
+    if-eqz v2, :cond_3b
 
     check-cast v0, Ljava/io/IOException;
 
     throw v0
 
-    :cond_4d
+    :cond_3b
     instance-of v2, v0, Ljava/lang/UnsupportedOperationException;
 
-    if-eqz v2, :cond_57
+    if-eqz v2, :cond_45
 
     new-instance v2, Landroid/accounts/AuthenticatorException;
 
@@ -236,41 +236,78 @@
 
     throw v2
 
-    :cond_57
+    :cond_45
     instance-of v2, v0, Landroid/accounts/AuthenticatorException;
 
-    if-eqz v2, :cond_5e
+    if-eqz v2, :cond_4c
 
     check-cast v0, Landroid/accounts/AuthenticatorException;
 
     throw v0
 
-    :cond_5e
+    :cond_4c
     instance-of v2, v0, Ljava/lang/RuntimeException;
 
-    if-eqz v2, :cond_65
+    if-eqz v2, :cond_53
 
     check-cast v0, Ljava/lang/RuntimeException;
 
     throw v0
 
-    :cond_65
+    :cond_53
     instance-of v2, v0, Ljava/lang/Error;
 
-    if-eqz v2, :cond_6c
+    if-eqz v2, :cond_5a
 
     check-cast v0, Ljava/lang/Error;
 
     throw v0
 
-    :cond_6c
+    :cond_5a
     new-instance v2, Ljava/lang/IllegalStateException;
 
     invoke-direct {v2, v0}, Ljava/lang/IllegalStateException;-><init>(Ljava/lang/Throwable;)V
 
     throw v2
-    :try_end_72
-    .catchall {:try_start_42 .. :try_end_72} :catchall_2d
+    :try_end_60
+    .catchall {:try_start_30 .. :try_end_60} :catchall_2a
+
+    :catch_60
+    move-exception v2
+
+    :goto_61
+    invoke-virtual {p0, v4}, Landroid/accounts/AccountManager$AmsTask;->cancel(Z)Z
+
+    new-instance v2, Landroid/accounts/OperationCanceledException;
+
+    invoke-direct {v2}, Landroid/accounts/OperationCanceledException;-><init>()V
+
+    throw v2
+
+    :catch_6a
+    move-exception v2
+
+    goto :goto_61
+
+    :catch_6c
+    move-exception v2
+
+    goto :goto_61
+
+    :catch_6e
+    move-exception v2
+
+    goto :goto_61
+
+    :catch_70
+    move-exception v2
+
+    goto :goto_61
+
+    :catch_72
+    move-exception v2
+
+    goto :goto_61
 .end method
 
 
diff -Npru stock_framework/smali/android/accounts/AccountManager$Future2Task.smali pdroid_framework/smali/android/accounts/AccountManager$Future2Task.smali
--- stock_framework/smali/android/accounts/AccountManager$Future2Task.smali	2012-07-02 22:51:47.729798406 -0700
+++ pdroid_framework/smali/android/accounts/AccountManager$Future2Task.smali	2012-07-02 22:52:32.509527495 -0700
@@ -101,95 +101,74 @@
     :try_start_e
     invoke-virtual {p0}, Landroid/accounts/AccountManager$Future2Task;->get()Ljava/lang/Object;
     :try_end_11
-    .catchall {:try_start_e .. :try_end_11} :catchall_42
-    .catch Ljava/lang/InterruptedException; {:try_start_e .. :try_end_11} :catch_22
-    .catch Ljava/util/concurrent/TimeoutException; {:try_start_e .. :try_end_11} :catch_2c
-    .catch Ljava/util/concurrent/CancellationException; {:try_start_e .. :try_end_11} :catch_31
-    .catch Ljava/util/concurrent/ExecutionException; {:try_start_e .. :try_end_11} :catch_36
+    .catchall {:try_start_e .. :try_end_11} :catchall_2b
+    .catch Ljava/lang/InterruptedException; {:try_start_e .. :try_end_11} :catch_69
+    .catch Ljava/util/concurrent/TimeoutException; {:try_start_e .. :try_end_11} :catch_63
+    .catch Ljava/util/concurrent/CancellationException; {:try_start_e .. :try_end_11} :catch_55
+    .catch Ljava/util/concurrent/ExecutionException; {:try_start_e .. :try_end_11} :catch_1f
 
     move-result-object v2
 
+    :goto_12
     invoke-virtual {p0, v4}, Landroid/accounts/AccountManager$Future2Task;->cancel(Z)Z
 
-    :goto_15
     return-object v2
 
     :cond_16
     :try_start_16
     invoke-virtual {p1}, Ljava/lang/Long;->longValue()J
+    :try_end_19
+    .catchall {:try_start_16 .. :try_end_19} :catchall_2b
+    .catch Ljava/lang/InterruptedException; {:try_start_16 .. :try_end_19} :catch_69
+    .catch Ljava/util/concurrent/TimeoutException; {:try_start_16 .. :try_end_19} :catch_65
+    .catch Ljava/util/concurrent/CancellationException; {:try_start_16 .. :try_end_19} :catch_5f
+    .catch Ljava/util/concurrent/ExecutionException; {:try_start_16 .. :try_end_19} :catch_1f
 
     move-result-wide v2
 
+    :try_start_1a
     invoke-virtual {p0, v2, v3, p2}, Landroid/accounts/AccountManager$Future2Task;->get(JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
     :try_end_1d
-    .catchall {:try_start_16 .. :try_end_1d} :catchall_42
-    .catch Ljava/lang/InterruptedException; {:try_start_16 .. :try_end_1d} :catch_22
-    .catch Ljava/util/concurrent/TimeoutException; {:try_start_16 .. :try_end_1d} :catch_2c
-    .catch Ljava/util/concurrent/CancellationException; {:try_start_16 .. :try_end_1d} :catch_31
-    .catch Ljava/util/concurrent/ExecutionException; {:try_start_16 .. :try_end_1d} :catch_36
+    .catchall {:try_start_1a .. :try_end_1d} :catchall_2b
+    .catch Ljava/lang/InterruptedException; {:try_start_1a .. :try_end_1d} :catch_69
+    .catch Ljava/util/concurrent/TimeoutException; {:try_start_1a .. :try_end_1d} :catch_67
+    .catch Ljava/util/concurrent/CancellationException; {:try_start_1a .. :try_end_1d} :catch_61
+    .catch Ljava/util/concurrent/ExecutionException; {:try_start_1a .. :try_end_1d} :catch_1f
 
     move-result-object v2
 
-    invoke-virtual {p0, v4}, Landroid/accounts/AccountManager$Future2Task;->cancel(Z)Z
-
-    goto :goto_15
-
-    :catch_22
-    move-exception v2
+    goto :goto_12
 
-    invoke-virtual {p0, v4}, Landroid/accounts/AccountManager$Future2Task;->cancel(Z)Z
-
-    :goto_26
-    new-instance v2, Landroid/accounts/OperationCanceledException;
-
-    invoke-direct {v2}, Landroid/accounts/OperationCanceledException;-><init>()V
-
-    throw v2
-
-    :catch_2c
-    move-exception v2
-
-    invoke-virtual {p0, v4}, Landroid/accounts/AccountManager$Future2Task;->cancel(Z)Z
-
-    goto :goto_26
-
-    :catch_31
-    move-exception v2
-
-    invoke-virtual {p0, v4}, Landroid/accounts/AccountManager$Future2Task;->cancel(Z)Z
-
-    goto :goto_26
-
-    :catch_36
+    :catch_1f
     move-exception v1
 
-    :try_start_37
+    :try_start_20
     invoke-virtual {v1}, Ljava/util/concurrent/ExecutionException;->getCause()Ljava/lang/Throwable;
 
     move-result-object v0
 
     instance-of v2, v0, Ljava/io/IOException;
 
-    if-eqz v2, :cond_47
+    if-eqz v2, :cond_30
 
     check-cast v0, Ljava/io/IOException;
 
     throw v0
-    :try_end_42
-    .catchall {:try_start_37 .. :try_end_42} :catchall_42
+    :try_end_2b
+    .catchall {:try_start_20 .. :try_end_2b} :catchall_2b
 
-    :catchall_42
+    :catchall_2b
     move-exception v2
 
     invoke-virtual {p0, v4}, Landroid/accounts/AccountManager$Future2Task;->cancel(Z)Z
 
     throw v2
 
-    :cond_47
-    :try_start_47
+    :cond_30
+    :try_start_30
     instance-of v2, v0, Ljava/lang/UnsupportedOperationException;
 
-    if-eqz v2, :cond_51
+    if-eqz v2, :cond_3a
 
     new-instance v2, Landroid/accounts/AuthenticatorException;
 
@@ -197,41 +176,83 @@
 
     throw v2
 
-    :cond_51
+    :cond_3a
     instance-of v2, v0, Landroid/accounts/AuthenticatorException;
 
-    if-eqz v2, :cond_58
+    if-eqz v2, :cond_41
 
     check-cast v0, Landroid/accounts/AuthenticatorException;
 
     throw v0
 
-    :cond_58
+    :cond_41
     instance-of v2, v0, Ljava/lang/RuntimeException;
 
-    if-eqz v2, :cond_5f
+    if-eqz v2, :cond_48
 
     check-cast v0, Ljava/lang/RuntimeException;
 
     throw v0
 
-    :cond_5f
+    :cond_48
     instance-of v2, v0, Ljava/lang/Error;
 
-    if-eqz v2, :cond_66
+    if-eqz v2, :cond_4f
 
     check-cast v0, Ljava/lang/Error;
 
     throw v0
 
-    :cond_66
+    :cond_4f
     new-instance v2, Ljava/lang/IllegalStateException;
 
     invoke-direct {v2, v0}, Ljava/lang/IllegalStateException;-><init>(Ljava/lang/Throwable;)V
 
     throw v2
-    :try_end_6c
-    .catchall {:try_start_47 .. :try_end_6c} :catchall_42
+    :try_end_55
+    .catchall {:try_start_30 .. :try_end_55} :catchall_2b
+
+    :catch_55
+    move-exception v2
+
+    :goto_56
+    invoke-virtual {p0, v4}, Landroid/accounts/AccountManager$Future2Task;->cancel(Z)Z
+
+    new-instance v2, Landroid/accounts/OperationCanceledException;
+
+    invoke-direct {v2}, Landroid/accounts/OperationCanceledException;-><init>()V
+
+    throw v2
+
+    :catch_5f
+    move-exception v2
+
+    goto :goto_56
+
+    :catch_61
+    move-exception v2
+
+    goto :goto_56
+
+    :catch_63
+    move-exception v2
+
+    goto :goto_56
+
+    :catch_65
+    move-exception v2
+
+    goto :goto_56
+
+    :catch_67
+    move-exception v2
+
+    goto :goto_56
+
+    :catch_69
+    move-exception v2
+
+    goto :goto_56
 .end method
 
 
diff -Npru stock_framework/smali/android/accounts/AccountManagerService.smali pdroid_framework/smali/android/accounts/AccountManagerService.smali
--- stock_framework/smali/android/accounts/AccountManagerService.smali	2012-07-02 22:51:48.327941721 -0700
+++ pdroid_framework/smali/android/accounts/AccountManagerService.smali	2012-07-02 22:52:33.010647562 -0700
@@ -1502,23 +1502,21 @@
 
     invoke-interface {v8, v0}, Landroid/database/Cursor;->getLong(I)J
     :try_end_2a
-    .catchall {:try_start_20 .. :try_end_2a} :catchall_35
+    .catchall {:try_start_20 .. :try_end_2a} :catchall_32
 
     move-result-wide v0
 
+    :goto_2b
     invoke-interface {v8}, Landroid/database/Cursor;->close()V
 
-    :goto_2e
     return-wide v0
 
     :cond_2f
     const-wide/16 v0, -0x1
 
-    invoke-interface {v8}, Landroid/database/Cursor;->close()V
-
-    goto :goto_2e
+    goto :goto_2b
 
-    :catchall_35
+    :catchall_32
     move-exception v0
 
     invoke-interface {v8}, Landroid/database/Cursor;->close()V
@@ -1713,23 +1711,21 @@
 
     invoke-interface {v8, v0}, Landroid/database/Cursor;->getLong(I)J
     :try_end_45
-    .catchall {:try_start_3b .. :try_end_45} :catchall_50
+    .catchall {:try_start_3b .. :try_end_45} :catchall_4d
 
     move-result-wide v0
 
+    :goto_46
     invoke-interface {v8}, Landroid/database/Cursor;->close()V
 
-    :goto_49
     return-wide v0
 
     :cond_4a
     const-wide/16 v0, -0x1
 
-    invoke-interface {v8}, Landroid/database/Cursor;->close()V
-
-    goto :goto_49
+    goto :goto_46
 
-    :catchall_50
+    :catchall_4d
     move-exception v0
 
     invoke-interface {v8}, Landroid/database/Cursor;->close()V
@@ -4581,7 +4577,7 @@
     const/16 v16, 0x1
 
     :goto_68
-    if-eqz v16, :cond_ba
+    if-eqz v16, :cond_b3
 
     const-string v4, "accounts"
 
@@ -4609,7 +4605,7 @@
 
     move-result v4
 
-    if-eqz v4, :cond_b3
+    if-eqz v4, :cond_175
 
     new-instance v4, Ljava/lang/StringBuilder;
 
@@ -4679,20 +4675,9 @@
     goto :goto_68
 
     :cond_b3
-    if-eqz v14, :cond_b8
-
-    :try_start_b5
-    invoke-interface {v14}, Landroid/database/Cursor;->close()V
-
-    :cond_b8
-    :goto_b8
-    monitor-exit v21
-
-    goto :goto_42
-
-    :cond_ba
     const/4 v4, 0x0
 
+    :try_start_b4
     move-object/from16 v0, p0
 
     invoke-virtual {v0, v4}, Landroid/accounts/AccountManagerService;->getAccountsFromCacheLocked(Ljava/lang/String;)[Landroid/accounts/Account;
@@ -4731,10 +4716,10 @@
 
     const/4 v15, 0x0
 
-    :goto_df
+    :goto_d8
     move/from16 v0, v17
 
-    if-ge v15, v0, :cond_100
+    if-ge v15, v0, :cond_f9
 
     aget-object v11, v13, v15
 
@@ -4762,9 +4747,9 @@
 
     add-int/lit8 v15, v15, 0x1
 
-    goto :goto_df
+    goto :goto_d8
 
-    :cond_100
+    :cond_f9
     invoke-virtual/range {p2 .. p2}, Ljava/io/PrintWriter;->println()V
 
     move-object/from16 v0, p0
@@ -4772,10 +4757,10 @@
     iget-object v5, v0, Landroid/accounts/AccountManagerService;->mSessions:Ljava/util/LinkedHashMap;
 
     monitor-enter v5
-    :try_end_108
-    .catchall {:try_start_b5 .. :try_end_108} :catchall_ad
+    :try_end_101
+    .catchall {:try_start_b4 .. :try_end_101} :catchall_ad
 
-    :try_start_108
+    :try_start_101
     invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J
 
     move-result-wide v18
@@ -4822,12 +4807,12 @@
 
     move-result-object v15
 
-    :goto_138
+    :goto_131
     invoke-interface {v15}, Ljava/util/Iterator;->hasNext()Z
 
     move-result v4
 
-    if-eqz v4, :cond_168
+    if-eqz v4, :cond_161
 
     invoke-interface {v15}, Ljava/util/Iterator;->next()Ljava/lang/Object;
 
@@ -4865,27 +4850,27 @@
 
     invoke-virtual {v0, v4}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
 
-    goto :goto_138
+    goto :goto_131
 
-    :catchall_165
+    :catchall_15e
     move-exception v4
 
     monitor-exit v5
-    :try_end_167
-    .catchall {:try_start_108 .. :try_end_167} :catchall_165
+    :try_end_160
+    .catchall {:try_start_101 .. :try_end_160} :catchall_15e
 
-    :try_start_167
+    :try_start_160
     throw v4
-    :try_end_168
-    .catchall {:try_start_167 .. :try_end_168} :catchall_ad
+    :try_end_161
+    .catchall {:try_start_160 .. :try_end_161} :catchall_ad
 
-    :cond_168
-    :try_start_168
+    :cond_161
+    :try_start_161
     monitor-exit v5
-    :try_end_169
-    .catchall {:try_start_168 .. :try_end_169} :catchall_165
+    :try_end_162
+    .catchall {:try_start_161 .. :try_end_162} :catchall_15e
 
-    :try_start_169
+    :try_start_162
     invoke-virtual/range {p2 .. p2}, Ljava/io/PrintWriter;->println()V
 
     move-object/from16 v0, p0
@@ -4899,10 +4884,21 @@
     move-object/from16 v2, p3
 
     invoke-interface {v4, v0, v1, v2}, Landroid/accounts/IAccountAuthenticatorCache;->dump(Ljava/io/FileDescriptor;Ljava/io/PrintWriter;[Ljava/lang/String;)V
-    :try_end_179
-    .catchall {:try_start_169 .. :try_end_179} :catchall_ad
 
-    goto/16 :goto_b8
+    :cond_172
+    :goto_172
+    monitor-exit v21
+
+    goto/16 :goto_42
+
+    :cond_175
+    if-eqz v14, :cond_172
+
+    invoke-interface {v14}, Landroid/database/Cursor;->close()V
+    :try_end_17a
+    .catchall {:try_start_162 .. :try_end_17a} :catchall_ad
+
+    goto :goto_172
 .end method
 
 .method public editProperties(Landroid/accounts/IAccountManagerResponse;Ljava/lang/String;Z)V
@@ -5440,9 +5436,9 @@
     :try_end_8b
     .catchall {:try_start_7e .. :try_end_8b} :catchall_92
 
+    :goto_8b
     invoke-static {v1, v2}, Landroid/accounts/AccountManagerService;->restoreCallingIdentity(J)V
 
-    :goto_8e
     return-void
 
     :catchall_8f
@@ -5475,9 +5471,7 @@
     :try_end_9f
     .catchall {:try_start_97 .. :try_end_9f} :catchall_92
 
-    invoke-static {v1, v2}, Landroid/accounts/AccountManagerService;->restoreCallingIdentity(J)V
-
-    goto :goto_8e
+    goto :goto_8b
 .end method
 
 .method protected getAccountsFromCacheLocked(Ljava/lang/String;)[Landroid/accounts/Account;
@@ -5899,11 +5893,11 @@
 
     invoke-direct {v0, v1, v2}, Landroid/accounts/AccountManagerService;->onResult(Landroid/accounts/IAccountManagerResponse;Landroid/os/Bundle;)V
     :try_end_12a
-    .catchall {:try_start_f1 .. :try_end_12a} :catchall_152
+    .catchall {:try_start_f1 .. :try_end_12a} :catchall_14f
 
+    :goto_12a
     invoke-static/range {v18 .. v19}, Landroid/accounts/AccountManagerService;->restoreCallingIdentity(J)V
 
-    :goto_12d
     return-void
 
     :cond_12e
@@ -5947,13 +5941,11 @@
 
     invoke-virtual {v3}, Landroid/accounts/AccountManagerService$3;->bind()V
     :try_end_14e
-    .catchall {:try_start_135 .. :try_end_14e} :catchall_152
+    .catchall {:try_start_135 .. :try_end_14e} :catchall_14f
 
-    invoke-static/range {v18 .. v19}, Landroid/accounts/AccountManagerService;->restoreCallingIdentity(J)V
-
-    goto :goto_12d
+    goto :goto_12a
 
-    :catchall_152
+    :catchall_14f
     move-exception v3
 
     invoke-static/range {v18 .. v19}, Landroid/accounts/AccountManagerService;->restoreCallingIdentity(J)V
@@ -6119,7 +6111,7 @@
 
     move-result v7
 
-    if-eqz v7, :cond_5d
+    if-eqz v7, :cond_62
 
     invoke-interface {v3}, Ljava/util/Iterator;->next()Ljava/lang/Object;
 
@@ -6133,23 +6125,23 @@
 
     aput-object v7, v6, v2
     :try_end_5a
-    .catchall {:try_start_37 .. :try_end_5a} :catchall_61
+    .catchall {:try_start_37 .. :try_end_5a} :catchall_5d
 
     add-int/lit8 v2, v2, 0x1
 
     goto :goto_48
 
-    :cond_5d
-    invoke-static {v4, v5}, Landroid/accounts/AccountManagerService;->restoreCallingIdentity(J)V
-
-    return-object v6
-
-    :catchall_61
+    :catchall_5d
     move-exception v7
 
     invoke-static {v4, v5}, Landroid/accounts/AccountManagerService;->restoreCallingIdentity(J)V
 
     throw v7
+
+    :cond_62
+    invoke-static {v4, v5}, Landroid/accounts/AccountManagerService;->restoreCallingIdentity(J)V
+
+    return-object v6
 .end method
 
 .method public getPassword(Landroid/accounts/Account;)Ljava/lang/String;
diff -Npru stock_framework/smali/android/app/ActivityThread.smali pdroid_framework/smali/android/app/ActivityThread.smali
--- stock_framework/smali/android/app/ActivityThread.smali	2012-07-02 22:51:49.402199112 -0700
+++ pdroid_framework/smali/android/app/ActivityThread.smali	2012-07-02 22:52:33.839846233 -0700
@@ -4082,9 +4082,9 @@
 
     sget-object v8, Landroid/app/ActivityThread;->sCurrentBroadcastIntent:Ljava/lang/ThreadLocal;
 
+    :goto_54
     invoke-virtual {v8, v11}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V
 
-    :goto_57
     invoke-virtual {v7}, Landroid/content/BroadcastReceiver;->getPendingResult()Landroid/content/BroadcastReceiver$PendingResult;
 
     move-result-object v8
@@ -4205,9 +4205,7 @@
     :cond_c6
     sget-object v8, Landroid/app/ActivityThread;->sCurrentBroadcastIntent:Ljava/lang/ThreadLocal;
 
-    invoke-virtual {v8, v11}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V
-
-    goto :goto_57
+    goto :goto_54
 .end method
 
 .method private handleRelaunchActivity(Landroid/app/ActivityThread$ActivityClientRecord;)V
@@ -10122,7 +10120,7 @@
 .method final handleDumpHeap(ZLandroid/app/ActivityThread$DumpHeapData;)V
     .registers 7
 
-    if-eqz p1, :cond_5c
+    if-eqz p1, :cond_4a
 
     :try_start_2
     iget-object v1, p2, Landroid/app/ActivityThread$DumpHeapData;->path:Ljava/lang/String;
@@ -10135,15 +10133,15 @@
 
     invoke-static {v1, v2}, Landroid/os/Debug;->dumpHprofData(Ljava/lang/String;Ljava/io/FileDescriptor;)V
     :try_end_d
-    .catchall {:try_start_2 .. :try_end_d} :catchall_4c
-    .catch Ljava/io/IOException; {:try_start_2 .. :try_end_d} :catch_1c
+    .catchall {:try_start_2 .. :try_end_d} :catchall_43
+    .catch Ljava/io/IOException; {:try_start_2 .. :try_end_d} :catch_13
 
     :try_start_d
     iget-object v1, p2, Landroid/app/ActivityThread$DumpHeapData;->fd:Landroid/os/ParcelFileDescriptor;
 
     invoke-virtual {v1}, Landroid/os/ParcelFileDescriptor;->close()V
     :try_end_12
-    .catch Ljava/io/IOException; {:try_start_d .. :try_end_12} :catch_13
+    .catch Ljava/io/IOException; {:try_start_d .. :try_end_12} :catch_5d
 
     :goto_12
     return-void
@@ -10151,18 +10149,7 @@
     :catch_13
     move-exception v0
 
-    const-string v1, "ActivityThread"
-
-    const-string v2, "Failure closing profile fd"
-
-    invoke-static {v1, v2, v0}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-
-    goto :goto_12
-
-    :catch_1c
-    move-exception v0
-
-    :try_start_1d
+    :try_start_14
     const-string v1, "ActivityThread"
 
     new-instance v2, Ljava/lang/StringBuilder;
@@ -10192,43 +10179,55 @@
     move-result-object v2
 
     invoke-static {v1, v2}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;)I
-    :try_end_3d
-    .catchall {:try_start_1d .. :try_end_3d} :catchall_4c
+    :try_end_34
+    .catchall {:try_start_14 .. :try_end_34} :catchall_43
 
-    :try_start_3d
+    :try_start_34
     iget-object v1, p2, Landroid/app/ActivityThread$DumpHeapData;->fd:Landroid/os/ParcelFileDescriptor;
 
     invoke-virtual {v1}, Landroid/os/ParcelFileDescriptor;->close()V
-    :try_end_42
-    .catch Ljava/io/IOException; {:try_start_3d .. :try_end_42} :catch_43
+    :try_end_39
+    .catch Ljava/io/IOException; {:try_start_34 .. :try_end_39} :catch_3a
 
     goto :goto_12
 
-    :catch_43
+    :catch_3a
     move-exception v0
 
     const-string v1, "ActivityThread"
 
     const-string v2, "Failure closing profile fd"
 
+    :goto_3f
     invoke-static {v1, v2, v0}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
     goto :goto_12
 
-    :catchall_4c
+    :catchall_43
     move-exception v1
 
-    :try_start_4d
+    :try_start_44
     iget-object v2, p2, Landroid/app/ActivityThread$DumpHeapData;->fd:Landroid/os/ParcelFileDescriptor;
 
     invoke-virtual {v2}, Landroid/os/ParcelFileDescriptor;->close()V
-    :try_end_52
-    .catch Ljava/io/IOException; {:try_start_4d .. :try_end_52} :catch_53
+    :try_end_49
+    .catch Ljava/io/IOException; {:try_start_44 .. :try_end_49} :catch_54
 
-    :goto_52
+    :goto_49
     throw v1
 
-    :catch_53
+    :cond_4a
+    iget-object v1, p2, Landroid/app/ActivityThread$DumpHeapData;->fd:Landroid/os/ParcelFileDescriptor;
+
+    invoke-virtual {v1}, Landroid/os/ParcelFileDescriptor;->getFileDescriptor()Ljava/io/FileDescriptor;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/os/Debug;->dumpNativeHeap(Ljava/io/FileDescriptor;)V
+
+    goto :goto_12
+
+    :catch_54
     move-exception v0
 
     const-string v2, "ActivityThread"
@@ -10237,18 +10236,16 @@
 
     invoke-static {v2, v3, v0}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
-    goto :goto_52
-
-    :cond_5c
-    iget-object v1, p2, Landroid/app/ActivityThread$DumpHeapData;->fd:Landroid/os/ParcelFileDescriptor;
+    goto :goto_49
 
-    invoke-virtual {v1}, Landroid/os/ParcelFileDescriptor;->getFileDescriptor()Ljava/io/FileDescriptor;
+    :catch_5d
+    move-exception v0
 
-    move-result-object v1
+    const-string v1, "ActivityThread"
 
-    invoke-static {v1}, Landroid/os/Debug;->dumpNativeHeap(Ljava/io/FileDescriptor;)V
+    const-string v2, "Failure closing profile fd"
 
-    goto :goto_12
+    goto :goto_3f
 .end method
 
 .method final handleLowMemory()V
@@ -10332,9 +10329,9 @@
 .method final handleProfilerControl(ZLandroid/app/ActivityThread$ProfilerControlData;I)V
     .registers 8
 
-    if-eqz p1, :cond_73
+    if-eqz p1, :cond_61
 
-    packed-switch p3, :pswitch_data_80
+    packed-switch p3, :pswitch_data_7e
 
     :try_start_5
     iget-object v1, p0, Landroid/app/ActivityThread;->mProfiler:Landroid/app/ActivityThread$Profiler;
@@ -10355,7 +10352,7 @@
 
     invoke-virtual {v1}, Landroid/app/ActivityThread$Profiler;->startProfiling()V
     :try_end_18
-    .catchall {:try_start_5 .. :try_end_18} :catchall_63
+    .catchall {:try_start_5 .. :try_end_18} :catchall_5a
     .catch Ljava/lang/RuntimeException; {:try_start_5 .. :try_end_18} :catch_2a
 
     :goto_18
@@ -10364,7 +10361,7 @@
 
     invoke-virtual {v1}, Landroid/os/ParcelFileDescriptor;->close()V
     :try_end_1d
-    .catch Ljava/io/IOException; {:try_start_18 .. :try_end_1d} :catch_5a
+    .catch Ljava/io/IOException; {:try_start_18 .. :try_end_1d} :catch_77
 
     :goto_1d
     return-void
@@ -10381,7 +10378,7 @@
 
     invoke-static {v1, v2}, Landroid/view/ViewDebug;->startLooperProfiling(Ljava/lang/String;Ljava/io/FileDescriptor;)V
     :try_end_29
-    .catchall {:try_start_1e .. :try_end_29} :catchall_63
+    .catchall {:try_start_1e .. :try_end_29} :catchall_5a
     .catch Ljava/lang/RuntimeException; {:try_start_1e .. :try_end_29} :catch_2a
 
     goto :goto_18
@@ -10420,7 +10417,7 @@
 
     invoke-static {v1, v2}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;)I
     :try_end_4b
-    .catchall {:try_start_2b .. :try_end_4b} :catchall_63
+    .catchall {:try_start_2b .. :try_end_4b} :catchall_5a
 
     :try_start_4b
     iget-object v1, p2, Landroid/app/ActivityThread$ProfilerControlData;->fd:Landroid/os/ParcelFileDescriptor;
@@ -10438,35 +10435,39 @@
 
     const-string v2, "Failure closing profile fd"
 
+    :goto_56
     invoke-static {v1, v2, v0}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
     goto :goto_1d
 
-    :catch_5a
-    move-exception v0
+    :catchall_5a
+    move-exception v1
 
-    const-string v1, "ActivityThread"
+    :try_start_5b
+    iget-object v2, p2, Landroid/app/ActivityThread$ProfilerControlData;->fd:Landroid/os/ParcelFileDescriptor;
 
-    const-string v2, "Failure closing profile fd"
+    invoke-virtual {v2}, Landroid/os/ParcelFileDescriptor;->close()V
+    :try_end_60
+    .catch Ljava/io/IOException; {:try_start_5b .. :try_end_60} :catch_6e
 
-    invoke-static {v1, v2, v0}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+    :goto_60
+    throw v1
 
-    goto :goto_1d
+    :cond_61
+    packed-switch p3, :pswitch_data_84
 
-    :catchall_63
-    move-exception v1
+    iget-object v1, p0, Landroid/app/ActivityThread;->mProfiler:Landroid/app/ActivityThread$Profiler;
 
-    :try_start_64
-    iget-object v2, p2, Landroid/app/ActivityThread$ProfilerControlData;->fd:Landroid/os/ParcelFileDescriptor;
+    invoke-virtual {v1}, Landroid/app/ActivityThread$Profiler;->stopProfiling()V
 
-    invoke-virtual {v2}, Landroid/os/ParcelFileDescriptor;->close()V
-    :try_end_69
-    .catch Ljava/io/IOException; {:try_start_64 .. :try_end_69} :catch_6a
+    goto :goto_1d
 
-    :goto_69
-    throw v1
+    :pswitch_6a
+    invoke-static {}, Landroid/view/ViewDebug;->stopLooperProfiling()V
 
-    :catch_6a
+    goto :goto_1d
+
+    :catch_6e
     move-exception v0
 
     const-string v2, "ActivityThread"
@@ -10475,30 +10476,27 @@
 
     invoke-static {v2, v3, v0}, Landroid/util/Slog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
-    goto :goto_69
-
-    :cond_73
-    packed-switch p3, :pswitch_data_86
+    goto :goto_60
 
-    iget-object v1, p0, Landroid/app/ActivityThread;->mProfiler:Landroid/app/ActivityThread$Profiler;
+    :catch_77
+    move-exception v0
 
-    invoke-virtual {v1}, Landroid/app/ActivityThread$Profiler;->stopProfiling()V
+    const-string v1, "ActivityThread"
 
-    goto :goto_1d
+    const-string v2, "Failure closing profile fd"
 
-    :pswitch_7c
-    invoke-static {}, Landroid/view/ViewDebug;->stopLooperProfiling()V
+    goto :goto_56
 
-    goto :goto_1d
+    nop
 
-    :pswitch_data_80
+    :pswitch_data_7e
     .packed-switch 0x1
         :pswitch_1e
     .end packed-switch
 
-    :pswitch_data_86
+    :pswitch_data_84
     .packed-switch 0x1
-        :pswitch_7c
+        :pswitch_6a
     .end packed-switch
 .end method
 
diff -Npru stock_framework/smali/android/app/BackStackRecord.smali pdroid_framework/smali/android/app/BackStackRecord.smali
--- stock_framework/smali/android/app/BackStackRecord.smali	2012-07-02 22:51:49.614249919 -0700
+++ pdroid_framework/smali/android/app/BackStackRecord.smali	2012-07-02 22:52:34.025890808 -0700
@@ -790,12 +790,12 @@
 
     iget v4, p0, Landroid/app/BackStackRecord;->mPopExitAnim:I
 
-    if-eqz v4, :cond_93
+    if-eqz v4, :cond_94
 
     :cond_74
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
-    const-string v4, "mPopEnterAnim=#"
+    const-string/jumbo v4, "mPopEnterAnim=#"
 
     invoke-virtual {p3, v4}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
@@ -819,16 +819,16 @@
 
     invoke-virtual {p3, v4}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
 
-    :cond_93
+    :cond_94
     iget v4, p0, Landroid/app/BackStackRecord;->mBreadCrumbTitleRes:I
 
-    if-nez v4, :cond_9b
+    if-nez v4, :cond_9c
 
     iget-object v4, p0, Landroid/app/BackStackRecord;->mBreadCrumbTitleText:Ljava/lang/CharSequence;
 
-    if-eqz v4, :cond_b6
+    if-eqz v4, :cond_b7
 
-    :cond_9b
+    :cond_9c
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
     const-string v4, "mBreadCrumbTitleRes=#"
@@ -851,16 +851,16 @@
 
     invoke-virtual {p3, v4}, Ljava/io/PrintWriter;->println(Ljava/lang/Object;)V
 
-    :cond_b6
+    :cond_b7
     iget v4, p0, Landroid/app/BackStackRecord;->mBreadCrumbShortTitleRes:I
 
-    if-nez v4, :cond_be
+    if-nez v4, :cond_bf
 
     iget-object v4, p0, Landroid/app/BackStackRecord;->mBreadCrumbShortTitleText:Ljava/lang/CharSequence;
 
-    if-eqz v4, :cond_d9
+    if-eqz v4, :cond_da
 
-    :cond_be
+    :cond_bf
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
     const-string v4, "mBreadCrumbShortTitleRes=#"
@@ -883,10 +883,10 @@
 
     invoke-virtual {p3, v4}, Ljava/io/PrintWriter;->println(Ljava/lang/Object;)V
 
-    :cond_d9
+    :cond_da
     iget-object v4, p0, Landroid/app/BackStackRecord;->mHead:Landroid/app/BackStackRecord$Op;
 
-    if-eqz v4, :cond_1bf
+    if-eqz v4, :cond_1c0
 
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
@@ -916,8 +916,8 @@
 
     const/4 v2, 0x0
 
-    :goto_fb
-    if-eqz v3, :cond_1bf
+    :goto_fc
+    if-eqz v3, :cond_1c0
 
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
@@ -951,13 +951,13 @@
 
     iget v4, v3, Landroid/app/BackStackRecord$Op;->enterAnim:I
 
-    if-nez v4, :cond_12c
+    if-nez v4, :cond_12d
 
     iget v4, v3, Landroid/app/BackStackRecord$Op;->exitAnim:I
 
-    if-eqz v4, :cond_14b
+    if-eqz v4, :cond_14c
 
-    :cond_12c
+    :cond_12d
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
     const-string v4, "enterAnim=#"
@@ -984,16 +984,16 @@
 
     invoke-virtual {p3, v4}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
 
-    :cond_14b
+    :cond_14c
     iget v4, v3, Landroid/app/BackStackRecord$Op;->popEnterAnim:I
 
-    if-nez v4, :cond_153
+    if-nez v4, :cond_154
 
     iget v4, v3, Landroid/app/BackStackRecord$Op;->popExitAnim:I
 
-    if-eqz v4, :cond_173
+    if-eqz v4, :cond_174
 
-    :cond_153
+    :cond_154
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
     const-string/jumbo v4, "popEnterAnim=#"
@@ -1020,10 +1020,10 @@
 
     invoke-virtual {p3, v4}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
 
-    :cond_173
+    :cond_174
     iget-object v4, v3, Landroid/app/BackStackRecord$Op;->removed:Ljava/util/ArrayList;
 
-    if-eqz v4, :cond_1bb
+    if-eqz v4, :cond_1bc
 
     iget-object v4, v3, Landroid/app/BackStackRecord$Op;->removed:Ljava/util/ArrayList;
 
@@ -1031,18 +1031,18 @@
 
     move-result v4
 
-    if-lez v4, :cond_1bb
+    if-lez v4, :cond_1bc
 
     const/4 v0, 0x0
 
-    :goto_180
+    :goto_181
     iget-object v4, v3, Landroid/app/BackStackRecord$Op;->removed:Ljava/util/ArrayList;
 
     invoke-virtual {v4}, Ljava/util/ArrayList;->size()I
 
     move-result v4
 
-    if-ge v0, v4, :cond_1bb
+    if-ge v0, v4, :cond_1bc
 
     invoke-virtual {p3, v1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
@@ -1054,13 +1054,13 @@
 
     const/4 v5, 0x1
 
-    if-ne v4, v5, :cond_1a5
+    if-ne v4, v5, :cond_1a6
 
     const-string v4, "Removed: "
 
     invoke-virtual {p3, v4}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
-    :goto_199
+    :goto_19a
     iget-object v4, v3, Landroid/app/BackStackRecord$Op;->removed:Ljava/util/ArrayList;
 
     invoke-virtual {v4, v0}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;
@@ -1071,9 +1071,9 @@
 
     add-int/lit8 v0, v0, 0x1
 
-    goto :goto_180
+    goto :goto_181
 
-    :cond_1a5
+    :cond_1a6
     const-string v4, "Removed:"
 
     invoke-virtual {p3, v4}, Ljava/io/PrintWriter;->println(Ljava/lang/String;)V
@@ -1090,14 +1090,14 @@
 
     invoke-virtual {p3, v4}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
-    goto :goto_199
+    goto :goto_19a
 
-    :cond_1bb
+    :cond_1bc
     iget-object v3, v3, Landroid/app/BackStackRecord$Op;->next:Landroid/app/BackStackRecord$Op;
 
-    goto/16 :goto_fb
+    goto/16 :goto_fc
 
-    :cond_1bf
+    :cond_1c0
     return-void
 .end method
 
diff -Npru stock_framework/smali/android/app/backup/BackupAgent$BackupServiceBinder.smali pdroid_framework/smali/android/app/backup/BackupAgent$BackupServiceBinder.smali
--- stock_framework/smali/android/app/backup/BackupAgent$BackupServiceBinder.smali	2012-07-02 22:51:52.947048457 -0700
+++ pdroid_framework/smali/android/app/backup/BackupAgent$BackupServiceBinder.smali	2012-07-02 22:52:37.752783748 -0700
@@ -83,7 +83,7 @@
     :try_start_1c
     invoke-interface {p5, p4}, Landroid/app/backup/IBackupManager;->opComplete(I)V
     :try_end_1f
-    .catch Landroid/os/RemoteException; {:try_start_1c .. :try_end_1f} :catch_83
+    .catch Landroid/os/RemoteException; {:try_start_1c .. :try_end_1f} :catch_85
 
     :goto_1f
     return-void
@@ -146,7 +146,7 @@
     :try_start_54
     invoke-interface {p5, p4}, Landroid/app/backup/IBackupManager;->opComplete(I)V
     :try_end_57
-    .catch Landroid/os/RemoteException; {:try_start_54 .. :try_end_57} :catch_85
+    .catch Landroid/os/RemoteException; {:try_start_54 .. :try_end_57} :catch_83
 
     :goto_57
     throw v4
@@ -198,14 +198,14 @@
     .catchall {:try_start_59 .. :try_end_83} :catchall_50
 
     :catch_83
-    move-exception v4
+    move-exception v5
 
-    goto :goto_1f
+    goto :goto_57
 
     :catch_85
-    move-exception v5
+    move-exception v4
 
-    goto :goto_57
+    goto :goto_1f
 .end method
 
 .method public doFullBackup(Landroid/os/ParcelFileDescriptor;ILandroid/app/backup/IBackupManager;)V
@@ -230,9 +230,9 @@
 
     invoke-virtual {v6, v7}, Landroid/app/backup/BackupAgent;->onFullBackup(Landroid/app/backup/FullBackupDataOutput;)V
     :try_end_15
-    .catchall {:try_start_b .. :try_end_15} :catchall_64
-    .catch Ljava/io/IOException; {:try_start_b .. :try_end_15} :catch_34
-    .catch Ljava/lang/RuntimeException; {:try_start_b .. :try_end_15} :catch_7b
+    .catchall {:try_start_b .. :try_end_15} :catchall_5b
+    .catch Ljava/io/IOException; {:try_start_b .. :try_end_15} :catch_2b
+    .catch Ljava/lang/RuntimeException; {:try_start_b .. :try_end_15} :catch_72
 
     :try_start_15
     new-instance v5, Ljava/io/FileOutputStream;
@@ -249,7 +249,7 @@
 
     invoke-virtual {v5, v0}, Ljava/io/FileOutputStream;->write([B)V
     :try_end_24
-    .catch Ljava/io/IOException; {:try_start_15 .. :try_end_24} :catch_2b
+    .catch Ljava/io/IOException; {:try_start_15 .. :try_end_24} :catch_a8
 
     :goto_24
     invoke-static {v3, v4}, Landroid/os/Binder;->restoreCallingIdentity(J)V
@@ -257,26 +257,15 @@
     :try_start_27
     invoke-interface {p3, p2}, Landroid/app/backup/IBackupManager;->opComplete(I)V
     :try_end_2a
-    .catch Landroid/os/RemoteException; {:try_start_27 .. :try_end_2a} :catch_af
+    .catch Landroid/os/RemoteException; {:try_start_27 .. :try_end_2a} :catch_b2
 
     :goto_2a
     return-void
 
     :catch_2b
-    move-exception v1
-
-    const-string v6, "BackupServiceBinder"
-
-    const-string v7, "Unable to finalize backup stream!"
-
-    invoke-static {v6, v7}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
-
-    goto :goto_24
-
-    :catch_34
     move-exception v2
 
-    :try_start_35
+    :try_start_2c
     const-string v6, "BackupServiceBinder"
 
     new-instance v7, Ljava/lang/StringBuilder;
@@ -320,13 +309,13 @@
     invoke-direct {v6, v2}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/Throwable;)V
 
     throw v6
-    :try_end_64
-    .catchall {:try_start_35 .. :try_end_64} :catchall_64
+    :try_end_5b
+    .catchall {:try_start_2c .. :try_end_5b} :catchall_5b
 
-    :catchall_64
+    :catchall_5b
     move-exception v6
 
-    :try_start_65
+    :try_start_5c
     new-instance v5, Ljava/io/FileOutputStream;
 
     invoke-virtual {p1}, Landroid/os/ParcelFileDescriptor;->getFileDescriptor()Ljava/io/FileDescriptor;
@@ -340,24 +329,24 @@
     new-array v0, v7, [B
 
     invoke-virtual {v5, v0}, Ljava/io/FileOutputStream;->write([B)V
-    :try_end_74
-    .catch Ljava/io/IOException; {:try_start_65 .. :try_end_74} :catch_a6
+    :try_end_6b
+    .catch Ljava/io/IOException; {:try_start_5c .. :try_end_6b} :catch_9d
 
-    :goto_74
+    :goto_6b
     invoke-static {v3, v4}, Landroid/os/Binder;->restoreCallingIdentity(J)V
 
-    :try_start_77
+    :try_start_6e
     invoke-interface {p3, p2}, Landroid/app/backup/IBackupManager;->opComplete(I)V
-    :try_end_7a
-    .catch Landroid/os/RemoteException; {:try_start_77 .. :try_end_7a} :catch_b2
+    :try_end_71
+    .catch Landroid/os/RemoteException; {:try_start_6e .. :try_end_71} :catch_a6
 
-    :goto_7a
+    :goto_71
     throw v6
 
-    :catch_7b
+    :catch_72
     move-exception v2
 
-    :try_start_7c
+    :try_start_73
     const-string v6, "BackupServiceBinder"
 
     new-instance v7, Ljava/lang/StringBuilder;
@@ -397,10 +386,10 @@
     invoke-static {v6, v7, v2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
 
     throw v2
-    :try_end_a6
-    .catchall {:try_start_7c .. :try_end_a6} :catchall_64
+    :try_end_9d
+    .catchall {:try_start_73 .. :try_end_9d} :catchall_5b
 
-    :catch_a6
+    :catch_9d
     move-exception v1
 
     const-string v7, "BackupServiceBinder"
@@ -409,17 +398,28 @@
 
     invoke-static {v7, v8}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
 
-    goto :goto_74
+    goto :goto_6b
 
-    :catch_af
-    move-exception v6
+    :catch_a6
+    move-exception v7
 
-    goto/16 :goto_2a
+    goto :goto_71
+
+    :catch_a8
+    move-exception v1
+
+    const-string v6, "BackupServiceBinder"
+
+    const-string v7, "Unable to finalize backup stream!"
+
+    invoke-static {v6, v7}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_24
 
     :catch_b2
-    move-exception v7
+    move-exception v6
 
-    goto :goto_7a
+    goto/16 :goto_2a
 .end method
 
 .method public doRestore(Landroid/os/ParcelFileDescriptor;ILandroid/os/ParcelFileDescriptor;ILandroid/app/backup/IBackupManager;)V
@@ -462,7 +462,7 @@
     :try_start_1c
     invoke-interface {p5, p4}, Landroid/app/backup/IBackupManager;->opComplete(I)V
     :try_end_1f
-    .catch Landroid/os/RemoteException; {:try_start_1c .. :try_end_1f} :catch_83
+    .catch Landroid/os/RemoteException; {:try_start_1c .. :try_end_1f} :catch_85
 
     :goto_1f
     return-void
@@ -525,7 +525,7 @@
     :try_start_54
     invoke-interface {p5, p4}, Landroid/app/backup/IBackupManager;->opComplete(I)V
     :try_end_57
-    .catch Landroid/os/RemoteException; {:try_start_54 .. :try_end_57} :catch_85
+    .catch Landroid/os/RemoteException; {:try_start_54 .. :try_end_57} :catch_83
 
     :goto_57
     throw v4
@@ -577,14 +577,14 @@
     .catchall {:try_start_59 .. :try_end_83} :catchall_50
 
     :catch_83
-    move-exception v4
+    move-exception v5
 
-    goto :goto_1f
+    goto :goto_57
 
     :catch_85
-    move-exception v5
+    move-exception v4
 
-    goto :goto_57
+    goto :goto_1f
 .end method
 
 .method public doRestoreFile(Landroid/os/ParcelFileDescriptor;JILjava/lang/String;Ljava/lang/String;JJILandroid/app/backup/IBackupManager;)V
@@ -632,7 +632,7 @@
 
     invoke-interface {v0, v1}, Landroid/app/backup/IBackupManager;->opComplete(I)V
     :try_end_23
-    .catch Landroid/os/RemoteException; {:try_start_1c .. :try_end_23} :catch_37
+    .catch Landroid/os/RemoteException; {:try_start_1c .. :try_end_23} :catch_39
 
     :goto_23
     return-void
@@ -661,18 +661,18 @@
 
     invoke-interface {v0, v1}, Landroid/app/backup/IBackupManager;->opComplete(I)V
     :try_end_36
-    .catch Landroid/os/RemoteException; {:try_start_2f .. :try_end_36} :catch_39
+    .catch Landroid/os/RemoteException; {:try_start_2f .. :try_end_36} :catch_37
 
     :goto_36
     throw v2
 
     :catch_37
-    move-exception v2
+    move-exception v3
 
-    goto :goto_23
+    goto :goto_36
 
     :catch_39
-    move-exception v3
+    move-exception v2
 
-    goto :goto_36
+    goto :goto_23
 .end method
diff -Npru stock_framework/smali/android/app/backup/RestoreSession.smali pdroid_framework/smali/android/app/backup/RestoreSession.smali
--- stock_framework/smali/android/app/backup/RestoreSession.smali	2012-07-02 22:51:53.018065473 -0700
+++ pdroid_framework/smali/android/app/backup/RestoreSession.smali	2012-07-02 22:52:37.835803639 -0700
@@ -52,12 +52,12 @@
 
     invoke-interface {v1}, Landroid/app/backup/IRestoreSession;->endRestoreSession()V
     :try_end_6
-    .catchall {:try_start_1 .. :try_end_6} :catchall_14
+    .catchall {:try_start_1 .. :try_end_6} :catchall_12
     .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_6} :catch_9
 
+    :goto_6
     iput-object v3, p0, Landroid/app/backup/RestoreSession;->mBinder:Landroid/app/backup/IRestoreSession;
 
-    :goto_8
     return-void
 
     :catch_9
@@ -70,13 +70,11 @@
 
     invoke-static {v1, v2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
     :try_end_11
-    .catchall {:try_start_a .. :try_end_11} :catchall_14
+    .catchall {:try_start_a .. :try_end_11} :catchall_12
 
-    iput-object v3, p0, Landroid/app/backup/RestoreSession;->mBinder:Landroid/app/backup/IRestoreSession;
-
-    goto :goto_8
+    goto :goto_6
 
-    :catchall_14
+    :catchall_12
     move-exception v1
 
     iput-object v3, p0, Landroid/app/backup/RestoreSession;->mBinder:Landroid/app/backup/IRestoreSession;
diff -Npru stock_framework/smali/android/app/ContextImpl$18.smali pdroid_framework/smali/android/app/ContextImpl$18.smali
--- stock_framework/smali/android/app/ContextImpl$18.smali	2012-07-02 22:51:49.662261424 -0700
+++ pdroid_framework/smali/android/app/ContextImpl$18.smali	2012-07-02 22:52:35.786312594 -0700
@@ -26,21 +26,25 @@
 
 # virtual methods
 .method public createStaticService()Ljava/lang/Object;
-    .registers 4
+    .registers 5
 
-    const-string v1, "location"
+    const-string v2, "location"
 
-    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+    invoke-static {v2}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
 
     move-result-object v0
 
-    new-instance v1, Landroid/location/LocationManager;
-
     invoke-static {v0}, Landroid/location/ILocationManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/location/ILocationManager;
 
-    move-result-object v2
+    move-result-object v1
+
+    new-instance v2, Landroid/privacy/surrogate/PrivacyLocationManager;
+
+    invoke-static {}, Landroid/app/ContextImpl;->getStaticOuterContext()Landroid/content/Context;
+
+    move-result-object v3
 
-    invoke-direct {v1, v2}, Landroid/location/LocationManager;-><init>(Landroid/location/ILocationManager;)V
+    invoke-direct {v2, v1, v3}, Landroid/privacy/surrogate/PrivacyLocationManager;-><init>(Landroid/location/ILocationManager;Landroid/content/Context;)V
 
-    return-object v1
+    return-object v2
 .end method
diff -Npru stock_framework/smali/android/app/ContextImpl$26.smali pdroid_framework/smali/android/app/ContextImpl$26.smali
--- stock_framework/smali/android/app/ContextImpl$26.smali	2012-07-02 22:51:49.665262141 -0700
+++ pdroid_framework/smali/android/app/ContextImpl$26.smali	2012-07-02 22:52:35.788313074 -0700
@@ -28,13 +28,13 @@
 .method public createService(Landroid/app/ContextImpl;)Ljava/lang/Object;
     .registers 4
 
-    new-instance v0, Landroid/telephony/TelephonyManager;
+    new-instance v0, Landroid/privacy/surrogate/PrivacyTelephonyManager;
 
     invoke-virtual {p1}, Landroid/app/ContextImpl;->getOuterContext()Landroid/content/Context;
 
     move-result-object v1
 
-    invoke-direct {v0, v1}, Landroid/telephony/TelephonyManager;-><init>(Landroid/content/Context;)V
+    invoke-direct {v0, v1}, Landroid/privacy/surrogate/PrivacyTelephonyManager;-><init>(Landroid/content/Context;)V
 
     return-object v0
 .end method
diff -Npru stock_framework/smali/android/app/ContextImpl$36.smali pdroid_framework/smali/android/app/ContextImpl$36.smali
--- stock_framework/smali/android/app/ContextImpl$36.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid_framework/smali/android/app/ContextImpl$36.smali	2012-07-02 22:52:35.792314032 -0700
@@ -0,0 +1,50 @@
+.class final Landroid/app/ContextImpl$36;
+.super Landroid/app/ContextImpl$StaticServiceFetcher;
+.source "ContextImpl.java"
+
+
+# annotations
+.annotation system Ldalvik/annotation/EnclosingClass;
+    value = Landroid/app/ContextImpl;
+.end annotation
+
+.annotation system Ldalvik/annotation/InnerClass;
+    accessFlags = 0x8
+    name = null
+.end annotation
+
+
+# direct methods
+.method constructor <init>()V
+    .registers 1
+
+    invoke-direct {p0}, Landroid/app/ContextImpl$StaticServiceFetcher;-><init>()V
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public createStaticService()Ljava/lang/Object;
+    .registers 5
+
+    const-string/jumbo v2, "privacy"
+
+    invoke-static {v2}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v0
+
+    invoke-static {v0}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    new-instance v2, Landroid/privacy/PrivacySettingsManager;
+
+    invoke-static {}, Landroid/app/ContextImpl;->getStaticOuterContext()Landroid/content/Context;
+
+    move-result-object v3
+
+    invoke-direct {v2, v3, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    return-object v2
+.end method
diff -Npru stock_framework/smali/android/app/ContextImpl$3.smali pdroid_framework/smali/android/app/ContextImpl$3.smali
--- stock_framework/smali/android/app/ContextImpl$3.smali	2012-07-02 22:51:51.620730671 -0700
+++ pdroid_framework/smali/android/app/ContextImpl$3.smali	2012-07-02 22:52:35.792314032 -0700
@@ -38,9 +38,9 @@
 
     move-result-object v1
 
-    new-instance v2, Landroid/accounts/AccountManager;
+    new-instance v2, Landroid/privacy/surrogate/PrivacyAccountManager;
 
-    invoke-direct {v2, p1, v1}, Landroid/accounts/AccountManager;-><init>(Landroid/content/Context;Landroid/accounts/IAccountManager;)V
+    invoke-direct {v2, p1, v1}, Landroid/privacy/surrogate/PrivacyAccountManager;-><init>(Landroid/content/Context;Landroid/accounts/IAccountManager;)V
 
     return-object v2
 .end method
diff -Npru stock_framework/smali/android/app/ContextImpl.smali pdroid_framework/smali/android/app/ContextImpl.smali
--- stock_framework/smali/android/app/ContextImpl.smali	2012-07-02 22:51:51.677744331 -0700
+++ pdroid_framework/smali/android/app/ContextImpl.smali	2012-07-02 22:52:35.887336797 -0700
@@ -36,6 +36,8 @@
 
 .field private static sNextPerContextServiceCacheIndex:I
 
+.field private static sOuterContext:Landroid/content/Context;
+
 .field private static final sSharedPrefs:Ljava/util/HashMap;
     .annotation system Ldalvik/annotation/Signature;
         value = {
@@ -410,6 +412,14 @@
 
     invoke-static {v0, v1}, Landroid/app/ContextImpl;->registerService(Ljava/lang/String;Landroid/app/ContextImpl$ServiceFetcher;)V
 
+    const-string/jumbo v0, "privacy"
+
+    new-instance v1, Landroid/app/ContextImpl$36;
+
+    invoke-direct {v1}, Landroid/app/ContextImpl$36;-><init>()V
+
+    invoke-static {v0, v1}, Landroid/app/ContextImpl;->registerService(Ljava/lang/String;Landroid/app/ContextImpl$ServiceFetcher;)V
+
     return-void
 .end method
 
@@ -444,6 +454,8 @@
 
     iput-object p0, p0, Landroid/app/ContextImpl;->mOuterContext:Landroid/content/Context;
 
+    sput-object p0, Landroid/app/ContextImpl;->sOuterContext:Landroid/content/Context;
+
     return-void
 .end method
 
@@ -498,6 +510,8 @@
 
     iput-object p0, p0, Landroid/app/ContextImpl;->mOuterContext:Landroid/content/Context;
 
+    sput-object p0, Landroid/app/ContextImpl;->sOuterContext:Landroid/content/Context;
+
     return-void
 .end method
 
@@ -967,6 +981,14 @@
     throw v0
 .end method
 
+.method static final getStaticOuterContext()Landroid/content/Context;
+    .registers 1
+
+    sget-object v0, Landroid/app/ContextImpl;->sOuterContext:Landroid/content/Context;
+
+    return-object v0
+.end method
+
 .method private getWallpaperManager()Landroid/app/WallpaperManager;
     .registers 2
 
@@ -4132,6 +4154,8 @@
 
     iput-object p1, p0, Landroid/app/ContextImpl;->mOuterContext:Landroid/content/Context;
 
+    sput-object p1, Landroid/app/ContextImpl;->sOuterContext:Landroid/content/Context;
+
     return-void
 .end method
 
diff -Npru stock_framework/smali/android/app/DownloadManager.smali pdroid_framework/smali/android/app/DownloadManager.smali
--- stock_framework/smali/android/app/DownloadManager.smali	2012-07-02 22:51:51.767765902 -0700
+++ pdroid_framework/smali/android/app/DownloadManager.smali	2012-07-02 22:52:36.019368431 -0700
@@ -618,7 +618,7 @@
     :try_start_11
     invoke-virtual {p0, v1}, Landroid/app/DownloadManager;->query(Landroid/app/DownloadManager$Query;)Landroid/database/Cursor;
     :try_end_14
-    .catchall {:try_start_11 .. :try_end_14} :catchall_3a
+    .catchall {:try_start_11 .. :try_end_14} :catchall_31
 
     move-result-object v0
 
@@ -626,10 +626,10 @@
 
     if-eqz v0, :cond_1c
 
+    :goto_19
     invoke-interface {v0}, Landroid/database/Cursor;->close()V
 
     :cond_1c
-    :goto_1c
     return-object v2
 
     :cond_1d
@@ -638,7 +638,7 @@
 
     move-result v3
 
-    if-eqz v3, :cond_34
+    if-eqz v3, :cond_38
 
     const-string/jumbo v2, "media_type"
 
@@ -648,32 +648,28 @@
 
     invoke-interface {v0, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
     :try_end_2d
-    .catchall {:try_start_1d .. :try_end_2d} :catchall_3a
+    .catchall {:try_start_1d .. :try_end_2d} :catchall_31
 
     move-result-object v2
 
     if-eqz v0, :cond_1c
 
-    invoke-interface {v0}, Landroid/database/Cursor;->close()V
-
-    goto :goto_1c
-
-    :cond_34
-    if-eqz v0, :cond_1c
-
-    invoke-interface {v0}, Landroid/database/Cursor;->close()V
-
-    goto :goto_1c
+    goto :goto_19
 
-    :catchall_3a
+    :catchall_31
     move-exception v2
 
-    if-eqz v0, :cond_40
+    if-eqz v0, :cond_37
 
     invoke-interface {v0}, Landroid/database/Cursor;->close()V
 
-    :cond_40
+    :cond_37
     throw v2
+
+    :cond_38
+    if-eqz v0, :cond_1c
+
+    goto :goto_19
 .end method
 
 .method public getUriForDownloadedFile(J)Landroid/net/Uri;
@@ -702,7 +698,7 @@
     :try_start_11
     invoke-virtual {p0, v4}, Landroid/app/DownloadManager;->query(Landroid/app/DownloadManager$Query;)Landroid/database/Cursor;
     :try_end_14
-    .catchall {:try_start_11 .. :try_end_14} :catchall_72
+    .catchall {:try_start_11 .. :try_end_14} :catchall_66
 
     move-result-object v0
 
@@ -710,10 +706,10 @@
 
     if-eqz v0, :cond_1c
 
+    :goto_19
     invoke-interface {v0}, Landroid/database/Cursor;->close()V
 
     :cond_1c
-    :goto_1c
     return-object v6
 
     :cond_1d
@@ -722,7 +718,7 @@
 
     move-result v7
 
-    if-eqz v7, :cond_6c
+    if-eqz v7, :cond_6d
 
     const-string/jumbo v7, "status"
 
@@ -736,7 +732,7 @@
 
     const/16 v7, 0x8
 
-    if-ne v7, v5, :cond_6c
+    if-ne v7, v5, :cond_6d
 
     const-string v6, "destination"
 
@@ -760,25 +756,20 @@
 
     const/4 v6, 0x2
 
-    if-ne v1, v6, :cond_53
+    if-ne v1, v6, :cond_50
 
     :cond_47
     sget-object v6, Landroid/provider/Downloads$Impl;->CONTENT_URI:Landroid/net/Uri;
 
     invoke-static {v6, p1, p2}, Landroid/content/ContentUris;->withAppendedId(Landroid/net/Uri;J)Landroid/net/Uri;
-    :try_end_4c
-    .catchall {:try_start_1d .. :try_end_4c} :catchall_72
 
     move-result-object v6
 
     if-eqz v0, :cond_1c
 
-    invoke-interface {v0}, Landroid/database/Cursor;->close()V
-
-    goto :goto_1c
+    goto :goto_19
 
-    :cond_53
-    :try_start_53
+    :cond_50
     const-string v6, "local_filename"
 
     invoke-interface {v0, v6}, Landroid/database/Cursor;->getColumnIndexOrThrow(Ljava/lang/String;)I
@@ -794,33 +785,29 @@
     invoke-direct {v6, v3}, Ljava/io/File;-><init>(Ljava/lang/String;)V
 
     invoke-static {v6}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;
-    :try_end_65
-    .catchall {:try_start_53 .. :try_end_65} :catchall_72
+    :try_end_62
+    .catchall {:try_start_1d .. :try_end_62} :catchall_66
 
     move-result-object v6
 
     if-eqz v0, :cond_1c
 
-    invoke-interface {v0}, Landroid/database/Cursor;->close()V
-
-    goto :goto_1c
-
-    :cond_6c
-    if-eqz v0, :cond_1c
-
-    invoke-interface {v0}, Landroid/database/Cursor;->close()V
-
-    goto :goto_1c
+    goto :goto_19
 
-    :catchall_72
+    :catchall_66
     move-exception v6
 
-    if-eqz v0, :cond_78
+    if-eqz v0, :cond_6c
 
     invoke-interface {v0}, Landroid/database/Cursor;->close()V
 
-    :cond_78
+    :cond_6c
     throw v6
+
+    :cond_6d
+    if-eqz v0, :cond_1c
+
+    goto :goto_19
 .end method
 
 .method public varargs markRowDeleted([J)I
diff -Npru stock_framework/smali/android/app/WallpaperManager$Globals.smali pdroid_framework/smali/android/app/WallpaperManager$Globals.smali
--- stock_framework/smali/android/app/WallpaperManager$Globals.smali	2012-07-02 22:51:52.861027847 -0700
+++ pdroid_framework/smali/android/app/WallpaperManager$Globals.smali	2012-07-02 22:52:37.685767691 -0700
@@ -140,7 +140,7 @@
     :try_start_2f
     invoke-virtual {v2}, Landroid/os/ParcelFileDescriptor;->close()V
     :try_end_32
-    .catch Ljava/io/IOException; {:try_start_2f .. :try_end_32} :catch_49
+    .catch Ljava/io/IOException; {:try_start_2f .. :try_end_32} :catch_4d
     .catch Landroid/os/RemoteException; {:try_start_2f .. :try_end_32} :catch_47
 
     :goto_32
@@ -178,7 +178,7 @@
     :try_start_43
     invoke-virtual {v2}, Landroid/os/ParcelFileDescriptor;->close()V
     :try_end_46
-    .catch Ljava/io/IOException; {:try_start_43 .. :try_end_46} :catch_4d
+    .catch Ljava/io/IOException; {:try_start_43 .. :try_end_46} :catch_49
     .catch Landroid/os/RemoteException; {:try_start_43 .. :try_end_46} :catch_47
 
     :goto_46
@@ -193,9 +193,9 @@
     goto :goto_40
 
     :catch_49
-    move-exception v8
+    move-exception v9
 
-    goto :goto_32
+    goto :goto_46
 
     :catch_4b
     move-exception v7
@@ -203,9 +203,9 @@
     goto :goto_40
 
     :catch_4d
-    move-exception v9
+    move-exception v8
 
-    goto :goto_46
+    goto :goto_32
 .end method
 
 .method private getDefaultWallpaperLocked(Landroid/content/Context;)Landroid/graphics/Bitmap;
@@ -261,7 +261,7 @@
     :try_start_28
     invoke-virtual {v3}, Ljava/io/InputStream;->close()V
     :try_end_2b
-    .catch Ljava/io/IOException; {:try_start_28 .. :try_end_2b} :catch_42
+    .catch Ljava/io/IOException; {:try_start_28 .. :try_end_2b} :catch_46
     .catch Landroid/os/RemoteException; {:try_start_28 .. :try_end_2b} :catch_40
 
     :goto_2b
@@ -299,7 +299,7 @@
     :try_start_3c
     invoke-virtual {v3}, Ljava/io/InputStream;->close()V
     :try_end_3f
-    .catch Ljava/io/IOException; {:try_start_3c .. :try_end_3f} :catch_46
+    .catch Ljava/io/IOException; {:try_start_3c .. :try_end_3f} :catch_42
     .catch Landroid/os/RemoteException; {:try_start_3c .. :try_end_3f} :catch_40
 
     :goto_3f
@@ -314,9 +314,9 @@
     goto :goto_39
 
     :catch_42
-    move-exception v7
+    move-exception v8
 
-    goto :goto_2b
+    goto :goto_3f
 
     :catch_44
     move-exception v6
@@ -324,9 +324,9 @@
     goto :goto_39
 
     :catch_46
-    move-exception v8
+    move-exception v7
 
-    goto :goto_3f
+    goto :goto_2b
 .end method
 
 
diff -Npru stock_framework/smali/android/bluetooth/BluetoothSocket.smali pdroid_framework/smali/android/bluetooth/BluetoothSocket.smali
--- stock_framework/smali/android/bluetooth/BluetoothSocket.smali	2012-07-02 22:51:53.212111966 -0700
+++ pdroid_framework/smali/android/bluetooth/BluetoothSocket.smali	2012-07-02 22:52:38.061857800 -0700
@@ -445,7 +445,7 @@
 
     sget-object v1, Landroid/bluetooth/BluetoothSocket$SocketState;->CLOSED:Landroid/bluetooth/BluetoothSocket$SocketState;
     :try_end_d
-    .catchall {:try_start_9 .. :try_end_d} :catchall_29
+    .catchall {:try_start_9 .. :try_end_d} :catchall_26
 
     if-ne v0, v1, :cond_1b
 
@@ -457,16 +457,16 @@
 
     move-result-object v1
 
+    :goto_17
     invoke-virtual {v1}, Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;->unlock()V
 
-    :goto_1a
     return v0
 
     :cond_1b
     :try_start_1b
     invoke-direct {p0}, Landroid/bluetooth/BluetoothSocket;->bindListenNative()I
     :try_end_1e
-    .catchall {:try_start_1b .. :try_end_1e} :catchall_29
+    .catchall {:try_start_1b .. :try_end_1e} :catchall_26
 
     move-result v0
 
@@ -476,11 +476,9 @@
 
     move-result-object v1
 
-    invoke-virtual {v1}, Ljava/util/concurrent/locks/ReentrantReadWriteLock$ReadLock;->unlock()V
-
-    goto :goto_1a
+    goto :goto_17
 
-    :catchall_29
+    :catchall_26
     move-exception v0
 
     iget-object v1, p0, Landroid/bluetooth/BluetoothSocket;->mLock:Ljava/util/concurrent/locks/ReentrantReadWriteLock;
diff -Npru stock_framework/smali/android/content/AbstractThreadedSyncAdapter$SyncThread.smali pdroid_framework/smali/android/content/AbstractThreadedSyncAdapter$SyncThread.smali
--- stock_framework/smali/android/content/AbstractThreadedSyncAdapter$SyncThread.smali	2012-07-02 22:51:53.308134974 -0700
+++ pdroid_framework/smali/android/content/AbstractThreadedSyncAdapter$SyncThread.smali	2012-07-02 22:52:38.176885360 -0700
@@ -102,11 +102,11 @@
     :try_start_b
     invoke-direct {p0}, Landroid/content/AbstractThreadedSyncAdapter$SyncThread;->isCanceled()Z
     :try_end_e
-    .catchall {:try_start_b .. :try_end_e} :catchall_80
+    .catchall {:try_start_b .. :try_end_e} :catchall_7d
 
     move-result v0
 
-    if-eqz v0, :cond_38
+    if-eqz v0, :cond_35
 
     if-eqz v4, :cond_16
 
@@ -146,21 +146,14 @@
     invoke-virtual {v0, v2}, Ljava/util/HashMap;->remove(Ljava/lang/Object;)Ljava/lang/Object;
 
     monitor-exit v1
+    :try_end_34
+    .catchall {:try_start_28 .. :try_end_34} :catchall_a5
 
     :goto_34
     return-void
 
-    :catchall_35
-    move-exception v0
-
-    monitor-exit v1
-    :try_end_37
-    .catchall {:try_start_28 .. :try_end_37} :catchall_35
-
-    throw v0
-
-    :cond_38
-    :try_start_38
+    :cond_35
+    :try_start_35
     iget-object v0, p0, Landroid/content/AbstractThreadedSyncAdapter$SyncThread;->this$0:Landroid/content/AbstractThreadedSyncAdapter;
 
     #getter for: Landroid/content/AbstractThreadedSyncAdapter;->mContext:Landroid/content/Context;
@@ -178,7 +171,7 @@
 
     move-result-object v4
 
-    if-eqz v4, :cond_7c
+    if-eqz v4, :cond_79
 
     iget-object v0, p0, Landroid/content/AbstractThreadedSyncAdapter$SyncThread;->this$0:Landroid/content/AbstractThreadedSyncAdapter;
 
@@ -189,26 +182,26 @@
     iget-object v3, p0, Landroid/content/AbstractThreadedSyncAdapter$SyncThread;->mAuthority:Ljava/lang/String;
 
     invoke-virtual/range {v0 .. v5}, Landroid/content/AbstractThreadedSyncAdapter;->onPerformSync(Landroid/accounts/Account;Landroid/os/Bundle;Ljava/lang/String;Landroid/content/ContentProviderClient;Landroid/content/SyncResult;)V
-    :try_end_55
-    .catchall {:try_start_38 .. :try_end_55} :catchall_80
+    :try_end_52
+    .catchall {:try_start_35 .. :try_end_52} :catchall_7d
 
-    :goto_55
-    if-eqz v4, :cond_5a
+    :goto_52
+    if-eqz v4, :cond_57
 
     invoke-virtual {v4}, Landroid/content/ContentProviderClient;->release()Z
 
-    :cond_5a
+    :cond_57
     invoke-direct {p0}, Landroid/content/AbstractThreadedSyncAdapter$SyncThread;->isCanceled()Z
 
     move-result v0
 
-    if-nez v0, :cond_65
+    if-nez v0, :cond_62
 
     iget-object v0, p0, Landroid/content/AbstractThreadedSyncAdapter$SyncThread;->mSyncContext:Landroid/content/SyncContext;
 
     invoke-virtual {v0, v5}, Landroid/content/SyncContext;->onFinished(Landroid/content/SyncResult;)V
 
-    :cond_65
+    :cond_62
     iget-object v0, p0, Landroid/content/AbstractThreadedSyncAdapter$SyncThread;->this$0:Landroid/content/AbstractThreadedSyncAdapter;
 
     #getter for: Landroid/content/AbstractThreadedSyncAdapter;->mSyncThreadLock:Ljava/lang/Object;
@@ -218,7 +211,7 @@
 
     monitor-enter v1
 
-    :try_start_6c
+    :try_start_69
     iget-object v0, p0, Landroid/content/AbstractThreadedSyncAdapter$SyncThread;->this$0:Landroid/content/AbstractThreadedSyncAdapter;
 
     #getter for: Landroid/content/AbstractThreadedSyncAdapter;->mSyncThreads:Ljava/util/HashMap;
@@ -234,44 +227,44 @@
 
     goto :goto_34
 
-    :catchall_79
+    :catchall_76
     move-exception v0
 
     monitor-exit v1
-    :try_end_7b
-    .catchall {:try_start_6c .. :try_end_7b} :catchall_79
+    :try_end_78
+    .catchall {:try_start_69 .. :try_end_78} :catchall_76
 
     throw v0
 
-    :cond_7c
+    :cond_79
     const/4 v0, 0x1
 
-    :try_start_7d
+    :try_start_7a
     iput-boolean v0, v5, Landroid/content/SyncResult;->databaseError:Z
-    :try_end_7f
-    .catchall {:try_start_7d .. :try_end_7f} :catchall_80
+    :try_end_7c
+    .catchall {:try_start_7a .. :try_end_7c} :catchall_7d
 
-    goto :goto_55
+    goto :goto_52
 
-    :catchall_80
+    :catchall_7d
     move-exception v0
 
-    if-eqz v4, :cond_86
+    if-eqz v4, :cond_83
 
     invoke-virtual {v4}, Landroid/content/ContentProviderClient;->release()Z
 
-    :cond_86
+    :cond_83
     invoke-direct {p0}, Landroid/content/AbstractThreadedSyncAdapter$SyncThread;->isCanceled()Z
 
     move-result v1
 
-    if-nez v1, :cond_91
+    if-nez v1, :cond_8e
 
     iget-object v1, p0, Landroid/content/AbstractThreadedSyncAdapter$SyncThread;->mSyncContext:Landroid/content/SyncContext;
 
     invoke-virtual {v1, v5}, Landroid/content/SyncContext;->onFinished(Landroid/content/SyncResult;)V
 
-    :cond_91
+    :cond_8e
     iget-object v1, p0, Landroid/content/AbstractThreadedSyncAdapter$SyncThread;->this$0:Landroid/content/AbstractThreadedSyncAdapter;
 
     #getter for: Landroid/content/AbstractThreadedSyncAdapter;->mSyncThreadLock:Ljava/lang/Object;
@@ -281,7 +274,7 @@
 
     monitor-enter v1
 
-    :try_start_98
+    :try_start_95
     iget-object v2, p0, Landroid/content/AbstractThreadedSyncAdapter$SyncThread;->this$0:Landroid/content/AbstractThreadedSyncAdapter;
 
     #getter for: Landroid/content/AbstractThreadedSyncAdapter;->mSyncThreads:Ljava/util/HashMap;
@@ -294,8 +287,18 @@
     invoke-virtual {v2, v3}, Ljava/util/HashMap;->remove(Ljava/lang/Object;)Ljava/lang/Object;
 
     monitor-exit v1
+    :try_end_a1
+    .catchall {:try_start_95 .. :try_end_a1} :catchall_a2
+
+    throw v0
+
+    :catchall_a2
+    move-exception v0
+
+    :try_start_a3
+    monitor-exit v1
     :try_end_a4
-    .catchall {:try_start_98 .. :try_end_a4} :catchall_a5
+    .catchall {:try_start_a3 .. :try_end_a4} :catchall_a2
 
     throw v0
 
diff -Npru stock_framework/smali/android/content/ContentResolver.smali pdroid_framework/smali/android/content/ContentResolver.smali
--- stock_framework/smali/android/content/ContentResolver.smali	2012-07-02 22:51:51.627732350 -0700
+++ pdroid_framework/smali/android/content/ContentResolver.smali	2012-07-02 22:52:35.825321939 -0700
@@ -1662,12 +1662,12 @@
 
     invoke-direct/range {v0 .. v5}, Landroid/content/ContentResolver;->maybeLogUpdateToEventLog(JLandroid/net/Uri;Ljava/lang/String;Ljava/lang/String;)V
     :try_end_35
-    .catchall {:try_start_1f .. :try_end_35} :catchall_3f
+    .catchall {:try_start_1f .. :try_end_35} :catchall_3c
     .catch Landroid/os/RemoteException; {:try_start_1f .. :try_end_35} :catch_39
 
+    :goto_35
     invoke-virtual {p0, v7}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
-    :goto_38
     return v8
 
     :catch_39
@@ -1675,11 +1675,9 @@
 
     const/4 v8, 0x0
 
-    invoke-virtual {p0, v7}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
-
-    goto :goto_38
+    goto :goto_35
 
-    :catchall_3f
+    :catchall_3c
     move-exception v0
 
     invoke-virtual {p0, v7}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
@@ -1746,14 +1744,14 @@
     :try_start_35
     invoke-interface {v1, p2, p3, p4}, Landroid/content/IContentProvider;->call(Ljava/lang/String;Ljava/lang/String;Landroid/os/Bundle;)Landroid/os/Bundle;
     :try_end_38
-    .catchall {:try_start_35 .. :try_end_38} :catchall_43
+    .catchall {:try_start_35 .. :try_end_38} :catchall_40
     .catch Landroid/os/RemoteException; {:try_start_35 .. :try_end_38} :catch_3d
 
     move-result-object v2
 
+    :goto_39
     invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
-    :goto_3c
     return-object v2
 
     :catch_3d
@@ -1761,11 +1759,9 @@
 
     const/4 v2, 0x0
 
-    invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
-
-    goto :goto_3c
+    goto :goto_39
 
-    :catchall_43
+    :catchall_40
     move-exception v2
 
     invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
@@ -1856,12 +1852,12 @@
 
     invoke-direct/range {v0 .. v5}, Landroid/content/ContentResolver;->maybeLogUpdateToEventLog(JLandroid/net/Uri;Ljava/lang/String;Ljava/lang/String;)V
     :try_end_35
-    .catchall {:try_start_1f .. :try_end_35} :catchall_3f
+    .catchall {:try_start_1f .. :try_end_35} :catchall_3c
     .catch Landroid/os/RemoteException; {:try_start_1f .. :try_end_35} :catch_39
 
+    :goto_35
     invoke-virtual {p0, v7}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
-    :goto_38
     return v8
 
     :catch_39
@@ -1869,11 +1865,9 @@
 
     const/4 v8, -0x1
 
-    invoke-virtual {p0, v7}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
-
-    goto :goto_38
+    goto :goto_35
 
-    :catchall_3f
+    :catchall_3c
     move-exception v0
 
     invoke-virtual {p0, v7}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
@@ -2160,11 +2154,12 @@
     :try_start_8
     invoke-interface {v1, p1, p2}, Landroid/content/IContentProvider;->getStreamTypes(Landroid/net/Uri;Ljava/lang/String;)[Ljava/lang/String;
     :try_end_b
-    .catchall {:try_start_8 .. :try_end_b} :catchall_15
+    .catchall {:try_start_8 .. :try_end_b} :catchall_12
     .catch Landroid/os/RemoteException; {:try_start_8 .. :try_end_b} :catch_10
 
     move-result-object v2
 
+    :goto_c
     invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
     goto :goto_7
@@ -2172,11 +2167,9 @@
     :catch_10
     move-exception v0
 
-    invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
+    goto :goto_c
 
-    goto :goto_7
-
-    :catchall_15
+    :catchall_12
     move-exception v2
 
     invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
@@ -2193,17 +2186,18 @@
 
     move-result-object v1
 
-    if-eqz v1, :cond_4a
+    if-eqz v1, :cond_44
 
     :try_start_7
     invoke-interface {v1, p1}, Landroid/content/IContentProvider;->getType(Landroid/net/Uri;)Ljava/lang/String;
     :try_end_a
-    .catchall {:try_start_7 .. :try_end_a} :catchall_45
+    .catchall {:try_start_7 .. :try_end_a} :catchall_3f
     .catch Landroid/os/RemoteException; {:try_start_7 .. :try_end_a} :catch_f
-    .catch Ljava/lang/Exception; {:try_start_7 .. :try_end_a} :catch_14
+    .catch Ljava/lang/Exception; {:try_start_7 .. :try_end_a} :catch_11
 
     move-result-object v2
 
+    :goto_b
     invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
     :cond_e
@@ -2213,14 +2207,12 @@
     :catch_f
     move-exception v0
 
-    invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
-
-    goto :goto_e
+    goto :goto_b
 
-    :catch_14
+    :catch_11
     move-exception v0
 
-    :try_start_15
+    :try_start_12
     const-string v3, "ContentResolver"
 
     new-instance v4, Ljava/lang/StringBuilder;
@@ -2262,21 +2254,19 @@
     move-result-object v4
 
     invoke-static {v3, v4}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
-    :try_end_41
-    .catchall {:try_start_15 .. :try_end_41} :catchall_45
-
-    invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
+    :try_end_3e
+    .catchall {:try_start_12 .. :try_end_3e} :catchall_3f
 
-    goto :goto_e
+    goto :goto_b
 
-    :catchall_45
+    :catchall_3f
     move-exception v3
 
     invoke-virtual {p0, v1}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
     throw v3
 
-    :cond_4a
+    :cond_44
     const-string v3, "content"
 
     invoke-virtual {p1}, Landroid/net/Uri;->getScheme()Ljava/lang/String;
@@ -2289,26 +2279,26 @@
 
     if-eqz v3, :cond_e
 
-    :try_start_56
+    :try_start_50
     invoke-static {}, Landroid/app/ActivityManagerNative;->getDefault()Landroid/app/IActivityManager;
 
     move-result-object v3
 
     invoke-interface {v3, p1}, Landroid/app/IActivityManager;->getProviderMimeType(Landroid/net/Uri;)Ljava/lang/String;
-    :try_end_5d
-    .catch Landroid/os/RemoteException; {:try_start_56 .. :try_end_5d} :catch_5f
-    .catch Ljava/lang/Exception; {:try_start_56 .. :try_end_5d} :catch_61
+    :try_end_57
+    .catch Landroid/os/RemoteException; {:try_start_50 .. :try_end_57} :catch_59
+    .catch Ljava/lang/Exception; {:try_start_50 .. :try_end_57} :catch_5b
 
     move-result-object v2
 
     goto :goto_e
 
-    :catch_5f
+    :catch_59
     move-exception v0
 
     goto :goto_e
 
-    :catch_61
+    :catch_5b
     move-exception v0
 
     const-string v3, "ContentResolver"
@@ -2693,9 +2683,9 @@
     :try_start_a8
     invoke-interface {v9, p1, p2}, Landroid/content/IContentProvider;->openAssetFile(Landroid/net/Uri;Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;
     :try_end_ab
-    .catchall {:try_start_a8 .. :try_end_ab} :catchall_ec
-    .catch Landroid/os/RemoteException; {:try_start_a8 .. :try_end_ab} :catch_d2
-    .catch Ljava/io/FileNotFoundException; {:try_start_a8 .. :try_end_ab} :catch_f3
+    .catchall {:try_start_a8 .. :try_end_ab} :catchall_e8
+    .catch Landroid/os/RemoteException; {:try_start_a8 .. :try_end_ab} :catch_ce
+    .catch Ljava/io/FileNotFoundException; {:try_start_a8 .. :try_end_ab} :catch_ef
 
     move-result-object v8
 
@@ -2703,6 +2693,7 @@
 
     if-eqz v9, :cond_3b
 
+    :goto_b0
     invoke-virtual {p0, v9}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
     goto :goto_3b
@@ -2731,20 +2722,18 @@
 
     invoke-direct/range {v0 .. v5}, Landroid/content/res/AssetFileDescriptor;-><init>(Landroid/os/ParcelFileDescriptor;JJ)V
     :try_end_cb
-    .catchall {:try_start_b4 .. :try_end_cb} :catchall_ec
-    .catch Landroid/os/RemoteException; {:try_start_b4 .. :try_end_cb} :catch_d2
-    .catch Ljava/io/FileNotFoundException; {:try_start_b4 .. :try_end_cb} :catch_f3
+    .catchall {:try_start_b4 .. :try_end_cb} :catchall_e8
+    .catch Landroid/os/RemoteException; {:try_start_b4 .. :try_end_cb} :catch_ce
+    .catch Ljava/io/FileNotFoundException; {:try_start_b4 .. :try_end_cb} :catch_ef
 
     if-eqz v9, :cond_3b
 
-    invoke-virtual {p0, v9}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
-
-    goto/16 :goto_3b
+    goto :goto_b0
 
-    :catch_d2
+    :catch_ce
     move-exception v6
 
-    :try_start_d3
+    :try_start_cf
     new-instance v0, Ljava/io/FileNotFoundException;
 
     new-instance v2, Ljava/lang/StringBuilder;
@@ -2768,26 +2757,26 @@
     invoke-direct {v0, v2}, Ljava/io/FileNotFoundException;-><init>(Ljava/lang/String;)V
 
     throw v0
-    :try_end_ec
-    .catchall {:try_start_d3 .. :try_end_ec} :catchall_ec
+    :try_end_e8
+    .catchall {:try_start_cf .. :try_end_e8} :catchall_e8
 
-    :catchall_ec
+    :catchall_e8
     move-exception v0
 
-    if-eqz v9, :cond_f2
+    if-eqz v9, :cond_ee
 
     invoke-virtual {p0, v9}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
-    :cond_f2
+    :cond_ee
     throw v0
 
-    :catch_f3
+    :catch_ef
     move-exception v6
 
-    :try_start_f4
+    :try_start_f0
     throw v6
-    :try_end_f5
-    .catchall {:try_start_f4 .. :try_end_f5} :catchall_ec
+    :try_end_f1
+    .catchall {:try_start_f0 .. :try_end_f1} :catchall_e8
 .end method
 
 .method public final openFileDescriptor(Landroid/net/Uri;Ljava/lang/String;)Landroid/os/ParcelFileDescriptor;
@@ -3069,9 +3058,9 @@
     :try_start_1f
     invoke-interface {v8, p1, p2, p3}, Landroid/content/IContentProvider;->openTypedAssetFile(Landroid/net/Uri;Ljava/lang/String;Landroid/os/Bundle;)Landroid/content/res/AssetFileDescriptor;
     :try_end_22
-    .catchall {:try_start_1f .. :try_end_22} :catchall_63
-    .catch Landroid/os/RemoteException; {:try_start_1f .. :try_end_22} :catch_49
-    .catch Ljava/io/FileNotFoundException; {:try_start_1f .. :try_end_22} :catch_6a
+    .catchall {:try_start_1f .. :try_end_22} :catchall_60
+    .catch Landroid/os/RemoteException; {:try_start_1f .. :try_end_22} :catch_46
+    .catch Ljava/io/FileNotFoundException; {:try_start_1f .. :try_end_22} :catch_67
 
     move-result-object v7
 
@@ -3081,10 +3070,10 @@
 
     if-eqz v8, :cond_2b
 
+    :goto_28
     invoke-virtual {p0, v8}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
     :cond_2b
-    :goto_2b
     return-object v0
 
     :cond_2c
@@ -3111,20 +3100,18 @@
 
     invoke-direct/range {v0 .. v5}, Landroid/content/res/AssetFileDescriptor;-><init>(Landroid/os/ParcelFileDescriptor;JJ)V
     :try_end_43
-    .catchall {:try_start_2c .. :try_end_43} :catchall_63
-    .catch Landroid/os/RemoteException; {:try_start_2c .. :try_end_43} :catch_49
-    .catch Ljava/io/FileNotFoundException; {:try_start_2c .. :try_end_43} :catch_6a
+    .catchall {:try_start_2c .. :try_end_43} :catchall_60
+    .catch Landroid/os/RemoteException; {:try_start_2c .. :try_end_43} :catch_46
+    .catch Ljava/io/FileNotFoundException; {:try_start_2c .. :try_end_43} :catch_67
 
     if-eqz v8, :cond_2b
 
-    invoke-virtual {p0, v8}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
-
-    goto :goto_2b
+    goto :goto_28
 
-    :catch_49
+    :catch_46
     move-exception v6
 
-    :try_start_4a
+    :try_start_47
     new-instance v0, Ljava/io/FileNotFoundException;
 
     new-instance v2, Ljava/lang/StringBuilder;
@@ -3148,26 +3135,26 @@
     invoke-direct {v0, v2}, Ljava/io/FileNotFoundException;-><init>(Ljava/lang/String;)V
 
     throw v0
-    :try_end_63
-    .catchall {:try_start_4a .. :try_end_63} :catchall_63
+    :try_end_60
+    .catchall {:try_start_47 .. :try_end_60} :catchall_60
 
-    :catchall_63
+    :catchall_60
     move-exception v0
 
-    if-eqz v8, :cond_69
+    if-eqz v8, :cond_66
 
     invoke-virtual {p0, v8}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
-    :cond_69
+    :cond_66
     throw v0
 
-    :catch_6a
+    :catch_67
     move-exception v6
 
-    :try_start_6b
+    :try_start_68
     throw v6
-    :try_end_6c
-    .catchall {:try_start_6b .. :try_end_6c} :catchall_63
+    :try_end_69
+    .catchall {:try_start_68 .. :try_end_69} :catchall_60
 .end method
 
 .method public final query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
@@ -3204,7 +3191,13 @@
 
     move-result-object v9
 
-    if-nez v9, :cond_1e
+    iget-object v1, p0, Landroid/content/ContentResolver;->mContext:Landroid/content/Context;
+
+    invoke-static {p1, p2, v1, v9}, Landroid/privacy/surrogate/PrivacyContentResolver;->enforcePrivacyPermission(Landroid/net/Uri;[Ljava/lang/String;Landroid/content/Context;Landroid/database/Cursor;)Landroid/database/Cursor;
+
+    move-result-object v9
+
+    if-nez v9, :cond_24
 
     invoke-virtual {p0, v0}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
@@ -3212,7 +3205,7 @@
 
     goto :goto_7
 
-    :cond_1e
+    :cond_24
     invoke-interface {v9}, Landroid/database/Cursor;->getCount()I
 
     invoke-static {}, Landroid/os/SystemClock;->uptimeMillis()J
@@ -3236,13 +3229,13 @@
     new-instance v1, Landroid/content/ContentResolver$CursorWrapperInner;
 
     invoke-direct {v1, p0, v9, v0}, Landroid/content/ContentResolver$CursorWrapperInner;-><init>(Landroid/content/ContentResolver;Landroid/database/Cursor;Landroid/content/IContentProvider;)V
-    :try_end_35
-    .catch Landroid/os/RemoteException; {:try_start_8 .. :try_end_35} :catch_36
-    .catch Ljava/lang/RuntimeException; {:try_start_8 .. :try_end_35} :catch_3c
+    :try_end_3b
+    .catch Landroid/os/RemoteException; {:try_start_8 .. :try_end_3b} :catch_3c
+    .catch Ljava/lang/RuntimeException; {:try_start_8 .. :try_end_3b} :catch_42
 
     goto :goto_7
 
-    :catch_36
+    :catch_3c
     move-exception v8
 
     invoke-virtual {p0, v0}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
@@ -3251,7 +3244,7 @@
 
     goto :goto_7
 
-    :catch_3c
+    :catch_42
     move-exception v8
 
     invoke-virtual {p0, v0}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
@@ -3424,12 +3417,12 @@
 
     invoke-direct/range {v0 .. v5}, Landroid/content/ContentResolver;->maybeLogUpdateToEventLog(JLandroid/net/Uri;Ljava/lang/String;Ljava/lang/String;)V
     :try_end_36
-    .catchall {:try_start_1f .. :try_end_36} :catchall_40
+    .catchall {:try_start_1f .. :try_end_36} :catchall_3d
     .catch Landroid/os/RemoteException; {:try_start_1f .. :try_end_36} :catch_3a
 
+    :goto_36
     invoke-virtual {p0, v7}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
 
-    :goto_39
     return v8
 
     :catch_3a
@@ -3437,11 +3430,9 @@
 
     const/4 v8, -0x1
 
-    invoke-virtual {p0, v7}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
+    goto :goto_36
 
-    goto :goto_39
-
-    :catchall_40
+    :catchall_3d
     move-exception v0
 
     invoke-virtual {p0, v7}, Landroid/content/ContentResolver;->releaseProvider(Landroid/content/IContentProvider;)Z
diff -Npru stock_framework/smali/android/content/SyncManager$InitializerServiceConnection.smali pdroid_framework/smali/android/content/SyncManager$InitializerServiceConnection.smali
--- stock_framework/smali/android/content/SyncManager$InitializerServiceConnection.smali	2012-07-02 22:51:53.567197045 -0700
+++ pdroid_framework/smali/android/content/SyncManager$InitializerServiceConnection.smali	2012-07-02 22:52:38.507964684 -0700
@@ -139,7 +139,7 @@
 
     invoke-interface {v1, v2, v3}, Landroid/content/ISyncAdapter;->initialize(Landroid/accounts/Account;Ljava/lang/String;)V
     :try_end_43
-    .catchall {:try_start_2 .. :try_end_43} :catchall_80
+    .catchall {:try_start_2 .. :try_end_43} :catchall_7d
     .catch Landroid/os/RemoteException; {:try_start_2 .. :try_end_43} :catch_4e
 
     :cond_43
@@ -149,9 +149,9 @@
 
     invoke-direct {v2, p0}, Landroid/content/SyncManager$InitializerServiceConnection$1;-><init>(Landroid/content/SyncManager$InitializerServiceConnection;)V
 
+    :goto_4a
     invoke-virtual {v1, v2, v4, v5}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z
 
-    :goto_4d
     return-void
 
     :catch_4e
@@ -194,7 +194,7 @@
 
     invoke-static {v1, v2, v0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_75
-    .catchall {:try_start_4f .. :try_end_75} :catchall_80
+    .catchall {:try_start_4f .. :try_end_75} :catchall_7d
 
     iget-object v1, p0, Landroid/content/SyncManager$InitializerServiceConnection;->mHandler:Landroid/os/Handler;
 
@@ -202,11 +202,9 @@
 
     invoke-direct {v2, p0}, Landroid/content/SyncManager$InitializerServiceConnection$1;-><init>(Landroid/content/SyncManager$InitializerServiceConnection;)V
 
-    invoke-virtual {v1, v2, v4, v5}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z
-
-    goto :goto_4d
+    goto :goto_4a
 
-    :catchall_80
+    :catchall_7d
     move-exception v1
 
     iget-object v2, p0, Landroid/content/SyncManager$InitializerServiceConnection;->mHandler:Landroid/os/Handler;
diff -Npru stock_framework/smali/android/content/SyncStorageEngine.smali pdroid_framework/smali/android/content/SyncStorageEngine.smali
--- stock_framework/smali/android/content/SyncStorageEngine.smali	2012-07-02 22:51:53.648216457 -0700
+++ pdroid_framework/smali/android/content/SyncStorageEngine.smali	2012-07-02 22:52:38.645997756 -0700
@@ -487,7 +487,7 @@
     :try_start_18
     invoke-virtual {v2}, Ljava/io/FileOutputStream;->close()V
     :try_end_1b
-    .catch Ljava/io/IOException; {:try_start_18 .. :try_end_1b} :catch_34
+    .catch Ljava/io/IOException; {:try_start_18 .. :try_end_1b} :catch_2d
 
     :goto_1b
     return-void
@@ -529,17 +529,12 @@
     :try_start_30
     invoke-virtual {v2}, Ljava/io/FileOutputStream;->close()V
     :try_end_33
-    .catch Ljava/io/IOException; {:try_start_30 .. :try_end_33} :catch_36
+    .catch Ljava/io/IOException; {:try_start_30 .. :try_end_33} :catch_34
 
     :goto_33
     throw v4
 
     :catch_34
-    move-exception v4
-
-    goto :goto_1b
-
-    :catch_36
     move-exception v5
 
     goto :goto_33
@@ -1750,7 +1745,7 @@
 
     invoke-interface {v9, v14, v15}, Lorg/xmlpull/v1/XmlPullParser;->getAttributeValue(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
     :try_end_43
-    .catchall {:try_start_2 .. :try_end_43} :catchall_12c
+    .catchall {:try_start_2 .. :try_end_43} :catchall_12a
     .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_2 .. :try_end_43} :catch_e6
     .catch Ljava/io/IOException; {:try_start_2 .. :try_end_43} :catch_104
 
@@ -1774,8 +1769,8 @@
 
     iput v14, v0, Landroid/content/SyncStorageEngine;->mNextAuthorityId:I
     :try_end_53
-    .catchall {:try_start_47 .. :try_end_53} :catchall_12c
-    .catch Ljava/lang/NumberFormatException; {:try_start_47 .. :try_end_53} :catch_148
+    .catchall {:try_start_47 .. :try_end_53} :catchall_12a
+    .catch Ljava/lang/NumberFormatException; {:try_start_47 .. :try_end_53} :catch_146
     .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_47 .. :try_end_53} :catch_e6
     .catch Ljava/io/IOException; {:try_start_47 .. :try_end_53} :catch_104
 
@@ -1848,7 +1843,7 @@
     :goto_89
     invoke-interface {v9}, Lorg/xmlpull/v1/XmlPullParser;->next()I
     :try_end_8c
-    .catchall {:try_start_55 .. :try_end_8c} :catchall_12c
+    .catchall {:try_start_55 .. :try_end_8c} :catchall_12a
     .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_55 .. :try_end_8c} :catch_e6
     .catch Ljava/io/IOException; {:try_start_55 .. :try_end_8c} :catch_104
 
@@ -1892,7 +1887,7 @@
     :try_start_a7
     invoke-static {v13}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
     :try_end_aa
-    .catchall {:try_start_a7 .. :try_end_aa} :catchall_12c
+    .catchall {:try_start_a7 .. :try_end_aa} :catchall_12a
     .catch Ljava/lang/NumberFormatException; {:try_start_a7 .. :try_end_aa} :catch_ac
     .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_a7 .. :try_end_aa} :catch_e6
     .catch Ljava/io/IOException; {:try_start_a7 .. :try_end_aa} :catch_104
@@ -1912,8 +1907,8 @@
     :try_start_af
     invoke-static {v8}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
     :try_end_b2
-    .catchall {:try_start_af .. :try_end_b2} :catchall_12c
-    .catch Ljava/lang/NumberFormatException; {:try_start_af .. :try_end_b2} :catch_148
+    .catchall {:try_start_af .. :try_end_b2} :catchall_12a
+    .catch Ljava/lang/NumberFormatException; {:try_start_af .. :try_end_b2} :catch_146
     .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_af .. :try_end_b2} :catch_e6
     .catch Ljava/io/IOException; {:try_start_af .. :try_end_b2} :catch_104
 
@@ -1977,7 +1972,7 @@
 
     invoke-direct {v0, v9, v10}, Landroid/content/SyncStorageEngine;->parseExtra(Lorg/xmlpull/v1/XmlPullParser;Landroid/util/Pair;)V
     :try_end_e5
-    .catchall {:try_start_b6 .. :try_end_e5} :catchall_12c
+    .catchall {:try_start_b6 .. :try_end_e5} :catchall_12a
     .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_b6 .. :try_end_e5} :catch_e6
     .catch Ljava/io/IOException; {:try_start_b6 .. :try_end_e5} :catch_104
 
@@ -1993,7 +1988,7 @@
 
     invoke-static {v14, v15, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_ee
-    .catchall {:try_start_e7 .. :try_end_ee} :catchall_12c
+    .catchall {:try_start_e7 .. :try_end_ee} :catchall_12a
 
     add-int/lit8 v14, v5, 0x1
 
@@ -2026,7 +2021,7 @@
     :catch_104
     move-exception v2
 
-    if-nez v4, :cond_124
+    if-nez v4, :cond_122
 
     :try_start_107
     const-string v14, "SyncManager"
@@ -2035,7 +2030,7 @@
 
     invoke-static {v14, v15}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
     :try_end_10e
-    .catchall {:try_start_107 .. :try_end_10e} :catchall_12c
+    .catchall {:try_start_107 .. :try_end_10e} :catchall_12a
 
     :goto_10e
     add-int/lit8 v14, v5, 0x1
@@ -2057,28 +2052,23 @@
     :try_start_11e
     invoke-virtual {v4}, Ljava/io/FileInputStream;->close()V
     :try_end_121
-    .catch Ljava/io/IOException; {:try_start_11e .. :try_end_121} :catch_122
-
-    goto :goto_a6
-
-    :catch_122
-    move-exception v14
+    .catch Ljava/io/IOException; {:try_start_11e .. :try_end_121} :catch_102
 
     goto :goto_a6
 
-    :cond_124
-    :try_start_124
+    :cond_122
+    :try_start_122
     const-string v14, "SyncManager"
 
     const-string v15, "Error reading accounts"
 
     invoke-static {v14, v15, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_12b
-    .catchall {:try_start_124 .. :try_end_12b} :catchall_12c
+    :try_end_129
+    .catchall {:try_start_122 .. :try_end_129} :catchall_12a
 
     goto :goto_10e
 
-    :catchall_12c
+    :catchall_12a
     move-exception v14
 
     add-int/lit8 v15, v5, 0x1
@@ -2097,28 +2087,28 @@
 
     iput v15, v0, Landroid/content/SyncStorageEngine;->mNextAuthorityId:I
 
-    if-eqz v4, :cond_142
+    if-eqz v4, :cond_140
 
-    :try_start_13f
+    :try_start_13d
     invoke-virtual {v4}, Ljava/io/FileInputStream;->close()V
-    :try_end_142
-    .catch Ljava/io/IOException; {:try_start_13f .. :try_end_142} :catch_146
+    :try_end_140
+    .catch Ljava/io/IOException; {:try_start_13d .. :try_end_140} :catch_141
 
-    :cond_142
-    :goto_142
+    :cond_140
+    :goto_140
     throw v14
 
+    :catch_141
+    move-exception v15
+
+    goto :goto_140
+
     :catch_143
     move-exception v14
 
     goto/16 :goto_a3
 
     :catch_146
-    move-exception v15
-
-    goto :goto_142
-
-    :catch_148
     move-exception v14
 
     goto/16 :goto_53
@@ -3473,14 +3463,14 @@
 
     invoke-virtual {v2}, Landroid/os/Parcel;->readBundle()Landroid/os/Bundle;
     :try_end_10
-    .catchall {:try_start_5 .. :try_end_10} :catchall_1f
+    .catchall {:try_start_5 .. :try_end_10} :catchall_1c
     .catch Ljava/lang/RuntimeException; {:try_start_5 .. :try_end_10} :catch_15
 
     move-result-object v0
 
+    :goto_11
     invoke-virtual {v2}, Landroid/os/Parcel;->recycle()V
 
-    :goto_14
     return-object v0
 
     :catch_15
@@ -3491,13 +3481,11 @@
 
     invoke-direct {v0}, Landroid/os/Bundle;-><init>()V
     :try_end_1b
-    .catchall {:try_start_16 .. :try_end_1b} :catchall_1f
+    .catchall {:try_start_16 .. :try_end_1b} :catchall_1c
 
-    invoke-virtual {v2}, Landroid/os/Parcel;->recycle()V
+    goto :goto_11
 
-    goto :goto_14
-
-    :catchall_1f
+    :catchall_1c
     move-exception v3
 
     invoke-virtual {v2}, Landroid/os/Parcel;->recycle()V
diff -Npru stock_framework/smali/android/database/BulkCursorToCursorAdaptor.smali pdroid_framework/smali/android/database/BulkCursorToCursorAdaptor.smali
--- stock_framework/smali/android/database/BulkCursorToCursorAdaptor.smali	2012-07-02 22:51:53.930284038 -0700
+++ pdroid_framework/smali/android/database/BulkCursorToCursorAdaptor.smali	2012-07-02 22:52:39.150118540 -0700
@@ -105,13 +105,13 @@
 
     invoke-interface {v1}, Landroid/database/IBulkCursor;->close()V
     :try_end_d
-    .catchall {:try_start_8 .. :try_end_d} :catchall_1b
+    .catchall {:try_start_8 .. :try_end_d} :catchall_19
     .catch Landroid/os/RemoteException; {:try_start_8 .. :try_end_d} :catch_10
 
+    :goto_d
     iput-object v3, p0, Landroid/database/BulkCursorToCursorAdaptor;->mBulkCursor:Landroid/database/IBulkCursor;
 
     :cond_f
-    :goto_f
     return-void
 
     :catch_10
@@ -124,13 +124,11 @@
 
     invoke-static {v1, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
     :try_end_18
-    .catchall {:try_start_11 .. :try_end_18} :catchall_1b
+    .catchall {:try_start_11 .. :try_end_18} :catchall_19
 
-    iput-object v3, p0, Landroid/database/BulkCursorToCursorAdaptor;->mBulkCursor:Landroid/database/IBulkCursor;
-
-    goto :goto_f
+    goto :goto_d
 
-    :catchall_1b
+    :catchall_19
     move-exception v1
 
     iput-object v3, p0, Landroid/database/BulkCursorToCursorAdaptor;->mBulkCursor:Landroid/database/IBulkCursor;
diff -Npru stock_framework/smali/android/database/sqlite/SQLiteCursor.smali pdroid_framework/smali/android/database/sqlite/SQLiteCursor.smali
--- stock_framework/smali/android/database/sqlite/SQLiteCursor.smali	2012-07-02 22:51:53.978295542 -0700
+++ pdroid_framework/smali/android/database/sqlite/SQLiteCursor.smali	2012-07-02 22:52:39.243140828 -0700
@@ -116,7 +116,7 @@
     const/4 v2, 0x0
 
     :goto_4a
-    if-ge v2, v0, :cond_66
+    if-ge v2, v0, :cond_6d
 
     iget-object v3, p0, Landroid/database/sqlite/SQLiteCursor;->mQuery:Landroid/database/sqlite/SQLiteQuery;
 
@@ -138,7 +138,7 @@
 
     iput v2, p0, Landroid/database/sqlite/SQLiteCursor;->mRowIdColumnIndex:I
     :try_end_60
-    .catchall {:try_start_3f .. :try_end_60} :catchall_6c
+    .catchall {:try_start_3f .. :try_end_60} :catchall_66
 
     :cond_60
     add-int/lit8 v2, v2, 0x1
@@ -150,14 +150,7 @@
 
     goto :goto_30
 
-    :cond_66
-    iget-object v3, p3, Landroid/database/sqlite/SQLiteQuery;->mDatabase:Landroid/database/sqlite/SQLiteDatabase;
-
-    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->unlock()V
-
-    return-void
-
-    :catchall_6c
+    :catchall_66
     move-exception v3
 
     iget-object v4, p3, Landroid/database/sqlite/SQLiteQuery;->mDatabase:Landroid/database/sqlite/SQLiteDatabase;
@@ -165,6 +158,13 @@
     invoke-virtual {v4}, Landroid/database/sqlite/SQLiteDatabase;->unlock()V
 
     throw v3
+
+    :cond_6d
+    iget-object v3, p3, Landroid/database/sqlite/SQLiteQuery;->mDatabase:Landroid/database/sqlite/SQLiteDatabase;
+
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->unlock()V
+
+    return-void
 .end method
 
 .method public constructor <init>(Landroid/database/sqlite/SQLiteDatabase;Landroid/database/sqlite/SQLiteCursorDriver;Ljava/lang/String;Landroid/database/sqlite/SQLiteQuery;)V
diff -Npru stock_framework/smali/android/database/sqlite/SQLiteDatabase.smali pdroid_framework/smali/android/database/sqlite/SQLiteDatabase.smali
--- stock_framework/smali/android/database/sqlite/SQLiteDatabase.smali	2012-07-02 22:51:53.998300337 -0700
+++ pdroid_framework/smali/android/database/sqlite/SQLiteDatabase.smali	2012-07-02 22:52:39.263145621 -0700
@@ -459,19 +459,19 @@
 
     if-nez v2, :cond_32
 
+    :goto_2f
     invoke-direct {p0}, Landroid/database/sqlite/SQLiteDatabase;->unlockForced()V
 
     :cond_32
-    :goto_32
     return-void
 
     :cond_33
-    if-eqz p2, :cond_58
+    if-eqz p2, :cond_55
 
     :try_start_35
     iget-object v3, p0, Landroid/database/sqlite/SQLiteDatabase;->mConnectionPool:Landroid/database/sqlite/DatabaseConnectionPool;
 
-    if-nez v3, :cond_58
+    if-nez v3, :cond_55
 
     const-string v3, "BEGIN EXCLUSIVE;"
 
@@ -502,26 +502,24 @@
     invoke-interface {p1}, Landroid/database/sqlite/SQLiteTransactionListener;->onBegin()V
     :try_end_51
     .catchall {:try_start_4e .. :try_end_51} :catchall_25
-    .catch Ljava/lang/RuntimeException; {:try_start_4e .. :try_end_51} :catch_5e
+    .catch Ljava/lang/RuntimeException; {:try_start_4e .. :try_end_51} :catch_5b
 
     :cond_51
     const/4 v2, 0x1
 
     if-nez v2, :cond_32
 
-    invoke-direct {p0}, Landroid/database/sqlite/SQLiteDatabase;->unlockForced()V
-
-    goto :goto_32
+    goto :goto_2f
 
-    :cond_58
-    :try_start_58
+    :cond_55
+    :try_start_55
     const-string v3, "BEGIN IMMEDIATE;"
 
     invoke-virtual {p0, v3}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
 
     goto :goto_3e
 
-    :catch_5e
+    :catch_5b
     move-exception v0
 
     const-string v3, "ROLLBACK;"
@@ -529,8 +527,8 @@
     invoke-virtual {p0, v3}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
 
     throw v0
-    :try_end_65
-    .catchall {:try_start_58 .. :try_end_65} :catchall_25
+    :try_end_62
+    .catchall {:try_start_55 .. :try_end_62} :catchall_25
 .end method
 
 .method private checkLockHoldTime()V
@@ -2993,6 +2991,8 @@
 
     if-nez v0, :cond_43
 
+    :cond_3f
+    :goto_3f
     invoke-virtual {p0}, Landroid/database/sqlite/SQLiteDatabase;->unlock()V
 
     goto :goto_7
@@ -3009,7 +3009,7 @@
 
     iget-object v0, p0, Landroid/database/sqlite/SQLiteDatabase;->mConnectionPool:Landroid/database/sqlite/DatabaseConnectionPool;
 
-    if-eqz v0, :cond_7f
+    if-eqz v0, :cond_3f
 
     const-string v0, "SQLiteDatabase"
 
@@ -3063,10 +3063,7 @@
     :try_end_7f
     .catchall {:try_start_6f .. :try_end_7f} :catchall_6a
 
-    :cond_7f
-    invoke-virtual {p0}, Landroid/database/sqlite/SQLiteDatabase;->unlock()V
-
-    goto :goto_7
+    goto :goto_3f
 .end method
 
 .method closeDatabase()V
@@ -3507,13 +3504,13 @@
     :try_start_3
     iget-object v0, p0, Landroid/database/sqlite/SQLiteDatabase;->mConnectionPool:Landroid/database/sqlite/DatabaseConnectionPool;
     :try_end_5
-    .catchall {:try_start_3 .. :try_end_5} :catchall_1e
+    .catchall {:try_start_3 .. :try_end_5} :catchall_1b
 
     if-nez v0, :cond_b
 
+    :goto_7
     invoke-virtual {p0}, Landroid/database/sqlite/SQLiteDatabase;->unlock()V
 
-    :goto_a
     return-void
 
     :cond_b
@@ -3532,13 +3529,11 @@
 
     iput-object v0, p0, Landroid/database/sqlite/SQLiteDatabase;->mConnectionPool:Landroid/database/sqlite/DatabaseConnectionPool;
     :try_end_1a
-    .catchall {:try_start_b .. :try_end_1a} :catchall_1e
+    .catchall {:try_start_b .. :try_end_1a} :catchall_1b
 
-    invoke-virtual {p0}, Landroid/database/sqlite/SQLiteDatabase;->unlock()V
-
-    goto :goto_a
+    goto :goto_7
 
-    :catchall_1e
+    :catchall_1b
     move-exception v0
 
     invoke-virtual {p0}, Landroid/database/sqlite/SQLiteDatabase;->unlock()V
@@ -3568,7 +3563,7 @@
     :try_start_c
     iget-object v2, p0, Landroid/database/sqlite/SQLiteDatabase;->mConnectionPool:Landroid/database/sqlite/DatabaseConnectionPool;
     :try_end_e
-    .catchall {:try_start_c .. :try_end_e} :catchall_6f
+    .catchall {:try_start_c .. :try_end_e} :catchall_59
 
     if-eqz v2, :cond_15
 
@@ -3596,8 +3591,10 @@
 
     invoke-static {v1, v2}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
     :try_end_26
-    .catchall {:try_start_15 .. :try_end_26} :catchall_6f
+    .catchall {:try_start_15 .. :try_end_26} :catchall_59
 
+    :cond_26
+    :goto_26
     invoke-virtual {p0}, Landroid/database/sqlite/SQLiteDatabase;->unlock()V
 
     goto :goto_8
@@ -3606,7 +3603,7 @@
     :try_start_2a
     iget-boolean v2, p0, Landroid/database/sqlite/SQLiteDatabase;->mHasAttachedDbs:Z
 
-    if-eqz v2, :cond_5c
+    if-eqz v2, :cond_5e
 
     const-string v1, "SQLiteDatabase"
 
@@ -3616,7 +3613,7 @@
 
     move-result v1
 
-    if-eqz v1, :cond_58
+    if-eqz v1, :cond_26
 
     const-string v1, "SQLiteDatabase"
 
@@ -3648,15 +3645,19 @@
 
     invoke-static {v1, v2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
     :try_end_58
-    .catchall {:try_start_2a .. :try_end_58} :catchall_6f
+    .catchall {:try_start_2a .. :try_end_58} :catchall_59
+
+    goto :goto_26
+
+    :catchall_59
+    move-exception v0
 
-    :cond_58
     invoke-virtual {p0}, Landroid/database/sqlite/SQLiteDatabase;->unlock()V
 
-    goto :goto_8
+    throw v0
 
-    :cond_5c
-    :try_start_5c
+    :cond_5e
+    :try_start_5e
     new-instance v0, Landroid/database/sqlite/DatabaseConnectionPool;
 
     invoke-direct {v0, p0}, Landroid/database/sqlite/DatabaseConnectionPool;-><init>(Landroid/database/sqlite/SQLiteDatabase;)V
@@ -3668,21 +3669,14 @@
     const-string v2, "WAL"
 
     invoke-direct {p0, v0, v2}, Landroid/database/sqlite/SQLiteDatabase;->setJournalMode(Ljava/lang/String;Ljava/lang/String;)V
-    :try_end_6a
-    .catchall {:try_start_5c .. :try_end_6a} :catchall_6f
+    :try_end_6c
+    .catchall {:try_start_5e .. :try_end_6c} :catchall_59
 
     invoke-virtual {p0}, Landroid/database/sqlite/SQLiteDatabase;->unlock()V
 
     move v0, v1
 
     goto :goto_8
-
-    :catchall_6f
-    move-exception v0
-
-    invoke-virtual {p0}, Landroid/database/sqlite/SQLiteDatabase;->unlock()V
-
-    throw v0
 .end method
 
 .method public endTransaction()V
@@ -3716,9 +3710,9 @@
 
     iput-object v4, p0, Landroid/database/sqlite/SQLiteDatabase;->mTransactionListener:Landroid/database/sqlite/SQLiteTransactionListener;
 
+    :goto_16
     invoke-direct {p0}, Landroid/database/sqlite/SQLiteDatabase;->unlockForced()V
 
-    :goto_19
     return-void
 
     :cond_1a
@@ -3753,21 +3747,21 @@
     :try_start_2a
     iget-boolean v2, p0, Landroid/database/sqlite/SQLiteDatabase;->mTransactionIsSuccessful:Z
 
-    if-eqz v2, :cond_56
+    if-eqz v2, :cond_53
 
     iget-object v2, p0, Landroid/database/sqlite/SQLiteDatabase;->mTransactionListener:Landroid/database/sqlite/SQLiteTransactionListener;
 
     invoke-interface {v2}, Landroid/database/sqlite/SQLiteTransactionListener;->onCommit()V
     :try_end_33
     .catchall {:try_start_2a .. :try_end_33} :catchall_1e
-    .catch Ljava/lang/RuntimeException; {:try_start_2a .. :try_end_33} :catch_5c
+    .catch Ljava/lang/RuntimeException; {:try_start_2a .. :try_end_33} :catch_59
 
     :cond_33
     :goto_33
     :try_start_33
     iget-boolean v2, p0, Landroid/database/sqlite/SQLiteDatabase;->mTransactionIsSuccessful:Z
 
-    if-eqz v2, :cond_62
+    if-eqz v2, :cond_5f
 
     const-string v2, "COMMIT;"
 
@@ -3797,37 +3791,35 @@
     :goto_50
     iput-object v4, p0, Landroid/database/sqlite/SQLiteDatabase;->mTransactionListener:Landroid/database/sqlite/SQLiteTransactionListener;
 
-    invoke-direct {p0}, Landroid/database/sqlite/SQLiteDatabase;->unlockForced()V
-
-    goto :goto_19
+    goto :goto_16
 
-    :cond_56
-    :try_start_56
+    :cond_53
+    :try_start_53
     iget-object v2, p0, Landroid/database/sqlite/SQLiteDatabase;->mTransactionListener:Landroid/database/sqlite/SQLiteTransactionListener;
 
     invoke-interface {v2}, Landroid/database/sqlite/SQLiteTransactionListener;->onRollback()V
-    :try_end_5b
-    .catchall {:try_start_56 .. :try_end_5b} :catchall_1e
-    .catch Ljava/lang/RuntimeException; {:try_start_56 .. :try_end_5b} :catch_5c
+    :try_end_58
+    .catchall {:try_start_53 .. :try_end_58} :catchall_1e
+    .catch Ljava/lang/RuntimeException; {:try_start_53 .. :try_end_58} :catch_59
 
     goto :goto_33
 
-    :catch_5c
+    :catch_59
     move-exception v0
 
     move-object v1, v0
 
     const/4 v2, 0x0
 
-    :try_start_5f
+    :try_start_5c
     iput-boolean v2, p0, Landroid/database/sqlite/SQLiteDatabase;->mTransactionIsSuccessful:Z
-    :try_end_61
-    .catchall {:try_start_5f .. :try_end_61} :catchall_1e
+    :try_end_5e
+    .catchall {:try_start_5c .. :try_end_5e} :catchall_1e
 
     goto :goto_33
 
-    :cond_62
-    :try_start_62
+    :cond_5f
+    :try_start_5f
     const-string v2, "ROLLBACK;"
 
     invoke-virtual {p0, v2}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
@@ -3835,11 +3827,11 @@
     if-eqz v1, :cond_50
 
     throw v1
-    :try_end_6a
-    .catchall {:try_start_62 .. :try_end_6a} :catchall_1e
-    .catch Landroid/database/SQLException; {:try_start_62 .. :try_end_6a} :catch_6a
+    :try_end_67
+    .catchall {:try_start_5f .. :try_end_67} :catchall_1e
+    .catch Landroid/database/SQLException; {:try_start_5f .. :try_end_67} :catch_67
 
-    :catch_6a
+    :catch_67
     move-exception v2
 
     goto :goto_50
@@ -4806,7 +4798,7 @@
 
     move-result v6
 
-    if-nez v6, :cond_af
+    if-nez v6, :cond_b6
 
     const-string v7, "SQLiteDatabase"
 
@@ -4844,7 +4836,7 @@
 
     invoke-static {v7, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
     :try_end_a8
-    .catchall {:try_start_54 .. :try_end_a8} :catchall_b7
+    .catchall {:try_start_54 .. :try_end_a8} :catchall_af
 
     const/4 v6, 0x0
 
@@ -4856,25 +4848,25 @@
     :goto_ae
     return v6
 
-    :cond_af
-    if-eqz v4, :cond_b4
-
-    invoke-virtual {v4}, Landroid/database/sqlite/SQLiteStatement;->close()V
+    :catchall_af
+    move-exception v6
 
-    :cond_b4
-    add-int/lit8 v2, v2, 0x1
+    if-eqz v4, :cond_b5
 
-    goto :goto_47
+    invoke-virtual {v4}, Landroid/database/sqlite/SQLiteStatement;->close()V
 
-    :catchall_b7
-    move-exception v6
+    :cond_b5
+    throw v6
 
-    if-eqz v4, :cond_bd
+    :cond_b6
+    if-eqz v4, :cond_bb
 
     invoke-virtual {v4}, Landroid/database/sqlite/SQLiteStatement;->close()V
 
-    :cond_bd
-    throw v6
+    :cond_bb
+    add-int/lit8 v2, v2, 0x1
+
+    goto :goto_47
 
     :cond_be
     const/4 v6, 0x1
diff -Npru stock_framework/smali/android/database/sqlite/SQLiteStatement.smali pdroid_framework/smali/android/database/sqlite/SQLiteStatement.smali
--- stock_framework/smali/android/database/sqlite/SQLiteStatement.smali	2012-07-02 22:51:54.017304888 -0700
+++ pdroid_framework/smali/android/database/sqlite/SQLiteStatement.smali	2012-07-02 22:52:39.300154488 -0700
@@ -417,13 +417,13 @@
 
     invoke-virtual {v5, v6, v3, v4}, Landroid/database/sqlite/SQLiteDatabase;->logTimeStat(Ljava/lang/String;J)V
     :try_end_10
-    .catchall {:try_start_1 .. :try_end_10} :catchall_3e
+    .catchall {:try_start_1 .. :try_end_10} :catchall_3b
     .catch Ljava/io/IOException; {:try_start_1 .. :try_end_10} :catch_14
-    .catch Landroid/database/sqlite/SQLiteDoneException; {:try_start_1 .. :try_end_10} :catch_22
+    .catch Landroid/database/sqlite/SQLiteDoneException; {:try_start_1 .. :try_end_10} :catch_1f
 
+    :goto_10
     invoke-direct {p0}, Landroid/database/sqlite/SQLiteStatement;->releaseAndUnlock()V
 
-    :goto_13
     return-object v2
 
     :catch_14
@@ -435,19 +435,14 @@
     const-string/jumbo v6, "simpleQueryForBlobFileDescriptor() failed"
 
     invoke-static {v5, v6, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_1d
-    .catchall {:try_start_15 .. :try_end_1d} :catchall_3e
 
     const/4 v2, 0x0
 
-    invoke-direct {p0}, Landroid/database/sqlite/SQLiteStatement;->releaseAndUnlock()V
-
-    goto :goto_13
+    goto :goto_10
 
-    :catch_22
+    :catch_1f
     move-exception v0
 
-    :try_start_23
     new-instance v5, Landroid/database/sqlite/SQLiteDoneException;
 
     new-instance v6, Ljava/lang/StringBuilder;
@@ -473,10 +468,10 @@
     invoke-direct {v5, v6}, Landroid/database/sqlite/SQLiteDoneException;-><init>(Ljava/lang/String;)V
 
     throw v5
-    :try_end_3e
-    .catchall {:try_start_23 .. :try_end_3e} :catchall_3e
+    :try_end_3b
+    .catchall {:try_start_15 .. :try_end_3b} :catchall_3b
 
-    :catchall_3e
+    :catchall_3b
     move-exception v5
 
     invoke-direct {p0}, Landroid/database/sqlite/SQLiteStatement;->releaseAndUnlock()V
diff -Npru stock_framework/smali/android/media/MediaPlayer.smali pdroid_framework/smali/android/media/MediaPlayer.smali
--- stock_framework/smali/android/media/MediaPlayer.smali	2012-07-02 22:51:55.013543586 -0700
+++ pdroid_framework/smali/android/media/MediaPlayer.smali	2012-07-02 22:52:40.488439191 -0700
@@ -985,9 +985,9 @@
 
     invoke-virtual {v7, p2, v0}, Landroid/content/ContentResolver;->openAssetFileDescriptor(Landroid/net/Uri;Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;
     :try_end_21
-    .catchall {:try_start_17 .. :try_end_21} :catchall_6e
-    .catch Ljava/lang/SecurityException; {:try_start_17 .. :try_end_21} :catch_52
-    .catch Ljava/io/IOException; {:try_start_17 .. :try_end_21} :catch_67
+    .catchall {:try_start_17 .. :try_end_21} :catchall_64
+    .catch Ljava/lang/SecurityException; {:try_start_17 .. :try_end_21} :catch_4f
+    .catch Ljava/io/IOException; {:try_start_17 .. :try_end_21} :catch_6b
 
     move-result-object v6
 
@@ -995,6 +995,7 @@
 
     if-eqz v6, :cond_15
 
+    :goto_26
     invoke-virtual {v6}, Landroid/content/res/AssetFileDescriptor;->close()V
 
     goto :goto_15
@@ -1009,27 +1010,20 @@
 
     cmp-long v0, v0, v2
 
-    if-gez v0, :cond_41
+    if-gez v0, :cond_3e
 
     invoke-virtual {v6}, Landroid/content/res/AssetFileDescriptor;->getFileDescriptor()Ljava/io/FileDescriptor;
 
     move-result-object v0
 
     invoke-virtual {p0, v0}, Landroid/media/MediaPlayer;->setDataSource(Ljava/io/FileDescriptor;)V
-    :try_end_3b
-    .catchall {:try_start_2a .. :try_end_3b} :catchall_6e
-    .catch Ljava/lang/SecurityException; {:try_start_2a .. :try_end_3b} :catch_52
-    .catch Ljava/io/IOException; {:try_start_2a .. :try_end_3b} :catch_67
 
     :goto_3b
     if-eqz v6, :cond_15
 
-    invoke-virtual {v6}, Landroid/content/res/AssetFileDescriptor;->close()V
-
-    goto :goto_15
+    goto :goto_26
 
-    :cond_41
-    :try_start_41
+    :cond_3e
     invoke-virtual {v6}, Landroid/content/res/AssetFileDescriptor;->getFileDescriptor()Ljava/io/FileDescriptor;
 
     move-result-object v1
@@ -1045,22 +1039,22 @@
     move-object v0, p0
 
     invoke-virtual/range {v0 .. v5}, Landroid/media/MediaPlayer;->setDataSource(Ljava/io/FileDescriptor;JJ)V
-    :try_end_51
-    .catchall {:try_start_41 .. :try_end_51} :catchall_6e
-    .catch Ljava/lang/SecurityException; {:try_start_41 .. :try_end_51} :catch_52
-    .catch Ljava/io/IOException; {:try_start_41 .. :try_end_51} :catch_67
+    :try_end_4e
+    .catchall {:try_start_2a .. :try_end_4e} :catchall_64
+    .catch Ljava/lang/SecurityException; {:try_start_2a .. :try_end_4e} :catch_4f
+    .catch Ljava/io/IOException; {:try_start_2a .. :try_end_4e} :catch_6b
 
     goto :goto_3b
 
-    :catch_52
+    :catch_4f
     move-exception v0
 
-    if-eqz v6, :cond_58
+    if-eqz v6, :cond_55
 
+    :goto_52
     invoke-virtual {v6}, Landroid/content/res/AssetFileDescriptor;->close()V
 
-    :cond_58
-    :goto_58
+    :cond_55
     const-string v0, "MediaPlayer"
 
     const-string v1, "Couldn\'t open file on client side, trying server side"
@@ -1075,24 +1069,22 @@
 
     goto :goto_15
 
-    :catch_67
+    :catchall_64
     move-exception v0
 
-    if-eqz v6, :cond_58
+    if-eqz v6, :cond_6a
 
     invoke-virtual {v6}, Landroid/content/res/AssetFileDescriptor;->close()V
 
-    goto :goto_58
+    :cond_6a
+    throw v0
 
-    :catchall_6e
+    :catch_6b
     move-exception v0
 
-    if-eqz v6, :cond_74
-
-    invoke-virtual {v6}, Landroid/content/res/AssetFileDescriptor;->close()V
+    if-eqz v6, :cond_55
 
-    :cond_74
-    throw v0
+    goto :goto_52
 .end method
 
 .method public setDataSource(Ljava/io/FileDescriptor;)V
diff -Npru stock_framework/smali/android/net/sip/SipAudioCall.smali pdroid_framework/smali/android/net/sip/SipAudioCall.smali
--- stock_framework/smali/android/net/sip/SipAudioCall.smali	2012-07-02 22:51:55.572677554 -0700
+++ pdroid_framework/smali/android/net/sip/SipAudioCall.smali	2012-07-02 22:52:41.249621565 -0700
@@ -1191,7 +1191,7 @@
 
     iget-object v15, v0, Landroid/net/sip/SipAudioCall;->mPeerSd:Ljava/lang/String;
 
-    if-nez v15, :cond_1a
+    if-nez v15, :cond_1b
 
     sget-object v15, Landroid/net/sip/SipAudioCall;->TAG:Ljava/lang/String;
 
@@ -1201,25 +1201,25 @@
 
     new-instance v15, Ljava/lang/IllegalStateException;
 
-    const-string v16, "mPeerSd = null"
+    const-string/jumbo v16, "mPeerSd = null"
 
     invoke-direct/range {v15 .. v16}, Ljava/lang/IllegalStateException;-><init>(Ljava/lang/String;)V
 
     throw v15
-    :try_end_17
-    .catchall {:try_start_1 .. :try_end_17} :catchall_17
+    :try_end_18
+    .catchall {:try_start_1 .. :try_end_18} :catchall_18
 
-    :catchall_17
+    :catchall_18
     move-exception v15
 
     monitor-exit p0
 
     throw v15
 
-    :cond_1a
+    :cond_1b
     const/4 v15, 0x0
 
-    :try_start_1b
+    :try_start_1c
     move-object/from16 v0, p0
 
     invoke-direct {v0, v15}, Landroid/net/sip/SipAudioCall;->stopCall(Z)V
@@ -1254,18 +1254,18 @@
 
     move v7, v6
 
-    :goto_3a
-    if-ge v7, v8, :cond_c6
+    :goto_3b
+    if-ge v7, v8, :cond_c7
 
     aget-object v10, v2, v7
 
-    if-nez v5, :cond_10d
+    if-nez v5, :cond_10e
 
     invoke-virtual {v10}, Landroid/net/sip/SimpleSessionDescription$Media;->getPort()I
 
     move-result v15
 
-    if-lez v15, :cond_10d
+    if-lez v15, :cond_10e
 
     const-string v15, "audio"
 
@@ -1277,7 +1277,7 @@
 
     move-result v15
 
-    if-eqz v15, :cond_10d
+    if-eqz v15, :cond_10e
 
     const-string v15, "RTP/AVP"
 
@@ -1289,7 +1289,7 @@
 
     move-result v15
 
-    if-eqz v15, :cond_10d
+    if-eqz v15, :cond_10e
 
     invoke-virtual {v10}, Landroid/net/sip/SimpleSessionDescription$Media;->getRtpPayloadTypes()[I
 
@@ -1299,8 +1299,8 @@
 
     const/4 v6, 0x0
 
-    :goto_64
-    if-ge v6, v9, :cond_76
+    :goto_65
+    if-ge v6, v9, :cond_77
 
     aget v14, v3, v6
 
@@ -1316,22 +1316,22 @@
 
     move-result-object v5
 
-    if-eqz v5, :cond_b9
+    if-eqz v5, :cond_ba
 
-    :cond_76
-    if-eqz v5, :cond_10d
+    :cond_77
+    if-eqz v5, :cond_10e
 
     invoke-virtual {v10}, Landroid/net/sip/SimpleSessionDescription$Media;->getAddress()Ljava/lang/String;
 
     move-result-object v1
 
-    if-nez v1, :cond_82
+    if-nez v1, :cond_83
 
     invoke-virtual {v11}, Landroid/net/sip/SimpleSessionDescription;->getAddress()Ljava/lang/String;
 
     move-result-object v1
 
-    :cond_82
+    :cond_83
     invoke-static {v1}, Ljava/net/InetAddress;->getByName(Ljava/lang/String;)Ljava/net/InetAddress;
 
     move-result-object v15
@@ -1358,8 +1358,8 @@
 
     const/4 v6, 0x0
 
-    :goto_9c
-    if-ge v6, v8, :cond_bc
+    :goto_9d
+    if-ge v6, v8, :cond_bd
 
     aget v14, v2, v6
 
@@ -1369,9 +1369,9 @@
 
     iget v15, v5, Landroid/net/rtp/AudioCodec;->type:I
 
-    if-eq v14, v15, :cond_b6
+    if-eq v14, v15, :cond_b7
 
-    if-eqz v12, :cond_b6
+    if-eqz v12, :cond_b7
 
     const-string/jumbo v15, "telephone-event"
 
@@ -1379,34 +1379,34 @@
 
     move-result v15
 
-    if-eqz v15, :cond_b6
+    if-eqz v15, :cond_b7
 
     invoke-virtual {v13, v14}, Landroid/net/rtp/AudioStream;->setDtmfType(I)V
 
-    :cond_b6
+    :cond_b7
     add-int/lit8 v6, v6, 0x1
 
-    goto :goto_9c
+    goto :goto_9d
 
-    :cond_b9
+    :cond_ba
     add-int/lit8 v6, v6, 0x1
 
-    goto :goto_64
+    goto :goto_65
 
-    :cond_bc
+    :cond_bd
     move-object/from16 v0, p0
 
     iget-boolean v15, v0, Landroid/net/sip/SipAudioCall;->mHold:Z
 
-    if-eqz v15, :cond_d0
+    if-eqz v15, :cond_d1
 
     const/4 v15, 0x0
 
     invoke-virtual {v13, v15}, Landroid/net/rtp/AudioStream;->setMode(I)V
 
-    :cond_c6
-    :goto_c6
-    if-nez v5, :cond_112
+    :cond_c7
+    :goto_c7
+    if-nez v5, :cond_113
 
     new-instance v15, Ljava/lang/IllegalStateException;
 
@@ -1416,90 +1416,90 @@
 
     throw v15
 
-    :cond_d0
+    :cond_d1
     const-string/jumbo v15, "recvonly"
 
     invoke-virtual {v10, v15}, Landroid/net/sip/SimpleSessionDescription$Media;->getAttribute(Ljava/lang/String;)Ljava/lang/String;
 
     move-result-object v15
 
-    if-eqz v15, :cond_de
+    if-eqz v15, :cond_df
 
     const/4 v15, 0x1
 
     invoke-virtual {v13, v15}, Landroid/net/rtp/AudioStream;->setMode(I)V
 
-    goto :goto_c6
+    goto :goto_c7
 
-    :cond_de
+    :cond_df
     const-string/jumbo v15, "sendonly"
 
     invoke-virtual {v10, v15}, Landroid/net/sip/SimpleSessionDescription$Media;->getAttribute(Ljava/lang/String;)Ljava/lang/String;
 
     move-result-object v15
 
-    if-eqz v15, :cond_ec
+    if-eqz v15, :cond_ed
 
     const/4 v15, 0x2
 
     invoke-virtual {v13, v15}, Landroid/net/rtp/AudioStream;->setMode(I)V
 
-    goto :goto_c6
+    goto :goto_c7
 
-    :cond_ec
+    :cond_ed
     const-string/jumbo v15, "recvonly"
 
     invoke-virtual {v11, v15}, Landroid/net/sip/SimpleSessionDescription;->getAttribute(Ljava/lang/String;)Ljava/lang/String;
 
     move-result-object v15
 
-    if-eqz v15, :cond_fa
+    if-eqz v15, :cond_fb
 
     const/4 v15, 0x1
 
     invoke-virtual {v13, v15}, Landroid/net/rtp/AudioStream;->setMode(I)V
 
-    goto :goto_c6
+    goto :goto_c7
 
-    :cond_fa
+    :cond_fb
     const-string/jumbo v15, "sendonly"
 
     invoke-virtual {v11, v15}, Landroid/net/sip/SimpleSessionDescription;->getAttribute(Ljava/lang/String;)Ljava/lang/String;
 
     move-result-object v15
 
-    if-eqz v15, :cond_108
+    if-eqz v15, :cond_109
 
     const/4 v15, 0x2
 
     invoke-virtual {v13, v15}, Landroid/net/rtp/AudioStream;->setMode(I)V
 
-    goto :goto_c6
+    goto :goto_c7
 
-    :cond_108
+    :cond_109
     const/4 v15, 0x0
 
     invoke-virtual {v13, v15}, Landroid/net/rtp/AudioStream;->setMode(I)V
 
-    goto :goto_c6
+    goto :goto_c7
 
-    :cond_10d
+    :cond_10e
     add-int/lit8 v6, v7, 0x1
 
     move v7, v6
 
-    goto/16 :goto_3a
+    goto/16 :goto_3b
 
-    :cond_112
+    :cond_113
     invoke-direct/range {p0 .. p0}, Landroid/net/sip/SipAudioCall;->isWifiOn()Z
 
     move-result v15
 
-    if-eqz v15, :cond_11b
+    if-eqz v15, :cond_11c
 
     invoke-direct/range {p0 .. p0}, Landroid/net/sip/SipAudioCall;->grabWifiHighPerfLock()V
 
-    :cond_11b
+    :cond_11c
     invoke-virtual/range {p0 .. p0}, Landroid/net/sip/SipAudioCall;->getAudioGroup()Landroid/net/rtp/AudioGroup;
 
     move-result-object v4
@@ -1508,31 +1508,31 @@
 
     iget-boolean v15, v0, Landroid/net/sip/SipAudioCall;->mHold:Z
 
-    if-eqz v15, :cond_12a
+    if-eqz v15, :cond_12b
 
-    :goto_125
+    :goto_126
     invoke-direct/range {p0 .. p0}, Landroid/net/sip/SipAudioCall;->setAudioGroupMode()V
-    :try_end_128
-    .catchall {:try_start_1b .. :try_end_128} :catchall_17
+    :try_end_129
+    .catchall {:try_start_1c .. :try_end_129} :catchall_18
 
     monitor-exit p0
 
     return-void
 
-    :cond_12a
-    if-nez v4, :cond_131
+    :cond_12b
+    if-nez v4, :cond_132
 
-    :try_start_12c
+    :try_start_12d
     new-instance v4, Landroid/net/rtp/AudioGroup;
 
     invoke-direct {v4}, Landroid/net/rtp/AudioGroup;-><init>()V
 
-    :cond_131
+    :cond_132
     invoke-virtual {v13, v4}, Landroid/net/rtp/AudioStream;->join(Landroid/net/rtp/AudioGroup;)V
-    :try_end_134
-    .catchall {:try_start_12c .. :try_end_134} :catchall_17
+    :try_end_135
+    .catchall {:try_start_12d .. :try_end_135} :catchall_18
 
-    goto :goto_125
+    goto :goto_126
 .end method
 
 .method private stopCall(Z)V
diff -Npru stock_framework/smali/android/net/VpnService.smali pdroid_framework/smali/android/net/VpnService.smali
--- stock_framework/smali/android/net/VpnService.smali	2012-07-02 22:51:55.476654549 -0700
+++ pdroid_framework/smali/android/net/VpnService.smali	2012-07-02 22:52:41.110588254 -0700
@@ -155,8 +155,6 @@
 
     :try_start_d
     invoke-virtual {v0}, Landroid/os/ParcelFileDescriptor;->close()V
-    :try_end_10
-    .catch Ljava/lang/Exception; {:try_start_d .. :try_end_10} :catch_1e
 
     :goto_10
     return v2
@@ -166,10 +164,9 @@
 
     const/4 v2, 0x0
 
-    :try_start_13
     invoke-virtual {v0}, Landroid/os/ParcelFileDescriptor;->close()V
     :try_end_16
-    .catch Ljava/lang/Exception; {:try_start_13 .. :try_end_16} :catch_17
+    .catch Ljava/lang/Exception; {:try_start_d .. :try_end_16} :catch_17
 
     goto :goto_10
 
@@ -184,7 +181,7 @@
     :try_start_1a
     invoke-virtual {v0}, Landroid/os/ParcelFileDescriptor;->close()V
     :try_end_1d
-    .catch Ljava/lang/Exception; {:try_start_1a .. :try_end_1d} :catch_20
+    .catch Ljava/lang/Exception; {:try_start_1a .. :try_end_1d} :catch_1e
 
     :goto_1d
     throw v2
@@ -192,11 +189,6 @@
     :catch_1e
     move-exception v3
 
-    goto :goto_10
-
-    :catch_20
-    move-exception v3
-
     goto :goto_1d
 .end method
 
diff -Npru stock_framework/smali/android/net/wifi/WifiConfigStore.smali pdroid_framework/smali/android/net/wifi/WifiConfigStore.smali
--- stock_framework/smali/android/net/wifi/WifiConfigStore.smali	2012-07-02 22:51:55.623689777 -0700
+++ pdroid_framework/smali/android/net/wifi/WifiConfigStore.smali	2012-07-02 22:52:41.339643133 -0700
@@ -2904,9 +2904,9 @@
 
     invoke-direct {v9, v0}, Ljava/io/DataInputStream;-><init>(Ljava/io/InputStream;)V
     :try_end_14
-    .catchall {:try_start_1 .. :try_end_14} :catchall_247
-    .catch Ljava/io/EOFException; {:try_start_1 .. :try_end_14} :catch_24d
-    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_14} :catch_24a
+    .catchall {:try_start_1 .. :try_end_14} :catchall_244
+    .catch Ljava/io/EOFException; {:try_start_1 .. :try_end_14} :catch_24a
+    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_14} :catch_247
 
     const/4 v14, 0x0
 
@@ -2935,7 +2935,7 @@
 
     invoke-static/range {v20 .. v20}, Landroid/net/wifi/WifiConfigStore;->loge(Ljava/lang/String;)V
     :try_end_2e
-    .catchall {:try_start_15 .. :try_end_2e} :catchall_178
+    .catchall {:try_start_15 .. :try_end_2e} :catchall_175
     .catch Ljava/io/EOFException; {:try_start_15 .. :try_end_2e} :catch_cf
     .catch Ljava/io/IOException; {:try_start_15 .. :try_end_2e} :catch_105
 
@@ -2959,14 +2959,14 @@
 
     move/from16 v0, v20
 
-    if-eq v7, v0, :cond_23a
+    if-eq v7, v0, :cond_237
 
     :try_start_3b
     sget-object v21, Landroid/net/wifi/WifiConfigStore;->sConfiguredNetworks:Ljava/util/HashMap;
 
     monitor-enter v21
     :try_end_3e
-    .catchall {:try_start_3b .. :try_end_3e} :catchall_178
+    .catchall {:try_start_3b .. :try_end_3e} :catchall_175
     .catch Ljava/io/EOFException; {:try_start_3b .. :try_end_3e} :catch_cf
     .catch Ljava/io/IOException; {:try_start_3b .. :try_end_3e} :catch_105
 
@@ -2993,7 +2993,7 @@
 
     check-cast v2, Landroid/net/wifi/WifiConfiguration;
 
-    if-nez v2, :cond_1f6
+    if-nez v2, :cond_1f3
 
     const-string v20, "configuration found for missing network, ignored"
 
@@ -3003,7 +3003,7 @@
     :pswitch_5b
     monitor-exit v21
     :try_end_5c
-    .catchall {:try_start_3e .. :try_end_5c} :catchall_21a
+    .catchall {:try_start_3e .. :try_end_5c} :catchall_217
 
     :cond_5c
     :goto_5c
@@ -3027,7 +3027,7 @@
     :goto_6a
     invoke-virtual {v9}, Ljava/io/DataInputStream;->readUTF()Ljava/lang/String;
     :try_end_6d
-    .catchall {:try_start_5d .. :try_end_6d} :catchall_178
+    .catchall {:try_start_5d .. :try_end_6d} :catchall_175
     .catch Ljava/io/EOFException; {:try_start_5d .. :try_end_6d} :catch_cf
     .catch Ljava/io/IOException; {:try_start_5d .. :try_end_6d} :catch_105
 
@@ -3107,7 +3107,7 @@
 
     invoke-virtual {v13, v12}, Landroid/net/LinkProperties;->addLinkAddress(Landroid/net/LinkAddress;)V
     :try_end_b4
-    .catchall {:try_start_6e .. :try_end_b4} :catchall_178
+    .catchall {:try_start_6e .. :try_end_b4} :catchall_175
     .catch Ljava/lang/IllegalArgumentException; {:try_start_6e .. :try_end_b4} :catch_b5
     .catch Ljava/io/EOFException; {:try_start_6e .. :try_end_b4} :catch_cf
     .catch Ljava/io/IOException; {:try_start_6e .. :try_end_b4} :catch_105
@@ -3140,7 +3140,7 @@
 
     invoke-static/range {v20 .. v20}, Landroid/net/wifi/WifiConfigStore;->loge(Ljava/lang/String;)V
     :try_end_ce
-    .catchall {:try_start_b6 .. :try_end_ce} :catchall_178
+    .catchall {:try_start_b6 .. :try_end_ce} :catchall_175
     .catch Ljava/io/EOFException; {:try_start_b6 .. :try_end_ce} :catch_cf
     .catch Ljava/io/IOException; {:try_start_b6 .. :try_end_ce} :catch_105
 
@@ -3176,7 +3176,7 @@
 
     move-result v20
 
-    if-eqz v20, :cond_15f
+    if-eqz v20, :cond_15c
 
     const/4 v3, 0x0
 
@@ -3188,7 +3188,7 @@
 
     move/from16 v1, v20
 
-    if-ne v0, v1, :cond_129
+    if-ne v0, v1, :cond_126
 
     invoke-virtual {v9}, Ljava/io/DataInputStream;->readUTF()Ljava/lang/String;
 
@@ -3210,7 +3210,7 @@
 
     invoke-virtual {v13, v0}, Landroid/net/LinkProperties;->addRoute(Landroid/net/RouteInfo;)V
     :try_end_103
-    .catchall {:try_start_db .. :try_end_103} :catchall_178
+    .catchall {:try_start_db .. :try_end_103} :catchall_175
     .catch Ljava/lang/IllegalArgumentException; {:try_start_db .. :try_end_103} :catch_b5
     .catch Ljava/io/EOFException; {:try_start_db .. :try_end_103} :catch_cf
     .catch Ljava/io/IOException; {:try_start_db .. :try_end_103} :catch_105
@@ -3246,24 +3246,19 @@
 
     invoke-static/range {v20 .. v20}, Landroid/net/wifi/WifiConfigStore;->loge(Ljava/lang/String;)V
     :try_end_11f
-    .catchall {:try_start_107 .. :try_end_11f} :catchall_247
+    .catchall {:try_start_107 .. :try_end_11f} :catchall_244
 
     if-eqz v8, :cond_34
 
     :try_start_121
     invoke-virtual {v8}, Ljava/io/DataInputStream;->close()V
     :try_end_124
-    .catch Ljava/lang/Exception; {:try_start_121 .. :try_end_124} :catch_126
+    .catch Ljava/lang/Exception; {:try_start_121 .. :try_end_124} :catch_d8
 
     goto/16 :goto_34
 
-    :catch_126
-    move-exception v20
-
-    goto/16 :goto_34
-
-    :cond_129
-    :try_start_129
+    :cond_126
+    :try_start_126
     invoke-virtual {v9}, Ljava/io/DataInputStream;->readInt()I
 
     move-result v20
@@ -3274,7 +3269,7 @@
 
     move/from16 v1, v21
 
-    if-ne v0, v1, :cond_14a
+    if-ne v0, v1, :cond_147
 
     new-instance v3, Landroid/net/LinkAddress;
 
@@ -3296,7 +3291,7 @@
 
     invoke-direct {v3, v0, v1}, Landroid/net/LinkAddress;-><init>(Ljava/net/InetAddress;I)V
 
-    :cond_14a
+    :cond_147
     invoke-virtual {v9}, Ljava/io/DataInputStream;->readInt()I
 
     move-result v20
@@ -3319,7 +3314,7 @@
 
     goto :goto_f7
 
-    :cond_15f
+    :cond_15c
     const-string v20, "dns"
 
     move-object/from16 v0, v20
@@ -3328,7 +3323,7 @@
 
     move-result v20
 
-    if-eqz v20, :cond_180
+    if-eqz v20, :cond_17d
 
     invoke-virtual {v9}, Ljava/io/DataInputStream;->readUTF()Ljava/lang/String;
 
@@ -3341,33 +3336,33 @@
     move-object/from16 v0, v20
 
     invoke-virtual {v13, v0}, Landroid/net/LinkProperties;->addDns(Ljava/net/InetAddress;)V
-    :try_end_176
-    .catchall {:try_start_129 .. :try_end_176} :catchall_178
-    .catch Ljava/lang/IllegalArgumentException; {:try_start_129 .. :try_end_176} :catch_b5
-    .catch Ljava/io/EOFException; {:try_start_129 .. :try_end_176} :catch_cf
-    .catch Ljava/io/IOException; {:try_start_129 .. :try_end_176} :catch_105
+    :try_end_173
+    .catchall {:try_start_126 .. :try_end_173} :catchall_175
+    .catch Ljava/lang/IllegalArgumentException; {:try_start_126 .. :try_end_173} :catch_b5
+    .catch Ljava/io/EOFException; {:try_start_126 .. :try_end_173} :catch_cf
+    .catch Ljava/io/IOException; {:try_start_126 .. :try_end_173} :catch_105
 
     goto/16 :goto_7c
 
-    :catchall_178
+    :catchall_175
     move-exception v20
 
     move-object v8, v9
 
-    :goto_17a
-    if-eqz v8, :cond_17f
+    :goto_177
+    if-eqz v8, :cond_17c
 
-    :try_start_17c
+    :try_start_179
     invoke-virtual {v8}, Ljava/io/DataInputStream;->close()V
-    :try_end_17f
-    .catch Ljava/lang/Exception; {:try_start_17c .. :try_end_17f} :catch_244
+    :try_end_17c
+    .catch Ljava/lang/Exception; {:try_start_179 .. :try_end_17c} :catch_23e
 
-    :cond_17f
-    :goto_17f
+    :cond_17c
+    :goto_17c
     throw v20
 
-    :cond_180
-    :try_start_180
+    :cond_17d
+    :try_start_17d
     const-string/jumbo v20, "proxySettings"
 
     move-object/from16 v0, v20
@@ -3376,7 +3371,7 @@
 
     move-result v20
 
-    if-eqz v20, :cond_195
+    if-eqz v20, :cond_192
 
     invoke-virtual {v9}, Ljava/io/DataInputStream;->readUTF()Ljava/lang/String;
 
@@ -3388,7 +3383,7 @@
 
     goto/16 :goto_7c
 
-    :cond_195
+    :cond_192
     const-string/jumbo v20, "proxyHost"
 
     move-object/from16 v0, v20
@@ -3397,7 +3392,7 @@
 
     move-result v20
 
-    if-eqz v20, :cond_1a6
+    if-eqz v20, :cond_1a3
 
     invoke-virtual {v9}, Ljava/io/DataInputStream;->readUTF()Ljava/lang/String;
 
@@ -3405,7 +3400,7 @@
 
     goto/16 :goto_7c
 
-    :cond_1a6
+    :cond_1a3
     const-string/jumbo v20, "proxyPort"
 
     move-object/from16 v0, v20
@@ -3414,7 +3409,7 @@
 
     move-result v20
 
-    if-eqz v20, :cond_1b7
+    if-eqz v20, :cond_1b4
 
     invoke-virtual {v9}, Ljava/io/DataInputStream;->readInt()I
 
@@ -3422,7 +3417,7 @@
 
     goto/16 :goto_7c
 
-    :cond_1b7
+    :cond_1b4
     const-string v20, "exclusionList"
 
     move-object/from16 v0, v20
@@ -3431,7 +3426,7 @@
 
     move-result v20
 
-    if-eqz v20, :cond_1c7
+    if-eqz v20, :cond_1c4
 
     invoke-virtual {v9}, Ljava/io/DataInputStream;->readUTF()Ljava/lang/String;
 
@@ -3439,7 +3434,7 @@
 
     goto/16 :goto_7c
 
-    :cond_1c7
+    :cond_1c4
     const-string v20, "eos"
 
     move-object/from16 v0, v20
@@ -3448,13 +3443,13 @@
 
     move-result v20
 
-    if-eqz v20, :cond_1d5
+    if-eqz v20, :cond_1d2
 
     if-nez v14, :cond_35
 
     goto/16 :goto_6a
 
-    :cond_1d5
+    :cond_1d2
     new-instance v20, Ljava/lang/StringBuilder;
 
     invoke-direct/range {v20 .. v20}, Ljava/lang/StringBuilder;-><init>()V
@@ -3482,16 +3477,16 @@
     move-result-object v20
 
     invoke-static/range {v20 .. v20}, Landroid/net/wifi/WifiConfigStore;->loge(Ljava/lang/String;)V
-    :try_end_1f4
-    .catchall {:try_start_180 .. :try_end_1f4} :catchall_178
-    .catch Ljava/lang/IllegalArgumentException; {:try_start_180 .. :try_end_1f4} :catch_b5
-    .catch Ljava/io/EOFException; {:try_start_180 .. :try_end_1f4} :catch_cf
-    .catch Ljava/io/IOException; {:try_start_180 .. :try_end_1f4} :catch_105
+    :try_end_1f1
+    .catchall {:try_start_17d .. :try_end_1f1} :catchall_175
+    .catch Ljava/lang/IllegalArgumentException; {:try_start_17d .. :try_end_1f1} :catch_b5
+    .catch Ljava/io/EOFException; {:try_start_17d .. :try_end_1f1} :catch_cf
+    .catch Ljava/io/IOException; {:try_start_17d .. :try_end_1f1} :catch_105
 
     goto/16 :goto_7c
 
-    :cond_1f6
-    :try_start_1f6
+    :cond_1f3
+    :try_start_1f3
     iput-object v13, v2, Landroid/net/wifi/WifiConfiguration;->linkProperties:Landroid/net/LinkProperties;
 
     sget-object v20, Landroid/net/wifi/WifiConfigStore$1;->$SwitchMap$android$net$wifi$WifiConfiguration$IpAssignment:[I
@@ -3502,14 +3497,14 @@
 
     aget v20, v20, v22
 
-    packed-switch v20, :pswitch_data_250
+    packed-switch v20, :pswitch_data_24e
 
     const-string v20, "Ignore invalid ip assignment while reading"
 
     invoke-static/range {v20 .. v20}, Landroid/net/wifi/WifiConfigStore;->loge(Ljava/lang/String;)V
 
-    :goto_208
-    :pswitch_208
+    :goto_205
+    :pswitch_205
     sget-object v20, Landroid/net/wifi/WifiConfigStore$1;->$SwitchMap$android$net$wifi$WifiConfiguration$ProxySettings:[I
 
     invoke-virtual/range {v18 .. v18}, Landroid/net/wifi/WifiConfiguration$ProxySettings;->ordinal()I
@@ -3518,7 +3513,7 @@
 
     aget v20, v20, v22
 
-    packed-switch v20, :pswitch_data_25a
+    packed-switch v20, :pswitch_data_258
 
     const-string v20, "Ignore invalid proxy settings while reading"
 
@@ -3526,27 +3521,27 @@
 
     goto/16 :goto_5b
 
-    :catchall_21a
+    :catchall_217
     move-exception v20
 
     monitor-exit v21
-    :try_end_21c
-    .catchall {:try_start_1f6 .. :try_end_21c} :catchall_21a
+    :try_end_219
+    .catchall {:try_start_1f3 .. :try_end_219} :catchall_217
 
-    :try_start_21c
+    :try_start_219
     throw v20
-    :try_end_21d
-    .catchall {:try_start_21c .. :try_end_21d} :catchall_178
-    .catch Ljava/io/EOFException; {:try_start_21c .. :try_end_21d} :catch_cf
-    .catch Ljava/io/IOException; {:try_start_21c .. :try_end_21d} :catch_105
+    :try_end_21a
+    .catchall {:try_start_219 .. :try_end_21a} :catchall_175
+    .catch Ljava/io/EOFException; {:try_start_219 .. :try_end_21a} :catch_cf
+    .catch Ljava/io/IOException; {:try_start_219 .. :try_end_21a} :catch_105
 
-    :pswitch_21d
-    :try_start_21d
+    :pswitch_21a
+    :try_start_21a
     iput-object v10, v2, Landroid/net/wifi/WifiConfiguration;->ipAssignment:Landroid/net/wifi/WifiConfiguration$IpAssignment;
 
-    goto :goto_208
+    goto :goto_205
 
-    :pswitch_220
+    :pswitch_21d
     move-object/from16 v0, v18
 
     iput-object v0, v2, Landroid/net/wifi/WifiConfiguration;->proxySettings:Landroid/net/wifi/WifiConfiguration$ProxySettings;
@@ -3565,63 +3560,65 @@
 
     goto/16 :goto_5b
 
-    :pswitch_234
+    :pswitch_231
     move-object/from16 v0, v18
 
     iput-object v0, v2, Landroid/net/wifi/WifiConfiguration;->proxySettings:Landroid/net/wifi/WifiConfiguration$ProxySettings;
-    :try_end_238
-    .catchall {:try_start_21d .. :try_end_238} :catchall_21a
+    :try_end_235
+    .catchall {:try_start_21a .. :try_end_235} :catchall_217
 
     goto/16 :goto_5b
 
-    :cond_23a
-    :try_start_23a
+    :cond_237
+    :try_start_237
     const-string v20, "Missing id while parsing configuration"
 
     invoke-static/range {v20 .. v20}, Landroid/net/wifi/WifiConfigStore;->loge(Ljava/lang/String;)V
-    :try_end_23f
-    .catchall {:try_start_23a .. :try_end_23f} :catchall_178
-    .catch Ljava/io/EOFException; {:try_start_23a .. :try_end_23f} :catch_cf
-    .catch Ljava/io/IOException; {:try_start_23a .. :try_end_23f} :catch_105
+    :try_end_23c
+    .catchall {:try_start_237 .. :try_end_23c} :catchall_175
+    .catch Ljava/io/EOFException; {:try_start_237 .. :try_end_23c} :catch_cf
+    .catch Ljava/io/IOException; {:try_start_237 .. :try_end_23c} :catch_105
 
     goto/16 :goto_5c
 
+    :catch_23e
+    move-exception v21
+
+    goto/16 :goto_17c
+
     :catch_241
     move-exception v20
 
     goto/16 :goto_33
 
-    :catch_244
-    move-exception v21
-
-    goto/16 :goto_17f
-
-    :catchall_247
+    :catchall_244
     move-exception v20
 
-    goto/16 :goto_17a
+    goto/16 :goto_177
 
-    :catch_24a
+    :catch_247
     move-exception v4
 
     goto/16 :goto_107
 
-    :catch_24d
+    :catch_24a
     move-exception v20
 
     goto/16 :goto_d1
 
-    :pswitch_data_250
+    nop
+
+    :pswitch_data_24e
     .packed-switch 0x1
-        :pswitch_21d
-        :pswitch_21d
-        :pswitch_208
+        :pswitch_21a
+        :pswitch_21a
+        :pswitch_205
     .end packed-switch
 
-    :pswitch_data_25a
+    :pswitch_data_258
     .packed-switch 0x1
-        :pswitch_220
-        :pswitch_234
+        :pswitch_21d
+        :pswitch_231
         :pswitch_5b
     .end packed-switch
 .end method
@@ -4762,8 +4759,8 @@
 
     invoke-direct {v11, v15}, Ljava/io/DataOutputStream;-><init>(Ljava/io/OutputStream;)V
     :try_end_12
-    .catchall {:try_start_1 .. :try_end_12} :catchall_1c1
-    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_12} :catch_1d0
+    .catchall {:try_start_1 .. :try_end_12} :catchall_1bd
+    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_12} :catch_1ce
 
     const/4 v15, 0x2
 
@@ -4774,7 +4771,7 @@
 
     monitor-enter v16
     :try_end_19
-    .catchall {:try_start_13 .. :try_end_19} :catchall_1cd
+    .catchall {:try_start_13 .. :try_end_19} :catchall_1cb
     .catch Ljava/io/IOException; {:try_start_13 .. :try_end_19} :catch_71
 
     :try_start_19
@@ -4820,7 +4817,7 @@
 
     aget v15, v15, v17
 
-    packed-switch v15, :pswitch_data_1d6
+    packed-switch v15, :pswitch_data_1d2
 
     const-string v15, "Ignore invalid ip assignment while writing"
 
@@ -4840,7 +4837,7 @@
 
     aget v15, v15, v17
 
-    packed-switch v15, :pswitch_data_1e0
+    packed-switch v15, :pswitch_data_1dc
 
     const-string v15, "Ignore invalid proxy settings while writing"
 
@@ -4882,7 +4879,7 @@
     :try_start_70
     throw v15
     :try_end_71
-    .catchall {:try_start_70 .. :try_end_71} :catchall_1cd
+    .catchall {:try_start_70 .. :try_end_71} :catchall_1cb
     .catch Ljava/io/IOException; {:try_start_70 .. :try_end_71} :catch_71
 
     :catch_71
@@ -4896,14 +4893,14 @@
 
     invoke-static {v15}, Landroid/net/wifi/WifiConfigStore;->loge(Ljava/lang/String;)V
     :try_end_78
-    .catchall {:try_start_73 .. :try_end_78} :catchall_1c1
+    .catchall {:try_start_73 .. :try_end_78} :catchall_1bd
 
     if-eqz v10, :cond_7d
 
     :try_start_7a
     invoke-virtual {v10}, Ljava/io/DataOutputStream;->close()V
     :try_end_7d
-    .catch Ljava/lang/Exception; {:try_start_7a .. :try_end_7d} :catch_1c8
+    .catch Ljava/lang/Exception; {:try_start_7a .. :try_end_7d} :catch_1c6
 
     :cond_7d
     :goto_7d
@@ -5232,74 +5229,71 @@
     :try_end_1b5
     .catchall {:try_start_1b4 .. :try_end_1b5} :catchall_6e
 
-    if-eqz v11, :cond_1d3
+    if-eqz v11, :cond_1ba
 
     :try_start_1b7
     invoke-virtual {v11}, Ljava/io/DataOutputStream;->close()V
     :try_end_1ba
-    .catch Ljava/lang/Exception; {:try_start_1b7 .. :try_end_1ba} :catch_1bd
-
-    move-object v10, v11
-
-    goto/16 :goto_7d
-
-    :catch_1bd
-    move-exception v15
+    .catch Ljava/lang/Exception; {:try_start_1b7 .. :try_end_1ba} :catch_1c9
 
+    :cond_1ba
+    :goto_1ba
     move-object v10, v11
 
     goto/16 :goto_7d
 
-    :catchall_1c1
+    :catchall_1bd
     move-exception v15
 
-    :goto_1c2
-    if-eqz v10, :cond_1c7
+    :goto_1be
+    if-eqz v10, :cond_1c3
 
-    :try_start_1c4
+    :try_start_1c0
     invoke-virtual {v10}, Ljava/io/DataOutputStream;->close()V
-    :try_end_1c7
-    .catch Ljava/lang/Exception; {:try_start_1c4 .. :try_end_1c7} :catch_1cb
+    :try_end_1c3
+    .catch Ljava/lang/Exception; {:try_start_1c0 .. :try_end_1c3} :catch_1c4
 
-    :cond_1c7
-    :goto_1c7
+    :cond_1c3
+    :goto_1c3
     throw v15
 
-    :catch_1c8
+    :catch_1c4
+    move-exception v16
+
+    goto :goto_1c3
+
+    :catch_1c6
     move-exception v15
 
     goto/16 :goto_7d
 
-    :catch_1cb
-    move-exception v16
+    :catch_1c9
+    move-exception v15
 
-    goto :goto_1c7
+    goto :goto_1ba
 
-    :catchall_1cd
+    :catchall_1cb
     move-exception v15
 
     move-object v10, v11
 
-    goto :goto_1c2
+    goto :goto_1be
 
-    :catch_1d0
+    :catch_1ce
     move-exception v3
 
     goto/16 :goto_73
 
-    :cond_1d3
-    move-object v10, v11
-
-    goto/16 :goto_7d
+    nop
 
-    :pswitch_data_1d6
+    :pswitch_data_1d2
     .packed-switch 0x1
         :pswitch_7e
         :pswitch_155
         :pswitch_46
     .end packed-switch
 
-    :pswitch_data_1e0
+    :pswitch_data_1dc
     .packed-switch 0x1
         :pswitch_166
         :pswitch_1a2
diff -Npru stock_framework/smali/android/opengl/GLSurfaceView$GLThread.smali pdroid_framework/smali/android/opengl/GLSurfaceView$GLThread.smali
--- stock_framework/smali/android/opengl/GLSurfaceView$GLThread.smali	2012-07-02 22:51:55.920760956 -0700
+++ pdroid_framework/smali/android/opengl/GLSurfaceView$GLThread.smali	2012-07-02 22:52:41.852766076 -0700
@@ -161,7 +161,7 @@
 
     monitor-enter v14
     :try_end_26
-    .catchall {:try_start_21 .. :try_end_26} :catchall_160
+    .catchall {:try_start_21 .. :try_end_26} :catchall_15d
 
     :goto_26
     :try_start_26
@@ -169,11 +169,11 @@
 
     iget-boolean v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mShouldExit:Z
 
-    if-eqz v13, :cond_3d
+    if-eqz v13, :cond_3a
 
     monitor-exit v14
     :try_end_2d
-    .catchall {:try_start_26 .. :try_end_2d} :catchall_15d
+    .catchall {:try_start_26 .. :try_end_2d} :catchall_15a
 
     invoke-static {}, Landroid/opengl/GLSurfaceView;->access$800()Landroid/opengl/GLSurfaceView$GLThreadManager;
 
@@ -187,21 +187,14 @@
     invoke-direct/range {p0 .. p0}, Landroid/opengl/GLSurfaceView$GLThread;->stopEglContextLocked()V
 
     monitor-exit v14
+    :try_end_39
+    .catchall {:try_start_32 .. :try_end_39} :catchall_212
 
     :goto_39
     return-void
 
-    :catchall_3a
-    move-exception v13
-
-    monitor-exit v14
-    :try_end_3c
-    .catchall {:try_start_32 .. :try_end_3c} :catchall_3a
-
-    throw v13
-
-    :cond_3d
-    :try_start_3d
+    :cond_3a
+    :try_start_3a
     move-object/from16 v0, p0
 
     iget-object v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mEventQueue:Ljava/util/ArrayList;
@@ -210,7 +203,7 @@
 
     move-result v13
 
-    if-nez v13, :cond_5c
+    if-nez v13, :cond_59
 
     move-object/from16 v0, p0
 
@@ -228,24 +221,24 @@
 
     move-object v5, v0
 
-    :goto_54
+    :goto_51
     monitor-exit v14
-    :try_end_55
-    .catchall {:try_start_3d .. :try_end_55} :catchall_15d
+    :try_end_52
+    .catchall {:try_start_3a .. :try_end_52} :catchall_15a
 
-    if-eqz v5, :cond_1a9
+    if-eqz v5, :cond_1a6
 
-    :try_start_57
+    :try_start_54
     invoke-interface {v5}, Ljava/lang/Runnable;->run()V
-    :try_end_5a
-    .catchall {:try_start_57 .. :try_end_5a} :catchall_160
+    :try_end_57
+    .catchall {:try_start_54 .. :try_end_57} :catchall_15d
 
     const/4 v5, 0x0
 
     goto :goto_21
 
-    :cond_5c
-    :try_start_5c
+    :cond_59
+    :try_start_59
     move-object/from16 v0, p0
 
     iget-boolean v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mPaused:Z
@@ -254,7 +247,7 @@
 
     iget-boolean v15, v0, Landroid/opengl/GLSurfaceView$GLThread;->mRequestPaused:Z
 
-    if-eq v13, v15, :cond_75
+    if-eq v13, v15, :cond_72
 
     move-object/from16 v0, p0
 
@@ -270,12 +263,12 @@
 
     invoke-virtual {v13}, Ljava/lang/Object;->notifyAll()V
 
-    :cond_75
+    :cond_72
     move-object/from16 v0, p0
 
     iget-boolean v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mShouldReleaseEglContext:Z
 
-    if-eqz v13, :cond_87
+    if-eqz v13, :cond_84
 
     invoke-direct/range {p0 .. p0}, Landroid/opengl/GLSurfaceView$GLThread;->stopEglSurfaceLocked()V
 
@@ -289,8 +282,8 @@
 
     const/4 v1, 0x1
 
-    :cond_87
-    if-eqz v8, :cond_90
+    :cond_84
+    if-eqz v8, :cond_8d
 
     invoke-direct/range {p0 .. p0}, Landroid/opengl/GLSurfaceView$GLThread;->stopEglSurfaceLocked()V
 
@@ -298,18 +291,18 @@
 
     const/4 v8, 0x0
 
-    :cond_90
+    :cond_8d
     move-object/from16 v0, p0
 
     iget-boolean v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mHaveEglSurface:Z
 
-    if-eqz v13, :cond_c7
+    if-eqz v13, :cond_c4
 
     move-object/from16 v0, p0
 
     iget-boolean v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mPaused:Z
 
-    if-eqz v13, :cond_c7
+    if-eqz v13, :cond_c4
 
     invoke-direct/range {p0 .. p0}, Landroid/opengl/GLSurfaceView$GLThread;->stopEglSurfaceLocked()V
 
@@ -322,7 +315,7 @@
 
     move-result v13
 
-    if-eqz v13, :cond_b3
+    if-eqz v13, :cond_b0
 
     invoke-static {}, Landroid/opengl/GLSurfaceView;->access$800()Landroid/opengl/GLSurfaceView$GLThreadManager;
 
@@ -332,12 +325,12 @@
 
     move-result v13
 
-    if-eqz v13, :cond_b6
+    if-eqz v13, :cond_b3
 
-    :cond_b3
+    :cond_b0
     invoke-direct/range {p0 .. p0}, Landroid/opengl/GLSurfaceView$GLThread;->stopEglContextLocked()V
 
-    :cond_b6
+    :cond_b3
     invoke-static {}, Landroid/opengl/GLSurfaceView;->access$800()Landroid/opengl/GLSurfaceView$GLThreadManager;
 
     move-result-object v13
@@ -346,7 +339,7 @@
 
     move-result v13
 
-    if-eqz v13, :cond_c7
+    if-eqz v13, :cond_c4
 
     move-object/from16 v0, p0
 
@@ -354,28 +347,28 @@
 
     invoke-virtual {v13}, Landroid/opengl/GLSurfaceView$EglHelper;->finish()V
 
-    :cond_c7
+    :cond_c4
     move-object/from16 v0, p0
 
     iget-boolean v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mHasSurface:Z
 
-    if-nez v13, :cond_e8
+    if-nez v13, :cond_e5
 
     move-object/from16 v0, p0
 
     iget-boolean v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mWaitingForSurface:Z
 
-    if-nez v13, :cond_e8
+    if-nez v13, :cond_e5
 
     move-object/from16 v0, p0
 
     iget-boolean v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mHaveEglSurface:Z
 
-    if-eqz v13, :cond_dc
+    if-eqz v13, :cond_d9
 
     invoke-direct/range {p0 .. p0}, Landroid/opengl/GLSurfaceView$GLThread;->stopEglSurfaceLocked()V
 
-    :cond_dc
+    :cond_d9
     const/4 v13, 0x1
 
     move-object/from16 v0, p0
@@ -388,18 +381,18 @@
 
     invoke-virtual {v13}, Ljava/lang/Object;->notifyAll()V
 
-    :cond_e8
+    :cond_e5
     move-object/from16 v0, p0
 
     iget-boolean v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mHasSurface:Z
 
-    if-eqz v13, :cond_100
+    if-eqz v13, :cond_fd
 
     move-object/from16 v0, p0
 
     iget-boolean v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mWaitingForSurface:Z
 
-    if-eqz v13, :cond_100
+    if-eqz v13, :cond_fd
 
     const/4 v13, 0x0
 
@@ -413,8 +406,8 @@
 
     invoke-virtual {v13}, Ljava/lang/Object;->notifyAll()V
 
-    :cond_100
-    if-eqz v4, :cond_110
+    :cond_fd
+    if-eqz v4, :cond_10d
 
     const/4 v12, 0x0
 
@@ -432,36 +425,36 @@
 
     invoke-virtual {v13}, Ljava/lang/Object;->notifyAll()V
 
-    :cond_110
+    :cond_10d
     invoke-direct/range {p0 .. p0}, Landroid/opengl/GLSurfaceView$GLThread;->readyToDraw()Z
 
     move-result v13
 
-    if-eqz v13, :cond_1a0
+    if-eqz v13, :cond_19d
 
     move-object/from16 v0, p0
 
     iget-boolean v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mHaveEglContext:Z
 
-    if-nez v13, :cond_11f
+    if-nez v13, :cond_11c
 
-    if-eqz v1, :cond_16e
+    if-eqz v1, :cond_16b
 
     const/4 v1, 0x0
 
-    :cond_11f
-    :goto_11f
+    :cond_11c
+    :goto_11c
     move-object/from16 v0, p0
 
     iget-boolean v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mHaveEglContext:Z
 
-    if-eqz v13, :cond_132
+    if-eqz v13, :cond_12f
 
     move-object/from16 v0, p0
 
     iget-boolean v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mHaveEglSurface:Z
 
-    if-nez v13, :cond_132
+    if-nez v13, :cond_12f
 
     const/4 v13, 0x1
 
@@ -473,12 +466,12 @@
 
     const/4 v9, 0x1
 
-    :cond_132
+    :cond_12f
     move-object/from16 v0, p0
 
     iget-boolean v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mHaveEglSurface:Z
 
-    if-eqz v13, :cond_1a0
+    if-eqz v13, :cond_19d
 
     move-object/from16 v0, p0
 
@@ -489,7 +482,7 @@
 
     move-result v13
 
-    if-eqz v13, :cond_19a
+    if-eqz v13, :cond_197
 
     const/4 v9, 0x1
 
@@ -512,28 +505,28 @@
     #setter for: Landroid/opengl/GLSurfaceView;->mSizeChanged:Z
     invoke-static {v13, v15}, Landroid/opengl/GLSurfaceView;->access$1002(Landroid/opengl/GLSurfaceView;Z)Z
 
-    :goto_154
+    :goto_151
     invoke-static {}, Landroid/opengl/GLSurfaceView;->access$800()Landroid/opengl/GLSurfaceView$GLThreadManager;
 
     move-result-object v13
 
     invoke-virtual {v13}, Ljava/lang/Object;->notifyAll()V
 
-    goto/16 :goto_54
+    goto/16 :goto_51
 
-    :catchall_15d
+    :catchall_15a
     move-exception v13
 
     monitor-exit v14
-    :try_end_15f
-    .catchall {:try_start_5c .. :try_end_15f} :catchall_15d
+    :try_end_15c
+    .catchall {:try_start_59 .. :try_end_15c} :catchall_15a
 
-    :try_start_15f
+    :try_start_15c
     throw v13
-    :try_end_160
-    .catchall {:try_start_15f .. :try_end_160} :catchall_160
+    :try_end_15d
+    .catchall {:try_start_15c .. :try_end_15d} :catchall_15d
 
-    :catchall_160
+    :catchall_15d
     move-exception v13
 
     invoke-static {}, Landroid/opengl/GLSurfaceView;->access$800()Landroid/opengl/GLSurfaceView$GLThreadManager;
@@ -542,19 +535,19 @@
 
     monitor-enter v14
 
-    :try_start_166
+    :try_start_163
     invoke-direct/range {p0 .. p0}, Landroid/opengl/GLSurfaceView$GLThread;->stopEglSurfaceLocked()V
 
     invoke-direct/range {p0 .. p0}, Landroid/opengl/GLSurfaceView$GLThread;->stopEglContextLocked()V
 
     monitor-exit v14
-    :try_end_16d
-    .catchall {:try_start_166 .. :try_end_16d} :catchall_212
+    :try_end_16a
+    .catchall {:try_start_163 .. :try_end_16a} :catchall_20f
 
     throw v13
 
-    :cond_16e
-    :try_start_16e
+    :cond_16b
+    :try_start_16b
     invoke-static {}, Landroid/opengl/GLSurfaceView;->access$800()Landroid/opengl/GLSurfaceView$GLThreadManager;
 
     move-result-object v13
@@ -562,26 +555,26 @@
     move-object/from16 v0, p0
 
     invoke-virtual {v13, v0}, Landroid/opengl/GLSurfaceView$GLThreadManager;->tryAcquireEglContextLocked(Landroid/opengl/GLSurfaceView$GLThread;)Z
-    :try_end_177
-    .catchall {:try_start_16e .. :try_end_177} :catchall_15d
+    :try_end_174
+    .catchall {:try_start_16b .. :try_end_174} :catchall_15a
 
     move-result v13
 
-    if-eqz v13, :cond_11f
+    if-eqz v13, :cond_11c
 
-    :try_start_17a
+    :try_start_177
     move-object/from16 v0, p0
 
     iget-object v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mEglHelper:Landroid/opengl/GLSurfaceView$EglHelper;
 
     invoke-virtual {v13}, Landroid/opengl/GLSurfaceView$EglHelper;->start()V
-    :try_end_181
-    .catchall {:try_start_17a .. :try_end_181} :catchall_15d
-    .catch Ljava/lang/RuntimeException; {:try_start_17a .. :try_end_181} :catch_18f
+    :try_end_17e
+    .catchall {:try_start_177 .. :try_end_17e} :catchall_15a
+    .catch Ljava/lang/RuntimeException; {:try_start_177 .. :try_end_17e} :catch_18c
 
     const/4 v13, 0x1
 
-    :try_start_182
+    :try_start_17f
     move-object/from16 v0, p0
 
     iput-boolean v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mHaveEglContext:Z
@@ -594,9 +587,9 @@
 
     invoke-virtual {v13}, Ljava/lang/Object;->notifyAll()V
 
-    goto :goto_11f
+    goto :goto_11c
 
-    :catch_18f
+    :catch_18c
     move-exception v10
 
     invoke-static {}, Landroid/opengl/GLSurfaceView;->access$800()Landroid/opengl/GLSurfaceView$GLThreadManager;
@@ -609,30 +602,30 @@
 
     throw v10
 
-    :cond_19a
+    :cond_197
     const/4 v13, 0x0
 
     move-object/from16 v0, p0
 
     iput-boolean v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mRequestRender:Z
 
-    goto :goto_154
+    goto :goto_151
 
-    :cond_1a0
+    :cond_19d
     invoke-static {}, Landroid/opengl/GLSurfaceView;->access$800()Landroid/opengl/GLSurfaceView$GLThreadManager;
 
     move-result-object v13
 
     invoke-virtual {v13}, Ljava/lang/Object;->wait()V
-    :try_end_1a7
-    .catchall {:try_start_182 .. :try_end_1a7} :catchall_15d
+    :try_end_1a4
+    .catchall {:try_start_17f .. :try_end_1a4} :catchall_15a
 
     goto/16 :goto_26
 
-    :cond_1a9
-    if-eqz v3, :cond_1da
+    :cond_1a6
+    if-eqz v3, :cond_1d7
 
-    :try_start_1ab
+    :try_start_1a8
     move-object/from16 v0, p0
 
     iget-object v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mEglHelper:Landroid/opengl/GLSurfaceView$EglHelper;
@@ -654,10 +647,10 @@
     check-cast v0, Ljavax/microedition/khronos/opengles/GL10;
 
     move-object v6, v0
-    :try_end_1bf
-    .catchall {:try_start_1ab .. :try_end_1bf} :catchall_160
+    :try_end_1bc
+    .catchall {:try_start_1a8 .. :try_end_1bc} :catchall_15d
 
-    if-nez v6, :cond_1d2
+    if-nez v6, :cond_1cf
 
     invoke-static {}, Landroid/opengl/GLSurfaceView;->access$800()Landroid/opengl/GLSurfaceView$GLThreadManager;
 
@@ -665,7 +658,7 @@
 
     monitor-enter v14
 
-    :try_start_1c6
+    :try_start_1c3
     invoke-direct/range {p0 .. p0}, Landroid/opengl/GLSurfaceView$GLThread;->stopEglSurfaceLocked()V
 
     invoke-direct/range {p0 .. p0}, Landroid/opengl/GLSurfaceView$GLThread;->stopEglContextLocked()V
@@ -674,17 +667,17 @@
 
     goto/16 :goto_39
 
-    :catchall_1cf
+    :catchall_1cc
     move-exception v13
 
     monitor-exit v14
-    :try_end_1d1
-    .catchall {:try_start_1c6 .. :try_end_1d1} :catchall_1cf
+    :try_end_1ce
+    .catchall {:try_start_1c3 .. :try_end_1ce} :catchall_1cc
 
     throw v13
 
-    :cond_1d2
-    :try_start_1d2
+    :cond_1cf
+    :try_start_1cf
     invoke-static {}, Landroid/opengl/GLSurfaceView;->access$800()Landroid/opengl/GLSurfaceView$GLThreadManager;
 
     move-result-object v13
@@ -693,8 +686,8 @@
 
     const/4 v3, 0x0
 
-    :cond_1da
-    if-eqz v2, :cond_1ea
+    :cond_1d7
+    if-eqz v2, :cond_1e7
 
     move-object/from16 v0, p0
 
@@ -710,8 +703,8 @@
 
     const/4 v2, 0x0
 
-    :cond_1ea
-    if-eqz v9, :cond_1fb
+    :cond_1e7
+    if-eqz v9, :cond_1f8
 
     move-object/from16 v0, p0
 
@@ -727,7 +720,7 @@
 
     const/4 v9, 0x0
 
-    :cond_1fb
+    :cond_1f8
     move-object/from16 v0, p0
 
     iget-object v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mRenderer:Landroid/opengl/GLSurfaceView$Renderer;
@@ -739,22 +732,32 @@
     iget-object v13, v0, Landroid/opengl/GLSurfaceView$GLThread;->mEglHelper:Landroid/opengl/GLSurfaceView$EglHelper;
 
     invoke-virtual {v13}, Landroid/opengl/GLSurfaceView$EglHelper;->swap()Z
-    :try_end_209
-    .catchall {:try_start_1d2 .. :try_end_209} :catchall_160
+    :try_end_206
+    .catchall {:try_start_1cf .. :try_end_206} :catchall_15d
 
     move-result v13
 
-    if-nez v13, :cond_20d
+    if-nez v13, :cond_20a
 
     const/4 v8, 0x1
 
-    :cond_20d
+    :cond_20a
     if-eqz v12, :cond_21
 
     const/4 v4, 0x1
 
     goto/16 :goto_21
 
+    :catchall_20f
+    move-exception v13
+
+    :try_start_210
+    monitor-exit v14
+    :try_end_211
+    .catchall {:try_start_210 .. :try_end_211} :catchall_20f
+
+    throw v13
+
     :catchall_212
     move-exception v13
 
@@ -1371,39 +1374,37 @@
     :try_start_1a
     invoke-direct {p0}, Landroid/opengl/GLSurfaceView$GLThread;->guardedRun()V
     :try_end_1d
-    .catchall {:try_start_1a .. :try_end_1d} :catchall_2e
-    .catch Ljava/lang/InterruptedException; {:try_start_1a .. :try_end_1d} :catch_25
+    .catchall {:try_start_1a .. :try_end_1d} :catchall_25
+    .catch Ljava/lang/InterruptedException; {:try_start_1a .. :try_end_1d} :catch_2e
 
     invoke-static {}, Landroid/opengl/GLSurfaceView;->access$800()Landroid/opengl/GLSurfaceView$GLThreadManager;
 
     move-result-object v0
 
+    :goto_21
     invoke-virtual {v0, p0}, Landroid/opengl/GLSurfaceView$GLThreadManager;->threadExiting(Landroid/opengl/GLSurfaceView$GLThread;)V
 
-    :goto_24
     return-void
 
-    :catch_25
+    :catchall_25
     move-exception v0
 
     invoke-static {}, Landroid/opengl/GLSurfaceView;->access$800()Landroid/opengl/GLSurfaceView$GLThreadManager;
 
-    move-result-object v0
+    move-result-object v1
 
-    invoke-virtual {v0, p0}, Landroid/opengl/GLSurfaceView$GLThreadManager;->threadExiting(Landroid/opengl/GLSurfaceView$GLThread;)V
+    invoke-virtual {v1, p0}, Landroid/opengl/GLSurfaceView$GLThreadManager;->threadExiting(Landroid/opengl/GLSurfaceView$GLThread;)V
 
-    goto :goto_24
+    throw v0
 
-    :catchall_2e
+    :catch_2e
     move-exception v0
 
     invoke-static {}, Landroid/opengl/GLSurfaceView;->access$800()Landroid/opengl/GLSurfaceView$GLThreadManager;
 
-    move-result-object v1
-
-    invoke-virtual {v1, p0}, Landroid/opengl/GLSurfaceView$GLThreadManager;->threadExiting(Landroid/opengl/GLSurfaceView$GLThread;)V
+    move-result-object v0
 
-    throw v0
+    goto :goto_21
 .end method
 
 .method public setRenderMode(I)V
diff -Npru stock_framework/smali/android/os/StrictMode$AndroidBlockGuardPolicy.smali pdroid_framework/smali/android/os/StrictMode$AndroidBlockGuardPolicy.smali
--- stock_framework/smali/android/os/StrictMode$AndroidBlockGuardPolicy.smali	2012-07-02 22:51:56.188825184 -0700
+++ pdroid_framework/smali/android/os/StrictMode$AndroidBlockGuardPolicy.smali	2012-07-02 22:52:42.314876794 -0700
@@ -582,14 +582,14 @@
 
     invoke-interface {v0, v1, v2, v3}, Landroid/app/IActivityManager;->handleApplicationStrictModeViolation(Landroid/os/IBinder;ILandroid/os/StrictMode$ViolationInfo;)V
     :try_end_1fb
-    .catchall {:try_start_1e5 .. :try_end_1fb} :catchall_21d
+    .catchall {:try_start_1e5 .. :try_end_1fb} :catchall_21a
     .catch Landroid/os/RemoteException; {:try_start_1e5 .. :try_end_1fb} :catch_20d
 
+    :goto_1fb
     #calls: Landroid/os/StrictMode;->setThreadPolicyMask(I)V
     invoke-static {v13}, Landroid/os/StrictMode;->access$1200(I)V
 
     :cond_1fe
-    :goto_1fe
     move-object/from16 v0, p1
 
     iget v0, v0, Landroid/os/StrictMode$ViolationInfo;->policy:I
@@ -619,14 +619,11 @@
 
     invoke-static {v0, v1, v5}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_219
-    .catchall {:try_start_20e .. :try_end_219} :catchall_21d
+    .catchall {:try_start_20e .. :try_end_219} :catchall_21a
 
-    #calls: Landroid/os/StrictMode;->setThreadPolicyMask(I)V
-    invoke-static {v13}, Landroid/os/StrictMode;->access$1200(I)V
-
-    goto :goto_1fe
+    goto :goto_1fb
 
-    :catchall_21d
+    :catchall_21a
     move-exception v19
 
     #calls: Landroid/os/StrictMode;->setThreadPolicyMask(I)V
diff -Npru stock_framework/smali/android/os/StrictMode.smali pdroid_framework/smali/android/os/StrictMode.smali
--- stock_framework/smali/android/os/StrictMode.smali	2012-07-02 22:51:56.219832614 -0700
+++ pdroid_framework/smali/android/os/StrictMode.smali	2012-07-02 22:52:42.334881587 -0700
@@ -1686,13 +1686,13 @@
 
     invoke-interface {v0, v1, v2, v5}, Landroid/app/IActivityManager;->handleApplicationStrictModeViolation(Landroid/os/IBinder;ILandroid/os/StrictMode$ViolationInfo;)V
     :try_end_d3
-    .catchall {:try_start_bf .. :try_end_d3} :catchall_fc
+    .catchall {:try_start_bf .. :try_end_d3} :catchall_f9
     .catch Landroid/os/RemoteException; {:try_start_bf .. :try_end_d3} :catch_ec
 
+    :goto_d3
     invoke-static {v13}, Landroid/os/StrictMode;->setThreadPolicyMask(I)V
 
     :cond_d6
-    :goto_d6
     if-eqz v10, :cond_a4
 
     sget-object v17, Ljava/lang/System;->err:Ljava/io/PrintStream;
@@ -1727,13 +1727,11 @@
 
     invoke-static {v0, v1, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_f8
-    .catchall {:try_start_ed .. :try_end_f8} :catchall_fc
+    .catchall {:try_start_ed .. :try_end_f8} :catchall_f9
 
-    invoke-static {v13}, Landroid/os/StrictMode;->setThreadPolicyMask(I)V
-
-    goto :goto_d6
+    goto :goto_d3
 
-    :catchall_fc
+    :catchall_f9
     move-exception v17
 
     invoke-static {v13}, Landroid/os/StrictMode;->setThreadPolicyMask(I)V
diff -Npru stock_framework/smali/android/privacy/IPrivacySettingsManager.smali pdroid_framework/smali/android/privacy/IPrivacySettingsManager.smali
--- stock_framework/smali/android/privacy/IPrivacySettingsManager.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid_framework/smali/android/privacy/IPrivacySettingsManager.smali	2012-07-02 22:52:42.603946053 -0700
@@ -0,0 +1,104 @@
+.class public interface abstract Landroid/privacy/IPrivacySettingsManager;
+.super Ljava/lang/Object;
+.source "IPrivacySettingsManager.java"
+
+# interfaces
+.implements Landroid/os/IInterface;
+
+
+# annotations
+.annotation system Ldalvik/annotation/MemberClasses;
+    value = {
+        Landroid/privacy/IPrivacySettingsManager$Stub;
+    }
+.end annotation
+
+
+# virtual methods
+.method public abstract addObserver(Ljava/lang/String;)V
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
+
+.method public abstract deleteSettings(Ljava/lang/String;)Z
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
+
+.method public abstract getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
+
+.method public abstract getVersion()D
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
+
+.method public abstract notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
+
+.method public abstract purgeSettings()Z
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
+
+.method public abstract registerObservers()V
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
+
+.method public abstract saveSettings(Landroid/privacy/PrivacySettings;)Z
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
+
+.method public abstract setBootCompleted()V
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
+
+.method public abstract setEnabled(Z)Z
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
+
+.method public abstract setNotificationsEnabled(Z)Z
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+.end method
diff -Npru stock_framework/smali/android/privacy/IPrivacySettingsManager$Stub$Proxy.smali pdroid_framework/smali/android/privacy/IPrivacySettingsManager$Stub$Proxy.smali
--- stock_framework/smali/android/privacy/IPrivacySettingsManager$Stub$Proxy.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid_framework/smali/android/privacy/IPrivacySettingsManager$Stub$Proxy.smali	2012-07-02 22:52:42.603946053 -0700
@@ -0,0 +1,743 @@
+.class Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;
+.super Ljava/lang/Object;
+.source "IPrivacySettingsManager.java"
+
+# interfaces
+.implements Landroid/privacy/IPrivacySettingsManager;
+
+
+# annotations
+.annotation system Ldalvik/annotation/EnclosingClass;
+    value = Landroid/privacy/IPrivacySettingsManager$Stub;
+.end annotation
+
+.annotation system Ldalvik/annotation/InnerClass;
+    accessFlags = 0xa
+    name = "Proxy"
+.end annotation
+
+
+# instance fields
+.field private mRemote:Landroid/os/IBinder;
+
+
+# direct methods
+.method constructor <init>(Landroid/os/IBinder;)V
+    .registers 2
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    iput-object p1, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public addObserver(Ljava/lang/String;)V
+    .registers 7
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_8
+    const-string v2, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v2}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    invoke-virtual {v0, p1}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-object v2, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/4 v3, 0x6
+
+    const/4 v4, 0x0
+
+    invoke-interface {v2, v3, v0, v1, v4}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+    :try_end_1a
+    .catchall {:try_start_8 .. :try_end_1a} :catchall_21
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return-void
+
+    :catchall_21
+    move-exception v2
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v2
+.end method
+
+.method public asBinder()Landroid/os/IBinder;
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    return-object v0
+.end method
+
+.method public deleteSettings(Ljava/lang/String;)Z
+    .registers 8
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_9
+    const-string v3, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v3}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    invoke-virtual {v0, p1}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-object v3, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/4 v4, 0x3
+
+    const/4 v5, 0x0
+
+    invoke-interface {v3, v4, v0, v1, v5}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readInt()I
+    :try_end_1e
+    .catchall {:try_start_9 .. :try_end_1e} :catchall_29
+
+    move-result v3
+
+    if-eqz v3, :cond_22
+
+    const/4 v2, 0x1
+
+    :cond_22
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return v2
+
+    :catchall_29
+    move-exception v3
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v3
+.end method
+
+.method public getInterfaceDescriptor()Ljava/lang/String;
+    .registers 2
+
+    const-string v0, "android.privacy.IPrivacySettingsManager"
+
+    return-object v0
+.end method
+
+.method public getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+    .registers 8
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_8
+    const-string v3, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v3}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    invoke-virtual {v0, p1}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-object v3, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/4 v4, 0x1
+
+    const/4 v5, 0x0
+
+    invoke-interface {v3, v4, v0, v1, v5}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readInt()I
+
+    move-result v3
+
+    if-eqz v3, :cond_2f
+
+    sget-object v3, Landroid/privacy/PrivacySettings;->CREATOR:Landroid/os/Parcelable$Creator;
+
+    invoke-interface {v3, v1}, Landroid/os/Parcelable$Creator;->createFromParcel(Landroid/os/Parcel;)Ljava/lang/Object;
+
+    move-result-object v2
+
+    check-cast v2, Landroid/privacy/PrivacySettings;
+    :try_end_28
+    .catchall {:try_start_8 .. :try_end_28} :catchall_31
+
+    :goto_28
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return-object v2
+
+    :cond_2f
+    const/4 v2, 0x0
+
+    goto :goto_28
+
+    :catchall_31
+    move-exception v3
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v3
+.end method
+
+.method public getVersion()D
+    .registers 8
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_8
+    const-string v4, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v4}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    iget-object v4, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/16 v5, 0x8
+
+    const/4 v6, 0x0
+
+    invoke-interface {v4, v5, v0, v1, v6}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readDouble()D
+    :try_end_1b
+    .catchall {:try_start_8 .. :try_end_1b} :catchall_23
+
+    move-result-wide v2
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return-wide v2
+
+    :catchall_23
+    move-exception v4
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v4
+.end method
+
+.method public notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+    .registers 10
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_8
+    const-string v2, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v2}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    invoke-virtual {v0, p1}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    invoke-virtual {v0, p2}, Landroid/os/Parcel;->writeByte(B)V
+
+    invoke-virtual {v0, p3}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    invoke-virtual {v0, p4}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-object v2, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/4 v3, 0x4
+
+    const/4 v4, 0x0
+
+    invoke-interface {v2, v3, v0, v1, v4}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+    :try_end_23
+    .catchall {:try_start_8 .. :try_end_23} :catchall_2a
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return-void
+
+    :catchall_2a
+    move-exception v2
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v2
+.end method
+
+.method public purgeSettings()Z
+    .registers 7
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    const/4 v2, 0x0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_9
+    const-string v3, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v3}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    iget-object v3, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/4 v4, 0x7
+
+    const/4 v5, 0x0
+
+    invoke-interface {v3, v4, v0, v1, v5}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readInt()I
+    :try_end_1b
+    .catchall {:try_start_9 .. :try_end_1b} :catchall_26
+
+    move-result v3
+
+    if-eqz v3, :cond_1f
+
+    const/4 v2, 0x1
+
+    :cond_1f
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return v2
+
+    :catchall_26
+    move-exception v3
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v3
+.end method
+
+.method public registerObservers()V
+    .registers 6
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_8
+    const-string v2, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v2}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    iget-object v2, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/4 v3, 0x5
+
+    const/4 v4, 0x0
+
+    invoke-interface {v2, v3, v0, v1, v4}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+    :try_end_17
+    .catchall {:try_start_8 .. :try_end_17} :catchall_1e
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return-void
+
+    :catchall_1e
+    move-exception v2
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v2
+.end method
+
+.method public saveSettings(Landroid/privacy/PrivacySettings;)Z
+    .registers 9
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    const/4 v2, 0x1
+
+    const/4 v3, 0x0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_a
+    const-string v4, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v4}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    if-eqz p1, :cond_30
+
+    const/4 v4, 0x1
+
+    invoke-virtual {v0, v4}, Landroid/os/Parcel;->writeInt(I)V
+
+    const/4 v4, 0x0
+
+    invoke-virtual {p1, v0, v4}, Landroid/privacy/PrivacySettings;->writeToParcel(Landroid/os/Parcel;I)V
+
+    :goto_19
+    iget-object v4, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/4 v5, 0x2
+
+    const/4 v6, 0x0
+
+    invoke-interface {v4, v5, v0, v1, v6}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readInt()I
+    :try_end_26
+    .catchall {:try_start_a .. :try_end_26} :catchall_35
+
+    move-result v4
+
+    if-eqz v4, :cond_3d
+
+    :goto_29
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return v2
+
+    :cond_30
+    const/4 v4, 0x0
+
+    :try_start_31
+    invoke-virtual {v0, v4}, Landroid/os/Parcel;->writeInt(I)V
+    :try_end_34
+    .catchall {:try_start_31 .. :try_end_34} :catchall_35
+
+    goto :goto_19
+
+    :catchall_35
+    move-exception v3
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v3
+
+    :cond_3d
+    move v2, v3
+
+    goto :goto_29
+.end method
+
+.method public setBootCompleted()V
+    .registers 6
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_8
+    const-string v2, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v2}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    iget-object v2, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/16 v3, 0xb
+
+    const/4 v4, 0x0
+
+    invoke-interface {v2, v3, v0, v1, v4}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+    :try_end_18
+    .catchall {:try_start_8 .. :try_end_18} :catchall_1f
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return-void
+
+    :catchall_1f
+    move-exception v2
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v2
+.end method
+
+.method public setEnabled(Z)Z
+    .registers 9
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    const/4 v2, 0x1
+
+    const/4 v3, 0x0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_a
+    const-string v4, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v4}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    if-eqz p1, :cond_2d
+
+    move v4, v2
+
+    :goto_12
+    invoke-virtual {v0, v4}, Landroid/os/Parcel;->writeInt(I)V
+
+    iget-object v4, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/16 v5, 0x9
+
+    const/4 v6, 0x0
+
+    invoke-interface {v4, v5, v0, v1, v6}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readInt()I
+    :try_end_23
+    .catchall {:try_start_a .. :try_end_23} :catchall_31
+
+    move-result v4
+
+    if-eqz v4, :cond_2f
+
+    :goto_26
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return v2
+
+    :cond_2d
+    move v4, v3
+
+    goto :goto_12
+
+    :cond_2f
+    move v2, v3
+
+    goto :goto_26
+
+    :catchall_31
+    move-exception v3
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v3
+.end method
+
+.method public setNotificationsEnabled(Z)Z
+    .registers 9
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    const/4 v2, 0x1
+
+    const/4 v3, 0x0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v0
+
+    invoke-static {}, Landroid/os/Parcel;->obtain()Landroid/os/Parcel;
+
+    move-result-object v1
+
+    :try_start_a
+    const-string v4, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {v0, v4}, Landroid/os/Parcel;->writeInterfaceToken(Ljava/lang/String;)V
+
+    if-eqz p1, :cond_2d
+
+    move v4, v2
+
+    :goto_12
+    invoke-virtual {v0, v4}, Landroid/os/Parcel;->writeInt(I)V
+
+    iget-object v4, p0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;->mRemote:Landroid/os/IBinder;
+
+    const/16 v5, 0xa
+
+    const/4 v6, 0x0
+
+    invoke-interface {v4, v5, v0, v1, v6}, Landroid/os/IBinder;->transact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readException()V
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->readInt()I
+    :try_end_23
+    .catchall {:try_start_a .. :try_end_23} :catchall_31
+
+    move-result v4
+
+    if-eqz v4, :cond_2f
+
+    :goto_26
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    return v2
+
+    :cond_2d
+    move v4, v3
+
+    goto :goto_12
+
+    :cond_2f
+    move v2, v3
+
+    goto :goto_26
+
+    :catchall_31
+    move-exception v3
+
+    invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
+
+    invoke-virtual {v0}, Landroid/os/Parcel;->recycle()V
+
+    throw v3
+.end method
diff -Npru stock_framework/smali/android/privacy/IPrivacySettingsManager$Stub.smali pdroid_framework/smali/android/privacy/IPrivacySettingsManager$Stub.smali
--- stock_framework/smali/android/privacy/IPrivacySettingsManager$Stub.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid_framework/smali/android/privacy/IPrivacySettingsManager$Stub.smali	2012-07-02 22:52:42.631952763 -0700
@@ -0,0 +1,412 @@
+.class public abstract Landroid/privacy/IPrivacySettingsManager$Stub;
+.super Landroid/os/Binder;
+.source "IPrivacySettingsManager.java"
+
+# interfaces
+.implements Landroid/privacy/IPrivacySettingsManager;
+
+
+# annotations
+.annotation system Ldalvik/annotation/EnclosingClass;
+    value = Landroid/privacy/IPrivacySettingsManager;
+.end annotation
+
+.annotation system Ldalvik/annotation/InnerClass;
+    accessFlags = 0x409
+    name = "Stub"
+.end annotation
+
+.annotation system Ldalvik/annotation/MemberClasses;
+    value = {
+        Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;
+    }
+.end annotation
+
+
+# static fields
+.field private static final DESCRIPTOR:Ljava/lang/String; = "android.privacy.IPrivacySettingsManager"
+
+.field static final TRANSACTION_addObserver:I = 0x6
+
+.field static final TRANSACTION_deleteSettings:I = 0x3
+
+.field static final TRANSACTION_getSettings:I = 0x1
+
+.field static final TRANSACTION_getVersion:I = 0x8
+
+.field static final TRANSACTION_notification:I = 0x4
+
+.field static final TRANSACTION_purgeSettings:I = 0x7
+
+.field static final TRANSACTION_registerObservers:I = 0x5
+
+.field static final TRANSACTION_saveSettings:I = 0x2
+
+.field static final TRANSACTION_setBootCompleted:I = 0xb
+
+.field static final TRANSACTION_setEnabled:I = 0x9
+
+.field static final TRANSACTION_setNotificationsEnabled:I = 0xa
+
+
+# direct methods
+.method public constructor <init>()V
+    .registers 2
+
+    invoke-direct {p0}, Landroid/os/Binder;-><init>()V
+
+    const-string v0, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p0, p0, v0}, Landroid/privacy/IPrivacySettingsManager$Stub;->attachInterface(Landroid/os/IInterface;Ljava/lang/String;)V
+
+    return-void
+.end method
+
+.method public static asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+    .registers 3
+
+    if-nez p0, :cond_4
+
+    const/4 v0, 0x0
+
+    :goto_3
+    return-object v0
+
+    :cond_4
+    const-string v1, "android.privacy.IPrivacySettingsManager"
+
+    invoke-interface {p0, v1}, Landroid/os/IBinder;->queryLocalInterface(Ljava/lang/String;)Landroid/os/IInterface;
+
+    move-result-object v0
+
+    if-eqz v0, :cond_13
+
+    instance-of v1, v0, Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v1, :cond_13
+
+    check-cast v0, Landroid/privacy/IPrivacySettingsManager;
+
+    goto :goto_3
+
+    :cond_13
+    new-instance v0, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;
+
+    invoke-direct {v0, p0}, Landroid/privacy/IPrivacySettingsManager$Stub$Proxy;-><init>(Landroid/os/IBinder;)V
+
+    goto :goto_3
+.end method
+
+
+# virtual methods
+.method public asBinder()Landroid/os/IBinder;
+    .registers 1
+
+    return-object p0
+.end method
+
+.method public onTransact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+    .registers 14
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    const/4 v6, 0x0
+
+    const/4 v7, 0x1
+
+    sparse-switch p1, :sswitch_data_10e
+
+    invoke-super {p0, p1, p2, p3, p4}, Landroid/os/Binder;->onTransact(ILandroid/os/Parcel;Landroid/os/Parcel;I)Z
+
+    move-result v7
+
+    :goto_9
+    return v7
+
+    :sswitch_a
+    const-string v6, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p3, v6}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    goto :goto_9
+
+    :sswitch_10
+    const-string v8, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v8}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-virtual {p0, v0}, Landroid/privacy/IPrivacySettingsManager$Stub;->getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+
+    move-result-object v4
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    if-eqz v4, :cond_29
+
+    invoke-virtual {p3, v7}, Landroid/os/Parcel;->writeInt(I)V
+
+    invoke-virtual {v4, p3, v7}, Landroid/privacy/PrivacySettings;->writeToParcel(Landroid/os/Parcel;I)V
+
+    goto :goto_9
+
+    :cond_29
+    invoke-virtual {p3, v6}, Landroid/os/Parcel;->writeInt(I)V
+
+    goto :goto_9
+
+    :sswitch_2d
+    const-string v8, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v8}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readInt()I
+
+    move-result v8
+
+    if-eqz v8, :cond_4e
+
+    sget-object v8, Landroid/privacy/PrivacySettings;->CREATOR:Landroid/os/Parcelable$Creator;
+
+    invoke-interface {v8, p2}, Landroid/os/Parcelable$Creator;->createFromParcel(Landroid/os/Parcel;)Ljava/lang/Object;
+
+    move-result-object v0
+
+    check-cast v0, Landroid/privacy/PrivacySettings;
+
+    :goto_40
+    invoke-virtual {p0, v0}, Landroid/privacy/IPrivacySettingsManager$Stub;->saveSettings(Landroid/privacy/PrivacySettings;)Z
+
+    move-result v4
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    if-eqz v4, :cond_4a
+
+    move v6, v7
+
+    :cond_4a
+    invoke-virtual {p3, v6}, Landroid/os/Parcel;->writeInt(I)V
+
+    goto :goto_9
+
+    :cond_4e
+    const/4 v0, 0x0
+
+    goto :goto_40
+
+    :sswitch_50
+    const-string v8, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v8}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-virtual {p0, v0}, Landroid/privacy/IPrivacySettingsManager$Stub;->deleteSettings(Ljava/lang/String;)Z
+
+    move-result v4
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    if-eqz v4, :cond_63
+
+    move v6, v7
+
+    :cond_63
+    invoke-virtual {p3, v6}, Landroid/os/Parcel;->writeInt(I)V
+
+    goto :goto_9
+
+    :sswitch_67
+    const-string v6, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v6}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-virtual {p0, v0, v1, v2, v3}, Landroid/privacy/IPrivacySettingsManager$Stub;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    goto :goto_9
+
+    :sswitch_83
+    const-string v6, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v6}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p0}, Landroid/privacy/IPrivacySettingsManager$Stub;->registerObservers()V
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    goto/16 :goto_9
+
+    :sswitch_90
+    const-string v6, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v6}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-virtual {p0, v0}, Landroid/privacy/IPrivacySettingsManager$Stub;->addObserver(Ljava/lang/String;)V
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    goto/16 :goto_9
+
+    :sswitch_a1
+    const-string v8, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v8}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p0}, Landroid/privacy/IPrivacySettingsManager$Stub;->purgeSettings()Z
+
+    move-result v4
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    if-eqz v4, :cond_b0
+
+    move v6, v7
+
+    :cond_b0
+    invoke-virtual {p3, v6}, Landroid/os/Parcel;->writeInt(I)V
+
+    goto/16 :goto_9
+
+    :sswitch_b5
+    const-string v6, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v6}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p0}, Landroid/privacy/IPrivacySettingsManager$Stub;->getVersion()D
+
+    move-result-wide v4
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    invoke-virtual {p3, v4, v5}, Landroid/os/Parcel;->writeDouble(D)V
+
+    goto/16 :goto_9
+
+    :sswitch_c6
+    const-string v8, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v8}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readInt()I
+
+    move-result v8
+
+    if-eqz v8, :cond_e1
+
+    move v0, v7
+
+    :goto_d2
+    invoke-virtual {p0, v0}, Landroid/privacy/IPrivacySettingsManager$Stub;->setEnabled(Z)Z
+
+    move-result v4
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    if-eqz v4, :cond_dc
+
+    move v6, v7
+
+    :cond_dc
+    invoke-virtual {p3, v6}, Landroid/os/Parcel;->writeInt(I)V
+
+    goto/16 :goto_9
+
+    :cond_e1
+    move v0, v6
+
+    goto :goto_d2
+
+    :sswitch_e3
+    const-string v8, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v8}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p2}, Landroid/os/Parcel;->readInt()I
+
+    move-result v8
+
+    if-eqz v8, :cond_fe
+
+    move v0, v7
+
+    :goto_ef
+    invoke-virtual {p0, v0}, Landroid/privacy/IPrivacySettingsManager$Stub;->setNotificationsEnabled(Z)Z
+
+    move-result v4
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    if-eqz v4, :cond_f9
+
+    move v6, v7
+
+    :cond_f9
+    invoke-virtual {p3, v6}, Landroid/os/Parcel;->writeInt(I)V
+
+    goto/16 :goto_9
+
+    :cond_fe
+    move v0, v6
+
+    goto :goto_ef
+
+    :sswitch_100
+    const-string v6, "android.privacy.IPrivacySettingsManager"
+
+    invoke-virtual {p2, v6}, Landroid/os/Parcel;->enforceInterface(Ljava/lang/String;)V
+
+    invoke-virtual {p0}, Landroid/privacy/IPrivacySettingsManager$Stub;->setBootCompleted()V
+
+    invoke-virtual {p3}, Landroid/os/Parcel;->writeNoException()V
+
+    goto/16 :goto_9
+
+    nop
+
+    :sswitch_data_10e
+    .sparse-switch
+        0x1 -> :sswitch_10
+        0x2 -> :sswitch_2d
+        0x3 -> :sswitch_50
+        0x4 -> :sswitch_67
+        0x5 -> :sswitch_83
+        0x6 -> :sswitch_90
+        0x7 -> :sswitch_a1
+        0x8 -> :sswitch_b5
+        0x9 -> :sswitch_c6
+        0xa -> :sswitch_e3
+        0xb -> :sswitch_100
+        0x5f4e5446 -> :sswitch_a
+    .end sparse-switch
+.end method
diff -Npru stock_framework/smali/android/privacy/PrivacyFileObserver.smali pdroid_framework/smali/android/privacy/PrivacyFileObserver.smali
--- stock_framework/smali/android/privacy/PrivacyFileObserver.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid_framework/smali/android/privacy/PrivacyFileObserver.smali	2012-07-02 22:52:42.632953003 -0700
@@ -0,0 +1,217 @@
+.class public Landroid/privacy/PrivacyFileObserver;
+.super Landroid/os/FileObserver;
+.source "PrivacyFileObserver.java"
+
+
+# static fields
+.field public static final PACKAGE_PATH_INDEX:I = 0x3
+
+.field public static final TAG:Ljava/lang/String; = "PrivacyFileObserver"
+
+
+# instance fields
+.field public absolutePath:Ljava/lang/String;
+
+.field public children:Ljava/util/HashMap;
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "Ljava/util/HashMap",
+            "<",
+            "Ljava/lang/String;",
+            "Landroid/privacy/PrivacyFileObserver;",
+            ">;"
+        }
+    .end annotation
+.end field
+
+.field private pSetManServ:Landroid/privacy/PrivacySettingsManagerService;
+
+
+# direct methods
+.method public constructor <init>(Ljava/lang/String;Landroid/privacy/PrivacySettingsManagerService;)V
+    .registers 12
+
+    const/16 v8, 0xfff
+
+    invoke-direct {p0, p1, v8}, Landroid/os/FileObserver;-><init>(Ljava/lang/String;I)V
+
+    iput-object p1, p0, Landroid/privacy/PrivacyFileObserver;->absolutePath:Ljava/lang/String;
+
+    iput-object p2, p0, Landroid/privacy/PrivacyFileObserver;->pSetManServ:Landroid/privacy/PrivacySettingsManagerService;
+
+    new-instance v8, Ljava/util/HashMap;
+
+    invoke-direct {v8}, Ljava/util/HashMap;-><init>()V
+
+    iput-object v8, p0, Landroid/privacy/PrivacyFileObserver;->children:Ljava/util/HashMap;
+
+    new-instance v7, Ljava/io/File;
+
+    iget-object v8, p0, Landroid/privacy/PrivacyFileObserver;->absolutePath:Ljava/lang/String;
+
+    invoke-direct {v7, v8}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v7}, Ljava/io/File;->isDirectory()Z
+
+    move-result v8
+
+    if-eqz v8, :cond_42
+
+    invoke-virtual {v7}, Ljava/io/File;->listFiles()[Ljava/io/File;
+
+    move-result-object v6
+
+    move-object v0, v6
+
+    array-length v4, v0
+
+    const/4 v3, 0x0
+
+    :goto_24
+    if-ge v3, v4, :cond_42
+
+    aget-object v2, v0, v3
+
+    invoke-virtual {v2}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;
+
+    move-result-object v5
+
+    new-instance v1, Landroid/privacy/PrivacyFileObserver;
+
+    invoke-direct {v1, v5, p2}, Landroid/privacy/PrivacyFileObserver;-><init>(Ljava/lang/String;Landroid/privacy/PrivacySettingsManagerService;)V
+
+    iget-object v8, p0, Landroid/privacy/PrivacyFileObserver;->children:Ljava/util/HashMap;
+
+    invoke-virtual {v8, v5, v1}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
+
+    invoke-virtual {v2}, Ljava/io/File;->isFile()Z
+
+    move-result v8
+
+    if-eqz v8, :cond_3f
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacyFileObserver;->startWatching()V
+
+    :cond_3f
+    add-int/lit8 v3, v3, 0x1
+
+    goto :goto_24
+
+    :cond_42
+    return-void
+.end method
+
+
+# virtual methods
+.method public addObserver(Ljava/lang/String;)V
+    .registers 6
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    iget-object v3, p0, Landroid/privacy/PrivacyFileObserver;->absolutePath:Ljava/lang/String;
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    const-string v3, "/"
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/PrivacyFileObserver;->children:Ljava/util/HashMap;
+
+    invoke-virtual {v2, v1}, Ljava/util/HashMap;->remove(Ljava/lang/Object;)Ljava/lang/Object;
+
+    new-instance v0, Landroid/privacy/PrivacyFileObserver;
+
+    iget-object v2, p0, Landroid/privacy/PrivacyFileObserver;->pSetManServ:Landroid/privacy/PrivacySettingsManagerService;
+
+    invoke-direct {v0, v1, v2}, Landroid/privacy/PrivacyFileObserver;-><init>(Ljava/lang/String;Landroid/privacy/PrivacySettingsManagerService;)V
+
+    iget-object v2, p0, Landroid/privacy/PrivacyFileObserver;->children:Ljava/util/HashMap;
+
+    invoke-virtual {v2, v1, v0}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
+
+    return-void
+.end method
+
+.method public onEvent(ILjava/lang/String;)V
+    .registers 11
+
+    and-int/lit8 v4, p1, 0x1
+
+    if-eqz v4, :cond_34
+
+    new-instance v3, Ljava/util/StringTokenizer;
+
+    iget-object v4, p0, Landroid/privacy/PrivacyFileObserver;->absolutePath:Ljava/lang/String;
+
+    const-string v5, "/"
+
+    invoke-direct {v3, v4, v5}, Ljava/util/StringTokenizer;-><init>(Ljava/lang/String;Ljava/lang/String;)V
+
+    const/4 v0, 0x0
+
+    :goto_e
+    const/4 v4, 0x3
+
+    if-ge v0, v4, :cond_1d
+
+    invoke-virtual {v3}, Ljava/util/StringTokenizer;->hasMoreElements()Z
+
+    move-result v4
+
+    if-eqz v4, :cond_1d
+
+    invoke-virtual {v3}, Ljava/util/StringTokenizer;->nextToken()Ljava/lang/String;
+
+    add-int/lit8 v0, v0, 0x1
+
+    goto :goto_e
+
+    :cond_1d
+    invoke-virtual {v3}, Ljava/util/StringTokenizer;->nextToken()Ljava/lang/String;
+
+    move-result-object v2
+
+    iget-object v4, p0, Landroid/privacy/PrivacyFileObserver;->pSetManServ:Landroid/privacy/PrivacySettingsManagerService;
+
+    invoke-virtual {v4, v2}, Landroid/privacy/PrivacySettingsManagerService;->getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+
+    move-result-object v1
+
+    iget-object v4, p0, Landroid/privacy/PrivacyFileObserver;->pSetManServ:Landroid/privacy/PrivacySettingsManagerService;
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getSystemLogsSetting()B
+
+    move-result v5
+
+    const-string/jumbo v6, "systemLogs"
+
+    const/4 v7, 0x0
+
+    invoke-virtual {v4, v2, v5, v6, v7}, Landroid/privacy/PrivacySettingsManagerService;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+
+    :cond_34
+    return-void
+.end method
+
+.method public startWatching()V
+    .registers 1
+
+    invoke-super {p0}, Landroid/os/FileObserver;->startWatching()V
+
+    return-void
+.end method
diff -Npru stock_framework/smali/android/privacy/PrivacyPersistenceAdapter.smali pdroid_framework/smali/android/privacy/PrivacyPersistenceAdapter.smali
--- stock_framework/smali/android/privacy/PrivacyPersistenceAdapter.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid_framework/smali/android/privacy/PrivacyPersistenceAdapter.smali	2012-07-02 22:52:42.635953722 -0700
@@ -0,0 +1,4581 @@
+.class public Landroid/privacy/PrivacyPersistenceAdapter;
+.super Ljava/lang/Object;
+.source "PrivacyPersistenceAdapter.java"
+
+
+# static fields
+.field private static final CREATE_TABLE_ALLOWED_CONTACTS:Ljava/lang/String; = "CREATE TABLE IF NOT EXISTS allowed_contacts ( settings_id, contact_id, PRIMARY KEY(settings_id, contact_id) );"
+
+.field private static final CREATE_TABLE_MAP:Ljava/lang/String; = "CREATE TABLE IF NOT EXISTS map ( name TEXT PRIMARY KEY, value TEXT );"
+
+.field private static final CREATE_TABLE_SETTINGS:Ljava/lang/String; = "CREATE TABLE IF NOT EXISTS settings (  _id INTEGER PRIMARY KEY AUTOINCREMENT,  packageName TEXT,  uid INTEGER,  deviceIdSetting INTEGER,  deviceId TEXT,  line1NumberSetting INTEGER,  line1Number TEXT,  locationGpsSetting INTEGER,  locationGpsLat TEXT,  locationGpsLon TEXT,  locationNetworkSetting INTEGER,  locationNetworkLat TEXT,  locationNetworkLon TEXT,  networkInfoSetting INTEGER,  simInfoSetting INTEGER,  simSerialNumberSetting INTEGER,  simSerialNumber TEXT,  subscriberIdSetting INTEGER,  subscriberId TEXT,  accountsSetting INTEGER,  accountsAuthTokensSetting INTEGER,  outgoingCallsSetting INTEGER,  incomingCallsSetting INTEGER,  contactsSetting INTEGER,  calendarSetting INTEGER,  mmsSetting INTEGER,  smsSetting INTEGER,  callLogSetting INTEGER,  bookmarksSetting INTEGER,  systemLogsSetting INTEGER,  externalStorageSetting INTEGER,  cameraSetting INTEGER,  recordAudioSetting INTEGER,  notificationSetting INTEGER,  intentBootCompletedSetting INTEGER);"
+
+.field private static final DATABASE_FIELDS:[Ljava/lang/String; = null
+
+.field private static final DATABASE_FILE:Ljava/lang/String; = "/data/system/privacy.db"
+
+.field private static final DATABASE_VERSION:I = 0x3
+
+.field public static final DUMMY_UID:I = -0x1
+
+.field private static final INSERT_ENABLED:Ljava/lang/String; = "INSERT OR REPLACE INTO map (name, value) VALUES (\"enabled\", \"1\");"
+
+.field private static final INSERT_NOTIFICATIONS_ENABLED:Ljava/lang/String; = "INSERT OR REPLACE INTO map (name, value) VALUES (\"notifications_enabled\", \"1\");"
+
+.field private static final INSERT_VERSION:Ljava/lang/String; = "INSERT OR REPLACE INTO map (name, value) VALUES (\"db_version\", 3);"
+
+.field private static final RETRY_QUERY_COUNT:I = 0x5
+
+.field public static final SETTINGS_DIRECTORY:Ljava/lang/String; = "/data/system/privacy"
+
+.field public static final SETTING_DB_VERSION:Ljava/lang/String; = "db_version"
+
+.field public static final SETTING_ENABLED:Ljava/lang/String; = "enabled"
+
+.field public static final SETTING_NOTIFICATIONS_ENABLED:Ljava/lang/String; = "notifications_enabled"
+
+.field private static final TABLE_ALLOWED_CONTACTS:Ljava/lang/String; = "allowed_contacts"
+
+.field private static final TABLE_MAP:Ljava/lang/String; = "map"
+
+.field private static final TABLE_SETTINGS:Ljava/lang/String; = "settings"
+
+.field private static final TABLE_VERSION:Ljava/lang/String; = "version"
+
+.field private static final TAG:Ljava/lang/String; = "PrivacyPersistenceAdapter"
+
+.field public static final VALUE_FALSE:Ljava/lang/String; = "0"
+
+.field public static final VALUE_TRUE:Ljava/lang/String; = "1"
+
+.field public static readingThreads:Ljava/lang/Integer;
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private db:Landroid/database/sqlite/SQLiteDatabase;
+
+
+# direct methods
+.method static constructor <clinit>()V
+    .registers 3
+
+    const/4 v2, 0x0
+
+    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v0
+
+    sput-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    const/16 v0, 0x23
+
+    new-array v0, v0, [Ljava/lang/String;
+
+    const-string v1, "_id"
+
+    aput-object v1, v0, v2
+
+    const/4 v1, 0x1
+
+    const-string/jumbo v2, "packageName"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x2
+
+    const-string/jumbo v2, "uid"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x3
+
+    const-string v2, "deviceIdSetting"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x4
+
+    const-string v2, "deviceId"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x5
+
+    const-string v2, "line1NumberSetting"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x6
+
+    const-string v2, "line1Number"
+
+    aput-object v2, v0, v1
+
+    const/4 v1, 0x7
+
+    const-string v2, "locationGpsSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x8
+
+    const-string v2, "locationGpsLat"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x9
+
+    const-string v2, "locationGpsLon"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xa
+
+    const-string v2, "locationNetworkSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xb
+
+    const-string v2, "locationNetworkLat"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xc
+
+    const-string v2, "locationNetworkLon"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xd
+
+    const-string/jumbo v2, "networkInfoSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xe
+
+    const-string/jumbo v2, "simInfoSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0xf
+
+    const-string/jumbo v2, "simSerialNumberSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x10
+
+    const-string/jumbo v2, "simSerialNumber"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x11
+
+    const-string/jumbo v2, "subscriberIdSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x12
+
+    const-string/jumbo v2, "subscriberId"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x13
+
+    const-string v2, "accountsSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x14
+
+    const-string v2, "accountsAuthTokensSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x15
+
+    const-string/jumbo v2, "outgoingCallsSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x16
+
+    const-string v2, "incomingCallsSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x17
+
+    const-string v2, "contactsSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x18
+
+    const-string v2, "calendarSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x19
+
+    const-string/jumbo v2, "mmsSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x1a
+
+    const-string/jumbo v2, "smsSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x1b
+
+    const-string v2, "callLogSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x1c
+
+    const-string v2, "bookmarksSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x1d
+
+    const-string/jumbo v2, "systemLogsSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x1e
+
+    const-string v2, "externalStorageSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x1f
+
+    const-string v2, "cameraSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x20
+
+    const-string/jumbo v2, "recordAudioSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x21
+
+    const-string/jumbo v2, "notificationSetting"
+
+    aput-object v2, v0, v1
+
+    const/16 v1, 0x22
+
+    const-string v2, "intentBootCompletedSetting"
+
+    aput-object v2, v0, v1
+
+    sput-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->DATABASE_FIELDS:[Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public constructor <init>(Landroid/content/Context;)V
+    .registers 6
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    iput-object p1, p0, Landroid/privacy/PrivacyPersistenceAdapter;->context:Landroid/content/Context;
+
+    new-instance v2, Ljava/io/File;
+
+    const-string v3, "/data/system/"
+
+    invoke-direct {v2, v3}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v2}, Ljava/io/File;->canWrite()Z
+
+    move-result v0
+
+    if-eqz v0, :cond_3c
+
+    new-instance v2, Ljava/io/File;
+
+    const-string v3, "/data/system/privacy.db"
+
+    invoke-direct {v2, v3}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v2}, Ljava/io/File;->exists()Z
+
+    move-result v2
+
+    if-nez v2, :cond_22
+
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->createDatabase()V
+
+    :cond_22
+    new-instance v2, Ljava/io/File;
+
+    const-string v3, "/data/system/privacy"
+
+    invoke-direct {v2, v3}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v2}, Ljava/io/File;->exists()Z
+
+    move-result v2
+
+    if-nez v2, :cond_32
+
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->createSettingsDir()V
+
+    :cond_32
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getDbVersion()I
+
+    move-result v1
+
+    const/4 v2, 0x3
+
+    if-ge v1, v2, :cond_3c
+
+    invoke-direct {p0, v1}, Landroid/privacy/PrivacyPersistenceAdapter;->upgradeDatabase(I)V
+
+    :cond_3c
+    return-void
+.end method
+
+.method private declared-synchronized createDatabase()V
+    .registers 6
+
+    monitor-enter p0
+
+    :try_start_1
+    const-string v2, "PrivacyPersistenceAdapter"
+
+    const-string v3, "createDatabase - creating privacy database file"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_8
+    .catchall {:try_start_1 .. :try_end_8} :catchall_4c
+
+    :try_start_8
+    const-string v2, "/data/system/privacy.db"
+
+    const/4 v3, 0x0
+
+    const/high16 v4, 0x1000
+
+    invoke-static {v2, v3, v4}, Landroid/database/sqlite/SQLiteDatabase;->openDatabase(Ljava/lang/String;Landroid/database/sqlite/SQLiteDatabase$CursorFactory;I)Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object v0
+
+    const-string v2, "PrivacyPersistenceAdapter"
+
+    const-string v3, "createDatabase - creating privacy database"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    const-string v2, "CREATE TABLE IF NOT EXISTS settings (  _id INTEGER PRIMARY KEY AUTOINCREMENT,  packageName TEXT,  uid INTEGER,  deviceIdSetting INTEGER,  deviceId TEXT,  line1NumberSetting INTEGER,  line1Number TEXT,  locationGpsSetting INTEGER,  locationGpsLat TEXT,  locationGpsLon TEXT,  locationNetworkSetting INTEGER,  locationNetworkLat TEXT,  locationNetworkLon TEXT,  networkInfoSetting INTEGER,  simInfoSetting INTEGER,  simSerialNumberSetting INTEGER,  simSerialNumber TEXT,  subscriberIdSetting INTEGER,  subscriberId TEXT,  accountsSetting INTEGER,  accountsAuthTokensSetting INTEGER,  outgoingCallsSetting INTEGER,  incomingCallsSetting INTEGER,  contactsSetting INTEGER,  calendarSetting INTEGER,  mmsSetting INTEGER,  smsSetting INTEGER,  callLogSetting INTEGER,  bookmarksSetting INTEGER,  systemLogsSetting INTEGER,  externalStorageSetting INTEGER,  cameraSetting INTEGER,  recordAudioSetting INTEGER,  notificationSetting INTEGER,  intentBootCompletedSetting INTEGER);"
+
+    invoke-virtual {v0, v2}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v2, "CREATE TABLE IF NOT EXISTS allowed_contacts ( settings_id, contact_id, PRIMARY KEY(settings_id, contact_id) );"
+
+    invoke-virtual {v0, v2}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v2, "CREATE TABLE IF NOT EXISTS map ( name TEXT PRIMARY KEY, value TEXT );"
+
+    invoke-virtual {v0, v2}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v2, "INSERT OR REPLACE INTO map (name, value) VALUES (\"db_version\", 3);"
+
+    invoke-virtual {v0, v2}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v2, "INSERT OR REPLACE INTO map (name, value) VALUES (\"enabled\", \"1\");"
+
+    invoke-virtual {v0, v2}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v2, "INSERT OR REPLACE INTO map (name, value) VALUES (\"notifications_enabled\", \"1\");"
+
+    invoke-virtual {v0, v2}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    if-eqz v0, :cond_41
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v2
+
+    if-eqz v2, :cond_41
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+    :try_end_41
+    .catchall {:try_start_8 .. :try_end_41} :catchall_4c
+    .catch Landroid/database/SQLException; {:try_start_8 .. :try_end_41} :catch_43
+
+    :cond_41
+    :goto_41
+    monitor-exit p0
+
+    return-void
+
+    :catch_43
+    move-exception v1
+
+    :try_start_44
+    const-string v2, "PrivacyPersistenceAdapter"
+
+    const-string v3, "createDatabase - failed to create privacy database"
+
+    invoke-static {v2, v3, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+    :try_end_4b
+    .catchall {:try_start_44 .. :try_end_4b} :catchall_4c
+
+    goto :goto_41
+
+    :catchall_4c
+    move-exception v2
+
+    monitor-exit p0
+
+    throw v2
+.end method
+
+.method private declared-synchronized createSettingsDir()V
+    .registers 4
+
+    monitor-enter p0
+
+    :try_start_1
+    new-instance v0, Ljava/io/File;
+
+    const-string v1, "/data/system/privacy/"
+
+    invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v0}, Ljava/io/File;->mkdirs()Z
+
+    const/4 v1, 0x1
+
+    const/4 v2, 0x0
+
+    invoke-virtual {v0, v1, v2}, Ljava/io/File;->setReadable(ZZ)Z
+
+    const/4 v1, 0x1
+
+    const/4 v2, 0x0
+
+    invoke-virtual {v0, v1, v2}, Ljava/io/File;->setExecutable(ZZ)Z
+    :try_end_15
+    .catchall {:try_start_1 .. :try_end_15} :catchall_17
+
+    monitor-exit p0
+
+    return-void
+
+    :catchall_17
+    move-exception v1
+
+    monitor-exit p0
+
+    throw v1
+.end method
+
+.method private deleteRecursive(Ljava/io/File;)V
+    .registers 7
+
+    invoke-virtual {p1}, Ljava/io/File;->isDirectory()Z
+
+    move-result v4
+
+    if-eqz v4, :cond_16
+
+    invoke-virtual {p1}, Ljava/io/File;->listFiles()[Ljava/io/File;
+
+    move-result-object v0
+
+    array-length v3, v0
+
+    const/4 v2, 0x0
+
+    :goto_c
+    if-ge v2, v3, :cond_16
+
+    aget-object v1, v0, v2
+
+    invoke-direct {p0, v1}, Landroid/privacy/PrivacyPersistenceAdapter;->deleteRecursive(Ljava/io/File;)V
+
+    add-int/lit8 v2, v2, 0x1
+
+    goto :goto_c
+
+    :cond_16
+    invoke-virtual {p1}, Ljava/io/File;->delete()Z
+
+    return-void
+.end method
+
+.method private getDbVersion()I
+    .registers 9
+
+    const/4 v4, 0x1
+
+    const/4 v3, -0x1
+
+    sget-object v6, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v6, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v6}, Ljava/lang/Integer;->intValue()I
+
+    move-result v6
+
+    add-int/lit8 v6, v6, 0x1
+
+    invoke-static {v6}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v6
+
+    sput-object v6, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object v1
+
+    :try_start_16
+    const-string v6, "SELECT name FROM sqlite_master WHERE type=\'table\' AND name=\'map\';"
+
+    invoke-direct {p0, v1, v6}, Landroid/privacy/PrivacyPersistenceAdapter;->rawQuery(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)Landroid/database/Cursor;
+
+    move-result-object v0
+
+    if-eqz v0, :cond_5e
+
+    invoke-interface {v0}, Landroid/database/Cursor;->getCount()I
+
+    move-result v6
+
+    if-nez v6, :cond_25
+
+    const/4 v3, 0x1
+
+    :cond_25
+    invoke-interface {v0}, Landroid/database/Cursor;->close()V
+
+    sget-object v7, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    monitor-enter v7
+    :try_end_2b
+    .catch Ljava/lang/Exception; {:try_start_16 .. :try_end_2b} :catch_55
+
+    :try_start_2b
+    sget-object v6, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v6, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v6}, Ljava/lang/Integer;->intValue()I
+
+    move-result v6
+
+    add-int/lit8 v6, v6, -0x1
+
+    invoke-static {v6}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v6
+
+    sput-object v6, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v6, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v6}, Ljava/lang/Integer;->intValue()I
+
+    move-result v6
+
+    if-nez v6, :cond_4e
+
+    if-eqz v1, :cond_4e
+
+    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v6
+
+    if-eqz v6, :cond_4e
+
+    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+
+    :cond_4e
+    monitor-exit v7
+
+    :goto_4f
+    if-ne v3, v4, :cond_66
+
+    :goto_51
+    return v3
+
+    :catchall_52
+    move-exception v6
+
+    monitor-exit v7
+    :try_end_54
+    .catchall {:try_start_2b .. :try_end_54} :catchall_52
+
+    :try_start_54
+    throw v6
+    :try_end_55
+    .catch Ljava/lang/Exception; {:try_start_54 .. :try_end_55} :catch_55
+
+    :catch_55
+    move-exception v2
+
+    const-string v6, "PrivacyPersistenceAdapter"
+
+    const-string v7, "getDbVersion - failed to check if table map exists (exception)"
+
+    invoke-static {v6, v7}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_4f
+
+    :cond_5e
+    :try_start_5e
+    const-string v6, "PrivacyPersistenceAdapter"
+
+    const-string v7, "getDbVersion - failed to check if table map exists (cursor is null)"
+
+    invoke-static {v6, v7}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_65
+    .catch Ljava/lang/Exception; {:try_start_5e .. :try_end_65} :catch_55
+
+    goto :goto_4f
+
+    :cond_66
+    const-string v6, "db_version"
+
+    invoke-virtual {p0, v6}, Landroid/privacy/PrivacyPersistenceAdapter;->getValue(Ljava/lang/String;)Ljava/lang/String;
+
+    move-result-object v5
+
+    if-nez v5, :cond_70
+
+    move v3, v4
+
+    goto :goto_51
+
+    :cond_70
+    :try_start_70
+    invoke-static {v5}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I
+    :try_end_73
+    .catch Ljava/lang/Exception; {:try_start_70 .. :try_end_73} :catch_76
+
+    move-result v4
+
+    move v3, v4
+
+    goto :goto_51
+
+    :catch_76
+    move-exception v2
+
+    const-string v6, "PrivacyPersistenceAdapter"
+
+    const-string v7, "getDbVersion - failed to parse database version; returning 1"
+
+    invoke-static {v6, v7}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    move v3, v4
+
+    goto :goto_51
+.end method
+
+.method private declared-synchronized getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;
+    .registers 4
+
+    monitor-enter p0
+
+    :try_start_1
+    iget-object v0, p0, Landroid/privacy/PrivacyPersistenceAdapter;->db:Landroid/database/sqlite/SQLiteDatabase;
+
+    if-eqz v0, :cond_11
+
+    iget-object v0, p0, Landroid/privacy/PrivacyPersistenceAdapter;->db:Landroid/database/sqlite/SQLiteDatabase;
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v0
+
+    if-eqz v0, :cond_11
+
+    iget-object v0, p0, Landroid/privacy/PrivacyPersistenceAdapter;->db:Landroid/database/sqlite/SQLiteDatabase;
+    :try_end_f
+    .catchall {:try_start_1 .. :try_end_f} :catchall_1e
+
+    :goto_f
+    monitor-exit p0
+
+    return-object v0
+
+    :cond_11
+    :try_start_11
+    const-string v0, "/data/system/privacy.db"
+
+    const/4 v1, 0x0
+
+    const/4 v2, 0x1
+
+    invoke-static {v0, v1, v2}, Landroid/database/sqlite/SQLiteDatabase;->openDatabase(Ljava/lang/String;Landroid/database/sqlite/SQLiteDatabase$CursorFactory;I)Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object v0
+
+    iput-object v0, p0, Landroid/privacy/PrivacyPersistenceAdapter;->db:Landroid/database/sqlite/SQLiteDatabase;
+
+    iget-object v0, p0, Landroid/privacy/PrivacyPersistenceAdapter;->db:Landroid/database/sqlite/SQLiteDatabase;
+    :try_end_1d
+    .catchall {:try_start_11 .. :try_end_1d} :catchall_1e
+
+    goto :goto_f
+
+    :catchall_1e
+    move-exception v0
+
+    monitor-exit p0
+
+    throw v0
+.end method
+
+.method private declared-synchronized getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;
+    .registers 4
+
+    monitor-enter p0
+
+    :try_start_1
+    new-instance v0, Ljava/io/File;
+
+    const-string v1, "/data/system/privacy.db"
+
+    invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v0}, Ljava/io/File;->exists()Z
+
+    move-result v0
+
+    if-nez v0, :cond_11
+
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->createDatabase()V
+
+    :cond_11
+    iget-object v0, p0, Landroid/privacy/PrivacyPersistenceAdapter;->db:Landroid/database/sqlite/SQLiteDatabase;
+
+    if-eqz v0, :cond_29
+
+    iget-object v0, p0, Landroid/privacy/PrivacyPersistenceAdapter;->db:Landroid/database/sqlite/SQLiteDatabase;
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v0
+
+    if-eqz v0, :cond_29
+
+    iget-object v0, p0, Landroid/privacy/PrivacyPersistenceAdapter;->db:Landroid/database/sqlite/SQLiteDatabase;
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->isReadOnly()Z
+
+    move-result v0
+
+    if-nez v0, :cond_29
+
+    iget-object v0, p0, Landroid/privacy/PrivacyPersistenceAdapter;->db:Landroid/database/sqlite/SQLiteDatabase;
+    :try_end_27
+    .catchall {:try_start_1 .. :try_end_27} :catchall_36
+
+    :goto_27
+    monitor-exit p0
+
+    return-object v0
+
+    :cond_29
+    :try_start_29
+    const-string v0, "/data/system/privacy.db"
+
+    const/4 v1, 0x0
+
+    const/4 v2, 0x0
+
+    invoke-static {v0, v1, v2}, Landroid/database/sqlite/SQLiteDatabase;->openDatabase(Ljava/lang/String;Landroid/database/sqlite/SQLiteDatabase$CursorFactory;I)Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object v0
+
+    iput-object v0, p0, Landroid/privacy/PrivacyPersistenceAdapter;->db:Landroid/database/sqlite/SQLiteDatabase;
+
+    iget-object v0, p0, Landroid/privacy/PrivacyPersistenceAdapter;->db:Landroid/database/sqlite/SQLiteDatabase;
+    :try_end_35
+    .catchall {:try_start_29 .. :try_end_35} :catchall_36
+
+    goto :goto_27
+
+    :catchall_36
+    move-exception v0
+
+    monitor-exit p0
+
+    throw v0
+.end method
+
+.method private query(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
+    .registers 16
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Ljava/lang/Exception;
+        }
+    .end annotation
+
+    const/4 v0, 0x0
+
+    const/4 v3, 0x0
+
+    const/4 v2, 0x0
+
+    :goto_3
+    if-nez v3, :cond_27
+
+    const/4 v4, 0x5
+
+    if-ge v2, v4, :cond_27
+
+    if-eqz v0, :cond_d
+
+    :try_start_a
+    invoke-interface {v0}, Landroid/database/Cursor;->close()V
+
+    :cond_d
+    invoke-virtual/range {p1 .. p9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
+    :try_end_10
+    .catch Ljava/lang/IllegalStateException; {:try_start_a .. :try_end_10} :catch_15
+
+    move-result-object v0
+
+    const/4 v3, 0x1
+
+    :goto_12
+    add-int/lit8 v2, v2, 0x1
+
+    goto :goto_3
+
+    :catch_15
+    move-exception v1
+
+    const/4 v3, 0x0
+
+    if-eqz p1, :cond_22
+
+    invoke-virtual {p1}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v4
+
+    if-eqz v4, :cond_22
+
+    invoke-virtual {p1}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+
+    :cond_22
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object p1
+
+    goto :goto_12
+
+    :cond_27
+    if-nez v3, :cond_32
+
+    new-instance v4, Ljava/lang/Exception;
+
+    const-string/jumbo v5, "query - failed to execute query on the DB"
+
+    invoke-direct {v4, v5}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v4
+
+    :cond_32
+    return-object v0
+.end method
+
+.method private rawQuery(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)Landroid/database/Cursor;
+    .registers 9
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Ljava/lang/Exception;
+        }
+    .end annotation
+
+    const/4 v0, 0x0
+
+    const/4 v3, 0x0
+
+    const/4 v2, 0x0
+
+    :goto_3
+    if-nez v3, :cond_28
+
+    const/4 v4, 0x5
+
+    if-ge v2, v4, :cond_28
+
+    if-eqz v0, :cond_d
+
+    :try_start_a
+    invoke-interface {v0}, Landroid/database/Cursor;->close()V
+
+    :cond_d
+    const/4 v4, 0x0
+
+    invoke-virtual {p1, p2, v4}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;
+    :try_end_11
+    .catch Ljava/lang/IllegalStateException; {:try_start_a .. :try_end_11} :catch_16
+
+    move-result-object v0
+
+    const/4 v3, 0x1
+
+    :goto_13
+    add-int/lit8 v2, v2, 0x1
+
+    goto :goto_3
+
+    :catch_16
+    move-exception v1
+
+    const/4 v3, 0x0
+
+    if-eqz p1, :cond_23
+
+    invoke-virtual {p1}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v4
+
+    if-eqz v4, :cond_23
+
+    invoke-virtual {p1}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+
+    :cond_23
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object p1
+
+    goto :goto_13
+
+    :cond_28
+    if-nez v3, :cond_33
+
+    new-instance v4, Ljava/lang/Exception;
+
+    const-string/jumbo v5, "query - failed to execute query on the DB"
+
+    invoke-direct {v4, v5}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v4
+
+    :cond_33
+    return-object v0
+.end method
+
+.method private declared-synchronized upgradeDatabase(I)V
+    .registers 23
+
+    monitor-enter p0
+
+    :try_start_1
+    const-string v17, "PrivacyPersistenceAdapter"
+
+    new-instance v18, Ljava/lang/StringBuilder;
+
+    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v19, "upgradeDatabase - upgrading DB from version "
+
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v18
+
+    move-object/from16 v0, v18
+
+    move/from16 v1, p1
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v18
+
+    const-string v19, " to "
+
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v18
+
+    const/16 v19, 0x3
+
+    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v18
+
+    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v18
+
+    invoke-static/range {v17 .. v18}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    new-instance v6, Ljava/io/File;
+
+    const-string v17, "/data/system/privacy.db"
+
+    move-object/from16 v0, v17
+
+    invoke-direct {v6, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    new-instance v5, Ljava/io/File;
+
+    const-string v17, "/data/system/privacy.db.bak"
+
+    move-object/from16 v0, v17
+
+    invoke-direct {v5, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+    :try_end_3c
+    .catchall {:try_start_1 .. :try_end_3c} :catchall_66
+
+    :try_start_3c
+    invoke-virtual {v5}, Ljava/io/File;->delete()Z
+    :try_end_3f
+    .catchall {:try_start_3c .. :try_end_3f} :catchall_66
+    .catch Ljava/lang/SecurityException; {:try_start_3c .. :try_end_3f} :catch_5c
+
+    :goto_3f
+    :try_start_3f
+    invoke-static {v6, v5}, Landroid/os/FileUtils;->copyFile(Ljava/io/File;Ljava/io/File;)Z
+
+    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J
+
+    move-result-wide v17
+
+    invoke-virtual {v5}, Ljava/io/File;->lastModified()J
+
+    move-result-wide v19
+
+    sub-long v17, v17, v19
+
+    const-wide/16 v19, 0x7d0
+
+    cmp-long v17, v17, v19
+
+    if-lez v17, :cond_69
+
+    const-string v17, "PrivacyPersistenceAdapter"
+
+    const-string/jumbo v18, "upgradeDatabase - could not create a database backup, aborting..."
+
+    invoke-static/range {v17 .. v18}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_5a
+    .catchall {:try_start_3f .. :try_end_5a} :catchall_66
+
+    :goto_5a
+    monitor-exit p0
+
+    return-void
+
+    :catch_5c
+    move-exception v7
+
+    :try_start_5d
+    const-string v17, "PrivacyPersistenceAdapter"
+
+    const-string/jumbo v18, "upgradeDatabase - could not remove old backup"
+
+    invoke-static/range {v17 .. v18}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_65
+    .catchall {:try_start_5d .. :try_end_65} :catchall_66
+
+    goto :goto_3f
+
+    :catchall_66
+    move-exception v17
+
+    monitor-exit p0
+
+    throw v17
+
+    :cond_69
+    :try_start_69
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V
+
+    packed-switch p1, :pswitch_data_164
+
+    :cond_73
+    :goto_73
+    if-eqz v4, :cond_159
+
+    invoke-virtual {v4}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v17
+
+    if-eqz v17, :cond_159
+
+    invoke-virtual {v4}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
+
+    invoke-virtual {v4}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+
+    :goto_81
+    invoke-virtual/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->purgeSettings()Z
+    :try_end_84
+    .catchall {:try_start_69 .. :try_end_84} :catchall_66
+
+    goto :goto_5a
+
+    :pswitch_85
+    if-eqz v4, :cond_73
+
+    :try_start_87
+    invoke-virtual {v4}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v17
+
+    if-eqz v17, :cond_73
+
+    const-string v17, "DROP TABLE IF EXISTS version;"
+
+    move-object/from16 v0, v17
+
+    invoke-virtual {v4, v0}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v17, "CREATE TABLE IF NOT EXISTS allowed_contacts ( settings_id, contact_id, PRIMARY KEY(settings_id, contact_id) );"
+
+    move-object/from16 v0, v17
+
+    invoke-virtual {v4, v0}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v17, "CREATE TABLE IF NOT EXISTS map ( name TEXT PRIMARY KEY, value TEXT );"
+
+    move-object/from16 v0, v17
+
+    invoke-virtual {v4, v0}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v17, "INSERT OR REPLACE INTO map (name, value) VALUES (\"db_version\", 3);"
+
+    move-object/from16 v0, v17
+
+    invoke-virtual {v4, v0}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v17, "INSERT OR REPLACE INTO map (name, value) VALUES (\"enabled\", \"1\");"
+
+    move-object/from16 v0, v17
+
+    invoke-virtual {v4, v0}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    const-string v17, "INSERT OR REPLACE INTO map (name, value) VALUES (\"notifications_enabled\", \"1\");"
+
+    move-object/from16 v0, v17
+
+    invoke-virtual {v4, v0}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
+
+    new-instance v14, Ljava/io/File;
+
+    const-string v17, "/data/system/privacy"
+
+    move-object/from16 v0, v17
+
+    invoke-direct {v14, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v14}, Ljava/io/File;->listFiles()[Ljava/io/File;
+
+    move-result-object v2
+
+    array-length v10, v2
+
+    const/4 v8, 0x0
+
+    move v9, v8
+
+    :goto_c7
+    if-ge v9, v10, :cond_127
+
+    aget-object v13, v2, v9
+
+    invoke-virtual {v13}, Ljava/io/File;->listFiles()[Ljava/io/File;
+
+    move-result-object v3
+
+    array-length v11, v3
+
+    const/4 v8, 0x0
+
+    :goto_d1
+    if-ge v8, v11, :cond_123
+
+    aget-object v16, v3, v8
+
+    invoke-virtual/range {v16 .. v16}, Ljava/io/File;->isDirectory()Z
+
+    move-result v17
+
+    if-eqz v17, :cond_120
+
+    invoke-virtual/range {v16 .. v16}, Ljava/io/File;->listFiles()[Ljava/io/File;
+
+    move-result-object v15
+
+    const/16 v17, 0x0
+
+    aget-object v17, v15, v17
+
+    if-eqz v17, :cond_120
+
+    new-instance v12, Ljava/io/File;
+
+    new-instance v17, Ljava/lang/StringBuilder;
+
+    invoke-direct/range {v17 .. v17}, Ljava/lang/StringBuilder;-><init>()V
+
+    move-object/from16 v0, v17
+
+    invoke-virtual {v0, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v17
+
+    const-string v18, "/"
+
+    invoke-virtual/range {v17 .. v18}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v17
+
+    const/16 v18, 0x0
+
+    aget-object v18, v15, v18
+
+    invoke-virtual/range {v18 .. v18}, Ljava/io/File;->getName()Ljava/lang/String;
+
+    move-result-object v18
+
+    invoke-virtual/range {v17 .. v18}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v17
+
+    invoke-virtual/range {v17 .. v17}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v17
+
+    move-object/from16 v0, v17
+
+    invoke-direct {v12, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v12}, Ljava/io/File;->delete()Z
+
+    const/16 v17, 0x0
+
+    aget-object v17, v15, v17
+
+    move-object/from16 v0, v17
+
+    invoke-virtual {v0, v12}, Ljava/io/File;->renameTo(Ljava/io/File;)Z
+
+    move-object/from16 v0, p0
+
+    move-object/from16 v1, v16
+
+    invoke-direct {v0, v1}, Landroid/privacy/PrivacyPersistenceAdapter;->deleteRecursive(Ljava/io/File;)V
+
+    :cond_120
+    add-int/lit8 v8, v8, 0x1
+
+    goto :goto_d1
+
+    :cond_123
+    add-int/lit8 v8, v9, 0x1
+
+    move v9, v8
+
+    goto :goto_c7
+
+    :cond_127
+    invoke-virtual {v4}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V
+    :try_end_12a
+    .catchall {:try_start_87 .. :try_end_12a} :catchall_66
+    .catch Ljava/lang/Exception; {:try_start_87 .. :try_end_12a} :catch_12c
+
+    goto/16 :goto_73
+
+    :catch_12c
+    move-exception v7
+
+    if-eqz v4, :cond_13b
+
+    :try_start_12f
+    invoke-virtual {v4}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v17
+
+    if-eqz v17, :cond_13b
+
+    invoke-virtual {v4}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
+
+    invoke-virtual {v4}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+
+    :cond_13b
+    const-string v17, "PrivacyPersistenceAdapter"
+
+    const-string/jumbo v18, "upgradeDatabase - could not upgrade DB; will restore backup"
+
+    move-object/from16 v0, v17
+
+    move-object/from16 v1, v18
+
+    invoke-static {v0, v1, v7}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    invoke-static {v5, v6}, Landroid/os/FileUtils;->copyFile(Ljava/io/File;Ljava/io/File;)Z
+
+    invoke-virtual {v5}, Ljava/io/File;->delete()Z
+
+    goto/16 :goto_73
+
+    :pswitch_14f
+    const-string v17, "PrivacyPersistenceAdapter"
+
+    const-string/jumbo v18, "upgradeDatabase - trying to upgrade most current DB version"
+
+    invoke-static/range {v17 .. v18}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto/16 :goto_73
+
+    :cond_159
+    const-string v17, "PrivacyPersistenceAdapter"
+
+    const-string/jumbo v18, "upgradeDatabase - database is null or closed; cant call endTransaction()"
+
+    invoke-static/range {v17 .. v18}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_161
+    .catchall {:try_start_12f .. :try_end_161} :catchall_66
+
+    goto/16 :goto_81
+
+    nop
+
+    :pswitch_data_164
+    .packed-switch 0x1
+        :pswitch_85
+        :pswitch_85
+        :pswitch_14f
+    .end packed-switch
+.end method
+
+
+# virtual methods
+.method public declared-synchronized deleteSettings(Ljava/lang/String;)Z
+    .registers 16
+
+    monitor-enter p0
+
+    const/4 v11, 0x1
+
+    :try_start_2
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object v0
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V
+    :try_end_9
+    .catchall {:try_start_2 .. :try_end_9} :catchall_107
+
+    :try_start_9
+    const-string/jumbo v1, "settings"
+
+    const/4 v2, 0x1
+
+    new-array v2, v2, [Ljava/lang/String;
+
+    const/4 v3, 0x0
+
+    const-string v4, "_id"
+
+    aput-object v4, v2, v3
+
+    const-string/jumbo v3, "packageName=?"
+
+    const/4 v4, 0x1
+
+    new-array v4, v4, [Ljava/lang/String;
+
+    const/4 v5, 0x0
+
+    aput-object p1, v4, v5
+
+    const/4 v5, 0x0
+
+    const/4 v6, 0x0
+
+    const/4 v7, 0x0
+
+    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
+
+    move-result-object v8
+
+    if-eqz v8, :cond_4c
+
+    invoke-interface {v8}, Landroid/database/Cursor;->getCount()I
+
+    move-result v1
+
+    if-lez v1, :cond_4c
+
+    invoke-interface {v8}, Landroid/database/Cursor;->moveToFirst()Z
+
+    move-result v1
+
+    if-eqz v1, :cond_4c
+
+    const/4 v1, 0x0
+
+    invoke-interface {v8, v1}, Landroid/database/Cursor;->getInt(I)I
+
+    move-result v10
+
+    const-string v1, "allowed_contacts"
+
+    const-string/jumbo v2, "settings_id=?"
+
+    const/4 v3, 0x1
+
+    new-array v3, v3, [Ljava/lang/String;
+
+    const/4 v4, 0x0
+
+    invoke-static {v10}, Ljava/lang/Integer;->toString(I)Ljava/lang/String;
+
+    move-result-object v5
+
+    aput-object v5, v3, v4
+
+    invoke-virtual {v0, v1, v2, v3}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I
+
+    invoke-interface {v8}, Landroid/database/Cursor;->close()V
+
+    :cond_4c
+    const-string/jumbo v1, "settings"
+
+    const-string/jumbo v2, "packageName=?"
+
+    const/4 v3, 0x1
+
+    new-array v3, v3, [Ljava/lang/String;
+
+    const/4 v4, 0x0
+
+    aput-object p1, v3, v4
+
+    invoke-virtual {v0, v1, v2, v3}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I
+
+    move-result v1
+
+    if-nez v1, :cond_8d
+
+    const-string v1, "PrivacyPersistenceAdapter"
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "deleteSettings - database entry for "
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    const-string v3, " not found"
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_7c
+    .catchall {:try_start_9 .. :try_end_7c} :catchall_10a
+    .catch Ljava/lang/Exception; {:try_start_9 .. :try_end_7c} :catch_ef
+
+    const/4 v1, 0x0
+
+    :try_start_7d
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
+
+    if-eqz v0, :cond_8b
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v2
+
+    if-eqz v2, :cond_8b
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+    :try_end_8b
+    .catchall {:try_start_7d .. :try_end_8b} :catchall_107
+
+    :cond_8b
+    :goto_8b
+    monitor-exit p0
+
+    return v1
+
+    :cond_8d
+    :try_start_8d
+    new-instance v12, Ljava/io/File;
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "/data/system/privacy/"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, "/"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-direct {v12, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    new-instance v13, Ljava/io/File;
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "/data/system/privacy/"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, "/systemLogsSetting"
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-direct {v13, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v13}, Ljava/io/File;->delete()Z
+
+    invoke-virtual {v12}, Ljava/io/File;->list()[Ljava/lang/String;
+
+    move-result-object v1
+
+    if-eqz v1, :cond_d9
+
+    invoke-virtual {v12}, Ljava/io/File;->list()[Ljava/lang/String;
+
+    move-result-object v1
+
+    array-length v1, v1
+
+    if-nez v1, :cond_dc
+
+    :cond_d9
+    invoke-virtual {v12}, Ljava/io/File;->delete()Z
+
+    :cond_dc
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V
+    :try_end_df
+    .catchall {:try_start_8d .. :try_end_df} :catchall_10a
+    .catch Ljava/lang/Exception; {:try_start_8d .. :try_end_df} :catch_ef
+
+    :try_start_df
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
+
+    if-eqz v0, :cond_ed
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v1
+
+    if-eqz v1, :cond_ed
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+    :try_end_ed
+    .catchall {:try_start_df .. :try_end_ed} :catchall_107
+
+    :cond_ed
+    :goto_ed
+    move v1, v11
+
+    goto :goto_8b
+
+    :catch_ef
+    move-exception v9
+
+    const/4 v11, 0x0
+
+    :try_start_f1
+    const-string v1, "PrivacyPersistenceAdapter"
+
+    const-string v2, "deleteSettings - could not delete settings"
+
+    invoke-static {v1, v2, v9}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+    :try_end_f8
+    .catchall {:try_start_f1 .. :try_end_f8} :catchall_10a
+
+    :try_start_f8
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
+
+    if-eqz v0, :cond_ed
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v1
+
+    if-eqz v1, :cond_ed
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+    :try_end_106
+    .catchall {:try_start_f8 .. :try_end_106} :catchall_107
+
+    goto :goto_ed
+
+    :catchall_107
+    move-exception v1
+
+    monitor-exit p0
+
+    throw v1
+
+    :catchall_10a
+    move-exception v1
+
+    :try_start_10b
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
+
+    if-eqz v0, :cond_119
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v2
+
+    if-eqz v2, :cond_119
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+
+    :cond_119
+    throw v1
+    :try_end_11a
+    .catchall {:try_start_10b .. :try_end_11a} :catchall_107
+.end method
+
+.method public getSettings(Ljava/lang/String;Z)Landroid/privacy/PrivacySettings;
+    .registers 47
+
+    const/16 v43, 0x0
+
+    if-nez p1, :cond_e
+
+    const-string v1, "PrivacyPersistenceAdapter"
+
+    const-string v4, "getSettings - insufficient application identifier - package name is required"
+
+    invoke-static {v1, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    move-object/from16 v3, v43
+
+    :goto_d
+    return-object v43
+
+    :cond_e
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v1}, Ljava/lang/Integer;->intValue()I
+
+    move-result v1
+
+    add-int/lit8 v1, v1, 0x1
+
+    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v1
+
+    sput-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    :try_start_1e
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;
+    :try_end_21
+    .catch Landroid/database/sqlite/SQLiteException; {:try_start_1e .. :try_end_21} :catch_243
+
+    move-result-object v2
+
+    const/16 v41, 0x0
+
+    :try_start_24
+    const-string/jumbo v3, "settings"
+
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->DATABASE_FIELDS:[Ljava/lang/String;
+
+    const-string/jumbo v5, "packageName=?"
+
+    const/4 v1, 0x1
+
+    new-array v6, v1, [Ljava/lang/String;
+
+    const/4 v1, 0x0
+
+    aput-object p1, v6, v1
+
+    const/4 v7, 0x0
+
+    const/4 v8, 0x0
+
+    const/4 v9, 0x0
+
+    const/4 v10, 0x0
+
+    move-object/from16 v1, p0
+
+    invoke-direct/range {v1 .. v10}, Landroid/privacy/PrivacyPersistenceAdapter;->query(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
+
+    move-result-object v41
+
+    if-eqz v41, :cond_2d3
+
+    invoke-interface/range {v41 .. v41}, Landroid/database/Cursor;->moveToFirst()Z
+
+    move-result v1
+
+    if-eqz v1, :cond_2d3
+
+    new-instance v3, Landroid/privacy/PrivacySettings;
+
+    const/4 v1, 0x0
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getInt(I)I
+
+    move-result v1
+
+    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v4
+
+    const/4 v1, 0x1
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v5
+
+    const/4 v1, 0x2
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getInt(I)I
+
+    move-result v6
+
+    const/4 v1, 0x3
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v7, v1
+
+    const/4 v1, 0x4
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v8
+
+    const/4 v1, 0x5
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v9, v1
+
+    const/4 v1, 0x6
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v10
+
+    const/4 v1, 0x7
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v11, v1
+
+    const/16 v1, 0x8
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v12
+
+    const/16 v1, 0x9
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v13
+
+    const/16 v1, 0xa
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v14, v1
+
+    const/16 v1, 0xb
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v15
+
+    const/16 v1, 0xc
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v16
+
+    const/16 v1, 0xd
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v17, v0
+
+    const/16 v1, 0xe
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v18, v0
+
+    const/16 v1, 0xf
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v19, v0
+
+    const/16 v1, 0x10
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v20
+
+    const/16 v1, 0x11
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v21, v0
+
+    const/16 v1, 0x12
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v22
+
+    const/16 v1, 0x13
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v23, v0
+
+    const/16 v1, 0x14
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v24, v0
+
+    const/16 v1, 0x15
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v25, v0
+
+    const/16 v1, 0x16
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v26, v0
+
+    const/16 v1, 0x17
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v27, v0
+
+    const/16 v1, 0x18
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v28, v0
+
+    const/16 v1, 0x19
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v29, v0
+
+    const/16 v1, 0x1a
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v30, v0
+
+    const/16 v1, 0x1b
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v31, v0
+
+    const/16 v1, 0x1c
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v32, v0
+
+    const/16 v1, 0x1d
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v33, v0
+
+    const/16 v1, 0x1e
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v34, v0
+
+    const/16 v1, 0x1f
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v35, v0
+
+    const/16 v1, 0x20
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v36, v0
+
+    const/16 v1, 0x21
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v37, v0
+
+    const/16 v1, 0x22
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v1
+
+    int-to-byte v0, v1
+
+    move/from16 v38, v0
+
+    const/16 v39, 0x0
+
+    invoke-direct/range {v3 .. v39}, Landroid/privacy/PrivacySettings;-><init>(Ljava/lang/Integer;Ljava/lang/String;IBLjava/lang/String;BLjava/lang/String;BLjava/lang/String;Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;BBBLjava/lang/String;BLjava/lang/String;BBBBBBBBBBBBBBBB[I)V
+    :try_end_19f
+    .catchall {:try_start_24 .. :try_end_19f} :catchall_299
+    .catch Ljava/lang/Exception; {:try_start_24 .. :try_end_19f} :catch_2ce
+
+    :try_start_19f
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "SELECT * FROM allowed_contacts WHERE settings_id="
+
+    invoke-virtual {v1, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v3}, Landroid/privacy/PrivacySettings;->get_id()Ljava/lang/Integer;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Integer;->toString(I)Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v1, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v4, ";"
+
+    invoke-virtual {v1, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    move-object/from16 v0, p0
+
+    invoke-direct {v0, v2, v1}, Landroid/privacy/PrivacyPersistenceAdapter;->rawQuery(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)Landroid/database/Cursor;
+
+    move-result-object v41
+
+    if-eqz v41, :cond_266
+
+    invoke-interface/range {v41 .. v41}, Landroid/database/Cursor;->getCount()I
+
+    move-result v1
+
+    if-lez v1, :cond_266
+
+    invoke-interface/range {v41 .. v41}, Landroid/database/Cursor;->getCount()I
+
+    move-result v1
+
+    new-array v0, v1, [I
+
+    move-object/from16 v40, v0
+
+    :goto_1da
+    invoke-interface/range {v41 .. v41}, Landroid/database/Cursor;->moveToNext()Z
+
+    move-result v1
+
+    if-eqz v1, :cond_261
+
+    invoke-interface/range {v41 .. v41}, Landroid/database/Cursor;->getPosition()I
+
+    move-result v1
+
+    const/4 v4, 0x1
+
+    move-object/from16 v0, v41
+
+    invoke-interface {v0, v4}, Landroid/database/Cursor;->getInt(I)I
+
+    move-result v4
+
+    aput v4, v40, v1
+    :try_end_1ed
+    .catchall {:try_start_19f .. :try_end_1ed} :catchall_2cc
+    .catch Ljava/lang/Exception; {:try_start_19f .. :try_end_1ed} :catch_1ee
+
+    goto :goto_1da
+
+    :catch_1ee
+    move-exception v42
+
+    :goto_1ef
+    :try_start_1ef
+    const-string v1, "PrivacyPersistenceAdapter"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "getSettings - failed to get settings for package: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    move-object/from16 v0, p1
+
+    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    move-object/from16 v0, v42
+
+    invoke-static {v1, v4, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    invoke-virtual/range {v42 .. v42}, Ljava/lang/Exception;->printStackTrace()V
+
+    if-eqz v41, :cond_213
+
+    invoke-interface/range {v41 .. v41}, Landroid/database/Cursor;->close()V
+    :try_end_213
+    .catchall {:try_start_1ef .. :try_end_213} :catchall_2cc
+
+    :cond_213
+    if-eqz v41, :cond_218
+
+    invoke-interface/range {v41 .. v41}, Landroid/database/Cursor;->close()V
+
+    :cond_218
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    monitor-enter v4
+
+    :try_start_21b
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v1}, Ljava/lang/Integer;->intValue()I
+
+    move-result v1
+
+    add-int/lit8 v1, v1, -0x1
+
+    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v1
+
+    sput-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v1}, Ljava/lang/Integer;->intValue()I
+
+    move-result v1
+
+    if-nez v1, :cond_23e
+
+    if-eqz v2, :cond_23e
+
+    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v1
+
+    if-eqz v1, :cond_23e
+
+    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+
+    :cond_23e
+    monitor-exit v4
+    :try_end_23f
+    .catchall {:try_start_21b .. :try_end_23f} :catchall_296
+
+    :goto_23f
+    move-object/from16 v43, v3
+
+    goto/16 :goto_d
+
+    :catch_243
+    move-exception v42
+
+    const-string v1, "PrivacyPersistenceAdapter"
+
+    const-string v4, "getSettings - database could not be opened"
+
+    move-object/from16 v0, v42
+
+    invoke-static {v1, v4, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v1}, Ljava/lang/Integer;->intValue()I
+
+    move-result v1
+
+    add-int/lit8 v1, v1, -0x1
+
+    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v1
+
+    sput-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    move-object/from16 v3, v43
+
+    goto/16 :goto_d
+
+    :cond_261
+    :try_start_261
+    move-object/from16 v0, v40
+
+    invoke-virtual {v3, v0}, Landroid/privacy/PrivacySettings;->setAllowedContacts([I)V
+    :try_end_266
+    .catchall {:try_start_261 .. :try_end_266} :catchall_2cc
+    .catch Ljava/lang/Exception; {:try_start_261 .. :try_end_266} :catch_1ee
+
+    :cond_266
+    :goto_266
+    if-eqz v41, :cond_26b
+
+    invoke-interface/range {v41 .. v41}, Landroid/database/Cursor;->close()V
+
+    :cond_26b
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    monitor-enter v4
+
+    :try_start_26e
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v1}, Ljava/lang/Integer;->intValue()I
+
+    move-result v1
+
+    add-int/lit8 v1, v1, -0x1
+
+    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v1
+
+    sput-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v1, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v1}, Ljava/lang/Integer;->intValue()I
+
+    move-result v1
+
+    if-nez v1, :cond_291
+
+    if-eqz v2, :cond_291
+
+    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v1
+
+    if-eqz v1, :cond_291
+
+    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+
+    :cond_291
+    monitor-exit v4
+
+    goto :goto_23f
+
+    :catchall_293
+    move-exception v1
+
+    monitor-exit v4
+    :try_end_295
+    .catchall {:try_start_26e .. :try_end_295} :catchall_293
+
+    throw v1
+
+    :catchall_296
+    move-exception v1
+
+    :try_start_297
+    monitor-exit v4
+    :try_end_298
+    .catchall {:try_start_297 .. :try_end_298} :catchall_296
+
+    throw v1
+
+    :catchall_299
+    move-exception v1
+
+    move-object/from16 v3, v43
+
+    :goto_29c
+    if-eqz v41, :cond_2a1
+
+    invoke-interface/range {v41 .. v41}, Landroid/database/Cursor;->close()V
+
+    :cond_2a1
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    monitor-enter v4
+
+    :try_start_2a4
+    sget-object v5, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v5, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v5}, Ljava/lang/Integer;->intValue()I
+
+    move-result v5
+
+    add-int/lit8 v5, v5, -0x1
+
+    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v5
+
+    sput-object v5, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v5, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v5}, Ljava/lang/Integer;->intValue()I
+
+    move-result v5
+
+    if-nez v5, :cond_2c7
+
+    if-eqz v2, :cond_2c7
+
+    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v5
+
+    if-eqz v5, :cond_2c7
+
+    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+
+    :cond_2c7
+    monitor-exit v4
+    :try_end_2c8
+    .catchall {:try_start_2a4 .. :try_end_2c8} :catchall_2c9
+
+    throw v1
+
+    :catchall_2c9
+    move-exception v1
+
+    :try_start_2ca
+    monitor-exit v4
+    :try_end_2cb
+    .catchall {:try_start_2ca .. :try_end_2cb} :catchall_2c9
+
+    throw v1
+
+    :catchall_2cc
+    move-exception v1
+
+    goto :goto_29c
+
+    :catch_2ce
+    move-exception v42
+
+    move-object/from16 v3, v43
+
+    goto/16 :goto_1ef
+
+    :cond_2d3
+    move-object/from16 v3, v43
+
+    goto :goto_266
+.end method
+
+.method public getValue(Ljava/lang/String;)Ljava/lang/String;
+    .registers 15
+
+    sget-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v0}, Ljava/lang/Integer;->intValue()I
+
+    move-result v0
+
+    add-int/lit8 v0, v0, 0x1
+
+    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v0
+
+    sput-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object v1
+
+    const/4 v12, 0x0
+
+    :try_start_15
+    const-string/jumbo v2, "map"
+
+    const/4 v0, 0x1
+
+    new-array v3, v0, [Ljava/lang/String;
+
+    const/4 v0, 0x0
+
+    const-string/jumbo v4, "value"
+
+    aput-object v4, v3, v0
+
+    const-string/jumbo v4, "name=?"
+
+    const/4 v0, 0x1
+
+    new-array v5, v0, [Ljava/lang/String;
+
+    const/4 v0, 0x0
+
+    aput-object p1, v5, v0
+
+    const/4 v6, 0x0
+
+    const/4 v7, 0x0
+
+    const/4 v8, 0x0
+
+    const/4 v9, 0x0
+
+    move-object v0, p0
+
+    invoke-direct/range {v0 .. v9}, Landroid/privacy/PrivacyPersistenceAdapter;->query(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
+
+    move-result-object v10
+
+    if-eqz v10, :cond_77
+
+    invoke-interface {v10}, Landroid/database/Cursor;->getCount()I
+
+    move-result v0
+
+    if-lez v0, :cond_77
+
+    invoke-interface {v10}, Landroid/database/Cursor;->moveToFirst()Z
+
+    move-result v0
+
+    if-eqz v0, :cond_77
+
+    const-string/jumbo v0, "value"
+
+    invoke-interface {v10, v0}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
+
+    move-result v0
+
+    invoke-interface {v10, v0}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v12
+
+    invoke-interface {v10}, Landroid/database/Cursor;->close()V
+    :try_end_4f
+    .catch Ljava/lang/Exception; {:try_start_15 .. :try_end_4f} :catch_90
+
+    :goto_4f
+    sget-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    monitor-enter v2
+
+    :try_start_52
+    sget-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v0}, Ljava/lang/Integer;->intValue()I
+
+    move-result v0
+
+    add-int/lit8 v0, v0, -0x1
+
+    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v0
+
+    sput-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v0, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v0}, Ljava/lang/Integer;->intValue()I
+
+    move-result v0
+
+    if-nez v0, :cond_75
+
+    if-eqz v1, :cond_75
+
+    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v0
+
+    if-eqz v0, :cond_75
+
+    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+
+    :cond_75
+    monitor-exit v2
+    :try_end_76
+    .catchall {:try_start_52 .. :try_end_76} :catchall_aa
+
+    return-object v12
+
+    :cond_77
+    :try_start_77
+    const-string v0, "PrivacyPersistenceAdapter"
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "getValue - could not get value for name: "
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {v0, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_8f
+    .catch Ljava/lang/Exception; {:try_start_77 .. :try_end_8f} :catch_90
+
+    goto :goto_4f
+
+    :catch_90
+    move-exception v11
+
+    const-string v0, "PrivacyPersistenceAdapter"
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "getValue - could not get value for name: "
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {v0, v2, v11}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_4f
+
+    :catchall_aa
+    move-exception v0
+
+    :try_start_ab
+    monitor-exit v2
+    :try_end_ac
+    .catchall {:try_start_ab .. :try_end_ac} :catchall_aa
+
+    throw v0
+.end method
+
+.method public purgeSettings()Z
+    .registers 28
+
+    const/16 v25, 0x1
+
+    new-instance v13, Ljava/util/ArrayList;
+
+    invoke-direct {v13}, Ljava/util/ArrayList;-><init>()V
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Landroid/privacy/PrivacyPersistenceAdapter;->context:Landroid/content/Context;
+
+    invoke-virtual {v2}, Landroid/content/Context;->getPackageManager()Landroid/content/pm/PackageManager;
+
+    move-result-object v21
+
+    const/16 v2, 0x80
+
+    move-object/from16 v0, v21
+
+    invoke-virtual {v0, v2}, Landroid/content/pm/PackageManager;->getInstalledApplications(I)Ljava/util/List;
+
+    move-result-object v19
+
+    invoke-interface/range {v19 .. v19}, Ljava/util/List;->iterator()Ljava/util/Iterator;
+
+    move-result-object v18
+
+    :goto_1b
+    invoke-interface/range {v18 .. v18}, Ljava/util/Iterator;->hasNext()Z
+
+    move-result v2
+
+    if-eqz v2, :cond_2d
+
+    invoke-interface/range {v18 .. v18}, Ljava/util/Iterator;->next()Ljava/lang/Object;
+
+    move-result-object v12
+
+    check-cast v12, Landroid/content/pm/ApplicationInfo;
+
+    iget-object v2, v12, Landroid/content/pm/ApplicationInfo;->packageName:Ljava/lang/String;
+
+    invoke-interface {v13, v2}, Ljava/util/List;->add(Ljava/lang/Object;)Z
+
+    goto :goto_1b
+
+    :cond_2d
+    new-instance v26, Ljava/io/File;
+
+    const-string v2, "/data/system/privacy"
+
+    move-object/from16 v0, v26
+
+    invoke-direct {v0, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual/range {v26 .. v26}, Ljava/io/File;->listFiles()[Ljava/io/File;
+
+    move-result-object v15
+
+    array-length v0, v15
+
+    move/from16 v20, v0
+
+    const/16 v18, 0x0
+
+    :goto_3f
+    move/from16 v0, v18
+
+    move/from16 v1, v20
+
+    if-ge v0, v1, :cond_5d
+
+    aget-object v23, v15, v18
+
+    invoke-virtual/range {v23 .. v23}, Ljava/io/File;->getName()Ljava/lang/String;
+
+    move-result-object v24
+
+    move-object/from16 v0, v24
+
+    invoke-interface {v13, v0}, Ljava/util/List;->contains(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-nez v2, :cond_5a
+
+    move-object/from16 v0, p0
+
+    move-object/from16 v1, v23
+
+    invoke-direct {v0, v1}, Landroid/privacy/PrivacyPersistenceAdapter;->deleteRecursive(Ljava/io/File;)V
+
+    :cond_5a
+    add-int/lit8 v18, v18, 0x1
+
+    goto :goto_3f
+
+    :cond_5d
+    sget-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v2}, Ljava/lang/Integer;->intValue()I
+
+    move-result v2
+
+    add-int/lit8 v2, v2, 0x1
+
+    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v2
+
+    sput-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object v3
+
+    const/16 v16, 0x0
+
+    :try_start_73
+    const-string/jumbo v4, "settings"
+
+    const/4 v2, 0x1
+
+    new-array v5, v2, [Ljava/lang/String;
+
+    const/4 v2, 0x0
+
+    const-string/jumbo v6, "packageName"
+
+    aput-object v6, v5, v2
+
+    const/4 v6, 0x0
+
+    const/4 v7, 0x0
+
+    const/4 v8, 0x0
+
+    const/4 v9, 0x0
+
+    const/4 v10, 0x0
+
+    const/4 v11, 0x0
+
+    move-object/from16 v2, p0
+
+    invoke-direct/range {v2 .. v11}, Landroid/privacy/PrivacyPersistenceAdapter;->query(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
+
+    move-result-object v16
+
+    new-instance v14, Ljava/util/ArrayList;
+
+    invoke-direct {v14}, Ljava/util/ArrayList;-><init>()V
+
+    :goto_90
+    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->moveToNext()Z
+
+    move-result v2
+
+    if-eqz v2, :cond_142
+
+    const/4 v2, 0x0
+
+    move-object/from16 v0, v16
+
+    invoke-interface {v0, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v24
+
+    move-object/from16 v0, v24
+
+    invoke-interface {v13, v0}, Ljava/util/List;->contains(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-nez v2, :cond_e7
+
+    move-object/from16 v0, p0
+
+    move-object/from16 v1, v24
+
+    invoke-virtual {v0, v1}, Landroid/privacy/PrivacyPersistenceAdapter;->deleteSettings(Ljava/lang/String;)Z
+    :try_end_ac
+    .catchall {:try_start_73 .. :try_end_ac} :catchall_107
+    .catch Ljava/lang/Exception; {:try_start_73 .. :try_end_ac} :catch_ad
+
+    goto :goto_90
+
+    :catch_ad
+    move-exception v17
+
+    :try_start_ae
+    const-string v2, "PrivacyPersistenceAdapter"
+
+    const-string/jumbo v4, "purgeSettings - purging DB failed"
+
+    move-object/from16 v0, v17
+
+    invoke-static {v2, v4, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+    :try_end_b8
+    .catchall {:try_start_ae .. :try_end_b8} :catchall_107
+
+    const/16 v25, 0x0
+
+    if-eqz v16, :cond_bf
+
+    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->close()V
+
+    :cond_bf
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    monitor-enter v4
+
+    :try_start_c2
+    sget-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v2}, Ljava/lang/Integer;->intValue()I
+
+    move-result v2
+
+    add-int/lit8 v2, v2, -0x1
+
+    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v2
+
+    sput-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v2}, Ljava/lang/Integer;->intValue()I
+
+    move-result v2
+
+    if-nez v2, :cond_e5
+
+    if-eqz v3, :cond_e5
+
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v2
+
+    if-eqz v2, :cond_e5
+
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+
+    :cond_e5
+    monitor-exit v4
+    :try_end_e6
+    .catchall {:try_start_c2 .. :try_end_e6} :catchall_13f
+
+    :goto_e6
+    return v25
+
+    :cond_e7
+    :try_start_e7
+    move-object/from16 v0, v24
+
+    invoke-interface {v14, v0}, Ljava/util/List;->contains(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_135
+
+    const/4 v2, 0x0
+
+    move-object/from16 v0, p0
+
+    move-object/from16 v1, v24
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacyPersistenceAdapter;->getSettings(Ljava/lang/String;Z)Landroid/privacy/PrivacySettings;
+
+    move-result-object v22
+
+    move-object/from16 v0, p0
+
+    move-object/from16 v1, v24
+
+    invoke-virtual {v0, v1}, Landroid/privacy/PrivacyPersistenceAdapter;->deleteSettings(Ljava/lang/String;)Z
+
+    move-object/from16 v0, p0
+
+    move-object/from16 v1, v22
+
+    invoke-virtual {v0, v1}, Landroid/privacy/PrivacyPersistenceAdapter;->saveSettings(Landroid/privacy/PrivacySettings;)Z
+    :try_end_106
+    .catchall {:try_start_e7 .. :try_end_106} :catchall_107
+    .catch Ljava/lang/Exception; {:try_start_e7 .. :try_end_106} :catch_ad
+
+    goto :goto_90
+
+    :catchall_107
+    move-exception v2
+
+    if-eqz v16, :cond_10d
+
+    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->close()V
+
+    :cond_10d
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    monitor-enter v4
+
+    :try_start_110
+    sget-object v5, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v5, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v5}, Ljava/lang/Integer;->intValue()I
+
+    move-result v5
+
+    add-int/lit8 v5, v5, -0x1
+
+    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v5
+
+    sput-object v5, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v5, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v5}, Ljava/lang/Integer;->intValue()I
+
+    move-result v5
+
+    if-nez v5, :cond_133
+
+    if-eqz v3, :cond_133
+
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v5
+
+    if-eqz v5, :cond_133
+
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+
+    :cond_133
+    monitor-exit v4
+    :try_end_134
+    .catchall {:try_start_110 .. :try_end_134} :catchall_13c
+
+    throw v2
+
+    :cond_135
+    :try_start_135
+    move-object/from16 v0, v24
+
+    invoke-interface {v14, v0}, Ljava/util/List;->add(Ljava/lang/Object;)Z
+    :try_end_13a
+    .catchall {:try_start_135 .. :try_end_13a} :catchall_107
+    .catch Ljava/lang/Exception; {:try_start_135 .. :try_end_13a} :catch_ad
+
+    goto/16 :goto_90
+
+    :catchall_13c
+    move-exception v2
+
+    :try_start_13d
+    monitor-exit v4
+    :try_end_13e
+    .catchall {:try_start_13d .. :try_end_13e} :catchall_13c
+
+    throw v2
+
+    :catchall_13f
+    move-exception v2
+
+    :try_start_140
+    monitor-exit v4
+    :try_end_141
+    .catchall {:try_start_140 .. :try_end_141} :catchall_13f
+
+    throw v2
+
+    :cond_142
+    if-eqz v16, :cond_147
+
+    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->close()V
+
+    :cond_147
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    monitor-enter v4
+
+    :try_start_14a
+    sget-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v2}, Ljava/lang/Integer;->intValue()I
+
+    move-result v2
+
+    add-int/lit8 v2, v2, -0x1
+
+    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v2
+
+    sput-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v2, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v2}, Ljava/lang/Integer;->intValue()I
+
+    move-result v2
+
+    if-nez v2, :cond_16d
+
+    if-eqz v3, :cond_16d
+
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v2
+
+    if-eqz v2, :cond_16d
+
+    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+
+    :cond_16d
+    monitor-exit v4
+
+    goto/16 :goto_e6
+
+    :catchall_170
+    move-exception v2
+
+    monitor-exit v4
+    :try_end_172
+    .catchall {:try_start_14a .. :try_end_172} :catchall_170
+
+    throw v2
+.end method
+
+.method public declared-synchronized saveSettings(Landroid/privacy/PrivacySettings;)Z
+    .registers 27
+
+    monitor-enter p0
+
+    const/16 v18, 0x1
+
+    :try_start_3
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getPackageName()Ljava/lang/String;
+
+    move-result-object v17
+
+    if-eqz v17, :cond_f
+
+    invoke-virtual/range {v17 .. v17}, Ljava/lang/String;->isEmpty()Z
+
+    move-result v3
+
+    if-eqz v3, :cond_1a
+
+    :cond_f
+    const-string v3, "PrivacyPersistenceAdapter"
+
+    const-string/jumbo v4, "saveSettings - either package name, UID or both is missing"
+
+    invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_17
+    .catchall {:try_start_3 .. :try_end_17} :catchall_2c2
+
+    const/4 v3, 0x0
+
+    :goto_18
+    monitor-exit p0
+
+    return v3
+
+    :cond_1a
+    :try_start_1a
+    new-instance v23, Landroid/content/ContentValues;
+
+    invoke-direct/range {v23 .. v23}, Landroid/content/ContentValues;-><init>()V
+
+    const-string/jumbo v3, "packageName"
+
+    move-object/from16 v0, v23
+
+    move-object/from16 v1, v17
+
+    invoke-virtual {v0, v3, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string/jumbo v3, "uid"
+
+    const/4 v4, -0x1
+
+    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
+
+    const-string v3, "deviceIdSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v3, "deviceId"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string v3, "line1NumberSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v3, "line1Number"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string v3, "locationGpsSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v3, "locationGpsLat"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getLocationGpsLat()Ljava/lang/String;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string v3, "locationGpsLon"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getLocationGpsLon()Ljava/lang/String;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string v3, "locationNetworkSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v3, "locationNetworkLat"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getLocationNetworkLat()Ljava/lang/String;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string v3, "locationNetworkLon"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getLocationNetworkLon()Ljava/lang/String;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string/jumbo v3, "networkInfoSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v3, "simInfoSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getSimInfoSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v3, "simSerialNumberSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getSimSerialNumberSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v3, "simSerialNumber"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getSimSerialNumber()Ljava/lang/String;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string/jumbo v3, "subscriberIdSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v3, "subscriberId"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string v3, "accountsSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getAccountsSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v3, "accountsAuthTokensSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getAccountsAuthTokensSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v3, "outgoingCallsSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getOutgoingCallsSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v3, "incomingCallsSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getIncomingCallsSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v3, "contactsSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getContactsSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v3, "calendarSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getCalendarSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v3, "mmsSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getMmsSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v3, "smsSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getSmsSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v3, "callLogSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getCallLogSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v3, "bookmarksSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getBookmarksSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v3, "systemLogsSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getSystemLogsSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string/jumbo v3, "notificationSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getNotificationSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    const-string v3, "intentBootCompletedSetting"
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getIntentBootCompletedSetting()B
+
+    move-result v4
+
+    invoke-static {v4}, Ljava/lang/Byte;->valueOf(B)Ljava/lang/Byte;
+
+    move-result-object v4
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Byte;)V
+
+    sget-object v3, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v3, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v3}, Ljava/lang/Integer;->intValue()I
+
+    move-result v3
+
+    add-int/lit8 v3, v3, 0x1
+
+    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v3
+
+    sput-object v3, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-direct/range {p0 .. p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V
+    :try_end_1eb
+    .catchall {:try_start_1a .. :try_end_1eb} :catchall_2c2
+
+    const/4 v11, 0x0
+
+    :try_start_1ec
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->get_id()Ljava/lang/Integer;
+
+    move-result-object v15
+
+    if-eqz v15, :cond_2c8
+
+    const-string/jumbo v3, "settings"
+
+    const-string v4, "_id=?"
+
+    const/4 v5, 0x1
+
+    new-array v5, v5, [Ljava/lang/String;
+
+    const/4 v6, 0x0
+
+    invoke-virtual {v15}, Ljava/lang/Integer;->toString()Ljava/lang/String;
+
+    move-result-object v7
+
+    aput-object v7, v5, v6
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v2, v3, v0, v4, v5}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
+
+    move-result v3
+
+    const/4 v4, 0x1
+
+    if-ge v3, v4, :cond_249
+
+    new-instance v3, Ljava/lang/Exception;
+
+    const-string/jumbo v4, "saveSettings - failed to update database entry"
+
+    invoke-direct {v3, v4}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v3
+    :try_end_213
+    .catchall {:try_start_1ec .. :try_end_213} :catchall_291
+    .catch Ljava/lang/Exception; {:try_start_1ec .. :try_end_213} :catch_213
+
+    :catch_213
+    move-exception v13
+
+    const/16 v18, 0x0
+
+    :try_start_216
+    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
+
+    if-eqz v11, :cond_21e
+
+    invoke-interface {v11}, Landroid/database/Cursor;->close()V
+
+    :cond_21e
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    monitor-enter v4
+    :try_end_221
+    .catchall {:try_start_216 .. :try_end_221} :catchall_2c2
+
+    :try_start_221
+    sget-object v3, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v3, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v3}, Ljava/lang/Integer;->intValue()I
+
+    move-result v3
+
+    add-int/lit8 v3, v3, -0x1
+
+    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v3
+
+    sput-object v3, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v3, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v3}, Ljava/lang/Integer;->intValue()I
+
+    move-result v3
+
+    if-nez v3, :cond_244
+
+    if-eqz v2, :cond_244
+
+    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v3
+
+    if-eqz v3, :cond_244
+
+    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+
+    :cond_244
+    monitor-exit v4
+    :try_end_245
+    .catchall {:try_start_221 .. :try_end_245} :catchall_4ca
+
+    :goto_245
+    move/from16 v3, v18
+
+    goto/16 :goto_18
+
+    :cond_249
+    :try_start_249
+    const-string v3, "allowed_contacts"
+
+    const-string/jumbo v4, "settings_id=?"
+
+    const/4 v5, 0x1
+
+    new-array v5, v5, [Ljava/lang/String;
+
+    const/4 v6, 0x0
+
+    invoke-virtual {v15}, Ljava/lang/Integer;->toString()Ljava/lang/String;
+
+    move-result-object v7
+
+    aput-object v7, v5, v6
+
+    invoke-virtual {v2, v3, v4, v5}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getAllowedContacts()[I
+
+    move-result-object v10
+
+    if-eqz v10, :cond_3f2
+
+    new-instance v12, Landroid/content/ContentValues;
+
+    invoke-direct {v12}, Landroid/content/ContentValues;-><init>()V
+
+    const/4 v14, 0x0
+
+    :goto_267
+    array-length v3, v10
+
+    if-ge v14, v3, :cond_3f2
+
+    const-string/jumbo v3, "settings_id"
+
+    invoke-virtual {v12, v3, v15}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
+
+    const-string v3, "contact_id"
+
+    aget v4, v10, v14
+
+    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v4
+
+    invoke-virtual {v12, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
+
+    const-string v3, "allowed_contacts"
+
+    const/4 v4, 0x0
+
+    invoke-virtual {v2, v3, v4, v12}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J
+
+    move-result-wide v3
+
+    const-wide/16 v5, -0x1
+
+    cmp-long v3, v3, v5
+
+    if-nez v3, :cond_2c5
+
+    new-instance v3, Ljava/lang/Exception;
+
+    const-string/jumbo v4, "saveSettings - failed to update database entry (contacts)"
+
+    invoke-direct {v3, v4}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v3
+    :try_end_291
+    .catchall {:try_start_249 .. :try_end_291} :catchall_291
+    .catch Ljava/lang/Exception; {:try_start_249 .. :try_end_291} :catch_213
+
+    :catchall_291
+    move-exception v3
+
+    :try_start_292
+    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
+
+    if-eqz v11, :cond_29a
+
+    invoke-interface {v11}, Landroid/database/Cursor;->close()V
+
+    :cond_29a
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    monitor-enter v4
+    :try_end_29d
+    .catchall {:try_start_292 .. :try_end_29d} :catchall_2c2
+
+    :try_start_29d
+    sget-object v5, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v5, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v5}, Ljava/lang/Integer;->intValue()I
+
+    move-result v5
+
+    add-int/lit8 v5, v5, -0x1
+
+    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v5
+
+    sput-object v5, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v5, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v5}, Ljava/lang/Integer;->intValue()I
+
+    move-result v5
+
+    if-nez v5, :cond_2c0
+
+    if-eqz v2, :cond_2c0
+
+    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v5
+
+    if-eqz v5, :cond_2c0
+
+    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+
+    :cond_2c0
+    monitor-exit v4
+    :try_end_2c1
+    .catchall {:try_start_29d .. :try_end_2c1} :catchall_4cd
+
+    :try_start_2c1
+    throw v3
+    :try_end_2c2
+    .catchall {:try_start_2c1 .. :try_end_2c2} :catchall_2c2
+
+    :catchall_2c2
+    move-exception v3
+
+    monitor-exit p0
+
+    throw v3
+
+    :cond_2c5
+    add-int/lit8 v14, v14, 0x1
+
+    goto :goto_267
+
+    :cond_2c8
+    :try_start_2c8
+    const-string/jumbo v3, "settings"
+
+    const/4 v4, 0x1
+
+    new-array v4, v4, [Ljava/lang/String;
+
+    const/4 v5, 0x0
+
+    const-string v6, "_id"
+
+    aput-object v6, v4, v5
+
+    const-string/jumbo v5, "packageName=?"
+
+    const/4 v6, 0x1
+
+    new-array v6, v6, [Ljava/lang/String;
+
+    const/4 v7, 0x0
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getPackageName()Ljava/lang/String;
+
+    move-result-object v8
+
+    aput-object v8, v6, v7
+
+    const/4 v7, 0x0
+
+    const/4 v8, 0x0
+
+    const/4 v9, 0x0
+
+    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
+
+    move-result-object v11
+
+    if-eqz v11, :cond_3e7
+
+    invoke-interface {v11}, Landroid/database/Cursor;->getCount()I
+
+    move-result v3
+
+    const/4 v4, 0x1
+
+    if-ne v3, v4, :cond_36e
+
+    const-string/jumbo v3, "settings"
+
+    const-string/jumbo v4, "packageName=?"
+
+    const/4 v5, 0x1
+
+    new-array v5, v5, [Ljava/lang/String;
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getPackageName()Ljava/lang/String;
+
+    move-result-object v7
+
+    aput-object v7, v5, v6
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v2, v3, v0, v4, v5}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
+
+    move-result v3
+
+    const/4 v4, 0x1
+
+    if-ge v3, v4, :cond_312
+
+    new-instance v3, Ljava/lang/Exception;
+
+    const-string/jumbo v4, "saveSettings - failed to update database entry"
+
+    invoke-direct {v3, v4}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v3
+
+    :cond_312
+    invoke-interface {v11}, Landroid/database/Cursor;->moveToFirst()Z
+
+    move-result v3
+
+    if-eqz v3, :cond_3f2
+
+    const/4 v3, 0x0
+
+    invoke-interface {v11, v3}, Landroid/database/Cursor;->getInt(I)I
+
+    move-result v3
+
+    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v16
+
+    const-string v3, "allowed_contacts"
+
+    const-string/jumbo v4, "settings_id=?"
+
+    const/4 v5, 0x1
+
+    new-array v5, v5, [Ljava/lang/String;
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v16 .. v16}, Ljava/lang/Integer;->toString()Ljava/lang/String;
+
+    move-result-object v7
+
+    aput-object v7, v5, v6
+
+    invoke-virtual {v2, v3, v4, v5}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getAllowedContacts()[I
+
+    move-result-object v10
+
+    if-eqz v10, :cond_3f2
+
+    new-instance v12, Landroid/content/ContentValues;
+
+    invoke-direct {v12}, Landroid/content/ContentValues;-><init>()V
+
+    const/4 v14, 0x0
+
+    :goto_33f
+    array-length v3, v10
+
+    if-ge v14, v3, :cond_3f2
+
+    const-string/jumbo v3, "settings_id"
+
+    move-object/from16 v0, v16
+
+    invoke-virtual {v12, v3, v0}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
+
+    const-string v3, "contact_id"
+
+    aget v4, v10, v14
+
+    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v4
+
+    invoke-virtual {v12, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
+
+    const-string v3, "allowed_contacts"
+
+    const/4 v4, 0x0
+
+    invoke-virtual {v2, v3, v4, v12}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J
+
+    move-result-wide v3
+
+    const-wide/16 v5, -0x1
+
+    cmp-long v3, v3, v5
+
+    if-nez v3, :cond_36b
+
+    new-instance v3, Ljava/lang/Exception;
+
+    const-string/jumbo v4, "saveSettings - failed to update database entry (contacts)"
+
+    invoke-direct {v3, v4}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v3
+
+    :cond_36b
+    add-int/lit8 v14, v14, 0x1
+
+    goto :goto_33f
+
+    :cond_36e
+    invoke-interface {v11}, Landroid/database/Cursor;->getCount()I
+
+    move-result v3
+
+    if-nez v3, :cond_3dc
+
+    const-string/jumbo v3, "settings"
+
+    const/4 v4, 0x0
+
+    move-object/from16 v0, v23
+
+    invoke-virtual {v2, v3, v4, v0}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J
+
+    move-result-wide v19
+
+    const-wide/16 v3, -0x1
+
+    cmp-long v3, v19, v3
+
+    if-nez v3, :cond_38d
+
+    new-instance v3, Ljava/lang/Exception;
+
+    const-string/jumbo v4, "saveSettings - failed to insert new record into DB"
+
+    invoke-direct {v3, v4}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v3
+
+    :cond_38d
+    const-string v3, "allowed_contacts"
+
+    const-string/jumbo v4, "settings_id=?"
+
+    const/4 v5, 0x1
+
+    new-array v5, v5, [Ljava/lang/String;
+
+    const/4 v6, 0x0
+
+    invoke-static/range {v19 .. v20}, Ljava/lang/Long;->toString(J)Ljava/lang/String;
+
+    move-result-object v7
+
+    aput-object v7, v5, v6
+
+    invoke-virtual {v2, v3, v4, v5}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getAllowedContacts()[I
+
+    move-result-object v10
+
+    if-eqz v10, :cond_3f2
+
+    new-instance v12, Landroid/content/ContentValues;
+
+    invoke-direct {v12}, Landroid/content/ContentValues;-><init>()V
+
+    const/4 v14, 0x0
+
+    :goto_3ab
+    array-length v3, v10
+
+    if-ge v14, v3, :cond_3f2
+
+    const-string/jumbo v3, "settings_id"
+
+    invoke-static/range {v19 .. v20}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
+
+    move-result-object v4
+
+    invoke-virtual {v12, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V
+
+    const-string v3, "contact_id"
+
+    aget v4, v10, v14
+
+    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v4
+
+    invoke-virtual {v12, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V
+
+    const-string v3, "allowed_contacts"
+
+    const/4 v4, 0x0
+
+    invoke-virtual {v2, v3, v4, v12}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J
+
+    move-result-wide v3
+
+    const-wide/16 v5, -0x1
+
+    cmp-long v3, v3, v5
+
+    if-nez v3, :cond_3d9
+
+    new-instance v3, Ljava/lang/Exception;
+
+    const-string/jumbo v4, "saveSettings - failed to update database entry (contacts)"
+
+    invoke-direct {v3, v4}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v3
+
+    :cond_3d9
+    add-int/lit8 v14, v14, 0x1
+
+    goto :goto_3ab
+
+    :cond_3dc
+    const/16 v18, 0x0
+
+    new-instance v3, Ljava/lang/Exception;
+
+    const-string/jumbo v4, "saveSettings - duplicate entries in the privacy.db"
+
+    invoke-direct {v3, v4}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v3
+
+    :cond_3e7
+    const/16 v18, 0x0
+
+    new-instance v3, Ljava/lang/Exception;
+
+    const-string/jumbo v4, "saveSettings - cursor is null, database access failed"
+
+    invoke-direct {v3, v4}, Ljava/lang/Exception;-><init>(Ljava/lang/String;)V
+
+    throw v3
+
+    :cond_3f2
+    new-instance v21, Ljava/io/File;
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "/data/system/privacy/"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    move-object/from16 v0, v17
+
+    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, "/"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    move-object/from16 v0, v21
+
+    invoke-direct {v0, v3}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    new-instance v22, Ljava/io/File;
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "/data/system/privacy/"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    move-object/from16 v0, v17
+
+    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, "/"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, "/systemLogsSetting"
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    move-object/from16 v0, v22
+
+    invoke-direct {v0, v3}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+    :try_end_43c
+    .catchall {:try_start_2c8 .. :try_end_43c} :catchall_291
+    .catch Ljava/lang/Exception; {:try_start_2c8 .. :try_end_43c} :catch_213
+
+    :try_start_43c
+    invoke-virtual/range {v21 .. v21}, Ljava/io/File;->mkdirs()Z
+
+    const/4 v3, 0x1
+
+    const/4 v4, 0x0
+
+    move-object/from16 v0, v21
+
+    invoke-virtual {v0, v3, v4}, Ljava/io/File;->setReadable(ZZ)Z
+
+    const/4 v3, 0x1
+
+    const/4 v4, 0x0
+
+    move-object/from16 v0, v21
+
+    invoke-virtual {v0, v3, v4}, Ljava/io/File;->setExecutable(ZZ)Z
+
+    invoke-virtual/range {v22 .. v22}, Ljava/io/File;->createNewFile()Z
+
+    const/4 v3, 0x1
+
+    const/4 v4, 0x0
+
+    move-object/from16 v0, v22
+
+    invoke-virtual {v0, v3, v4}, Ljava/io/File;->setReadable(ZZ)Z
+
+    new-instance v24, Ljava/io/OutputStreamWriter;
+
+    new-instance v3, Ljava/io/FileOutputStream;
+
+    move-object/from16 v0, v22
+
+    invoke-direct {v3, v0}, Ljava/io/FileOutputStream;-><init>(Ljava/io/File;)V
+
+    move-object/from16 v0, v24
+
+    invoke-direct {v0, v3}, Ljava/io/OutputStreamWriter;-><init>(Ljava/io/OutputStream;)V
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual/range {p1 .. p1}, Landroid/privacy/PrivacySettings;->getSystemLogsSetting()B
+
+    move-result v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, ""
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    move-object/from16 v0, v24
+
+    invoke-virtual {v0, v3}, Ljava/io/OutputStreamWriter;->append(Ljava/lang/CharSequence;)Ljava/io/Writer;
+
+    invoke-virtual/range {v24 .. v24}, Ljava/io/OutputStreamWriter;->flush()V
+
+    invoke-virtual/range {v24 .. v24}, Ljava/io/OutputStreamWriter;->close()V
+    :try_end_487
+    .catchall {:try_start_43c .. :try_end_487} :catchall_291
+    .catch Ljava/io/IOException; {:try_start_43c .. :try_end_487} :catch_4be
+    .catch Ljava/lang/Exception; {:try_start_43c .. :try_end_487} :catch_213
+
+    :try_start_487
+    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V
+    :try_end_48a
+    .catchall {:try_start_487 .. :try_end_48a} :catchall_291
+    .catch Ljava/lang/Exception; {:try_start_487 .. :try_end_48a} :catch_213
+
+    :try_start_48a
+    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
+
+    if-eqz v11, :cond_492
+
+    invoke-interface {v11}, Landroid/database/Cursor;->close()V
+
+    :cond_492
+    sget-object v4, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    monitor-enter v4
+    :try_end_495
+    .catchall {:try_start_48a .. :try_end_495} :catchall_2c2
+
+    :try_start_495
+    sget-object v3, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v3, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v3}, Ljava/lang/Integer;->intValue()I
+
+    move-result v3
+
+    add-int/lit8 v3, v3, -0x1
+
+    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v3
+
+    sput-object v3, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    sget-object v3, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v3}, Ljava/lang/Integer;->intValue()I
+
+    move-result v3
+
+    if-nez v3, :cond_4b8
+
+    if-eqz v2, :cond_4b8
+
+    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v3
+
+    if-eqz v3, :cond_4b8
+
+    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+
+    :cond_4b8
+    monitor-exit v4
+
+    goto/16 :goto_245
+
+    :catchall_4bb
+    move-exception v3
+
+    monitor-exit v4
+    :try_end_4bd
+    .catchall {:try_start_495 .. :try_end_4bd} :catchall_4bb
+
+    :try_start_4bd
+    throw v3
+    :try_end_4be
+    .catchall {:try_start_4bd .. :try_end_4be} :catchall_2c2
+
+    :catch_4be
+    move-exception v13
+
+    const/16 v18, 0x0
+
+    :try_start_4c1
+    new-instance v3, Ljava/lang/Exception;
+
+    const-string/jumbo v4, "saveSettings - could not write settings to file"
+
+    invoke-direct {v3, v4, v13}, Ljava/lang/Exception;-><init>(Ljava/lang/String;Ljava/lang/Throwable;)V
+
+    throw v3
+    :try_end_4ca
+    .catchall {:try_start_4c1 .. :try_end_4ca} :catchall_291
+    .catch Ljava/lang/Exception; {:try_start_4c1 .. :try_end_4ca} :catch_213
+
+    :catchall_4ca
+    move-exception v3
+
+    :try_start_4cb
+    monitor-exit v4
+    :try_end_4cc
+    .catchall {:try_start_4cb .. :try_end_4cc} :catchall_4ca
+
+    :try_start_4cc
+    throw v3
+    :try_end_4cd
+    .catchall {:try_start_4cc .. :try_end_4cd} :catchall_2c2
+
+    :catchall_4cd
+    move-exception v3
+
+    :try_start_4ce
+    monitor-exit v4
+    :try_end_4cf
+    .catchall {:try_start_4ce .. :try_end_4cf} :catchall_4cd
+
+    :try_start_4cf
+    throw v3
+    :try_end_4d0
+    .catchall {:try_start_4cf .. :try_end_4d0} :catchall_2c2
+.end method
+
+.method public declared-synchronized setValue(Ljava/lang/String;Ljava/lang/String;)Z
+    .registers 10
+
+    monitor-enter p0
+
+    :try_start_1
+    const-string v3, "PrivacyPersistenceAdapter"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v5, "setValue - name "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    const-string v5, " value "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    new-instance v2, Landroid/content/ContentValues;
+
+    invoke-direct {v2}, Landroid/content/ContentValues;-><init>()V
+
+    const-string/jumbo v3, "name"
+
+    invoke-virtual {v2, v3, p1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    const-string/jumbo v3, "value"
+
+    invoke-virtual {v2, v3, p2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
+
+    invoke-direct {p0}, Landroid/privacy/PrivacyPersistenceAdapter;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;
+
+    move-result-object v0
+
+    const-string/jumbo v3, "map"
+
+    const/4 v4, 0x0
+
+    invoke-virtual {v0, v3, v4, v2}, Landroid/database/sqlite/SQLiteDatabase;->replace(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J
+
+    move-result-wide v3
+
+    const-wide/16 v5, -0x1
+
+    cmp-long v3, v3, v5
+
+    if-eqz v3, :cond_5d
+
+    const/4 v1, 0x1
+
+    :goto_48
+    sget-object v3, Landroid/privacy/PrivacyPersistenceAdapter;->readingThreads:Ljava/lang/Integer;
+
+    invoke-virtual {v3}, Ljava/lang/Integer;->intValue()I
+
+    move-result v3
+
+    if-nez v3, :cond_5b
+
+    if-eqz v0, :cond_5b
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->isOpen()Z
+
+    move-result v3
+
+    if-eqz v3, :cond_5b
+
+    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->close()V
+    :try_end_5b
+    .catchall {:try_start_1 .. :try_end_5b} :catchall_5f
+
+    :cond_5b
+    monitor-exit p0
+
+    return v1
+
+    :cond_5d
+    const/4 v1, 0x0
+
+    goto :goto_48
+
+    :catchall_5f
+    move-exception v3
+
+    monitor-exit p0
+
+    throw v3
+.end method
diff -Npru stock_framework/smali/android/privacy/PrivacySettings$1.smali pdroid_framework/smali/android/privacy/PrivacySettings$1.smali
--- stock_framework/smali/android/privacy/PrivacySettings$1.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid_framework/smali/android/privacy/PrivacySettings$1.smali	2012-07-02 22:52:42.635953722 -0700
@@ -0,0 +1,77 @@
+.class final Landroid/privacy/PrivacySettings$1;
+.super Ljava/lang/Object;
+.source "PrivacySettings.java"
+
+# interfaces
+.implements Landroid/os/Parcelable$Creator;
+
+
+# annotations
+.annotation system Ldalvik/annotation/EnclosingClass;
+    value = Landroid/privacy/PrivacySettings;
+.end annotation
+
+.annotation system Ldalvik/annotation/InnerClass;
+    accessFlags = 0x8
+    name = null
+.end annotation
+
+.annotation system Ldalvik/annotation/Signature;
+    value = {
+        "Ljava/lang/Object;",
+        "Landroid/os/Parcelable$Creator",
+        "<",
+        "Landroid/privacy/PrivacySettings;",
+        ">;"
+    }
+.end annotation
+
+
+# direct methods
+.method constructor <init>()V
+    .registers 1
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public createFromParcel(Landroid/os/Parcel;)Landroid/privacy/PrivacySettings;
+    .registers 3
+
+    new-instance v0, Landroid/privacy/PrivacySettings;
+
+    invoke-direct {v0, p1}, Landroid/privacy/PrivacySettings;-><init>(Landroid/os/Parcel;)V
+
+    return-object v0
+.end method
+
+.method public bridge synthetic createFromParcel(Landroid/os/Parcel;)Ljava/lang/Object;
+    .registers 3
+
+    invoke-virtual {p0, p1}, Landroid/privacy/PrivacySettings$1;->createFromParcel(Landroid/os/Parcel;)Landroid/privacy/PrivacySettings;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public newArray(I)[Landroid/privacy/PrivacySettings;
+    .registers 3
+
+    new-array v0, p1, [Landroid/privacy/PrivacySettings;
+
+    return-object v0
+.end method
+
+.method public bridge synthetic newArray(I)[Ljava/lang/Object;
+    .registers 3
+
+    invoke-virtual {p0, p1}, Landroid/privacy/PrivacySettings$1;->newArray(I)[Landroid/privacy/PrivacySettings;
+
+    move-result-object v0
+
+    return-object v0
+.end method
diff -Npru stock_framework/smali/android/privacy/PrivacySettingsManagerService.smali pdroid_framework/smali/android/privacy/PrivacySettingsManagerService.smali
--- stock_framework/smali/android/privacy/PrivacySettingsManagerService.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid_framework/smali/android/privacy/PrivacySettingsManagerService.smali	2012-07-02 22:52:42.661959953 -0700
@@ -0,0 +1,535 @@
+.class public final Landroid/privacy/PrivacySettingsManagerService;
+.super Landroid/privacy/IPrivacySettingsManager$Stub;
+.source "PrivacySettingsManagerService.java"
+
+
+# static fields
+.field private static final TAG:Ljava/lang/String; = "PrivacySettingsManagerService"
+
+.field private static final VERSION:D = 1.32
+
+.field private static final WRITE_PRIVACY_SETTINGS:Ljava/lang/String; = "android.privacy.WRITE_PRIVACY_SETTINGS"
+
+.field public static obs:Landroid/privacy/PrivacyFileObserver;
+
+
+# instance fields
+.field private bootCompleted:Z
+
+.field private context:Landroid/content/Context;
+
+.field private enabled:Z
+
+.field private notificationsEnabled:Z
+
+.field private persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;)V
+    .registers 5
+
+    invoke-direct {p0}, Landroid/privacy/IPrivacySettingsManager$Stub;-><init>()V
+
+    const-string v0, "PrivacySettingsManagerService"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "PrivacySettingsManagerService - initializing for package: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {p1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, " UID: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettingsManagerService;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacyPersistenceAdapter;
+
+    invoke-direct {v0, p1}, Landroid/privacy/PrivacyPersistenceAdapter;-><init>(Landroid/content/Context;)V
+
+    iput-object v0, p0, Landroid/privacy/PrivacySettingsManagerService;->persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+    new-instance v0, Landroid/privacy/PrivacyFileObserver;
+
+    const-string v1, "/data/system/privacy"
+
+    invoke-direct {v0, v1, p0}, Landroid/privacy/PrivacyFileObserver;-><init>(Ljava/lang/String;Landroid/privacy/PrivacySettingsManagerService;)V
+
+    sput-object v0, Landroid/privacy/PrivacySettingsManagerService;->obs:Landroid/privacy/PrivacyFileObserver;
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettingsManagerService;->persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+    const-string v1, "enabled"
+
+    invoke-virtual {v0, v1}, Landroid/privacy/PrivacyPersistenceAdapter;->getValue(Ljava/lang/String;)Ljava/lang/String;
+
+    move-result-object v0
+
+    const-string v1, "1"
+
+    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    iput-boolean v0, p0, Landroid/privacy/PrivacySettingsManagerService;->enabled:Z
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettingsManagerService;->persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+    const-string/jumbo v1, "notifications_enabled"
+
+    invoke-virtual {v0, v1}, Landroid/privacy/PrivacyPersistenceAdapter;->getValue(Ljava/lang/String;)Ljava/lang/String;
+
+    move-result-object v0
+
+    const-string v1, "1"
+
+    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    iput-boolean v0, p0, Landroid/privacy/PrivacySettingsManagerService;->notificationsEnabled:Z
+
+    const/4 v0, 0x0
+
+    iput-boolean v0, p0, Landroid/privacy/PrivacySettingsManagerService;->bootCompleted:Z
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public addObserver(Ljava/lang/String;)V
+    .registers 5
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettingsManagerService;->context:Landroid/content/Context;
+
+    const-string v1, "android.privacy.WRITE_PRIVACY_SETTINGS"
+
+    const-string v2, "Requires WRITE_PRIVACY_SETTINGS"
+
+    invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingPermission(Ljava/lang/String;Ljava/lang/String;)V
+
+    sget-object v0, Landroid/privacy/PrivacySettingsManagerService;->obs:Landroid/privacy/PrivacyFileObserver;
+
+    invoke-virtual {v0, p1}, Landroid/privacy/PrivacyFileObserver;->addObserver(Ljava/lang/String;)V
+
+    return-void
+.end method
+
+.method public deleteSettings(Ljava/lang/String;)Z
+    .registers 8
+
+    const/4 v5, 0x1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    const/16 v3, 0x3e8
+
+    if-eq v2, v3, :cond_12
+
+    iget-object v2, p0, Landroid/privacy/PrivacySettingsManagerService;->context:Landroid/content/Context;
+
+    const-string v3, "android.privacy.WRITE_PRIVACY_SETTINGS"
+
+    const-string v4, "Requires WRITE_PRIVACY_SETTINGS"
+
+    invoke-virtual {v2, v3, v4}, Landroid/content/Context;->enforceCallingPermission(Ljava/lang/String;Ljava/lang/String;)V
+
+    :cond_12
+    iget-object v2, p0, Landroid/privacy/PrivacySettingsManagerService;->persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+    invoke-virtual {v2, p1}, Landroid/privacy/PrivacyPersistenceAdapter;->deleteSettings(Ljava/lang/String;)Z
+
+    move-result v1
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "/data/system/privacy/"
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v0
+
+    new-instance v2, Ljava/io/File;
+
+    invoke-direct {v2, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v2}, Ljava/io/File;->exists()Z
+
+    move-result v2
+
+    if-eqz v2, :cond_3e
+
+    if-ne v1, v5, :cond_3e
+
+    sget-object v2, Landroid/privacy/PrivacySettingsManagerService;->obs:Landroid/privacy/PrivacyFileObserver;
+
+    invoke-virtual {v2, v0}, Landroid/privacy/PrivacyFileObserver;->addObserver(Ljava/lang/String;)V
+
+    :cond_3d
+    :goto_3d
+    return v1
+
+    :cond_3e
+    if-ne v1, v5, :cond_3d
+
+    sget-object v2, Landroid/privacy/PrivacySettingsManagerService;->obs:Landroid/privacy/PrivacyFileObserver;
+
+    iget-object v2, v2, Landroid/privacy/PrivacyFileObserver;->children:Ljava/util/HashMap;
+
+    invoke-virtual {v2, v0}, Ljava/util/HashMap;->remove(Ljava/lang/Object;)Ljava/lang/Object;
+
+    goto :goto_3d
+.end method
+
+.method public getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+    .registers 4
+
+    iget-boolean v0, p0, Landroid/privacy/PrivacySettingsManagerService;->enabled:Z
+
+    if-nez v0, :cond_12
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettingsManagerService;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v0
+
+    const-string v1, "com.privacy.pdroid"
+
+    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    if-eqz v0, :cond_1a
+
+    :cond_12
+    iget-object v0, p0, Landroid/privacy/PrivacySettingsManagerService;->persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+    const/4 v1, 0x0
+
+    invoke-virtual {v0, p1, v1}, Landroid/privacy/PrivacyPersistenceAdapter;->getSettings(Ljava/lang/String;Z)Landroid/privacy/PrivacySettings;
+
+    move-result-object v0
+
+    :goto_19
+    return-object v0
+
+    :cond_1a
+    const/4 v0, 0x0
+
+    goto :goto_19
+.end method
+
+.method public getVersion()D
+    .registers 3
+
+    const-wide v0, 0x3ff51eb851eb851fL
+
+    return-wide v0
+.end method
+
+.method public notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+    .registers 8
+
+    iget-boolean v1, p0, Landroid/privacy/PrivacySettingsManagerService;->bootCompleted:Z
+
+    if-eqz v1, :cond_34
+
+    iget-boolean v1, p0, Landroid/privacy/PrivacySettingsManagerService;->notificationsEnabled:Z
+
+    if-eqz v1, :cond_34
+
+    new-instance v0, Landroid/content/Intent;
+
+    invoke-direct {v0}, Landroid/content/Intent;-><init>()V
+
+    const-string v1, "com.privacy.pdroid.PRIVACY_NOTIFICATION"
+
+    invoke-virtual {v0, v1}, Landroid/content/Intent;->setAction(Ljava/lang/String;)Landroid/content/Intent;
+
+    const-string/jumbo v1, "packageName"
+
+    invoke-virtual {v0, v1, p1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
+
+    const-string/jumbo v1, "uid"
+
+    const/4 v2, -0x1
+
+    invoke-virtual {v0, v1, v2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;
+
+    const-string v1, "accessMode"
+
+    invoke-virtual {v0, v1, p2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;B)Landroid/content/Intent;
+
+    const-string v1, "dataType"
+
+    invoke-virtual {v0, v1, p3}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
+
+    const-string/jumbo v1, "output"
+
+    invoke-virtual {v0, v1, p4}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManagerService;->context:Landroid/content/Context;
+
+    invoke-virtual {v1, v0}, Landroid/content/Context;->sendBroadcast(Landroid/content/Intent;)V
+
+    :cond_34
+    return-void
+.end method
+
+.method public purgeSettings()Z
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettingsManagerService;->persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+    invoke-virtual {v0}, Landroid/privacy/PrivacyPersistenceAdapter;->purgeSettings()Z
+
+    move-result v0
+
+    return v0
+.end method
+
+.method public registerObservers()V
+    .registers 4
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettingsManagerService;->context:Landroid/content/Context;
+
+    const-string v1, "android.privacy.WRITE_PRIVACY_SETTINGS"
+
+    const-string v2, "Requires WRITE_PRIVACY_SETTINGS"
+
+    invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingPermission(Ljava/lang/String;Ljava/lang/String;)V
+
+    new-instance v0, Landroid/privacy/PrivacyFileObserver;
+
+    const-string v1, "/data/system/privacy"
+
+    invoke-direct {v0, v1, p0}, Landroid/privacy/PrivacyFileObserver;-><init>(Ljava/lang/String;Landroid/privacy/PrivacySettingsManagerService;)V
+
+    sput-object v0, Landroid/privacy/PrivacySettingsManagerService;->obs:Landroid/privacy/PrivacyFileObserver;
+
+    return-void
+.end method
+
+.method public saveSettings(Landroid/privacy/PrivacySettings;)Z
+    .registers 6
+
+    const-string v1, "PrivacySettingsManagerService"
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v3, "saveSettings - checking if caller (UID: "
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v3
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    const-string v3, ") has sufficient permissions"
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {v1, v2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v1
+
+    const/16 v2, 0x3e8
+
+    if-eq v1, v2, :cond_34
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManagerService;->context:Landroid/content/Context;
+
+    const-string v2, "android.privacy.WRITE_PRIVACY_SETTINGS"
+
+    const-string v3, "Requires WRITE_PRIVACY_SETTINGS"
+
+    invoke-virtual {v1, v2, v3}, Landroid/content/Context;->enforceCallingPermission(Ljava/lang/String;Ljava/lang/String;)V
+
+    :cond_34
+    const-string v1, "PrivacySettingsManagerService"
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v3, "saveSettings - "
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {v1, v2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManagerService;->persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+    invoke-virtual {v1, p1}, Landroid/privacy/PrivacyPersistenceAdapter;->saveSettings(Landroid/privacy/PrivacySettings;)Z
+
+    move-result v0
+
+    const/4 v1, 0x1
+
+    if-ne v0, v1, :cond_5f
+
+    sget-object v1, Landroid/privacy/PrivacySettingsManagerService;->obs:Landroid/privacy/PrivacyFileObserver;
+
+    invoke-virtual {p1}, Landroid/privacy/PrivacySettings;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-virtual {v1, v2}, Landroid/privacy/PrivacyFileObserver;->addObserver(Ljava/lang/String;)V
+
+    :cond_5f
+    return v0
+.end method
+
+.method public setBootCompleted()V
+    .registers 2
+
+    const/4 v0, 0x1
+
+    iput-boolean v0, p0, Landroid/privacy/PrivacySettingsManagerService;->bootCompleted:Z
+
+    return-void
+.end method
+
+.method public setEnabled(Z)Z
+    .registers 6
+
+    const/4 v1, 0x1
+
+    if-eqz p1, :cond_12
+
+    const-string v0, "1"
+
+    :goto_5
+    iget-object v2, p0, Landroid/privacy/PrivacySettingsManagerService;->persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+    const-string v3, "enabled"
+
+    invoke-virtual {v2, v3, v0}, Landroid/privacy/PrivacyPersistenceAdapter;->setValue(Ljava/lang/String;Ljava/lang/String;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_15
+
+    iput-boolean v1, p0, Landroid/privacy/PrivacySettingsManagerService;->enabled:Z
+
+    :goto_11
+    return v1
+
+    :cond_12
+    return v1
+    const-string v0, "0"
+
+    goto :goto_5
+
+    :cond_15
+    const/4 v1, 0x0
+
+    goto :goto_11
+.end method
+
+.method public setNotificationsEnabled(Z)Z
+    .registers 6
+
+    const/4 v1, 0x1
+
+    if-eqz p1, :cond_15
+
+    const-string v0, "1"
+
+    :goto_5
+    iget-object v2, p0, Landroid/privacy/PrivacySettingsManagerService;->persistenceAdapter:Landroid/privacy/PrivacyPersistenceAdapter;
+
+    const-string/jumbo v3, "notifications_enabled"
+
+    invoke-virtual {v2, v3, v0}, Landroid/privacy/PrivacyPersistenceAdapter;->setValue(Ljava/lang/String;Ljava/lang/String;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_18
+
+    iput-boolean v1, p0, Landroid/privacy/PrivacySettingsManagerService;->notificationsEnabled:Z
+
+    iput-boolean v1, p0, Landroid/privacy/PrivacySettingsManagerService;->bootCompleted:Z
+
+    :goto_14
+    return v1
+
+    :cond_15
+    const-string v0, "0"
+
+    goto :goto_5
+
+    :cond_18
+    const/4 v1, 0x0
+
+    goto :goto_14
+.end method
diff -Npru stock_framework/smali/android/privacy/PrivacySettingsManager.smali pdroid_framework/smali/android/privacy/PrivacySettingsManager.smali
--- stock_framework/smali/android/privacy/PrivacySettingsManager.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid_framework/smali/android/privacy/PrivacySettingsManager.smali	2012-07-02 22:52:42.660959713 -0700
@@ -0,0 +1,531 @@
+.class public final Landroid/privacy/PrivacySettingsManager;
+.super Ljava/lang/Object;
+.source "PrivacySettingsManager.java"
+
+
+# static fields
+.field public static final ACTION_PRIVACY_NOTIFICATION:Ljava/lang/String; = "com.privacy.pdroid.PRIVACY_NOTIFICATION"
+
+.field private static final TAG:Ljava/lang/String; = "PrivacySettingsManager"
+
+
+# instance fields
+.field private service:Landroid/privacy/IPrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+    .registers 3
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    iput-object p2, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public addObserver(Ljava/lang/String;)V
+    .registers 5
+
+    :try_start_0
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v1, :cond_a
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v1, p1}, Landroid/privacy/IPrivacySettingsManager;->addObserver(Ljava/lang/String;)V
+
+    :goto_9
+    return-void
+
+    :cond_a
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "deleteSettings - PrivacySettingsManagerService is null"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_11
+    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_11} :catch_12
+
+    goto :goto_9
+
+    :catch_12
+    move-exception v0
+
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "RemoteException in addObserver: "
+
+    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_9
+.end method
+
+.method public deleteSettings(Ljava/lang/String;)Z
+    .registers 3
+
+    invoke-virtual {p0, p1}, Landroid/privacy/PrivacySettingsManager;->deleteSettings(Ljava/lang/String;)Z
+
+    move-result v0
+
+    return v0
+.end method
+
+.method public deleteSettings(Ljava/lang/String;I)Z
+    .registers 7
+
+    const/4 v1, 0x0
+
+    :try_start_1
+    iget-object v2, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v2, :cond_c
+
+    iget-object v2, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v2, p1}, Landroid/privacy/IPrivacySettingsManager;->deleteSettings(Ljava/lang/String;)Z
+
+    move-result v1
+
+    :goto_b
+    return v1
+
+    :cond_c
+    const-string v2, "PrivacySettingsManager"
+
+    const-string v3, "deleteSettings - PrivacySettingsManagerService is null"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_13
+    .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_13} :catch_14
+
+    goto :goto_b
+
+    :catch_14
+    move-exception v0
+
+    const-string v2, "PrivacySettingsManager"
+
+    const-string v3, "RemoteException in deleteSettings: "
+
+    invoke-static {v2, v3, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_b
+.end method
+
+.method public getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+    .registers 6
+
+    const/4 v1, 0x0
+
+    :try_start_1
+    iget-object v2, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v2, :cond_c
+
+    iget-object v2, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v2, p1}, Landroid/privacy/IPrivacySettingsManager;->getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+
+    move-result-object v1
+
+    :goto_b
+    return-object v1
+
+    :cond_c
+    const-string v2, "PrivacySettingsManager"
+
+    const-string v3, "getSettings - PrivacySettingsManagerService is null"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_13
+    .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_13} :catch_14
+
+    goto :goto_b
+
+    :catch_14
+    move-exception v0
+
+    invoke-virtual {v0}, Landroid/os/RemoteException;->printStackTrace()V
+
+    goto :goto_b
+.end method
+
+.method public getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+    .registers 4
+
+    invoke-virtual {p0, p1}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;)Landroid/privacy/PrivacySettings;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public getVersion()D
+    .registers 4
+
+    :try_start_0
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v1, :cond_b
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v1}, Landroid/privacy/IPrivacySettingsManager;->getVersion()D
+
+    move-result-wide v1
+
+    :goto_a
+    return-wide v1
+
+    :cond_b
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "getVersion - PrivacySettingsManagerService is null"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_12
+    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_12} :catch_15
+
+    :goto_12
+    const-wide/16 v1, 0x0
+
+    goto :goto_a
+
+    :catch_15
+    move-exception v0
+
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "RemoteException in getVersion: "
+
+    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_12
+.end method
+
+.method public isServiceAvailable()Z
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v0, :cond_6
+
+    const/4 v0, 0x1
+
+    :goto_5
+    return v0
+
+    :cond_6
+    const/4 v0, 0x0
+
+    goto :goto_5
+.end method
+
+.method public notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    .registers 9
+
+    :try_start_0
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v1, :cond_a
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v1, p1, p2, p3, p4}, Landroid/privacy/IPrivacySettingsManager;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;)V
+
+    :goto_9
+    return-void
+
+    :cond_a
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "deleteSettings - PrivacySettingsManagerService is null"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_11
+    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_11} :catch_12
+
+    goto :goto_9
+
+    :catch_12
+    move-exception v0
+
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "RemoteException in notification: "
+
+    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_9
+.end method
+
+.method public notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    .registers 13
+
+    move-object v0, p0
+
+    move-object v1, p1
+
+    move v2, p3
+
+    move-object v3, p4
+
+    move-object v4, p5
+
+    move-object v5, p6
+
+    invoke-virtual/range {v0 .. v5}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    return-void
+.end method
+
+.method public purgeSettings()Z
+    .registers 4
+
+    :try_start_0
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v1, :cond_b
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v1}, Landroid/privacy/IPrivacySettingsManager;->purgeSettings()Z
+
+    move-result v1
+
+    :goto_a
+    return v1
+
+    :cond_b
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "deleteSettings - PrivacySettingsManagerService is null"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_12
+    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_12} :catch_14
+
+    :goto_12
+    const/4 v1, 0x0
+
+    goto :goto_a
+
+    :catch_14
+    move-exception v0
+
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "RemoteException in purgeSettings: "
+
+    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_12
+.end method
+
+.method public registerObservers()V
+    .registers 4
+
+    :try_start_0
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v1, :cond_a
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v1}, Landroid/privacy/IPrivacySettingsManager;->registerObservers()V
+
+    :goto_9
+    return-void
+
+    :cond_a
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "deleteSettings - PrivacySettingsManagerService is null"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_11
+    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_11} :catch_12
+
+    goto :goto_9
+
+    :catch_12
+    move-exception v0
+
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "RemoteException in registerObservers: "
+
+    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_9
+.end method
+
+.method public saveSettings(Landroid/privacy/PrivacySettings;)Z
+    .registers 6
+
+    const/4 v1, 0x0
+
+    :try_start_1
+    iget-object v2, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v2, :cond_c
+
+    iget-object v2, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v2, p1}, Landroid/privacy/IPrivacySettingsManager;->saveSettings(Landroid/privacy/PrivacySettings;)Z
+
+    move-result v1
+
+    :goto_b
+    return v1
+
+    :cond_c
+    const-string v2, "PrivacySettingsManager"
+
+    const-string/jumbo v3, "saveSettings - PrivacySettingsManagerService is null"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_14
+    .catch Landroid/os/RemoteException; {:try_start_1 .. :try_end_14} :catch_15
+
+    goto :goto_b
+
+    :catch_15
+    move-exception v0
+
+    const-string v2, "PrivacySettingsManager"
+
+    const-string v3, "RemoteException in saveSettings: "
+
+    invoke-static {v2, v3, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_b
+.end method
+
+.method public setBootCompleted()V
+    .registers 4
+
+    :try_start_0
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v1, :cond_a
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v1}, Landroid/privacy/IPrivacySettingsManager;->setBootCompleted()V
+
+    :goto_9
+    return-void
+
+    :cond_a
+    const-string v1, "PrivacySettingsManager"
+
+    const-string/jumbo v2, "setBootCompleted - PrivacySettingsManagerService is null"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_12
+    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_12} :catch_13
+
+    goto :goto_9
+
+    :catch_13
+    move-exception v0
+
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "RemoteException in setBootCompleted: "
+
+    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_9
+.end method
+
+.method public setEnabled(Z)Z
+    .registers 5
+
+    :try_start_0
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v1, :cond_b
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v1, p1}, Landroid/privacy/IPrivacySettingsManager;->setEnabled(Z)Z
+
+    move-result v1
+
+    :goto_a
+    return v1
+
+    :cond_b
+    const-string v1, "PrivacySettingsManager"
+
+    const-string/jumbo v2, "setEnabled - PrivacySettingsManagerService is null"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_13
+    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_13} :catch_15
+
+    :goto_13
+    const/4 v1, 0x0
+
+    goto :goto_a
+
+    :catch_15
+    move-exception v0
+
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "RemoteException in setEnabled: "
+
+    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_13
+.end method
+
+.method public setNotificationsEnabled(Z)Z
+    .registers 5
+
+    :try_start_0
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    if-eqz v1, :cond_b
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettingsManager;->service:Landroid/privacy/IPrivacySettingsManager;
+
+    invoke-interface {v1, p1}, Landroid/privacy/IPrivacySettingsManager;->setNotificationsEnabled(Z)Z
+
+    move-result v1
+
+    :goto_a
+    return v1
+
+    :cond_b
+    const-string v1, "PrivacySettingsManager"
+
+    const-string/jumbo v2, "setNotificationsEnabled - PrivacySettingsManagerService is null"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_13
+    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_13} :catch_15
+
+    :goto_13
+    const/4 v1, 0x0
+
+    goto :goto_a
+
+    :catch_15
+    move-exception v0
+
+    const-string v1, "PrivacySettingsManager"
+
+    const-string v2, "RemoteException in setNotificationsEnabled: "
+
+    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_13
+.end method
diff -Npru stock_framework/smali/android/privacy/PrivacySettings.smali pdroid_framework/smali/android/privacy/PrivacySettings.smali
--- stock_framework/smali/android/privacy/PrivacySettings.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid_framework/smali/android/privacy/PrivacySettings.smali	2012-07-02 22:52:42.659959473 -0700
@@ -0,0 +1,2109 @@
+.class public final Landroid/privacy/PrivacySettings;
+.super Ljava/lang/Object;
+.source "PrivacySettings.java"
+
+# interfaces
+.implements Landroid/os/Parcelable;
+
+
+# static fields
+.field public static final CREATOR:Landroid/os/Parcelable$Creator; = null
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "Landroid/os/Parcelable$Creator",
+            "<",
+            "Landroid/privacy/PrivacySettings;",
+            ">;"
+        }
+    .end annotation
+.end field
+
+.field public static final CUSTOM:B = 0x2t
+
+.field public static final DATA_ACCOUNTS_LIST:Ljava/lang/String; = "accountsList"
+
+.field public static final DATA_AUTH_TOKENS:Ljava/lang/String; = "authTokens"
+
+.field public static final DATA_BOOKMARKS:Ljava/lang/String; = "bookmarks"
+
+.field public static final DATA_CALENDAR:Ljava/lang/String; = "calendar"
+
+.field public static final DATA_CALL_LOG:Ljava/lang/String; = "callLog"
+
+.field public static final DATA_CONTACTS:Ljava/lang/String; = "contacts"
+
+.field public static final DATA_DEVICE_ID:Ljava/lang/String; = "deviceID"
+
+.field public static final DATA_INCOMING_CALL:Ljava/lang/String; = "incomingCall"
+
+.field public static final DATA_INTENT_BOOT_COMPLETED:Ljava/lang/String; = "intentBootCompleted"
+
+.field public static final DATA_LINE_1_NUMBER:Ljava/lang/String; = "line1Number"
+
+.field public static final DATA_LOCATION_GPS:Ljava/lang/String; = "locationGPS"
+
+.field public static final DATA_LOCATION_NETWORK:Ljava/lang/String; = "locationNetwork"
+
+.field public static final DATA_MMS:Ljava/lang/String; = "mms"
+
+.field public static final DATA_MMS_SMS:Ljava/lang/String; = "mmsSms"
+
+.field public static final DATA_NETWORK_INFO_CURRENT:Ljava/lang/String; = "networkInfoCurrent"
+
+.field public static final DATA_NETWORK_INFO_SIM:Ljava/lang/String; = "networkInfoSIM"
+
+.field public static final DATA_OUTGOING_CALL:Ljava/lang/String; = "outgoingCall"
+
+.field public static final DATA_SIM_SERIAL:Ljava/lang/String; = "simSerial"
+
+.field public static final DATA_SMS:Ljava/lang/String; = "sms"
+
+.field public static final DATA_SUBSCRIBER_ID:Ljava/lang/String; = "subscriberID"
+
+.field public static final DATA_SYSTEM_LOGS:Ljava/lang/String; = "systemLogs"
+
+.field public static final EMPTY:B = 0x1t
+
+.field public static final RANDOM:B = 0x3t
+
+.field public static final REAL:B = 0x0t
+
+.field public static final SETTING_NOTIFY_OFF:B = 0x0t
+
+.field public static final SETTING_NOTIFY_ON:B = 0x1t
+
+
+# instance fields
+.field private final _id:Ljava/lang/Integer;
+
+.field private accountsAuthTokensSetting:B
+
+.field private accountsSetting:B
+
+.field private allowedContacts:[I
+
+.field private bookmarksSetting:B
+
+.field private calendarSetting:B
+
+.field private callLogSetting:B
+
+.field private contactsSetting:B
+
+.field private deviceId:Ljava/lang/String;
+
+.field private deviceIdSetting:B
+
+.field private incomingCallsSetting:B
+
+.field private intentBootCompletedSetting:B
+
+.field private line1Number:Ljava/lang/String;
+
+.field private line1NumberSetting:B
+
+.field private locationGpsLat:Ljava/lang/String;
+
+.field private locationGpsLon:Ljava/lang/String;
+
+.field private locationGpsSetting:B
+
+.field private locationNetworkLat:Ljava/lang/String;
+
+.field private locationNetworkLon:Ljava/lang/String;
+
+.field private locationNetworkSetting:B
+
+.field private mmsSetting:B
+
+.field private networkInfoSetting:B
+
+.field private notificationSetting:B
+
+.field private outgoingCallsSetting:B
+
+.field private packageName:Ljava/lang/String;
+
+.field private simInfoSetting:B
+
+.field private simSerialNumber:Ljava/lang/String;
+
+.field private simSerialNumberSetting:B
+
+.field private smsSetting:B
+
+.field private subscriberId:Ljava/lang/String;
+
+.field private subscriberIdSetting:B
+
+.field private systemLogsSetting:B
+
+.field private uid:I
+
+
+# direct methods
+.method static constructor <clinit>()V
+    .registers 1
+
+    new-instance v0, Landroid/privacy/PrivacySettings$1;
+
+    invoke-direct {v0}, Landroid/privacy/PrivacySettings$1;-><init>()V
+
+    sput-object v0, Landroid/privacy/PrivacySettings;->CREATOR:Landroid/os/Parcelable$Creator;
+
+    return-void
+.end method
+
+.method public constructor <init>(Landroid/os/Parcel;)V
+    .registers 4
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readInt()I
+
+    move-result v0
+
+    const/4 v1, -0x1
+
+    if-ne v0, v1, :cond_ce
+
+    const/4 v1, 0x0
+
+    :goto_b
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->_id:Ljava/lang/Integer;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->packageName:Ljava/lang/String;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readInt()I
+
+    move-result v1
+
+    iput v1, p0, Landroid/privacy/PrivacySettings;->uid:I
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->deviceId:Ljava/lang/String;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->line1Number:Ljava/lang/String;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationGpsLat:Ljava/lang/String;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationGpsLon:Ljava/lang/String;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLat:Ljava/lang/String;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLon:Ljava/lang/String;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->networkInfoSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->simInfoSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->simSerialNumber:Ljava/lang/String;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readString()Ljava/lang/String;
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->subscriberId:Ljava/lang/String;
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->accountsSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->accountsAuthTokensSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->outgoingCallsSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->incomingCallsSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->contactsSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->calendarSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->mmsSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->smsSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->callLogSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->bookmarksSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->systemLogsSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->notificationSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->readByte()B
+
+    move-result v1
+
+    iput-byte v1, p0, Landroid/privacy/PrivacySettings;->intentBootCompletedSetting:B
+
+    invoke-virtual {p1}, Landroid/os/Parcel;->createIntArray()[I
+
+    move-result-object v1
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->allowedContacts:[I
+
+    return-void
+
+    :cond_ce
+    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
+
+    move-result-object v1
+
+    goto/16 :goto_b
+.end method
+
+.method public constructor <init>(Ljava/lang/Integer;Ljava/lang/String;I)V
+    .registers 6
+
+    const/4 v1, 0x0
+
+    const/4 v0, 0x0
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->_id:Ljava/lang/Integer;
+
+    iput-object p2, p0, Landroid/privacy/PrivacySettings;->packageName:Ljava/lang/String;
+
+    iput p3, p0, Landroid/privacy/PrivacySettings;->uid:I
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->deviceId:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->line1Number:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationGpsLat:Ljava/lang/String;
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationGpsLon:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLat:Ljava/lang/String;
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLon:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->networkInfoSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->simInfoSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->simSerialNumber:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->subscriberId:Ljava/lang/String;
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsAuthTokensSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->outgoingCallsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->incomingCallsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->contactsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->calendarSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->mmsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->smsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->callLogSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->bookmarksSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->systemLogsSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->notificationSetting:B
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->intentBootCompletedSetting:B
+
+    iput-object v1, p0, Landroid/privacy/PrivacySettings;->allowedContacts:[I
+
+    return-void
+.end method
+
+.method public constructor <init>(Ljava/lang/Integer;Ljava/lang/String;IBLjava/lang/String;BLjava/lang/String;BLjava/lang/String;Ljava/lang/String;BLjava/lang/String;Ljava/lang/String;BBBLjava/lang/String;BLjava/lang/String;BBBBBBBBBBBBBBBB[I)V
+    .registers 38
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->_id:Ljava/lang/Integer;
+
+    iput-object p2, p0, Landroid/privacy/PrivacySettings;->packageName:Ljava/lang/String;
+
+    iput p3, p0, Landroid/privacy/PrivacySettings;->uid:I
+
+    iput-byte p4, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    iput-object p5, p0, Landroid/privacy/PrivacySettings;->deviceId:Ljava/lang/String;
+
+    iput-byte p6, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    iput-object p7, p0, Landroid/privacy/PrivacySettings;->line1Number:Ljava/lang/String;
+
+    iput-byte p8, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    iput-object p9, p0, Landroid/privacy/PrivacySettings;->locationGpsLat:Ljava/lang/String;
+
+    iput-object p10, p0, Landroid/privacy/PrivacySettings;->locationGpsLon:Ljava/lang/String;
+
+    iput-byte p11, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    iput-object p12, p0, Landroid/privacy/PrivacySettings;->locationNetworkLat:Ljava/lang/String;
+
+    iput-object p13, p0, Landroid/privacy/PrivacySettings;->locationNetworkLon:Ljava/lang/String;
+
+    iput-byte p14, p0, Landroid/privacy/PrivacySettings;->networkInfoSetting:B
+
+    move/from16 v0, p15
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->simInfoSetting:B
+
+    move/from16 v0, p16
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    move-object/from16 v0, p17
+
+    iput-object v0, p0, Landroid/privacy/PrivacySettings;->simSerialNumber:Ljava/lang/String;
+
+    move/from16 v0, p18
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    move-object/from16 v0, p19
+
+    iput-object v0, p0, Landroid/privacy/PrivacySettings;->subscriberId:Ljava/lang/String;
+
+    move/from16 v0, p20
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsSetting:B
+
+    move/from16 v0, p21
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsAuthTokensSetting:B
+
+    move/from16 v0, p22
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->outgoingCallsSetting:B
+
+    move/from16 v0, p23
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->incomingCallsSetting:B
+
+    move/from16 v0, p24
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->contactsSetting:B
+
+    move/from16 v0, p25
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->calendarSetting:B
+
+    move/from16 v0, p26
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->mmsSetting:B
+
+    move/from16 v0, p27
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->smsSetting:B
+
+    move/from16 v0, p28
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->callLogSetting:B
+
+    move/from16 v0, p29
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->bookmarksSetting:B
+
+    move/from16 v0, p30
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->systemLogsSetting:B
+
+    move/from16 v0, p34
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->notificationSetting:B
+
+    move/from16 v0, p35
+
+    iput-byte v0, p0, Landroid/privacy/PrivacySettings;->intentBootCompletedSetting:B
+
+    move-object/from16 v0, p36
+
+    iput-object v0, p0, Landroid/privacy/PrivacySettings;->allowedContacts:[I
+
+    return-void
+.end method
+
+.method private getRandomLat()Ljava/lang/String;
+    .registers 10
+
+    const-wide v7, 0x4056800000000000L
+
+    invoke-static {}, Ljava/lang/Math;->random()D
+
+    move-result-wide v3
+
+    const-wide v5, 0x4066800000000000L
+
+    mul-double v0, v3, v5
+
+    cmpl-double v3, v0, v7
+
+    if-lez v3, :cond_35
+
+    new-instance v2, Ljava/math/BigDecimal;
+
+    sub-double v3, v0, v7
+
+    invoke-direct {v2, v3, v4}, Ljava/math/BigDecimal;-><init>(D)V
+
+    :goto_1b
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const/4 v4, 0x6
+
+    const/4 v5, 0x4
+
+    invoke-virtual {v2, v4, v5}, Ljava/math/BigDecimal;->setScale(II)Ljava/math/BigDecimal;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, ""
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    return-object v3
+
+    :cond_35
+    new-instance v2, Ljava/math/BigDecimal;
+
+    neg-double v3, v0
+
+    invoke-direct {v2, v3, v4}, Ljava/math/BigDecimal;-><init>(D)V
+
+    goto :goto_1b
+.end method
+
+.method private getRandomLon()Ljava/lang/String;
+    .registers 10
+
+    const-wide v7, 0x4066800000000000L
+
+    invoke-static {}, Ljava/lang/Math;->random()D
+
+    move-result-wide v3
+
+    const-wide v5, 0x4076800000000000L
+
+    mul-double v0, v3, v5
+
+    cmpl-double v3, v0, v7
+
+    if-lez v3, :cond_35
+
+    new-instance v2, Ljava/math/BigDecimal;
+
+    sub-double v3, v0, v7
+
+    invoke-direct {v2, v3, v4}, Ljava/math/BigDecimal;-><init>(D)V
+
+    :goto_1b
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const/4 v4, 0x6
+
+    const/4 v5, 0x4
+
+    invoke-virtual {v2, v4, v5}, Ljava/math/BigDecimal;->setScale(II)Ljava/math/BigDecimal;
+
+    move-result-object v4
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v4, ""
+
+    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v3
+
+    return-object v3
+
+    :cond_35
+    new-instance v2, Ljava/math/BigDecimal;
+
+    neg-double v3, v0
+
+    invoke-direct {v2, v3, v4}, Ljava/math/BigDecimal;-><init>(D)V
+
+    goto :goto_1b
+.end method
+
+
+# virtual methods
+.method public describeContents()I
+    .registers 2
+
+    const/4 v0, 0x0
+
+    return v0
+.end method
+
+.method public getAccountsAuthTokensSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsAuthTokensSetting:B
+
+    return v0
+.end method
+
+.method public getAccountsSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsSetting:B
+
+    return v0
+.end method
+
+.method public getAllowedContacts()[I
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->allowedContacts:[I
+
+    return-object v0
+.end method
+
+.method public getBookmarksSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->bookmarksSetting:B
+
+    return v0
+.end method
+
+.method public getCalendarSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->calendarSetting:B
+
+    return v0
+.end method
+
+.method public getCallLogSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->callLogSetting:B
+
+    return v0
+.end method
+
+.method public getContactsSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->contactsSetting:B
+
+    return v0
+.end method
+
+.method public getDeviceId()Ljava/lang/String;
+    .registers 6
+
+    iget-byte v2, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    const/4 v3, 0x1
+
+    if-ne v2, v3, :cond_8
+
+    const-string v2, ""
+
+    :goto_7
+    return-object v2
+
+    :cond_8
+    iget-byte v2, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    const/4 v3, 0x3
+
+    if-ne v2, v3, :cond_35
+
+    new-instance v0, Ljava/util/Random;
+
+    invoke-direct {v0}, Ljava/util/Random;-><init>()V
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v0}, Ljava/util/Random;->nextLong()J
+
+    move-result-wide v3
+
+    invoke-static {v3, v4}, Ljava/lang/Math;->abs(J)J
+
+    move-result-wide v3
+
+    invoke-virtual {v2, v3, v4}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    const-string v3, ""
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    const/16 v3, 0xf
+
+    invoke-virtual {v1, v2, v3}, Ljava/lang/String;->substring(II)Ljava/lang/String;
+
+    move-result-object v2
+
+    goto :goto_7
+
+    :cond_35
+    iget-object v2, p0, Landroid/privacy/PrivacySettings;->deviceId:Ljava/lang/String;
+
+    goto :goto_7
+.end method
+
+.method public getDeviceIdSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    return v0
+.end method
+
+.method public getIncomingCallsSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->incomingCallsSetting:B
+
+    return v0
+.end method
+
+.method public getIntentBootCompletedSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->intentBootCompletedSetting:B
+
+    return v0
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 6
+
+    iget-byte v2, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    const/4 v3, 0x1
+
+    if-ne v2, v3, :cond_8
+
+    const-string v2, ""
+
+    :goto_7
+    return-object v2
+
+    :cond_8
+    iget-byte v2, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    const/4 v3, 0x3
+
+    if-ne v2, v3, :cond_3b
+
+    new-instance v0, Ljava/util/Random;
+
+    invoke-direct {v0}, Ljava/util/Random;-><init>()V
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "+"
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v0}, Ljava/util/Random;->nextLong()J
+
+    move-result-wide v3
+
+    invoke-static {v3, v4}, Ljava/lang/Math;->abs(J)J
+
+    move-result-wide v3
+
+    invoke-virtual {v2, v3, v4}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    const-string v3, ""
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    const/16 v3, 0xd
+
+    invoke-virtual {v1, v2, v3}, Ljava/lang/String;->substring(II)Ljava/lang/String;
+
+    move-result-object v2
+
+    goto :goto_7
+
+    :cond_3b
+    iget-object v2, p0, Landroid/privacy/PrivacySettings;->line1Number:Ljava/lang/String;
+
+    goto :goto_7
+.end method
+
+.method public getLine1NumberSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    return v0
+.end method
+
+.method public getLocationGpsLat()Ljava/lang/String;
+    .registers 3
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    const/4 v1, 0x1
+
+    if-ne v0, v1, :cond_8
+
+    const-string v0, ""
+
+    :goto_7
+    return-object v0
+
+    :cond_8
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    const/4 v1, 0x3
+
+    if-ne v0, v1, :cond_12
+
+    invoke-direct {p0}, Landroid/privacy/PrivacySettings;->getRandomLat()Ljava/lang/String;
+
+    move-result-object v0
+
+    goto :goto_7
+
+    :cond_12
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->locationGpsLat:Ljava/lang/String;
+
+    goto :goto_7
+.end method
+
+.method public getLocationGpsLon()Ljava/lang/String;
+    .registers 3
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    const/4 v1, 0x1
+
+    if-ne v0, v1, :cond_8
+
+    const-string v0, ""
+
+    :goto_7
+    return-object v0
+
+    :cond_8
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    const/4 v1, 0x3
+
+    if-ne v0, v1, :cond_12
+
+    invoke-direct {p0}, Landroid/privacy/PrivacySettings;->getRandomLon()Ljava/lang/String;
+
+    move-result-object v0
+
+    goto :goto_7
+
+    :cond_12
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->locationGpsLon:Ljava/lang/String;
+
+    goto :goto_7
+.end method
+
+.method public getLocationGpsSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    return v0
+.end method
+
+.method public getLocationNetworkLat()Ljava/lang/String;
+    .registers 3
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    const/4 v1, 0x1
+
+    if-ne v0, v1, :cond_8
+
+    const-string v0, ""
+
+    :goto_7
+    return-object v0
+
+    :cond_8
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    const/4 v1, 0x3
+
+    if-ne v0, v1, :cond_12
+
+    invoke-direct {p0}, Landroid/privacy/PrivacySettings;->getRandomLat()Ljava/lang/String;
+
+    move-result-object v0
+
+    goto :goto_7
+
+    :cond_12
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkLat:Ljava/lang/String;
+
+    goto :goto_7
+.end method
+
+.method public getLocationNetworkLon()Ljava/lang/String;
+    .registers 3
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    const/4 v1, 0x1
+
+    if-ne v0, v1, :cond_8
+
+    const-string v0, ""
+
+    :goto_7
+    return-object v0
+
+    :cond_8
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    const/4 v1, 0x3
+
+    if-ne v0, v1, :cond_12
+
+    invoke-direct {p0}, Landroid/privacy/PrivacySettings;->getRandomLon()Ljava/lang/String;
+
+    move-result-object v0
+
+    goto :goto_7
+
+    :cond_12
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkLon:Ljava/lang/String;
+
+    goto :goto_7
+.end method
+
+.method public getLocationNetworkSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    return v0
+.end method
+
+.method public getMmsSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->mmsSetting:B
+
+    return v0
+.end method
+
+.method public getNetworkInfoSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->networkInfoSetting:B
+
+    return v0
+.end method
+
+.method public getNotificationSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->notificationSetting:B
+
+    return v0
+.end method
+
+.method public getOutgoingCallsSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->outgoingCallsSetting:B
+
+    return v0
+.end method
+
+.method public getPackageName()Ljava/lang/String;
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->packageName:Ljava/lang/String;
+
+    return-object v0
+.end method
+
+.method public getSimInfoSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->simInfoSetting:B
+
+    return v0
+.end method
+
+.method public getSimSerialNumber()Ljava/lang/String;
+    .registers 5
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    const/4 v2, 0x1
+
+    if-ne v1, v2, :cond_8
+
+    const-string v1, ""
+
+    :goto_7
+    return-object v1
+
+    :cond_8
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    const/4 v2, 0x3
+
+    if-ne v1, v2, :cond_2e
+
+    new-instance v0, Ljava/util/Random;
+
+    invoke-direct {v0}, Ljava/util/Random;-><init>()V
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v0}, Ljava/util/Random;->nextLong()J
+
+    move-result-wide v2
+
+    invoke-static {v2, v3}, Ljava/lang/Math;->abs(J)J
+
+    move-result-wide v2
+
+    invoke-virtual {v1, v2, v3}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    const-string v2, ""
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    goto :goto_7
+
+    :cond_2e
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->simSerialNumber:Ljava/lang/String;
+
+    goto :goto_7
+.end method
+
+.method public getSimSerialNumberSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    return v0
+.end method
+
+.method public getSmsSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->smsSetting:B
+
+    return v0
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 6
+
+    iget-byte v2, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    const/4 v3, 0x1
+
+    if-ne v2, v3, :cond_8
+
+    const-string v2, ""
+
+    :goto_7
+    return-object v2
+
+    :cond_8
+    iget-byte v2, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    const/4 v3, 0x3
+
+    if-ne v2, v3, :cond_35
+
+    new-instance v0, Ljava/util/Random;
+
+    invoke-direct {v0}, Ljava/util/Random;-><init>()V
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v0}, Ljava/util/Random;->nextLong()J
+
+    move-result-wide v3
+
+    invoke-static {v3, v4}, Ljava/lang/Math;->abs(J)J
+
+    move-result-wide v3
+
+    invoke-virtual {v2, v3, v4}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    const-string v3, ""
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    const/4 v2, 0x0
+
+    const/16 v3, 0xf
+
+    invoke-virtual {v1, v2, v3}, Ljava/lang/String;->substring(II)Ljava/lang/String;
+
+    move-result-object v2
+
+    goto :goto_7
+
+    :cond_35
+    iget-object v2, p0, Landroid/privacy/PrivacySettings;->subscriberId:Ljava/lang/String;
+
+    goto :goto_7
+.end method
+
+.method public getSubscriberIdSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    return v0
+.end method
+
+.method public getSystemLogsSetting()B
+    .registers 2
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->systemLogsSetting:B
+
+    return v0
+.end method
+
+.method public getUid()I
+    .registers 2
+
+    iget v0, p0, Landroid/privacy/PrivacySettings;->uid:I
+
+    return v0
+.end method
+
+.method public get_id()Ljava/lang/Integer;
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->_id:Ljava/lang/Integer;
+
+    return-object v0
+.end method
+
+.method public setAccountsAuthTokensSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->accountsAuthTokensSetting:B
+
+    return-void
+.end method
+
+.method public setAccountsSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->accountsSetting:B
+
+    return-void
+.end method
+
+.method public setAllowedContacts([I)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->allowedContacts:[I
+
+    return-void
+.end method
+
+.method public setBookmarksSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->bookmarksSetting:B
+
+    return-void
+.end method
+
+.method public setCalendarSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->calendarSetting:B
+
+    return-void
+.end method
+
+.method public setCallLogSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->callLogSetting:B
+
+    return-void
+.end method
+
+.method public setContactsSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->contactsSetting:B
+
+    return-void
+.end method
+
+.method public setDeviceId(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->deviceId:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setDeviceIdSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    return-void
+.end method
+
+.method public setIncomingCallsSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->incomingCallsSetting:B
+
+    return-void
+.end method
+
+.method public setIntentBootCompletedSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->intentBootCompletedSetting:B
+
+    return-void
+.end method
+
+.method public setLine1Number(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->line1Number:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setLine1NumberSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    return-void
+.end method
+
+.method public setLocationGpsLat(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->locationGpsLat:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setLocationGpsLon(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->locationGpsLon:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setLocationGpsSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    return-void
+.end method
+
+.method public setLocationNetworkLat(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLat:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setLocationNetworkLon(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLon:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setLocationNetworkSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    return-void
+.end method
+
+.method public setMmsSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->mmsSetting:B
+
+    return-void
+.end method
+
+.method public setNetworkInfoSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->networkInfoSetting:B
+
+    return-void
+.end method
+
+.method public setNotificationSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->notificationSetting:B
+
+    return-void
+.end method
+
+.method public setOutgoingCallsSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->outgoingCallsSetting:B
+
+    return-void
+.end method
+
+.method public setPackageName(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->packageName:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setSimInfoSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->simInfoSetting:B
+
+    return-void
+.end method
+
+.method public setSimSerialNumber(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->simSerialNumber:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setSimSerialNumberSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    return-void
+.end method
+
+.method public setSmsSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->smsSetting:B
+
+    return-void
+.end method
+
+.method public setSubscriberId(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/privacy/PrivacySettings;->subscriberId:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setSubscriberIdSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    return-void
+.end method
+
+.method public setSystemLogsSetting(B)V
+    .registers 2
+
+    iput-byte p1, p0, Landroid/privacy/PrivacySettings;->systemLogsSetting:B
+
+    return-void
+.end method
+
+.method public setUid(I)V
+    .registers 2
+
+    iput p1, p0, Landroid/privacy/PrivacySettings;->uid:I
+
+    return-void
+.end method
+
+.method public toString()Ljava/lang/String;
+    .registers 3
+
+    new-instance v0, Ljava/lang/StringBuilder;
+
+    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v1, "PrivacySettings [_id="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->_id:Ljava/lang/Integer;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", accountsAuthTokensSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->accountsAuthTokensSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", accountsSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->accountsSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", bookmarksSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->bookmarksSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", calendarSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->calendarSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", callLogSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->callLogSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", contactsSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->contactsSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", deviceId="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->deviceId:Ljava/lang/String;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", deviceIdSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", incomingCallsSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->incomingCallsSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", intentBootCompletedSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->intentBootCompletedSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", line1Number="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->line1Number:Ljava/lang/String;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", line1NumberSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", locationGpsLat="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->locationGpsLat:Ljava/lang/String;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", locationGpsLon="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->locationGpsLon:Ljava/lang/String;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", locationGpsSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", locationNetworkLat="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLat:Ljava/lang/String;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", locationNetworkLon="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkLon:Ljava/lang/String;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", locationNetworkSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", mmsSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->mmsSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", networkInfoSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->networkInfoSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", notificationSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->notificationSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", outgoingCallsSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->outgoingCallsSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", packageName="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->packageName:Ljava/lang/String;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", simInfoSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->simInfoSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", simSerialNumber="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->simSerialNumber:Ljava/lang/String;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", simSerialNumberSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", smsSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->smsSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", subscriberId="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-object v1, p0, Landroid/privacy/PrivacySettings;->subscriberId:Ljava/lang/String;
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", subscriberIdSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", systemLogsSetting="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget-byte v1, p0, Landroid/privacy/PrivacySettings;->systemLogsSetting:B
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, ", uid="
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    iget v1, p0, Landroid/privacy/PrivacySettings;->uid:I
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    const-string v1, "]"
+
+    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v0
+
+    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v0
+
+    return-object v0
+.end method
+
+.method public writeToParcel(Landroid/os/Parcel;I)V
+    .registers 4
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->_id:Ljava/lang/Integer;
+
+    if-nez v0, :cond_a9
+
+    const/4 v0, -0x1
+
+    :goto_5
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeInt(I)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->packageName:Ljava/lang/String;
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget v0, p0, Landroid/privacy/PrivacySettings;->uid:I
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeInt(I)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->deviceIdSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->deviceId:Ljava/lang/String;
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->line1NumberSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->line1Number:Ljava/lang/String;
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationGpsSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->locationGpsLat:Ljava/lang/String;
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->locationGpsLon:Ljava/lang/String;
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkLat:Ljava/lang/String;
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->locationNetworkLon:Ljava/lang/String;
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->networkInfoSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->simInfoSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->simSerialNumberSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->simSerialNumber:Ljava/lang/String;
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->subscriberIdSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->subscriberId:Ljava/lang/String;
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeString(Ljava/lang/String;)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->accountsAuthTokensSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->outgoingCallsSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->incomingCallsSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->contactsSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->calendarSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->mmsSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->smsSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->callLogSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->bookmarksSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->systemLogsSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->notificationSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-byte v0, p0, Landroid/privacy/PrivacySettings;->intentBootCompletedSetting:B
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeByte(B)V
+
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->allowedContacts:[I
+
+    invoke-virtual {p1, v0}, Landroid/os/Parcel;->writeIntArray([I)V
+
+    return-void
+
+    :cond_a9
+    iget-object v0, p0, Landroid/privacy/PrivacySettings;->_id:Ljava/lang/Integer;
+
+    invoke-virtual {v0}, Ljava/lang/Integer;->intValue()I
+
+    move-result v0
+
+    goto/16 :goto_5
+.end method
diff -Npru stock_framework/smali/android/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture.smali pdroid_framework/smali/android/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture.smali
--- stock_framework/smali/android/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid_framework/smali/android/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture.smali	2012-07-02 22:52:42.661959953 -0700
@@ -0,0 +1,129 @@
+.class Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;
+.super Ljava/lang/Object;
+.source "PrivacyAccountManager.java"
+
+# interfaces
+.implements Landroid/accounts/AccountManagerFuture;
+
+
+# annotations
+.annotation system Ldalvik/annotation/EnclosingClass;
+    value = Landroid/privacy/surrogate/PrivacyAccountManager;
+.end annotation
+
+.annotation system Ldalvik/annotation/InnerClass;
+    accessFlags = 0x2
+    name = "PrivacyAccountManagerFuture"
+.end annotation
+
+.annotation system Ldalvik/annotation/Signature;
+    value = {
+        "<V:",
+        "Ljava/lang/Object;",
+        ">",
+        "Ljava/lang/Object;",
+        "Landroid/accounts/AccountManagerFuture",
+        "<TV;>;"
+    }
+.end annotation
+
+
+# instance fields
+.field private result:Ljava/lang/Object;
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "TV;"
+        }
+    .end annotation
+.end field
+
+.field final synthetic this$0:Landroid/privacy/surrogate/PrivacyAccountManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/privacy/surrogate/PrivacyAccountManager;Ljava/lang/Object;)V
+    .registers 3
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "(TV;)V"
+        }
+    .end annotation
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;->this$0:Landroid/privacy/surrogate/PrivacyAccountManager;
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    iput-object p2, p0, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;->result:Ljava/lang/Object;
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public cancel(Z)Z
+    .registers 3
+
+    const/4 v0, 0x0
+
+    return v0
+.end method
+
+.method public getResult()Ljava/lang/Object;
+    .registers 2
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "()TV;"
+        }
+    .end annotation
+
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/accounts/OperationCanceledException;,
+            Ljava/io/IOException;,
+            Landroid/accounts/AuthenticatorException;
+        }
+    .end annotation
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;->result:Ljava/lang/Object;
+
+    return-object v0
+.end method
+
+.method public getResult(JLjava/util/concurrent/TimeUnit;)Ljava/lang/Object;
+    .registers 5
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "(J",
+            "Ljava/util/concurrent/TimeUnit;",
+            ")TV;"
+        }
+    .end annotation
+
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/accounts/OperationCanceledException;,
+            Ljava/io/IOException;,
+            Landroid/accounts/AuthenticatorException;
+        }
+    .end annotation
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;->result:Ljava/lang/Object;
+
+    return-object v0
+.end method
+
+.method public isCancelled()Z
+    .registers 2
+
+    const/4 v0, 0x0
+
+    return v0
+.end method
+
+.method public isDone()Z
+    .registers 2
+
+    const/4 v0, 0x1
+
+    return v0
+.end method
diff -Npru stock_framework/smali/android/privacy/surrogate/PrivacyAccountManager.smali pdroid_framework/smali/android/privacy/surrogate/PrivacyAccountManager.smali
--- stock_framework/smali/android/privacy/surrogate/PrivacyAccountManager.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid_framework/smali/android/privacy/surrogate/PrivacyAccountManager.smali	2012-07-02 22:52:42.662960192 -0700
@@ -0,0 +1,701 @@
+.class public final Landroid/privacy/surrogate/PrivacyAccountManager;
+.super Landroid/accounts/AccountManager;
+.source "PrivacyAccountManager.java"
+
+
+# annotations
+.annotation system Ldalvik/annotation/MemberClasses;
+    value = {
+        Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;
+    }
+.end annotation
+
+
+# static fields
+.field private static final TAG:Ljava/lang/String; = "PrivacyAccountManager"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;Landroid/accounts/IAccountManager;)V
+    .registers 5
+
+    invoke-direct {p0, p1, p2}, Landroid/accounts/AccountManager;-><init>(Landroid/content/Context;Landroid/accounts/IAccountManager;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    return-void
+.end method
+
+.method public constructor <init>(Landroid/content/Context;Landroid/accounts/IAccountManager;Landroid/os/Handler;)V
+    .registers 6
+
+    invoke-direct {p0, p1, p2, p3}, Landroid/accounts/AccountManager;-><init>(Landroid/content/Context;Landroid/accounts/IAccountManager;Landroid/os/Handler;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public blockingGetAuthToken(Landroid/accounts/Account;Ljava/lang/String;Z)Ljava/lang/String;
+    .registers 12
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/accounts/OperationCanceledException;,
+            Ljava/io/IOException;,
+            Landroid/accounts/AuthenticatorException;
+        }
+    .end annotation
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_23
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getAccountsAuthTokensSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_23
+
+    const/4 v7, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string v4, "authTokens"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_22
+    return-object v7
+
+    :cond_23
+    invoke-super {p0, p1, p2, p3}, Landroid/accounts/AccountManager;->blockingGetAuthToken(Landroid/accounts/Account;Ljava/lang/String;Z)Ljava/lang/String;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "authTokens"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_22
+.end method
+
+.method public getAccounts()[Landroid/accounts/Account;
+    .registers 10
+
+    const/4 v5, 0x0
+
+    const/4 v3, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_27
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getAccountsSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_27
+
+    const-string v8, "[empty accounts list]"
+
+    new-array v7, v3, [Landroid/accounts/Account;
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string v4, "accountsList"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_26
+    return-object v7
+
+    :cond_27
+    const-string v8, "[real value]"
+
+    invoke-super {p0}, Landroid/accounts/AccountManager;->getAccounts()[Landroid/accounts/Account;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "accountsList"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_26
+.end method
+
+.method public getAccountsByType(Ljava/lang/String;)[Landroid/accounts/Account;
+    .registers 11
+
+    const/4 v5, 0x0
+
+    const/4 v3, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_27
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getAccountsSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_27
+
+    const-string v8, "[empty accounts list]"
+
+    new-array v7, v3, [Landroid/accounts/Account;
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string v4, "accountsList"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_26
+    return-object v7
+
+    :cond_27
+    const-string v8, "[real value]"
+
+    invoke-super {p0, p1}, Landroid/accounts/AccountManager;->getAccountsByType(Ljava/lang/String;)[Landroid/accounts/Account;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "accountsList"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_26
+.end method
+
+.method public getAccountsByTypeAndFeatures(Ljava/lang/String;[Ljava/lang/String;Landroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+    .registers 14
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "(",
+            "Ljava/lang/String;",
+            "[",
+            "Ljava/lang/String;",
+            "Landroid/accounts/AccountManagerCallback",
+            "<[",
+            "Landroid/accounts/Account;",
+            ">;",
+            "Landroid/os/Handler;",
+            ")",
+            "Landroid/accounts/AccountManagerFuture",
+            "<[",
+            "Landroid/accounts/Account;",
+            ">;"
+        }
+    .end annotation
+
+    const/4 v5, 0x0
+
+    const/4 v3, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_2c
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getAccountsSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_2c
+
+    const-string v8, "[false]"
+
+    new-instance v7, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;
+
+    new-array v0, v3, [Landroid/accounts/Account;
+
+    invoke-direct {v7, p0, v0}, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;-><init>(Landroid/privacy/surrogate/PrivacyAccountManager;Ljava/lang/Object;)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string v4, "accountsList"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_2b
+    return-object v7
+
+    :cond_2c
+    const-string v8, "[real value]"
+
+    invoke-super {p0, p1, p2, p3, p4}, Landroid/accounts/AccountManager;->getAccountsByTypeAndFeatures(Ljava/lang/String;[Ljava/lang/String;Landroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "accountsList"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_2b
+.end method
+
+.method public getAuthToken(Landroid/accounts/Account;Ljava/lang/String;Landroid/os/Bundle;Landroid/app/Activity;Landroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+    .registers 16
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "(",
+            "Landroid/accounts/Account;",
+            "Ljava/lang/String;",
+            "Landroid/os/Bundle;",
+            "Landroid/app/Activity;",
+            "Landroid/accounts/AccountManagerCallback",
+            "<",
+            "Landroid/os/Bundle;",
+            ">;",
+            "Landroid/os/Handler;",
+            ")",
+            "Landroid/accounts/AccountManagerFuture",
+            "<",
+            "Landroid/os/Bundle;",
+            ">;"
+        }
+    .end annotation
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_2e
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getAccountsAuthTokensSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_2e
+
+    const-string v8, "[empty]"
+
+    new-instance v7, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;
+
+    new-instance v0, Landroid/os/Bundle;
+
+    invoke-direct {v0}, Landroid/os/Bundle;-><init>()V
+
+    invoke-direct {v7, p0, v0}, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;-><init>(Landroid/privacy/surrogate/PrivacyAccountManager;Ljava/lang/Object;)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string v4, "authTokens"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_2d
+    return-object v7
+
+    :cond_2e
+    const-string v8, "[real value]"
+
+    invoke-super/range {p0 .. p6}, Landroid/accounts/AccountManager;->getAuthToken(Landroid/accounts/Account;Ljava/lang/String;Landroid/os/Bundle;Landroid/app/Activity;Landroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "authTokens"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_2d
+.end method
+
+.method public getAuthToken(Landroid/accounts/Account;Ljava/lang/String;ZLandroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+    .registers 15
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "(",
+            "Landroid/accounts/Account;",
+            "Ljava/lang/String;",
+            "Z",
+            "Landroid/accounts/AccountManagerCallback",
+            "<",
+            "Landroid/os/Bundle;",
+            ">;",
+            "Landroid/os/Handler;",
+            ")",
+            "Landroid/accounts/AccountManagerFuture",
+            "<",
+            "Landroid/os/Bundle;",
+            ">;"
+        }
+    .end annotation
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_2e
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getAccountsAuthTokensSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_2e
+
+    const-string v8, "[empty]"
+
+    new-instance v7, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;
+
+    new-instance v0, Landroid/os/Bundle;
+
+    invoke-direct {v0}, Landroid/os/Bundle;-><init>()V
+
+    invoke-direct {v7, p0, v0}, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;-><init>(Landroid/privacy/surrogate/PrivacyAccountManager;Ljava/lang/Object;)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string v4, "authTokens"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_2d
+    return-object v7
+
+    :cond_2e
+    const-string v8, "[real value]"
+
+    invoke-super/range {p0 .. p5}, Landroid/accounts/AccountManager;->getAuthToken(Landroid/accounts/Account;Ljava/lang/String;ZLandroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "authTokens"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_2d
+.end method
+
+.method public getAuthTokenByFeatures(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Landroid/app/Activity;Landroid/os/Bundle;Landroid/os/Bundle;Landroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+    .registers 18
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "(",
+            "Ljava/lang/String;",
+            "Ljava/lang/String;",
+            "[",
+            "Ljava/lang/String;",
+            "Landroid/app/Activity;",
+            "Landroid/os/Bundle;",
+            "Landroid/os/Bundle;",
+            "Landroid/accounts/AccountManagerCallback",
+            "<",
+            "Landroid/os/Bundle;",
+            ">;",
+            "Landroid/os/Handler;",
+            ")",
+            "Landroid/accounts/AccountManagerFuture",
+            "<",
+            "Landroid/os/Bundle;",
+            ">;"
+        }
+    .end annotation
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_2e
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getAccountsAuthTokensSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_2e
+
+    const-string v8, "[empty]"
+
+    new-instance v7, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;
+
+    new-instance v0, Landroid/os/Bundle;
+
+    invoke-direct {v0}, Landroid/os/Bundle;-><init>()V
+
+    invoke-direct {v7, p0, v0}, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;-><init>(Landroid/privacy/surrogate/PrivacyAccountManager;Ljava/lang/Object;)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string v4, "authTokens"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_2d
+    return-object v7
+
+    :cond_2e
+    const-string v8, "[real value]"
+
+    invoke-super/range {p0 .. p8}, Landroid/accounts/AccountManager;->getAuthTokenByFeatures(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Landroid/app/Activity;Landroid/os/Bundle;Landroid/os/Bundle;Landroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "authTokens"
+
+    const/4 v5, 0x0
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_2d
+.end method
+
+.method public hasFeatures(Landroid/accounts/Account;[Ljava/lang/String;Landroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+    .registers 14
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "(",
+            "Landroid/accounts/Account;",
+            "[",
+            "Ljava/lang/String;",
+            "Landroid/accounts/AccountManagerCallback",
+            "<",
+            "Ljava/lang/Boolean;",
+            ">;",
+            "Landroid/os/Handler;",
+            ")",
+            "Landroid/accounts/AccountManagerFuture",
+            "<",
+            "Ljava/lang/Boolean;",
+            ">;"
+        }
+    .end annotation
+
+    const/4 v5, 0x0
+
+    const/4 v3, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_2e
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getAccountsSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_2e
+
+    const-string v8, "[false]"
+
+    new-instance v7, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;
+
+    invoke-static {v3}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;
+
+    move-result-object v0
+
+    invoke-direct {v7, p0, v0}, Landroid/privacy/surrogate/PrivacyAccountManager$PrivacyAccountManagerFuture;-><init>(Landroid/privacy/surrogate/PrivacyAccountManager;Ljava/lang/Object;)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string v4, "accountsList"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_2d
+    return-object v7
+
+    :cond_2e
+    const-string v8, "[real value]"
+
+    invoke-super {p0, p1, p2, p3, p4}, Landroid/accounts/AccountManager;->hasFeatures(Landroid/accounts/Account;[Ljava/lang/String;Landroid/accounts/AccountManagerCallback;Landroid/os/Handler;)Landroid/accounts/AccountManagerFuture;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyAccountManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "accountsList"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_2d
+.end method
diff -Npru stock_framework/smali/android/privacy/surrogate/PrivacyActivityManagerService.smali pdroid_framework/smali/android/privacy/surrogate/PrivacyActivityManagerService.smali
--- stock_framework/smali/android/privacy/surrogate/PrivacyActivityManagerService.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid_framework/smali/android/privacy/surrogate/PrivacyActivityManagerService.smali	2012-07-02 22:52:42.662960192 -0700
@@ -0,0 +1,1087 @@
+.class public final Landroid/privacy/surrogate/PrivacyActivityManagerService;
+.super Ljava/lang/Object;
+.source "PrivacyActivityManagerService.java"
+
+
+# static fields
+.field private static final TAG:Ljava/lang/String; = "PrivacyActivityManagerService"
+
+.field private static pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+.field private static tmpIn:Landroid/content/Intent;
+
+.field private static tmpInHash:J
+
+.field private static tmpInReceivers:I
+
+.field private static tmpMms:Landroid/content/Intent;
+
+.field private static tmpMmsHash:J
+
+.field private static tmpMmsReceivers:I
+
+.field private static tmpOut:Landroid/content/Intent;
+
+.field private static tmpOutHash:J
+
+.field private static tmpOutReceivers:I
+
+.field private static tmpPackageAddedHash:J
+
+.field private static tmpSms:Landroid/content/Intent;
+
+.field private static tmpSmsHash:J
+
+.field private static tmpSmsReceivers:I
+
+
+# direct methods
+.method static constructor <clinit>()V
+    .registers 3
+
+    const/4 v2, 0x0
+
+    const-wide/16 v0, 0x0
+
+    sput-wide v0, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpInHash:J
+
+    sput v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpInReceivers:I
+
+    sput-wide v0, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOutHash:J
+
+    sput v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOutReceivers:I
+
+    sput-wide v0, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSmsHash:J
+
+    sput v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSmsReceivers:I
+
+    sput-wide v0, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMmsHash:J
+
+    sput v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMmsReceivers:I
+
+    sput-wide v0, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpPackageAddedHash:J
+
+    return-void
+.end method
+
+.method public constructor <init>()V
+    .registers 1
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    return-void
+.end method
+
+.method public static enforcePrivacyPermission(Ljava/lang/String;ILandroid/content/Intent;Landroid/content/Context;I)V
+    .registers 22
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v2, :cond_11
+
+    const-string/jumbo v2, "privacy"
+
+    move-object/from16 v0, p3
+
+    invoke-virtual {v0, v2}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;
+
+    move-result-object v2
+
+    check-cast v2, Landroid/privacy/PrivacySettingsManager;
+
+    sput-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_11
+    invoke-virtual/range {p2 .. p2}, Landroid/content/Intent;->getAction()Ljava/lang/String;
+
+    move-result-object v9
+
+    const-string v2, "android.intent.action.NEW_OUTGOING_CALL"
+
+    invoke-virtual {v9, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_ad
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
+
+    move/from16 v1, p1
+
+    invoke-virtual {v2, v0, v1}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    const-string v2, "android.intent.extra.PHONE_NUMBER"
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;
+
+    move-result-object v16
+
+    sget-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOutHash:J
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v4
+
+    cmp-long v2, v2, v4
+
+    if-eqz v2, :cond_49
+
+    invoke-virtual/range {p2 .. p2}, Landroid/content/Intent;->clone()Ljava/lang/Object;
+
+    move-result-object v2
+
+    check-cast v2, Landroid/content/Intent;
+
+    sput-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOut:Landroid/content/Intent;
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v2
+
+    sput-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOutHash:J
+
+    sput p4, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOutReceivers:I
+
+    :cond_49
+    if-eqz v8, :cond_76
+
+    :try_start_4b
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getOutgoingCallsSetting()B
+
+    move-result v2
+
+    if-eqz v2, :cond_76
+
+    const-string v16, ""
+
+    const-string v2, "android.intent.extra.PHONE_NUMBER"
+
+    move-object/from16 v0, p2
+
+    move-object/from16 v1, v16
+
+    invoke-virtual {v0, v2, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v5, 0x1
+
+    const-string/jumbo v6, "outgoingCall"
+
+    const/4 v7, 0x0
+
+    move-object/from16 v3, p0
+
+    move/from16 v4, p1
+
+    invoke-virtual/range {v2 .. v8}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_6a
+    .catch Ljava/lang/Exception; {:try_start_4b .. :try_end_6a} :catch_a0
+
+    :cond_6a
+    :goto_6a
+    sget v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOutReceivers:I
+
+    const/4 v3, 0x1
+
+    if-le v2, v3, :cond_a9
+
+    sget v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOutReceivers:I
+
+    add-int/lit8 v2, v2, -0x1
+
+    sput v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOutReceivers:I
+
+    :cond_75
+    :goto_75
+    return-void
+
+    :cond_76
+    :try_start_76
+    sget-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOutHash:J
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v4
+
+    cmp-long v2, v2, v4
+
+    if-nez v2, :cond_6a
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOut:Landroid/content/Intent;
+
+    const-string v3, "android.intent.extra.PHONE_NUMBER"
+
+    invoke-virtual {v2, v3}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;
+
+    move-result-object v16
+
+    const-string v2, "android.intent.extra.PHONE_NUMBER"
+
+    move-object/from16 v0, p2
+
+    move-object/from16 v1, v16
+
+    invoke-virtual {v0, v2, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v5, 0x0
+
+    const-string/jumbo v6, "outgoingCall"
+
+    const/4 v7, 0x0
+
+    move-object/from16 v3, p0
+
+    move/from16 v4, p1
+
+    invoke-virtual/range {v2 .. v8}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_9f
+    .catch Ljava/lang/Exception; {:try_start_76 .. :try_end_9f} :catch_a0
+
+    goto :goto_6a
+
+    :catch_a0
+    move-exception v13
+
+    const-string v2, "PrivacyActivityManagerService"
+
+    const-string v3, "failed to enforce intent broadcast permission"
+
+    invoke-static {v2, v3, v13}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_6a
+
+    :cond_a9
+    const/4 v2, 0x0
+
+    sput-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpOut:Landroid/content/Intent;
+
+    goto :goto_75
+
+    :cond_ad
+    const-string v2, "android.intent.action.PHONE_STATE"
+
+    invoke-virtual {v9, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_14d
+
+    const-string v2, "incoming_number"
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;
+
+    move-result-object v16
+
+    if-eqz v16, :cond_75
+
+    invoke-virtual/range {v16 .. v16}, Ljava/lang/String;->isEmpty()Z
+
+    move-result v2
+
+    if-nez v2, :cond_75
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
+
+    move/from16 v1, p1
+
+    invoke-virtual {v2, v0, v1}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    sget-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpInHash:J
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v4
+
+    cmp-long v2, v2, v4
+
+    if-eqz v2, :cond_e9
+
+    invoke-virtual/range {p2 .. p2}, Landroid/content/Intent;->clone()Ljava/lang/Object;
+
+    move-result-object v2
+
+    check-cast v2, Landroid/content/Intent;
+
+    sput-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpIn:Landroid/content/Intent;
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v2
+
+    sput-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpInHash:J
+
+    sput p4, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpInReceivers:I
+
+    :cond_e9
+    if-eqz v8, :cond_116
+
+    :try_start_eb
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getIncomingCallsSetting()B
+
+    move-result v2
+
+    if-eqz v2, :cond_116
+
+    const-string v16, ""
+
+    const-string v2, "incoming_number"
+
+    move-object/from16 v0, p2
+
+    move-object/from16 v1, v16
+
+    invoke-virtual {v0, v2, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v5, 0x1
+
+    const-string v6, "incomingCall"
+
+    const/4 v7, 0x0
+
+    move-object/from16 v3, p0
+
+    move/from16 v4, p1
+
+    invoke-virtual/range {v2 .. v8}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_109
+    .catch Ljava/lang/Exception; {:try_start_eb .. :try_end_109} :catch_13f
+
+    :cond_109
+    :goto_109
+    sget v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpInReceivers:I
+
+    const/4 v3, 0x1
+
+    if-le v2, v3, :cond_148
+
+    sget v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpInReceivers:I
+
+    add-int/lit8 v2, v2, -0x1
+
+    sput v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpInReceivers:I
+
+    goto/16 :goto_75
+
+    :cond_116
+    :try_start_116
+    sget-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpInHash:J
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v4
+
+    cmp-long v2, v2, v4
+
+    if-nez v2, :cond_109
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpIn:Landroid/content/Intent;
+
+    const-string v3, "incoming_number"
+
+    invoke-virtual {v2, v3}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;
+
+    move-result-object v16
+
+    const-string v2, "incoming_number"
+
+    move-object/from16 v0, p2
+
+    move-object/from16 v1, v16
+
+    invoke-virtual {v0, v2, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v5, 0x0
+
+    const-string v6, "incomingCall"
+
+    const/4 v7, 0x0
+
+    move-object/from16 v3, p0
+
+    move/from16 v4, p1
+
+    invoke-virtual/range {v2 .. v8}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_13e
+    .catch Ljava/lang/Exception; {:try_start_116 .. :try_end_13e} :catch_13f
+
+    goto :goto_109
+
+    :catch_13f
+    move-exception v13
+
+    const-string v2, "PrivacyActivityManagerService"
+
+    const-string v3, "failed to enforce intent broadcast permission"
+
+    invoke-static {v2, v3, v13}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_109
+
+    :cond_148
+    const/4 v2, 0x0
+
+    sput-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpIn:Landroid/content/Intent;
+
+    goto/16 :goto_75
+
+    :cond_14d
+    const-string v2, "android.provider.Telephony.SMS_RECEIVED"
+
+    invoke-virtual {v9, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_222
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
+
+    move/from16 v1, p1
+
+    invoke-virtual {v2, v0, v1}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    const-string v16, "[real]"
+
+    const-string/jumbo v2, "pdus"
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2}, Landroid/content/Intent;->getSerializableExtra(Ljava/lang/String;)Ljava/io/Serializable;
+
+    move-result-object v2
+
+    check-cast v2, [Ljava/lang/Object;
+
+    move-object v15, v2
+
+    check-cast v15, [Ljava/lang/Object;
+
+    if-eqz v15, :cond_1cd
+
+    const/4 v2, 0x0
+
+    aget-object v2, v15, v2
+
+    check-cast v2, [B
+
+    check-cast v2, [B
+
+    move-object v12, v2
+
+    :goto_179
+    sget-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSmsHash:J
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v4
+
+    cmp-long v2, v2, v4
+
+    if-eqz v2, :cond_193
+
+    invoke-virtual/range {p2 .. p2}, Landroid/content/Intent;->clone()Ljava/lang/Object;
+
+    move-result-object v2
+
+    check-cast v2, Landroid/content/Intent;
+
+    sput-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSms:Landroid/content/Intent;
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v2
+
+    sput-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSmsHash:J
+
+    sput p4, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSmsReceivers:I
+
+    :cond_193
+    if-eqz v8, :cond_1cf
+
+    :try_start_195
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getSmsSetting()B
+
+    move-result v2
+
+    if-eqz v2, :cond_1cf
+
+    const-string v16, "[empty]"
+
+    const/4 v2, 0x1
+
+    new-array v14, v2, [Ljava/lang/Object;
+
+    const/4 v2, 0x0
+
+    const/16 v3, 0x10
+
+    new-array v3, v3, [B
+
+    fill-array-data v3, :array_350
+
+    aput-object v3, v14, v2
+
+    const-string/jumbo v2, "pdus"
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2, v14}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/io/Serializable;)Landroid/content/Intent;
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v5, 0x1
+
+    const-string/jumbo v6, "sms"
+
+    const/4 v7, 0x0
+
+    move-object/from16 v3, p0
+
+    move/from16 v4, p1
+
+    invoke-virtual/range {v2 .. v8}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_1c0
+    .catch Ljava/lang/Exception; {:try_start_195 .. :try_end_1c0} :catch_212
+
+    :cond_1c0
+    :goto_1c0
+    sget v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSmsReceivers:I
+
+    const/4 v3, 0x1
+
+    if-le v2, v3, :cond_21d
+
+    sget v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSmsReceivers:I
+
+    add-int/lit8 v2, v2, -0x1
+
+    sput v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSmsReceivers:I
+
+    goto/16 :goto_75
+
+    :cond_1cd
+    const/4 v12, 0x0
+
+    goto :goto_179
+
+    :cond_1cf
+    :try_start_1cf
+    sget-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSmsHash:J
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v4
+
+    cmp-long v2, v2, v4
+
+    if-nez v2, :cond_1c0
+
+    const-string/jumbo v2, "pdus"
+
+    sget-object v3, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSms:Landroid/content/Intent;
+
+    const-string/jumbo v4, "pdus"
+
+    invoke-virtual {v3, v4}, Landroid/content/Intent;->getSerializableExtra(Ljava/lang/String;)Ljava/io/Serializable;
+
+    move-result-object v3
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2, v3}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/io/Serializable;)Landroid/content/Intent;
+
+    const-string/jumbo v2, "pdus"
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2}, Landroid/content/Intent;->getSerializableExtra(Ljava/lang/String;)Ljava/io/Serializable;
+
+    move-result-object v2
+
+    check-cast v2, [Ljava/lang/Object;
+
+    move-object v0, v2
+
+    check-cast v0, [Ljava/lang/Object;
+
+    move-object v15, v0
+
+    if-eqz v15, :cond_21b
+
+    const/4 v2, 0x0
+
+    aget-object v2, v15, v2
+
+    check-cast v2, [B
+
+    check-cast v2, [B
+
+    move-object v12, v2
+
+    :goto_203
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v5, 0x0
+
+    const-string/jumbo v6, "sms"
+
+    const/4 v7, 0x0
+
+    move-object/from16 v3, p0
+
+    move/from16 v4, p1
+
+    invoke-virtual/range {v2 .. v8}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_211
+    .catch Ljava/lang/Exception; {:try_start_1cf .. :try_end_211} :catch_212
+
+    goto :goto_1c0
+
+    :catch_212
+    move-exception v13
+
+    const-string v2, "PrivacyActivityManagerService"
+
+    const-string v3, "failed to enforce intent broadcast permission"
+
+    invoke-static {v2, v3, v13}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_1c0
+
+    :cond_21b
+    const/4 v12, 0x0
+
+    goto :goto_203
+
+    :cond_21d
+    const/4 v2, 0x0
+
+    sput-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpSms:Landroid/content/Intent;
+
+    goto/16 :goto_75
+
+    :cond_222
+    const-string v2, "android.provider.Telephony.WAP_PUSH_RECEIVED"
+
+    invoke-virtual {v9, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-nez v2, :cond_232
+
+    const-string v2, "android.intent.action.DATA_SMS_RECEIVED"
+
+    invoke-virtual {v9, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_2ff
+
+    :cond_232
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
+
+    move/from16 v1, p1
+
+    invoke-virtual {v2, v0, v1}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    const-string v16, "[real]"
+
+    const-string/jumbo v2, "pdus"
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2}, Landroid/content/Intent;->getSerializableExtra(Ljava/lang/String;)Ljava/io/Serializable;
+
+    move-result-object v2
+
+    check-cast v2, [Ljava/lang/Object;
+
+    move-object v15, v2
+
+    check-cast v15, [Ljava/lang/Object;
+
+    if-eqz v15, :cond_2aa
+
+    const/4 v2, 0x0
+
+    aget-object v2, v15, v2
+
+    check-cast v2, [B
+
+    check-cast v2, [B
+
+    move-object v12, v2
+
+    :goto_256
+    sget-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMmsHash:J
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v4
+
+    cmp-long v2, v2, v4
+
+    if-eqz v2, :cond_270
+
+    invoke-virtual/range {p2 .. p2}, Landroid/content/Intent;->clone()Ljava/lang/Object;
+
+    move-result-object v2
+
+    check-cast v2, Landroid/content/Intent;
+
+    sput-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMms:Landroid/content/Intent;
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v2
+
+    sput-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMmsHash:J
+
+    sput p4, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMmsReceivers:I
+
+    :cond_270
+    if-eqz v8, :cond_2ac
+
+    :try_start_272
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getMmsSetting()B
+
+    move-result v2
+
+    if-eqz v2, :cond_2ac
+
+    const-string v16, "[empty]"
+
+    const/4 v2, 0x1
+
+    new-array v14, v2, [Ljava/lang/Object;
+
+    const/4 v2, 0x0
+
+    const/16 v3, 0x10
+
+    new-array v3, v3, [B
+
+    fill-array-data v3, :array_35c
+
+    aput-object v3, v14, v2
+
+    const-string/jumbo v2, "pdus"
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2, v14}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/io/Serializable;)Landroid/content/Intent;
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v5, 0x1
+
+    const-string/jumbo v6, "mms"
+
+    const/4 v7, 0x0
+
+    move-object/from16 v3, p0
+
+    move/from16 v4, p1
+
+    invoke-virtual/range {v2 .. v8}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_29d
+    .catch Ljava/lang/Exception; {:try_start_272 .. :try_end_29d} :catch_2ef
+
+    :cond_29d
+    :goto_29d
+    sget v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMmsReceivers:I
+
+    const/4 v3, 0x1
+
+    if-le v2, v3, :cond_2fa
+
+    sget v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMmsReceivers:I
+
+    add-int/lit8 v2, v2, -0x1
+
+    sput v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMmsReceivers:I
+
+    goto/16 :goto_75
+
+    :cond_2aa
+    const/4 v12, 0x0
+
+    goto :goto_256
+
+    :cond_2ac
+    :try_start_2ac
+    sget-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMmsHash:J
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v4
+
+    cmp-long v2, v2, v4
+
+    if-nez v2, :cond_29d
+
+    const-string/jumbo v2, "pdus"
+
+    sget-object v3, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMms:Landroid/content/Intent;
+
+    const-string/jumbo v4, "pdus"
+
+    invoke-virtual {v3, v4}, Landroid/content/Intent;->getSerializableExtra(Ljava/lang/String;)Ljava/io/Serializable;
+
+    move-result-object v3
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2, v3}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/io/Serializable;)Landroid/content/Intent;
+
+    const-string/jumbo v2, "pdus"
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v2}, Landroid/content/Intent;->getSerializableExtra(Ljava/lang/String;)Ljava/io/Serializable;
+
+    move-result-object v2
+
+    check-cast v2, [Ljava/lang/Object;
+
+    move-object v0, v2
+
+    check-cast v0, [Ljava/lang/Object;
+
+    move-object v15, v0
+
+    if-eqz v15, :cond_2f8
+
+    const/4 v2, 0x0
+
+    aget-object v2, v15, v2
+
+    check-cast v2, [B
+
+    check-cast v2, [B
+
+    move-object v12, v2
+
+    :goto_2e0
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v5, 0x0
+
+    const-string/jumbo v6, "mms"
+
+    const/4 v7, 0x0
+
+    move-object/from16 v3, p0
+
+    move/from16 v4, p1
+
+    invoke-virtual/range {v2 .. v8}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_2ee
+    .catch Ljava/lang/Exception; {:try_start_2ac .. :try_end_2ee} :catch_2ef
+
+    goto :goto_29d
+
+    :catch_2ef
+    move-exception v13
+
+    const-string v2, "PrivacyActivityManagerService"
+
+    const-string v3, "failed to enforce intent broadcast permission"
+
+    invoke-static {v2, v3, v13}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_29d
+
+    :cond_2f8
+    const/4 v12, 0x0
+
+    goto :goto_2e0
+
+    :cond_2fa
+    const/4 v2, 0x0
+
+    sput-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpMms:Landroid/content/Intent;
+
+    goto/16 :goto_75
+
+    :cond_2ff
+    const-string v2, "android.intent.action.BOOT_COMPLETED"
+
+    invoke-virtual {v9, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_30e
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v2}, Landroid/privacy/PrivacySettingsManager;->setBootCompleted()V
+
+    goto/16 :goto_75
+
+    :cond_30e
+    const-string v2, "android.intent.action.PACKAGE_ADDED"
+
+    invoke-virtual {v9, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_75
+
+    sget-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpPackageAddedHash:J
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v4
+
+    cmp-long v2, v2, v4
+
+    if-eqz v2, :cond_75
+
+    invoke-static/range {p2 .. p2}, Landroid/privacy/surrogate/PrivacyActivityManagerService;->hashCode(Landroid/content/Intent;)J
+
+    move-result-wide v2
+
+    sput-wide v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->tmpPackageAddedHash:J
+
+    invoke-virtual/range {p2 .. p2}, Landroid/content/Intent;->getData()Landroid/net/Uri;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Landroid/net/Uri;->getSchemeSpecificPart()Ljava/lang/String;
+
+    move-result-object v10
+
+    invoke-virtual/range {p2 .. p2}, Landroid/content/Intent;->getExtras()Landroid/os/Bundle;
+
+    move-result-object v2
+
+    const-string v3, "android.intent.extra.UID"
+
+    invoke-virtual {v2, v3}, Landroid/os/Bundle;->getInt(Ljava/lang/String;)I
+
+    move-result v11
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v2, v10, v11}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    if-eqz v8, :cond_75
+
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getUid()I
+
+    move-result v2
+
+    if-eq v2, v11, :cond_75
+
+    invoke-virtual {v8, v11}, Landroid/privacy/PrivacySettings;->setUid(I)V
+
+    sget-object v2, Landroid/privacy/surrogate/PrivacyActivityManagerService;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v2, v8}, Landroid/privacy/PrivacySettingsManager;->saveSettings(Landroid/privacy/PrivacySettings;)Z
+
+    goto/16 :goto_75
+
+    :array_350
+    .array-data 0x1
+        0x0t
+        0x20t
+        0x1t
+        0x81t
+        0xf0t
+        0x0t
+        0x0t
+        0x11t
+        0x90t
+        0x1t
+        0x30t
+        0x22t
+        0x22t
+        0x80t
+        0x1t
+        0x20t
+    .end array-data
+
+    :array_35c
+    .array-data 0x1
+        0x0t
+        0x20t
+        0x1t
+        0x81t
+        0xf0t
+        0x0t
+        0x0t
+        0x11t
+        0x90t
+        0x1t
+        0x30t
+        0x22t
+        0x22t
+        0x80t
+        0x1t
+        0x20t
+    .end array-data
+.end method
+
+.method private static hashCode(Landroid/content/Intent;)J
+    .registers 7
+
+    const-wide/16 v3, 0x0
+
+    const-string/jumbo v2, "privacy_hash"
+
+    invoke-virtual {p0, v2, v3, v4}, Landroid/content/Intent;->getLongExtra(Ljava/lang/String;J)J
+
+    move-result-wide v0
+
+    cmp-long v2, v0, v3
+
+    if-nez v2, :cond_1e
+
+    invoke-virtual {p0}, Landroid/content/Intent;->filterHashCode()I
+
+    move-result v2
+
+    int-to-long v2, v2
+
+    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J
+
+    move-result-wide v4
+
+    add-long v0, v2, v4
+
+    const-string/jumbo v2, "privacy_hash"
+
+    invoke-virtual {p0, v2, v0, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;J)Landroid/content/Intent;
+
+    :cond_1e
+    return-wide v0
+.end method
diff -Npru stock_framework/smali/android/privacy/surrogate/PrivacyContentResolver.smali pdroid_framework/smali/android/privacy/surrogate/PrivacyContentResolver.smali
--- stock_framework/smali/android/privacy/surrogate/PrivacyContentResolver.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid_framework/smali/android/privacy/surrogate/PrivacyContentResolver.smali	2012-07-02 22:52:42.663960432 -0700
@@ -0,0 +1,624 @@
+.class public final Landroid/privacy/surrogate/PrivacyContentResolver;
+.super Ljava/lang/Object;
+.source "PrivacyContentResolver.java"
+
+
+# static fields
+.field private static final TAG:Ljava/lang/String; = "PrivacyContentResolver"
+
+.field private static pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>()V
+    .registers 1
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    return-void
+.end method
+
+.method private static arrayToString([Ljava/lang/String;)Ljava/lang/String;
+    .registers 8
+
+    new-instance v4, Ljava/lang/StringBuffer;
+
+    invoke-direct {v4}, Ljava/lang/StringBuffer;-><init>()V
+
+    if-eqz p0, :cond_2d
+
+    move-object v0, p0
+
+    array-length v3, v0
+
+    const/4 v2, 0x0
+
+    :goto_a
+    if-ge v2, v3, :cond_30
+
+    aget-object v1, v0, v2
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v6, "["
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v6, "]"
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuffer;->append(Ljava/lang/String;)Ljava/lang/StringBuffer;
+
+    add-int/lit8 v2, v2, 0x1
+
+    goto :goto_a
+
+    :cond_2d
+    const-string v5, ""
+
+    :goto_2f
+    return-object v5
+
+    :cond_30
+    invoke-virtual {v4}, Ljava/lang/StringBuffer;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    goto :goto_2f
+.end method
+
+.method public static enforcePrivacyPermission(Landroid/net/Uri;[Ljava/lang/String;Landroid/content/Context;Landroid/database/Cursor;)Landroid/database/Cursor;
+    .registers 21
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Landroid/os/RemoteException;
+        }
+    .end annotation
+
+    if-eqz p0, :cond_1e4
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    if-nez v1, :cond_13
+
+    const-string/jumbo v1, "privacy"
+
+    move-object/from16 v0, p2
+
+    invoke-virtual {v0, v1}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;
+
+    move-result-object v1
+
+    check-cast v1, Landroid/privacy/PrivacySettingsManager;
+
+    sput-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    :cond_13
+    invoke-virtual/range {p2 .. p2}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v3
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    invoke-virtual/range {p0 .. p0}, Landroid/net/Uri;->getAuthority()Ljava/lang/String;
+
+    move-result-object v9
+
+    const-string v15, "[real]"
+
+    move-object/from16 v13, p3
+
+    if-eqz v9, :cond_54
+
+    const-string v1, "contacts"
+
+    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-nez v1, :cond_3b
+
+    const-string v1, "com.android.contacts"
+
+    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_ab
+
+    :cond_3b
+    if-eqz v7, :cond_54
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getContactsSetting()B
+
+    move-result v1
+
+    const/4 v4, 0x1
+
+    if-ne v1, v4, :cond_55
+
+    const-string v15, "[empty]"
+
+    new-instance v13, Landroid/privacy/surrogate/PrivacyCursor;
+
+    invoke-direct {v13}, Landroid/privacy/surrogate/PrivacyCursor;-><init>()V
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string v5, "contacts"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_54
+    :goto_54
+    return-object v13
+
+    :cond_55
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getContactsSetting()B
+
+    move-result v1
+
+    const/4 v4, 0x2
+
+    if-ne v1, v4, :cond_a1
+
+    invoke-virtual/range {p0 .. p0}, Landroid/net/Uri;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    sget-object v4, Landroid/provider/ContactsContract$Contacts;->CONTENT_URI:Landroid/net/Uri;
+
+    invoke-virtual {v4}, Landroid/net/Uri;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-virtual {v1, v4}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_a1
+
+    const/4 v11, 0x0
+
+    if-eqz p1, :cond_82
+
+    move-object/from16 v8, p1
+
+    array-length v12, v8
+
+    const/4 v10, 0x0
+
+    :goto_73
+    if-ge v10, v12, :cond_82
+
+    aget-object v16, v8, v10
+
+    const-string v1, "_id"
+
+    move-object/from16 v0, v16
+
+    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_93
+
+    const/4 v11, 0x1
+
+    :cond_82
+    if-nez v11, :cond_96
+
+    new-instance v13, Landroid/privacy/surrogate/PrivacyCursor;
+
+    invoke-direct {v13}, Landroid/privacy/surrogate/PrivacyCursor;-><init>()V
+
+    :goto_89
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x2
+
+    const-string v5, "contacts"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_54
+
+    :cond_93
+    add-int/lit8 v10, v10, 0x1
+
+    goto :goto_73
+
+    :cond_96
+    new-instance v14, Landroid/privacy/surrogate/PrivacyCursor;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getAllowedContacts()[I
+
+    move-result-object v1
+
+    invoke-direct {v14, v13, v1}, Landroid/privacy/surrogate/PrivacyCursor;-><init>(Landroid/database/Cursor;[I)V
+
+    move-object v13, v14
+
+    goto :goto_89
+
+    :cond_a1
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "contacts"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_54
+
+    :cond_ab
+    const-string v1, "com.android.calendar"
+
+    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_d8
+
+    if-eqz v7, :cond_cd
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getCalendarSetting()B
+
+    move-result v1
+
+    const/4 v4, 0x1
+
+    if-ne v1, v4, :cond_cd
+
+    const-string v15, "[empty]"
+
+    new-instance v13, Landroid/privacy/surrogate/PrivacyCursor;
+
+    invoke-direct {v13}, Landroid/privacy/surrogate/PrivacyCursor;-><init>()V
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string v5, "calendar"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_54
+
+    :cond_cd
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "calendar"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_d8
+    sget-object v1, Landroid/provider/Telephony$Mms;->CONTENT_URI:Landroid/net/Uri;
+
+    invoke-virtual {v1}, Landroid/net/Uri;->getAuthority()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_10c
+
+    if-eqz v7, :cond_100
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getMmsSetting()B
+
+    move-result v1
+
+    const/4 v4, 0x1
+
+    if-ne v1, v4, :cond_100
+
+    const-string v15, "[empty]"
+
+    new-instance v13, Landroid/privacy/surrogate/PrivacyCursor;
+
+    invoke-direct {v13}, Landroid/privacy/surrogate/PrivacyCursor;-><init>()V
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string/jumbo v5, "mms"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_100
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string/jumbo v5, "mms"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_10c
+    sget-object v1, Landroid/provider/Telephony$Sms;->CONTENT_URI:Landroid/net/Uri;
+
+    invoke-virtual {v1}, Landroid/net/Uri;->getAuthority()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_140
+
+    if-eqz v7, :cond_134
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getSmsSetting()B
+
+    move-result v1
+
+    const/4 v4, 0x1
+
+    if-ne v1, v4, :cond_134
+
+    const-string v15, "[empty]"
+
+    new-instance v13, Landroid/privacy/surrogate/PrivacyCursor;
+
+    invoke-direct {v13}, Landroid/privacy/surrogate/PrivacyCursor;-><init>()V
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string/jumbo v5, "sms"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_134
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string/jumbo v5, "sms"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_140
+    sget-object v1, Landroid/provider/Telephony$MmsSms;->CONTENT_URI:Landroid/net/Uri;
+
+    invoke-virtual {v1}, Landroid/net/Uri;->getAuthority()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-nez v1, :cond_155
+
+    const-string/jumbo v1, "mms-sms-v2"
+
+    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_184
+
+    :cond_155
+    if-eqz v7, :cond_178
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getMmsSetting()B
+
+    move-result v1
+
+    const/4 v4, 0x1
+
+    if-eq v1, v4, :cond_165
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getSmsSetting()B
+
+    move-result v1
+
+    const/4 v4, 0x1
+
+    if-ne v1, v4, :cond_178
+
+    :cond_165
+    const-string v15, "[empty]"
+
+    new-instance v13, Landroid/privacy/surrogate/PrivacyCursor;
+
+    invoke-direct {v13}, Landroid/privacy/surrogate/PrivacyCursor;-><init>()V
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string/jumbo v5, "mmsSms"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_178
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string/jumbo v5, "mmsSms"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_184
+    const-string v1, "call_log"
+
+    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_1b2
+
+    if-eqz v7, :cond_1a7
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getCallLogSetting()B
+
+    move-result v1
+
+    const/4 v4, 0x1
+
+    if-ne v1, v4, :cond_1a7
+
+    const-string v15, "[empty]"
+
+    new-instance v13, Landroid/privacy/surrogate/PrivacyCursor;
+
+    invoke-direct {v13}, Landroid/privacy/surrogate/PrivacyCursor;-><init>()V
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string v5, "callLog"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_1a7
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "callLog"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_1b2
+    sget-object v1, Landroid/provider/Browser;->BOOKMARKS_URI:Landroid/net/Uri;
+
+    invoke-virtual {v1}, Landroid/net/Uri;->getAuthority()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_54
+
+    if-eqz v7, :cond_1d9
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getBookmarksSetting()B
+
+    move-result v1
+
+    const/4 v4, 0x1
+
+    if-ne v1, v4, :cond_1d9
+
+    const-string v15, "[empty]"
+
+    new-instance v13, Landroid/privacy/surrogate/PrivacyCursor;
+
+    invoke-direct {v13}, Landroid/privacy/surrogate/PrivacyCursor;-><init>()V
+
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string v5, "bookmarks"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_1d9
+    sget-object v1, Landroid/privacy/surrogate/PrivacyContentResolver;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "bookmarks"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_54
+
+    :cond_1e4
+    move-object/from16 v13, p3
+
+    goto/16 :goto_54
+.end method
diff -Npru stock_framework/smali/android/privacy/surrogate/PrivacyCursor.smali pdroid_framework/smali/android/privacy/surrogate/PrivacyCursor.smali
--- stock_framework/smali/android/privacy/surrogate/PrivacyCursor.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid_framework/smali/android/privacy/surrogate/PrivacyCursor.smali	2012-07-02 22:52:42.691967142 -0700
@@ -0,0 +1,1225 @@
+.class public Landroid/privacy/surrogate/PrivacyCursor;
+.super Ljava/lang/Object;
+.source "PrivacyCursor.java"
+
+# interfaces
+.implements Landroid/database/Cursor;
+
+
+# static fields
+.field private static final TAG:Ljava/lang/String; = "PrivacyCursor"
+
+
+# instance fields
+.field private allowedIdMapping:[I
+
+.field private allowedIds:[I
+
+.field private realCursor:Landroid/database/Cursor;
+
+
+# direct methods
+.method public constructor <init>()V
+    .registers 1
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    return-void
+.end method
+
+.method public constructor <init>(Landroid/database/Cursor;[I)V
+    .registers 7
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    if-eqz p2, :cond_8
+
+    array-length v2, p2
+
+    if-nez v2, :cond_9
+
+    :cond_8
+    const/4 p1, 0x0
+
+    :cond_9
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    iput-object p2, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIds:[I
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v2, :cond_3f
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v2}, Landroid/database/Cursor;->getPosition()I
+
+    move-result v0
+
+    array-length v2, p2
+
+    new-array v2, v2, [I
+
+    iput-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    const/4 v1, 0x0
+
+    :cond_1d
+    :goto_1d
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v2}, Landroid/database/Cursor;->moveToNext()Z
+
+    move-result v2
+
+    if-eqz v2, :cond_3a
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-direct {p0, v2}, Landroid/privacy/surrogate/PrivacyCursor;->isAllowed(Landroid/database/Cursor;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_1d
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v3}, Landroid/database/Cursor;->getPosition()I
+
+    move-result v3
+
+    aput v3, v2, v1
+
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_1d
+
+    :cond_3a
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v2, v0}, Landroid/database/Cursor;->moveToPosition(I)Z
+
+    :cond_3f
+    return-void
+.end method
+
+.method private getContactId(Landroid/database/Cursor;)I
+    .registers 5
+
+    const-string v2, "_id"
+
+    invoke-interface {p1, v2}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
+
+    move-result v0
+
+    const/4 v1, -0x1
+
+    const/4 v2, -0x1
+
+    if-eq v0, v2, :cond_e
+
+    invoke-interface {p1, v0}, Landroid/database/Cursor;->getInt(I)I
+
+    move-result v1
+
+    :cond_e
+    return v1
+.end method
+
+.method private getMappedPos(I)I
+    .registers 4
+
+    const/4 v0, 0x0
+
+    :goto_1
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    array-length v1, v1
+
+    if-ge v0, v1, :cond_10
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    aget v1, v1, v0
+
+    if-ne v1, p1, :cond_d
+
+    :goto_c
+    return v0
+
+    :cond_d
+    add-int/lit8 v0, v0, 0x1
+
+    goto :goto_1
+
+    :cond_10
+    const/4 v0, -0x1
+
+    goto :goto_c
+.end method
+
+.method private isAllowed(I)Z
+    .registers 7
+
+    const/4 v4, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIds:[I
+
+    array-length v3, v0
+
+    const/4 v2, 0x0
+
+    :goto_5
+    if-ge v2, v3, :cond_c
+
+    aget v1, v0, v2
+
+    if-ne p1, v1, :cond_d
+
+    const/4 v4, 0x1
+
+    :cond_c
+    return v4
+
+    :cond_d
+    add-int/lit8 v2, v2, 0x1
+
+    goto :goto_5
+.end method
+
+.method private isAllowed(Landroid/database/Cursor;)Z
+    .registers 3
+
+    invoke-direct {p0, p1}, Landroid/privacy/surrogate/PrivacyCursor;->getContactId(Landroid/database/Cursor;)I
+
+    move-result v0
+
+    invoke-direct {p0, v0}, Landroid/privacy/surrogate/PrivacyCursor;->isAllowed(I)Z
+
+    move-result v0
+
+    return v0
+.end method
+
+
+# virtual methods
+.method public close()V
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_9
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->close()V
+
+    :cond_9
+    return-void
+.end method
+
+.method public copyStringToBuffer(ILandroid/database/CharArrayBuffer;)V
+    .registers 4
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_9
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1, p2}, Landroid/database/Cursor;->copyStringToBuffer(ILandroid/database/CharArrayBuffer;)V
+
+    :cond_9
+    return-void
+.end method
+
+.method public deactivate()V
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_9
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->deactivate()V
+
+    :cond_9
+    return-void
+.end method
+
+.method public getBlob(I)[B
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->getBlob(I)[B
+
+    move-result-object v0
+
+    :goto_a
+    return-object v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    new-array v0, v0, [B
+
+    goto :goto_a
+.end method
+
+.method public getColumnCount()I
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->getColumnCount()I
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public getColumnIndex(Ljava/lang/String;)I
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, -0x1
+
+    goto :goto_a
+.end method
+
+.method public getColumnIndexOrThrow(Ljava/lang/String;)I
+    .registers 3
+    .annotation system Ldalvik/annotation/Throws;
+        value = {
+            Ljava/lang/IllegalArgumentException;
+        }
+    .end annotation
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->getColumnIndexOrThrow(Ljava/lang/String;)I
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, -0x1
+
+    goto :goto_a
+.end method
+
+.method public getColumnName(I)Ljava/lang/String;
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->getColumnName(I)Ljava/lang/String;
+
+    move-result-object v0
+
+    :goto_a
+    return-object v0
+
+    :cond_b
+    const-string v0, ""
+
+    goto :goto_a
+.end method
+
+.method public getColumnNames()[Ljava/lang/String;
+    .registers 4
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->getColumnNames()[Ljava/lang/String;
+
+    move-result-object v0
+
+    :goto_a
+    return-object v0
+
+    :cond_b
+    const/4 v0, 0x1
+
+    new-array v0, v0, [Ljava/lang/String;
+
+    const/4 v1, 0x0
+
+    const-string v2, ""
+
+    aput-object v2, v0, v1
+
+    goto :goto_a
+.end method
+
+.method public getCount()I
+    .registers 4
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_23
+
+    const-string v0, "PrivacyCursor"
+
+    new-instance v1, Ljava/lang/StringBuilder;
+
+    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v2, "getCount: "
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    array-length v2, v2
+
+    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v0, v1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    array-length v0, v0
+
+    :goto_22
+    return v0
+
+    :cond_23
+    const/4 v0, 0x0
+
+    goto :goto_22
+.end method
+
+.method public getDouble(I)D
+    .registers 4
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->getDouble(I)D
+
+    move-result-wide v0
+
+    :goto_a
+    return-wide v0
+
+    :cond_b
+    const-wide/16 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public getExtras()Landroid/os/Bundle;
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->getExtras()Landroid/os/Bundle;
+
+    move-result-object v0
+
+    :goto_a
+    return-object v0
+
+    :cond_b
+    new-instance v0, Landroid/os/Bundle;
+
+    invoke-direct {v0}, Landroid/os/Bundle;-><init>()V
+
+    goto :goto_a
+.end method
+
+.method public getFloat(I)F
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->getFloat(I)F
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public getInt(I)I
+    .registers 4
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_b
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v1, p1}, Landroid/database/Cursor;->getInt(I)I
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public getLong(I)J
+    .registers 4
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->getLong(I)J
+
+    move-result-wide v0
+
+    :goto_a
+    return-wide v0
+
+    :cond_b
+    const-wide/16 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public getPosition()I
+    .registers 5
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_37
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v1}, Landroid/database/Cursor;->getPosition()I
+
+    move-result v1
+
+    invoke-direct {p0, v1}, Landroid/privacy/surrogate/PrivacyCursor;->getMappedPos(I)I
+
+    move-result v0
+
+    const-string v1, "PrivacyCursor"
+
+    new-instance v2, Ljava/lang/StringBuilder;
+
+    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v3, "getPosition - mapped position: "
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    const-string v3, " real position: "
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v3}, Landroid/database/Cursor;->getPosition()I
+
+    move-result v3
+
+    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {v1, v2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    :goto_36
+    return v0
+
+    :cond_37
+    const/4 v0, -0x1
+
+    goto :goto_36
+.end method
+
+.method public getShort(I)S
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->getShort(I)S
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public getString(I)Ljava/lang/String;
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
+
+    move-result-object v0
+
+    :goto_a
+    return-object v0
+
+    :cond_b
+    const-string v0, ""
+
+    goto :goto_a
+.end method
+
+.method public getType(I)I
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->getType(I)I
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public getWantsAllOnMoveCalls()Z
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->getWantsAllOnMoveCalls()Z
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public isAfterLast()Z
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->isAfterLast()Z
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public isBeforeFirst()Z
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->isBeforeFirst()Z
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public isClosed()Z
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->isClosed()Z
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public isFirst()Z
+    .registers 4
+
+    const/4 v0, 0x0
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_12
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v1}, Landroid/database/Cursor;->getPosition()I
+
+    move-result v1
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    aget v2, v2, v0
+
+    if-ne v1, v2, :cond_12
+
+    const/4 v0, 0x1
+
+    :cond_12
+    return v0
+.end method
+
+.method public isLast()Z
+    .registers 4
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_17
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->getPosition()I
+
+    move-result v0
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    array-length v2, v2
+
+    add-int/lit8 v2, v2, -0x1
+
+    aget v1, v1, v2
+
+    if-ne v0, v1, :cond_17
+
+    const/4 v0, 0x1
+
+    :goto_16
+    return v0
+
+    :cond_17
+    const/4 v0, 0x0
+
+    goto :goto_16
+.end method
+
+.method public isNull(I)Z
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->isNull(I)Z
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public move(I)Z
+    .registers 8
+
+    const/4 v2, 0x0
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v3, :cond_33
+
+    const-string v3, "PrivacyCursor"
+
+    new-instance v4, Ljava/lang/StringBuilder;
+
+    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string/jumbo v5, "move - offset: "
+
+    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v4
+
+    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    invoke-static {v3, v4}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
+
+    :try_start_1e
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    iget-object v4, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v4}, Landroid/database/Cursor;->getPosition()I
+
+    move-result v4
+
+    invoke-direct {p0, v4}, Landroid/privacy/surrogate/PrivacyCursor;->getMappedPos(I)I
+
+    move-result v4
+
+    add-int/2addr v4, p1
+
+    aget v1, v3, v4
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v3, v1}, Landroid/database/Cursor;->moveToPosition(I)Z
+    :try_end_32
+    .catch Ljava/lang/ArrayIndexOutOfBoundsException; {:try_start_1e .. :try_end_32} :catch_34
+
+    move-result v2
+
+    :cond_33
+    :goto_33
+    return v2
+
+    :catch_34
+    move-exception v0
+
+    goto :goto_33
+.end method
+
+.method public moveToFirst()Z
+    .registers 4
+
+    const/4 v0, 0x0
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_f
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    aget v2, v2, v0
+
+    invoke-interface {v1, v2}, Landroid/database/Cursor;->moveToPosition(I)Z
+
+    move-result v0
+
+    :cond_f
+    return v0
+.end method
+
+.method public moveToLast()Z
+    .registers 5
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_14
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    array-length v3, v3
+
+    add-int/lit8 v3, v3, -0x1
+
+    aget v2, v2, v3
+
+    invoke-interface {v1, v2}, Landroid/database/Cursor;->moveToPosition(I)Z
+
+    move-result v0
+
+    :goto_13
+    return v0
+
+    :cond_14
+    const/4 v0, 0x0
+
+    goto :goto_13
+.end method
+
+.method public moveToNext()Z
+    .registers 3
+
+    const/4 v0, 0x0
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_d
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v1}, Landroid/database/Cursor;->moveToNext()Z
+
+    move-result v1
+
+    if-nez v1, :cond_e
+
+    :cond_d
+    return v0
+
+    :cond_e
+    const/4 v0, 0x1
+
+    :goto_f
+    const/4 v1, 0x1
+
+    if-ne v0, v1, :cond_d
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-direct {p0, v1}, Landroid/privacy/surrogate/PrivacyCursor;->isAllowed(Landroid/database/Cursor;)Z
+
+    move-result v1
+
+    if-nez v1, :cond_d
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v1}, Landroid/database/Cursor;->moveToNext()Z
+
+    move-result v0
+
+    goto :goto_f
+.end method
+
+.method public moveToPosition(I)Z
+    .registers 6
+
+    const/4 v1, 0x0
+
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v2, :cond_f
+
+    :try_start_5
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyCursor;->allowedIdMapping:[I
+
+    aget v3, v3, p1
+
+    invoke-interface {v2, v3}, Landroid/database/Cursor;->moveToPosition(I)Z
+    :try_end_e
+    .catch Ljava/lang/ArrayIndexOutOfBoundsException; {:try_start_5 .. :try_end_e} :catch_10
+
+    move-result v1
+
+    :cond_f
+    :goto_f
+    return v1
+
+    :catch_10
+    move-exception v0
+
+    goto :goto_f
+.end method
+
+.method public moveToPrevious()Z
+    .registers 3
+
+    const/4 v0, 0x0
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v1, :cond_d
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v1}, Landroid/database/Cursor;->moveToPrevious()Z
+
+    move-result v1
+
+    if-nez v1, :cond_e
+
+    :cond_d
+    return v0
+
+    :cond_e
+    const/4 v0, 0x1
+
+    :goto_f
+    const/4 v1, 0x1
+
+    if-ne v0, v1, :cond_d
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-direct {p0, v1}, Landroid/privacy/surrogate/PrivacyCursor;->isAllowed(Landroid/database/Cursor;)Z
+
+    move-result v1
+
+    if-nez v1, :cond_d
+
+    iget-object v1, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v1}, Landroid/database/Cursor;->moveToPrevious()Z
+
+    move-result v0
+
+    goto :goto_f
+.end method
+
+.method public registerContentObserver(Landroid/database/ContentObserver;)V
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_9
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->registerContentObserver(Landroid/database/ContentObserver;)V
+
+    :cond_9
+    return-void
+.end method
+
+.method public registerDataSetObserver(Landroid/database/DataSetObserver;)V
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_9
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->registerDataSetObserver(Landroid/database/DataSetObserver;)V
+
+    :cond_9
+    return-void
+.end method
+
+.method public requery()Z
+    .registers 2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0}, Landroid/database/Cursor;->requery()Z
+
+    move-result v0
+
+    :goto_a
+    return v0
+
+    :cond_b
+    const/4 v0, 0x0
+
+    goto :goto_a
+.end method
+
+.method public respond(Landroid/os/Bundle;)Landroid/os/Bundle;
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_b
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->respond(Landroid/os/Bundle;)Landroid/os/Bundle;
+
+    move-result-object v0
+
+    :goto_a
+    return-object v0
+
+    :cond_b
+    new-instance v0, Landroid/os/Bundle;
+
+    invoke-direct {v0}, Landroid/os/Bundle;-><init>()V
+
+    goto :goto_a
+.end method
+
+.method public setNotificationUri(Landroid/content/ContentResolver;Landroid/net/Uri;)V
+    .registers 4
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_9
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1, p2}, Landroid/database/Cursor;->setNotificationUri(Landroid/content/ContentResolver;Landroid/net/Uri;)V
+
+    :cond_9
+    return-void
+.end method
+
+.method public unregisterContentObserver(Landroid/database/ContentObserver;)V
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_9
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->unregisterContentObserver(Landroid/database/ContentObserver;)V
+
+    :cond_9
+    return-void
+.end method
+
+.method public unregisterDataSetObserver(Landroid/database/DataSetObserver;)V
+    .registers 3
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    if-eqz v0, :cond_9
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyCursor;->realCursor:Landroid/database/Cursor;
+
+    invoke-interface {v0, p1}, Landroid/database/Cursor;->unregisterDataSetObserver(Landroid/database/DataSetObserver;)V
+
+    :cond_9
+    return-void
+.end method
diff -Npru stock_framework/smali/android/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater.smali pdroid_framework/smali/android/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater.smali
--- stock_framework/smali/android/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid_framework/smali/android/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater.smali	2012-07-02 22:52:42.691967142 -0700
@@ -0,0 +1,134 @@
+.class Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;
+.super Ljava/lang/Thread;
+.source "PrivacyLocationManager.java"
+
+
+# annotations
+.annotation system Ldalvik/annotation/EnclosingClass;
+    value = Landroid/privacy/surrogate/PrivacyLocationManager;
+.end annotation
+
+.annotation system Ldalvik/annotation/InnerClass;
+    accessFlags = 0x2
+    name = "PrivacyLocationUpdater"
+.end annotation
+
+
+# instance fields
+.field private intent:Landroid/app/PendingIntent;
+
+.field private latitude:D
+
+.field private listener:Landroid/location/LocationListener;
+
+.field private longitude:D
+
+.field private provider:Ljava/lang/String;
+
+.field final synthetic this$0:Landroid/privacy/surrogate/PrivacyLocationManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/privacy/surrogate/PrivacyLocationManager;Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;DD)V
+    .registers 9
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->this$0:Landroid/privacy/surrogate/PrivacyLocationManager;
+
+    invoke-direct {p0}, Ljava/lang/Thread;-><init>()V
+
+    iput-object p2, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->provider:Ljava/lang/String;
+
+    iput-object p3, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->listener:Landroid/location/LocationListener;
+
+    iput-object p4, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->intent:Landroid/app/PendingIntent;
+
+    iput-wide p5, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->latitude:D
+
+    iput-wide p7, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->longitude:D
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public run()V
+    .registers 8
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->provider:Ljava/lang/String;
+
+    if-eqz v3, :cond_43
+
+    new-instance v2, Landroid/location/Location;
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->provider:Ljava/lang/String;
+
+    invoke-direct {v2, v3}, Landroid/location/Location;-><init>(Ljava/lang/String;)V
+
+    iget-wide v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->latitude:D
+
+    invoke-virtual {v2, v3, v4}, Landroid/location/Location;->setLatitude(D)V
+
+    iget-wide v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->longitude:D
+
+    invoke-virtual {v2, v3, v4}, Landroid/location/Location;->setLongitude(D)V
+
+    const/4 v1, 0x0
+
+    :goto_16
+    const/4 v3, 0x5
+
+    if-ge v1, v3, :cond_43
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->listener:Landroid/location/LocationListener;
+
+    if-eqz v3, :cond_34
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->listener:Landroid/location/LocationListener;
+
+    invoke-interface {v3, v2}, Landroid/location/LocationListener;->onLocationChanged(Landroid/location/Location;)V
+
+    :cond_22
+    :goto_22
+    :try_start_22
+    invoke-static {}, Ljava/lang/Math;->random()D
+
+    move-result-wide v3
+
+    const-wide v5, 0x408f400000000000L
+
+    mul-double/2addr v3, v5
+
+    double-to-int v3, v3
+
+    int-to-long v3, v3
+
+    invoke-static {v3, v4}, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->sleep(J)V
+    :try_end_31
+    .catch Ljava/lang/InterruptedException; {:try_start_22 .. :try_end_31} :catch_3e
+
+    :goto_31
+    add-int/lit8 v1, v1, 0x1
+
+    goto :goto_16
+
+    :cond_34
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->intent:Landroid/app/PendingIntent;
+
+    if-eqz v3, :cond_22
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->intent:Landroid/app/PendingIntent;
+
+    invoke-virtual {v3}, Landroid/app/PendingIntent;->cancel()V
+
+    goto :goto_22
+
+    :catch_3e
+    move-exception v0
+
+    invoke-virtual {v0}, Ljava/lang/InterruptedException;->printStackTrace()V
+
+    goto :goto_31
+
+    :cond_43
+    return-void
+.end method
diff -Npru stock_framework/smali/android/privacy/surrogate/PrivacyLocationManager.smali pdroid_framework/smali/android/privacy/surrogate/PrivacyLocationManager.smali
--- stock_framework/smali/android/privacy/surrogate/PrivacyLocationManager.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid_framework/smali/android/privacy/surrogate/PrivacyLocationManager.smali	2012-07-02 22:52:42.693967622 -0700
@@ -0,0 +1,2091 @@
+.class public final Landroid/privacy/surrogate/PrivacyLocationManager;
+.super Landroid/location/LocationManager;
+.source "PrivacyLocationManager.java"
+
+
+# annotations
+.annotation system Ldalvik/annotation/MemberClasses;
+    value = {
+        Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;
+    }
+.end annotation
+
+
+# static fields
+.field private static final CUSTOM_LOCATION_UPDATE_COUNT:I = 0x5
+
+.field private static final TAG:Ljava/lang/String; = "PrivacyLocationManager"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private lock:Ljava/lang/Object;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/location/ILocationManager;Landroid/content/Context;)V
+    .registers 5
+
+    invoke-direct {p0, p1}, Landroid/location/LocationManager;-><init>(Landroid/location/ILocationManager;)V
+
+    new-instance v0, Ljava/lang/Object;
+
+    invoke-direct {v0}, Ljava/lang/Object;-><init>()V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->lock:Ljava/lang/Object;
+
+    iput-object p2, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p2, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    return-void
+.end method
+
+.method private requestLocationUpdates(Landroid/location/Criteria;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+    .registers 7
+
+    const/4 v2, 0x3
+
+    if-nez p1, :cond_5
+
+    const/4 v0, 0x0
+
+    :goto_4
+    return v0
+
+    :cond_5
+    invoke-virtual {p1}, Landroid/location/Criteria;->getAccuracy()I
+
+    move-result v0
+
+    const/4 v1, 0x1
+
+    if-eq v0, v1, :cond_24
+
+    invoke-virtual {p1}, Landroid/location/Criteria;->getBearingAccuracy()I
+
+    move-result v0
+
+    if-eq v0, v2, :cond_24
+
+    invoke-virtual {p1}, Landroid/location/Criteria;->getHorizontalAccuracy()I
+
+    move-result v0
+
+    if-eq v0, v2, :cond_24
+
+    invoke-virtual {p1}, Landroid/location/Criteria;->getVerticalAccuracy()I
+
+    move-result v0
+
+    if-eq v0, v2, :cond_24
+
+    invoke-virtual {p1}, Landroid/location/Criteria;->getSpeedAccuracy()I
+
+    move-result v0
+
+    if-ne v0, v2, :cond_2b
+
+    :cond_24
+    const-string v0, "gps"
+
+    invoke-direct {p0, v0, p2, p3}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    goto :goto_4
+
+    :cond_2b
+    const-string/jumbo v0, "network"
+
+    invoke-direct {p0, v0, p2, p3}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    goto :goto_4
+.end method
+
+.method private requestLocationUpdates(Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+    .registers 24
+
+    move-object/from16 v0, p0
+
+    iget-object v0, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->lock:Ljava/lang/Object;
+
+    move-object/from16 v19, v0
+
+    monitor-enter v19
+
+    :try_start_7
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v1}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v3
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v1, v2, v3}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v7
+
+    const/16 v18, 0x0
+
+    if-eqz v7, :cond_239
+
+    const-string v1, "gps"
+
+    move-object/from16 v0, p1
+
+    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_111
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v1
+
+    packed-switch v1, :pswitch_data_25e
+
+    :cond_30
+    :goto_30
+    monitor-exit v19
+
+    return v18
+
+    :pswitch_32
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "locationGPS"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_30
+
+    :catchall_3e
+    move-exception v1
+
+    monitor-exit v19
+    :try_end_40
+    .catchall {:try_start_7 .. :try_end_40} :catchall_3e
+
+    throw v1
+
+    :pswitch_41
+    if-eqz p3, :cond_46
+
+    :try_start_43
+    invoke-virtual/range {p3 .. p3}, Landroid/app/PendingIntent;->cancel()V
+
+    :cond_46
+    const/16 v18, 0x1
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string v5, "locationGPS"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_53
+    .catchall {:try_start_43 .. :try_end_53} :catchall_3e
+
+    goto :goto_30
+
+    :pswitch_54
+    :try_start_54
+    new-instance v8, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsLat()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v1}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v13
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsLon()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v1}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v15
+
+    move-object/from16 v9, p0
+
+    move-object/from16 v10, p1
+
+    move-object/from16 v11, p2
+
+    move-object/from16 v12, p3
+
+    invoke-direct/range {v8 .. v16}, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;-><init>(Landroid/privacy/surrogate/PrivacyLocationManager;Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;DD)V
+
+    invoke-virtual {v8}, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->start()V
+    :try_end_74
+    .catchall {:try_start_54 .. :try_end_74} :catchall_3e
+    .catch Ljava/lang/NumberFormatException; {:try_start_54 .. :try_end_74} :catch_a6
+
+    const/16 v18, 0x1
+
+    :goto_76
+    :try_start_76
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x2
+
+    const-string v5, "locationGPS"
+
+    new-instance v6, Ljava/lang/StringBuilder;
+
+    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v8, "Lat: "
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsLat()Ljava/lang/String;
+
+    move-result-object v8
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    const-string v8, " Lon: "
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsLon()Ljava/lang/String;
+
+    move-result-object v8
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v6
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_30
+
+    :catch_a6
+    move-exception v17
+
+    const-string v1, "PrivacyLocationManager"
+
+    const-string/jumbo v4, "requestLocationUpdates: invalid coordinates"
+
+    invoke-static {v1, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_af
+    .catchall {:try_start_76 .. :try_end_af} :catchall_3e
+
+    const/16 v18, 0x1
+
+    goto :goto_76
+
+    :pswitch_b2
+    :try_start_b2
+    new-instance v8, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsLat()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v1}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v13
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsLon()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v1}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v15
+
+    move-object/from16 v9, p0
+
+    move-object/from16 v10, p1
+
+    move-object/from16 v11, p2
+
+    move-object/from16 v12, p3
+
+    invoke-direct/range {v8 .. v16}, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;-><init>(Landroid/privacy/surrogate/PrivacyLocationManager;Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;DD)V
+
+    invoke-virtual {v8}, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->start()V
+    :try_end_d2
+    .catchall {:try_start_b2 .. :try_end_d2} :catchall_3e
+    .catch Ljava/lang/NumberFormatException; {:try_start_b2 .. :try_end_d2} :catch_105
+
+    const/16 v18, 0x1
+
+    :goto_d4
+    :try_start_d4
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x3
+
+    const-string v5, "locationGPS"
+
+    new-instance v6, Ljava/lang/StringBuilder;
+
+    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v8, "Lat: "
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsLat()Ljava/lang/String;
+
+    move-result-object v8
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    const-string v8, " Lon: "
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsLon()Ljava/lang/String;
+
+    move-result-object v8
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v6
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_30
+
+    :catch_105
+    move-exception v17
+
+    const-string v1, "PrivacyLocationManager"
+
+    const-string/jumbo v4, "requestLocationUpdates: invalid coordinates"
+
+    invoke-static {v1, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/16 v18, 0x1
+
+    goto :goto_d4
+
+    :cond_111
+    const-string/jumbo v1, "network"
+
+    move-object/from16 v0, p1
+
+    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_204
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v1
+
+    packed-switch v1, :pswitch_data_26a
+
+    goto/16 :goto_30
+
+    :pswitch_125
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "locationNetwork"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_30
+
+    :pswitch_132
+    if-eqz p3, :cond_137
+
+    invoke-virtual/range {p3 .. p3}, Landroid/app/PendingIntent;->cancel()V
+
+    :cond_137
+    const/16 v18, 0x1
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string v5, "locationNetwork"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_144
+    .catchall {:try_start_d4 .. :try_end_144} :catchall_3e
+
+    goto/16 :goto_30
+
+    :pswitch_146
+    :try_start_146
+    new-instance v8, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkLat()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v1}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v13
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkLon()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v1}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v15
+
+    move-object/from16 v9, p0
+
+    move-object/from16 v10, p1
+
+    move-object/from16 v11, p2
+
+    move-object/from16 v12, p3
+
+    invoke-direct/range {v8 .. v16}, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;-><init>(Landroid/privacy/surrogate/PrivacyLocationManager;Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;DD)V
+
+    invoke-virtual {v8}, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->start()V
+    :try_end_166
+    .catchall {:try_start_146 .. :try_end_166} :catchall_3e
+    .catch Ljava/lang/NumberFormatException; {:try_start_146 .. :try_end_166} :catch_199
+
+    const/16 v18, 0x1
+
+    :goto_168
+    :try_start_168
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x2
+
+    const-string v5, "locationNetwork"
+
+    new-instance v6, Ljava/lang/StringBuilder;
+
+    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v8, "Lat: "
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkLat()Ljava/lang/String;
+
+    move-result-object v8
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    const-string v8, " Lon: "
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkLon()Ljava/lang/String;
+
+    move-result-object v8
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v6
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_30
+
+    :catch_199
+    move-exception v17
+
+    const-string v1, "PrivacyLocationManager"
+
+    const-string/jumbo v4, "requestLocationUpdates: invalid coordinates"
+
+    invoke-static {v1, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+    :try_end_1a2
+    .catchall {:try_start_168 .. :try_end_1a2} :catchall_3e
+
+    const/16 v18, 0x1
+
+    goto :goto_168
+
+    :pswitch_1a5
+    :try_start_1a5
+    new-instance v8, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkLat()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v1}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v13
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkLon()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v1}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v15
+
+    move-object/from16 v9, p0
+
+    move-object/from16 v10, p1
+
+    move-object/from16 v11, p2
+
+    move-object/from16 v12, p3
+
+    invoke-direct/range {v8 .. v16}, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;-><init>(Landroid/privacy/surrogate/PrivacyLocationManager;Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;DD)V
+
+    invoke-virtual {v8}, Landroid/privacy/surrogate/PrivacyLocationManager$PrivacyLocationUpdater;->start()V
+    :try_end_1c5
+    .catchall {:try_start_1a5 .. :try_end_1c5} :catchall_3e
+    .catch Ljava/lang/NumberFormatException; {:try_start_1a5 .. :try_end_1c5} :catch_1f8
+
+    const/16 v18, 0x1
+
+    :goto_1c7
+    :try_start_1c7
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x3
+
+    const-string v5, "locationNetwork"
+
+    new-instance v6, Ljava/lang/StringBuilder;
+
+    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v8, "Lat: "
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkLat()Ljava/lang/String;
+
+    move-result-object v8
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    const-string v8, " Lon: "
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkLon()Ljava/lang/String;
+
+    move-result-object v8
+
+    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v6
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_30
+
+    :catch_1f8
+    move-exception v17
+
+    const-string v1, "PrivacyLocationManager"
+
+    const-string/jumbo v4, "requestLocationUpdates: invalid coordinates"
+
+    invoke-static {v1, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
+
+    const/16 v18, 0x1
+
+    goto :goto_1c7
+
+    :cond_204
+    const-string/jumbo v1, "passive"
+
+    move-object/from16 v0, p1
+
+    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_30
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v1
+
+    if-nez v1, :cond_22a
+
+    invoke-virtual {v7}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v1
+
+    if-nez v1, :cond_22a
+
+    const/16 v18, 0x0
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "locationGPS"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_30
+
+    :cond_22a
+    const/16 v18, 0x1
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x1
+
+    const-string v5, "locationGPS"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_30
+
+    :cond_239
+    const-string/jumbo v1, "network"
+
+    move-object/from16 v0, p1
+
+    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-eqz v1, :cond_251
+
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "locationNetwork"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_30
+
+    :cond_251
+    move-object/from16 v0, p0
+
+    iget-object v1, v0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v4, 0x0
+
+    const-string v5, "locationGPS"
+
+    const/4 v6, 0x0
+
+    invoke-virtual/range {v1 .. v7}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+    :try_end_25c
+    .catchall {:try_start_1c7 .. :try_end_25c} :catchall_3e
+
+    goto/16 :goto_30
+
+    :pswitch_data_25e
+    .packed-switch 0x0
+        :pswitch_32
+        :pswitch_41
+        :pswitch_54
+        :pswitch_b2
+    .end packed-switch
+
+    :pswitch_data_26a
+    .packed-switch 0x0
+        :pswitch_125
+        :pswitch_132
+        :pswitch_146
+        :pswitch_1a5
+    .end packed-switch
+.end method
+
+
+# virtual methods
+.method public addNmeaListener(Landroid/location/GpsStatus$NmeaListener;)Z
+    .registers 10
+
+    const/4 v5, 0x0
+
+    const/4 v7, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_24
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_24
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string v4, "locationGPS"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    move v0, v7
+
+    :goto_23
+    return v0
+
+    :cond_24
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationGPS"
+
+    move v3, v7
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->addNmeaListener(Landroid/location/GpsStatus$NmeaListener;)Z
+
+    move-result v0
+
+    goto :goto_23
+.end method
+
+.method public getLastKnownLocation(Ljava/lang/String;)Landroid/location/Location;
+    .registers 14
+
+    const/4 v11, 0x3
+
+    const/4 v10, 0x2
+
+    const/4 v8, 0x1
+
+    const/4 v3, 0x0
+
+    const/4 v5, 0x0
+
+    if-nez p1, :cond_c
+
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getLastKnownLocation(Ljava/lang/String;)Landroid/location/Location;
+
+    move-result-object v7
+
+    :cond_b
+    :goto_b
+    return-object v7
+
+    :cond_c
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    const/4 v7, 0x0
+
+    if-eqz v6, :cond_22c
+
+    const-string v0, "gps"
+
+    invoke-virtual {p1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    if-eqz v0, :cond_ff
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    packed-switch v0, :pswitch_data_29a
+
+    goto :goto_b
+
+    :pswitch_2f
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getLastKnownLocation(Ljava/lang/String;)Landroid/location/Location;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationGPS"
+
+    if-eqz v7, :cond_5e
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v8, "Lat: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLatitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v8, " Lon: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLongitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    :cond_5e
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_b
+
+    :pswitch_62
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationGPS"
+
+    move v3, v8
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_b
+
+    :pswitch_6b
+    new-instance v7, Landroid/location/Location;
+
+    invoke-direct {v7, p1}, Landroid/location/Location;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsLat()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-static {v0}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v3
+
+    invoke-virtual {v7, v3, v4}, Landroid/location/Location;->setLatitude(D)V
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsLon()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-static {v0}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v3
+
+    invoke-virtual {v7, v3, v4}, Landroid/location/Location;->setLongitude(D)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationGPS"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "Lat: "
+
+    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLatitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v3, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v5, " Lon: "
+
+    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLongitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v3, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    move v3, v10
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_b
+
+    :pswitch_b5
+    new-instance v7, Landroid/location/Location;
+
+    invoke-direct {v7, p1}, Landroid/location/Location;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsLat()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-static {v0}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v3
+
+    invoke-virtual {v7, v3, v4}, Landroid/location/Location;->setLatitude(D)V
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsLon()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-static {v0}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v3
+
+    invoke-virtual {v7, v3, v4}, Landroid/location/Location;->setLongitude(D)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationGPS"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "Lat: "
+
+    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLatitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v3, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v5, " Lon: "
+
+    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLongitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v3, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    move v3, v11
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_b
+
+    :cond_ff
+    const-string/jumbo v0, "network"
+
+    invoke-virtual {p1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    if-eqz v0, :cond_1e3
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    packed-switch v0, :pswitch_data_2a6
+
+    goto/16 :goto_b
+
+    :pswitch_111
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getLastKnownLocation(Ljava/lang/String;)Landroid/location/Location;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationNetwork"
+
+    if-eqz v7, :cond_140
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v8, "Lat: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLatitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v8, " Lon: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLongitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    :cond_140
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_b
+
+    :pswitch_145
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationNetwork"
+
+    move v3, v8
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_b
+
+    :pswitch_14f
+    new-instance v7, Landroid/location/Location;
+
+    invoke-direct {v7, p1}, Landroid/location/Location;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkLat()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-static {v0}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v3
+
+    invoke-virtual {v7, v3, v4}, Landroid/location/Location;->setLatitude(D)V
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkLon()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-static {v0}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v3
+
+    invoke-virtual {v7, v3, v4}, Landroid/location/Location;->setLongitude(D)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationNetwork"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "Lat: "
+
+    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLatitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v3, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v5, " Lon: "
+
+    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLongitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v3, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    move v3, v10
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_b
+
+    :pswitch_199
+    new-instance v7, Landroid/location/Location;
+
+    invoke-direct {v7, p1}, Landroid/location/Location;-><init>(Ljava/lang/String;)V
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkLat()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-static {v0}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v3
+
+    invoke-virtual {v7, v3, v4}, Landroid/location/Location;->setLatitude(D)V
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkLon()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-static {v0}, Ljava/lang/Double;->parseDouble(Ljava/lang/String;)D
+
+    move-result-wide v3
+
+    invoke-virtual {v7, v3, v4}, Landroid/location/Location;->setLongitude(D)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationNetwork"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v5, "Lat: "
+
+    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLatitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v3, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    const-string v5, " Lon: "
+
+    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLongitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v3, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    move v3, v11
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_b
+
+    :cond_1e3
+    const-string/jumbo v0, "passive"
+
+    invoke-virtual {p1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    if-eqz v0, :cond_b
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_b
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v0
+
+    if-nez v0, :cond_b
+
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getLastKnownLocation(Ljava/lang/String;)Landroid/location/Location;
+
+    move-result-object v7
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationGPS"
+
+    if-eqz v7, :cond_227
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v8, "Lat: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLatitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v8, " Lon: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLongitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    :cond_227
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_b
+
+    :cond_22c
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getLastKnownLocation(Ljava/lang/String;)Landroid/location/Location;
+
+    move-result-object v7
+
+    const-string/jumbo v0, "network"
+
+    invoke-virtual {p1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    if-eqz v0, :cond_269
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationNetwork"
+
+    if-eqz v7, :cond_264
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v8, "Lat: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLatitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v8, " Lon: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLongitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    :cond_264
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_b
+
+    :cond_269
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const-string v4, "locationGPS"
+
+    if-eqz v7, :cond_294
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v8, "Lat: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLatitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v8, " Lon: "
+
+    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v7}, Landroid/location/Location;->getLongitude()D
+
+    move-result-wide v8
+
+    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(D)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    :cond_294
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto/16 :goto_b
+
+    nop
+
+    :pswitch_data_29a
+    .packed-switch 0x0
+        :pswitch_2f
+        :pswitch_62
+        :pswitch_6b
+        :pswitch_b5
+    .end packed-switch
+
+    :pswitch_data_2a6
+    .packed-switch 0x0
+        :pswitch_111
+        :pswitch_145
+        :pswitch_14f
+        :pswitch_199
+    .end packed-switch
+.end method
+
+.method public getProvider(Ljava/lang/String;)Landroid/location/LocationProvider;
+    .registers 7
+
+    if-nez p1, :cond_7
+
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getProvider(Ljava/lang/String;)Landroid/location/LocationProvider;
+
+    move-result-object v0
+
+    :cond_6
+    :goto_6
+    return-object v0
+
+    :cond_7
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v4
+
+    invoke-virtual {v2, v3, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v1
+
+    const/4 v0, 0x0
+
+    if-eqz v1, :cond_5f
+
+    const-string v2, "gps"
+
+    invoke-virtual {p1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_2f
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v2
+
+    packed-switch v2, :pswitch_data_64
+
+    :pswitch_29
+    goto :goto_6
+
+    :pswitch_2a
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getProvider(Ljava/lang/String;)Landroid/location/LocationProvider;
+
+    move-result-object v0
+
+    goto :goto_6
+
+    :cond_2f
+    const-string/jumbo v2, "network"
+
+    invoke-virtual {p1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_45
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v2
+
+    packed-switch v2, :pswitch_data_70
+
+    :pswitch_3f
+    goto :goto_6
+
+    :pswitch_40
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getProvider(Ljava/lang/String;)Landroid/location/LocationProvider;
+
+    move-result-object v0
+
+    goto :goto_6
+
+    :cond_45
+    const-string/jumbo v2, "passive"
+
+    invoke-virtual {p1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_6
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v2
+
+    if-eqz v2, :cond_5a
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v2
+
+    if-nez v2, :cond_6
+
+    :cond_5a
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getProvider(Ljava/lang/String;)Landroid/location/LocationProvider;
+
+    move-result-object v0
+
+    goto :goto_6
+
+    :cond_5f
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->getProvider(Ljava/lang/String;)Landroid/location/LocationProvider;
+
+    move-result-object v0
+
+    goto :goto_6
+
+    :pswitch_data_64
+    .packed-switch 0x0
+        :pswitch_2a
+        :pswitch_29
+        :pswitch_2a
+        :pswitch_2a
+    .end packed-switch
+
+    :pswitch_data_70
+    .packed-switch 0x0
+        :pswitch_40
+        :pswitch_3f
+        :pswitch_40
+        :pswitch_40
+    .end packed-switch
+.end method
+
+.method public isProviderEnabled(Ljava/lang/String;)Z
+    .registers 7
+
+    if-nez p1, :cond_7
+
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->isProviderEnabled(Ljava/lang/String;)Z
+
+    move-result v0
+
+    :cond_6
+    :goto_6
+    :pswitch_6
+    return v0
+
+    :cond_7
+    iget-object v2, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v3, p0, Landroid/privacy/surrogate/PrivacyLocationManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v3}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v3
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v4
+
+    invoke-virtual {v2, v3, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v1
+
+    const/4 v0, 0x0
+
+    if-eqz v1, :cond_65
+
+    const-string v2, "gps"
+
+    invoke-virtual {p1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_31
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v2
+
+    packed-switch v2, :pswitch_data_6a
+
+    goto :goto_6
+
+    :pswitch_2a
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->isProviderEnabled(Ljava/lang/String;)Z
+
+    move-result v0
+
+    goto :goto_6
+
+    :pswitch_2f
+    const/4 v0, 0x1
+
+    goto :goto_6
+
+    :cond_31
+    const-string/jumbo v2, "network"
+
+    invoke-virtual {p1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_49
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v2
+
+    packed-switch v2, :pswitch_data_76
+
+    goto :goto_6
+
+    :pswitch_42
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->isProviderEnabled(Ljava/lang/String;)Z
+
+    move-result v0
+
+    goto :goto_6
+
+    :pswitch_47
+    const/4 v0, 0x1
+
+    goto :goto_6
+
+    :cond_49
+    const-string/jumbo v2, "passive"
+
+    invoke-virtual {p1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_6
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getLocationGpsSetting()B
+
+    move-result v2
+
+    if-eqz v2, :cond_5e
+
+    invoke-virtual {v1}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v2
+
+    if-nez v2, :cond_63
+
+    :cond_5e
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->isProviderEnabled(Ljava/lang/String;)Z
+
+    move-result v0
+
+    goto :goto_6
+
+    :cond_63
+    const/4 v0, 0x0
+
+    goto :goto_6
+
+    :cond_65
+    invoke-super {p0, p1}, Landroid/location/LocationManager;->isProviderEnabled(Ljava/lang/String;)Z
+
+    move-result v0
+
+    goto :goto_6
+
+    :pswitch_data_6a
+    .packed-switch 0x0
+        :pswitch_2a
+        :pswitch_6
+        :pswitch_2f
+        :pswitch_2f
+    .end packed-switch
+
+    :pswitch_data_76
+    .packed-switch 0x0
+        :pswitch_42
+        :pswitch_6
+        :pswitch_47
+        :pswitch_47
+    .end packed-switch
+.end method
+
+.method public requestLocationUpdates(JFLandroid/location/Criteria;Landroid/app/PendingIntent;)V
+    .registers 7
+
+    if-eqz p4, :cond_4
+
+    if-nez p5, :cond_8
+
+    :cond_4
+    invoke-super/range {p0 .. p5}, Landroid/location/LocationManager;->requestLocationUpdates(JFLandroid/location/Criteria;Landroid/app/PendingIntent;)V
+
+    :cond_7
+    :goto_7
+    return-void
+
+    :cond_8
+    const/4 v0, 0x0
+
+    invoke-direct {p0, p4, v0, p5}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Landroid/location/Criteria;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_7
+
+    invoke-super/range {p0 .. p5}, Landroid/location/LocationManager;->requestLocationUpdates(JFLandroid/location/Criteria;Landroid/app/PendingIntent;)V
+
+    goto :goto_7
+.end method
+
+.method public requestLocationUpdates(JFLandroid/location/Criteria;Landroid/location/LocationListener;Landroid/os/Looper;)V
+    .registers 8
+
+    if-eqz p4, :cond_4
+
+    if-nez p5, :cond_8
+
+    :cond_4
+    invoke-super/range {p0 .. p6}, Landroid/location/LocationManager;->requestLocationUpdates(JFLandroid/location/Criteria;Landroid/location/LocationListener;Landroid/os/Looper;)V
+
+    :cond_7
+    :goto_7
+    return-void
+
+    :cond_8
+    const/4 v0, 0x0
+
+    invoke-direct {p0, p4, p5, v0}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Landroid/location/Criteria;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_7
+
+    invoke-super/range {p0 .. p6}, Landroid/location/LocationManager;->requestLocationUpdates(JFLandroid/location/Criteria;Landroid/location/LocationListener;Landroid/os/Looper;)V
+
+    goto :goto_7
+.end method
+
+.method public requestLocationUpdates(Ljava/lang/String;JFLandroid/app/PendingIntent;)V
+    .registers 7
+
+    if-eqz p1, :cond_4
+
+    if-nez p5, :cond_8
+
+    :cond_4
+    invoke-super/range {p0 .. p5}, Landroid/location/LocationManager;->requestLocationUpdates(Ljava/lang/String;JFLandroid/app/PendingIntent;)V
+
+    :cond_7
+    :goto_7
+    return-void
+
+    :cond_8
+    const/4 v0, 0x0
+
+    invoke-direct {p0, p1, v0, p5}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_7
+
+    invoke-super/range {p0 .. p5}, Landroid/location/LocationManager;->requestLocationUpdates(Ljava/lang/String;JFLandroid/app/PendingIntent;)V
+
+    goto :goto_7
+.end method
+
+.method public requestLocationUpdates(Ljava/lang/String;JFLandroid/location/LocationListener;)V
+    .registers 7
+
+    if-eqz p1, :cond_4
+
+    if-nez p5, :cond_8
+
+    :cond_4
+    invoke-super/range {p0 .. p5}, Landroid/location/LocationManager;->requestLocationUpdates(Ljava/lang/String;JFLandroid/location/LocationListener;)V
+
+    :cond_7
+    :goto_7
+    return-void
+
+    :cond_8
+    const/4 v0, 0x0
+
+    invoke-direct {p0, p1, p5, v0}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_7
+
+    invoke-super/range {p0 .. p5}, Landroid/location/LocationManager;->requestLocationUpdates(Ljava/lang/String;JFLandroid/location/LocationListener;)V
+
+    goto :goto_7
+.end method
+
+.method public requestLocationUpdates(Ljava/lang/String;JFLandroid/location/LocationListener;Landroid/os/Looper;)V
+    .registers 8
+
+    if-eqz p1, :cond_4
+
+    if-nez p5, :cond_8
+
+    :cond_4
+    invoke-super/range {p0 .. p6}, Landroid/location/LocationManager;->requestLocationUpdates(Ljava/lang/String;JFLandroid/location/LocationListener;Landroid/os/Looper;)V
+
+    :cond_7
+    :goto_7
+    return-void
+
+    :cond_8
+    const/4 v0, 0x0
+
+    invoke-direct {p0, p1, p5, v0}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_7
+
+    invoke-super/range {p0 .. p6}, Landroid/location/LocationManager;->requestLocationUpdates(Ljava/lang/String;JFLandroid/location/LocationListener;Landroid/os/Looper;)V
+
+    goto :goto_7
+.end method
+
+.method public requestSingleUpdate(Landroid/location/Criteria;Landroid/app/PendingIntent;)V
+    .registers 4
+
+    if-eqz p1, :cond_4
+
+    if-nez p2, :cond_8
+
+    :cond_4
+    invoke-super {p0, p1, p2}, Landroid/location/LocationManager;->requestSingleUpdate(Landroid/location/Criteria;Landroid/app/PendingIntent;)V
+
+    :cond_7
+    :goto_7
+    return-void
+
+    :cond_8
+    const/4 v0, 0x0
+
+    invoke-direct {p0, p1, v0, p2}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Landroid/location/Criteria;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_7
+
+    invoke-super {p0, p1, p2}, Landroid/location/LocationManager;->requestSingleUpdate(Landroid/location/Criteria;Landroid/app/PendingIntent;)V
+
+    goto :goto_7
+.end method
+
+.method public requestSingleUpdate(Landroid/location/Criteria;Landroid/location/LocationListener;Landroid/os/Looper;)V
+    .registers 5
+
+    if-eqz p1, :cond_4
+
+    if-nez p2, :cond_8
+
+    :cond_4
+    invoke-super {p0, p1, p2, p3}, Landroid/location/LocationManager;->requestSingleUpdate(Landroid/location/Criteria;Landroid/location/LocationListener;Landroid/os/Looper;)V
+
+    :cond_7
+    :goto_7
+    return-void
+
+    :cond_8
+    const/4 v0, 0x0
+
+    invoke-direct {p0, p1, p2, v0}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Landroid/location/Criteria;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_7
+
+    invoke-super {p0, p1, p2, p3}, Landroid/location/LocationManager;->requestSingleUpdate(Landroid/location/Criteria;Landroid/location/LocationListener;Landroid/os/Looper;)V
+
+    goto :goto_7
+.end method
+
+.method public requestSingleUpdate(Ljava/lang/String;Landroid/app/PendingIntent;)V
+    .registers 4
+
+    if-eqz p1, :cond_4
+
+    if-nez p2, :cond_8
+
+    :cond_4
+    invoke-super {p0, p1, p2}, Landroid/location/LocationManager;->requestSingleUpdate(Ljava/lang/String;Landroid/app/PendingIntent;)V
+
+    :cond_7
+    :goto_7
+    return-void
+
+    :cond_8
+    const/4 v0, 0x0
+
+    invoke-direct {p0, p1, v0, p2}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_7
+
+    invoke-super {p0, p1, p2}, Landroid/location/LocationManager;->requestSingleUpdate(Ljava/lang/String;Landroid/app/PendingIntent;)V
+
+    goto :goto_7
+.end method
+
+.method public requestSingleUpdate(Ljava/lang/String;Landroid/location/LocationListener;Landroid/os/Looper;)V
+    .registers 5
+
+    if-eqz p1, :cond_4
+
+    if-nez p2, :cond_8
+
+    :cond_4
+    invoke-super {p0, p1, p2, p3}, Landroid/location/LocationManager;->requestSingleUpdate(Ljava/lang/String;Landroid/location/LocationListener;Landroid/os/Looper;)V
+
+    :cond_7
+    :goto_7
+    return-void
+
+    :cond_8
+    const/4 v0, 0x0
+
+    invoke-direct {p0, p1, p2, v0}, Landroid/privacy/surrogate/PrivacyLocationManager;->requestLocationUpdates(Ljava/lang/String;Landroid/location/LocationListener;Landroid/app/PendingIntent;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_7
+
+    invoke-super {p0, p1, p2, p3}, Landroid/location/LocationManager;->requestSingleUpdate(Ljava/lang/String;Landroid/location/LocationListener;Landroid/os/Looper;)V
+
+    goto :goto_7
+.end method
diff -Npru stock_framework/smali/android/privacy/surrogate/PrivacyTelephonyManager.smali pdroid_framework/smali/android/privacy/surrogate/PrivacyTelephonyManager.smali
--- stock_framework/smali/android/privacy/surrogate/PrivacyTelephonyManager.smali	1969-12-31 16:00:00.000000000 -0800
+++ pdroid_framework/smali/android/privacy/surrogate/PrivacyTelephonyManager.smali	2012-07-02 22:52:42.695968101 -0700
@@ -0,0 +1,731 @@
+.class public final Landroid/privacy/surrogate/PrivacyTelephonyManager;
+.super Landroid/telephony/TelephonyManager;
+.source "PrivacyTelephonyManager.java"
+
+
+# static fields
+.field private static final TAG:Ljava/lang/String; = "PrivacyTelephonyManager"
+
+
+# instance fields
+.field private context:Landroid/content/Context;
+
+.field private pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+
+# direct methods
+.method public constructor <init>(Landroid/content/Context;)V
+    .registers 4
+
+    invoke-direct {p0, p1}, Landroid/telephony/TelephonyManager;-><init>(Landroid/content/Context;)V
+
+    iput-object p1, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    new-instance v0, Landroid/privacy/PrivacySettingsManager;
+
+    const-string/jumbo v1, "privacy"
+
+    invoke-static {v1}, Landroid/os/ServiceManager;->getService(Ljava/lang/String;)Landroid/os/IBinder;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/privacy/IPrivacySettingsManager$Stub;->asInterface(Landroid/os/IBinder;)Landroid/privacy/IPrivacySettingsManager;
+
+    move-result-object v1
+
+    invoke-direct {v0, p1, v1}, Landroid/privacy/PrivacySettingsManager;-><init>(Landroid/content/Context;Landroid/privacy/IPrivacySettingsManager;)V
+
+    iput-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    return-void
+.end method
+
+.method private getNetworkInfo()Ljava/lang/String;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_25
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getNetworkInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_25
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v5, ""
+
+    :goto_24
+    return-object v5
+
+    :cond_25
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "networkInfoCurrent"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_24
+.end method
+
+.method private getSimInfo()Ljava/lang/String;
+    .registers 8
+
+    const/4 v5, 0x0
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_25
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSimInfoSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_25
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x1
+
+    const-string/jumbo v4, "networkInfoSIM"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    const-string v5, ""
+
+    :goto_24
+    return-object v5
+
+    :cond_25
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "networkInfoSIM"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_24
+.end method
+
+
+# virtual methods
+.method public getDeviceId()Ljava/lang/String;
+    .registers 8
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_28
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_28
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getDeviceIdSetting()B
+
+    move-result v3
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_27
+    return-object v5
+
+    :cond_28
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getDeviceId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "deviceID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_27
+.end method
+
+.method public getLine1Number()Ljava/lang/String;
+    .registers 8
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_28
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_28
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_27
+    return-object v5
+
+    :cond_28
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_27
+.end method
+
+.method public getNeighboringCellInfo()Ljava/util/List;
+    .registers 10
+    .annotation system Ldalvik/annotation/Signature;
+        value = {
+            "()",
+            "Ljava/util/List",
+            "<",
+            "Landroid/telephony/NeighboringCellInfo;",
+            ">;"
+        }
+    .end annotation
+
+    iget-object v6, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v7, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v7}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v7
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v8
+
+    invoke-virtual {v6, v7, v8}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v5
+
+    const/4 v3, 0x0
+
+    const-string v4, "[null]"
+
+    if-eqz v5, :cond_1c
+
+    invoke-virtual {v5}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v6
+
+    const/4 v7, 0x1
+
+    if-ne v6, v7, :cond_1d
+
+    :cond_1c
+    :goto_1c
+    return-object v3
+
+    :cond_1d
+    invoke-virtual {v5}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v6
+
+    if-eqz v6, :cond_2b
+
+    new-instance v3, Ljava/util/ArrayList;
+
+    invoke-direct {v3}, Ljava/util/ArrayList;-><init>()V
+
+    const-string v4, "[empty list of cells]"
+
+    goto :goto_1c
+
+    :cond_2b
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getNeighboringCellInfo()Ljava/util/List;
+
+    move-result-object v3
+
+    const-string v0, ""
+
+    invoke-interface {v3}, Ljava/util/List;->iterator()Ljava/util/Iterator;
+
+    move-result-object v2
+
+    :goto_35
+    invoke-interface {v2}, Ljava/util/Iterator;->hasNext()Z
+
+    move-result v6
+
+    if-eqz v6, :cond_5f
+
+    invoke-interface {v2}, Ljava/util/Iterator;->next()Ljava/lang/Object;
+
+    move-result-object v1
+
+    check-cast v1, Landroid/telephony/NeighboringCellInfo;
+
+    new-instance v6, Ljava/lang/StringBuilder;
+
+    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
+
+    invoke-virtual {v6, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    const-string v7, "\t"
+
+    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v6, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    const-string v7, "\n"
+
+    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v0
+
+    goto :goto_35
+
+    :cond_5f
+    new-instance v6, Ljava/lang/StringBuilder;
+
+    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v7, "[real value]:\n"
+
+    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v6, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v6
+
+    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v4
+
+    goto :goto_1c
+.end method
+
+.method public getNetworkCountryIso()Ljava/lang/String;
+    .registers 2
+
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyTelephonyManager;->getNetworkInfo()Ljava/lang/String;
+
+    move-result-object v0
+
+    if-nez v0, :cond_a
+
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getNetworkCountryIso()Ljava/lang/String;
+
+    move-result-object v0
+
+    :cond_a
+    return-object v0
+.end method
+
+.method public getNetworkOperator()Ljava/lang/String;
+    .registers 2
+
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyTelephonyManager;->getNetworkInfo()Ljava/lang/String;
+
+    move-result-object v0
+
+    if-nez v0, :cond_a
+
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getNetworkOperator()Ljava/lang/String;
+
+    move-result-object v0
+
+    :cond_a
+    return-object v0
+.end method
+
+.method public getNetworkOperatorName()Ljava/lang/String;
+    .registers 2
+
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyTelephonyManager;->getNetworkInfo()Ljava/lang/String;
+
+    move-result-object v0
+
+    if-nez v0, :cond_a
+
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getNetworkOperatorName()Ljava/lang/String;
+
+    move-result-object v0
+
+    :cond_a
+    return-object v0
+.end method
+
+.method public getSimCountryIso()Ljava/lang/String;
+    .registers 2
+
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyTelephonyManager;->getSimInfo()Ljava/lang/String;
+
+    move-result-object v0
+
+    if-nez v0, :cond_a
+
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getSimCountryIso()Ljava/lang/String;
+
+    move-result-object v0
+
+    :cond_a
+    return-object v0
+.end method
+
+.method public getSimOperator()Ljava/lang/String;
+    .registers 2
+
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyTelephonyManager;->getSimInfo()Ljava/lang/String;
+
+    move-result-object v0
+
+    if-nez v0, :cond_a
+
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getSimOperator()Ljava/lang/String;
+
+    move-result-object v0
+
+    :cond_a
+    return-object v0
+.end method
+
+.method public getSimOperatorName()Ljava/lang/String;
+    .registers 2
+
+    invoke-direct {p0}, Landroid/privacy/surrogate/PrivacyTelephonyManager;->getSimInfo()Ljava/lang/String;
+
+    move-result-object v0
+
+    if-nez v0, :cond_a
+
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getSimOperatorName()Ljava/lang/String;
+
+    move-result-object v0
+
+    :cond_a
+    return-object v0
+.end method
+
+.method public getSimSerialNumber()Ljava/lang/String;
+    .registers 8
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_29
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSimSerialNumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_29
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSimSerialNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSimSerialNumberSetting()B
+
+    move-result v3
+
+    const-string/jumbo v4, "simSerial"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_28
+    return-object v5
+
+    :cond_29
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getSimSerialNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "simSerial"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_28
+.end method
+
+.method public getSubscriberId()Ljava/lang/String;
+    .registers 8
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_29
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_29
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getSubscriberIdSetting()B
+
+    move-result v3
+
+    const-string/jumbo v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_28
+    return-object v5
+
+    :cond_29
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getSubscriberId()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string/jumbo v4, "subscriberID"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_28
+.end method
+
+.method public getVoiceMailNumber()Ljava/lang/String;
+    .registers 8
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v2
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_28
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v0
+
+    if-eqz v0, :cond_28
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1Number()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLine1NumberSetting()B
+
+    move-result v3
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_27
+    return-object v5
+
+    :cond_28
+    invoke-super {p0}, Landroid/telephony/TelephonyManager;->getVoiceMailNumber()Ljava/lang/String;
+
+    move-result-object v5
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->pSetMan:Landroid/privacy/PrivacySettingsManager;
+
+    const/4 v3, 0x0
+
+    const-string v4, "line1Number"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_27
+.end method
+
+.method public listen(Landroid/telephony/PhoneStateListener;I)V
+    .registers 4
+
+    and-int/lit8 v0, p2, 0x10
+
+    if-nez v0, :cond_8
+
+    and-int/lit8 v0, p2, 0x20
+
+    if-eqz v0, :cond_21
+
+    :cond_8
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {p1, v0}, Landroid/telephony/PhoneStateListener;->setContext(Landroid/content/Context;)V
+
+    iget-object v0, p0, Landroid/privacy/surrogate/PrivacyTelephonyManager;->context:Landroid/content/Context;
+
+    invoke-virtual {v0}, Landroid/content/Context;->getPackageName()Ljava/lang/String;
+
+    move-result-object v0
+
+    invoke-virtual {p1, v0}, Landroid/telephony/PhoneStateListener;->setPackageName(Ljava/lang/String;)V
+
+    invoke-static {}, Landroid/os/Binder;->getCallingUid()I
+
+    move-result v0
+
+    invoke-virtual {p1, v0}, Landroid/telephony/PhoneStateListener;->setUid(I)V
+
+    invoke-super {p0, p1, p2}, Landroid/telephony/TelephonyManager;->listen(Landroid/telephony/PhoneStateListener;I)V
+
+    :goto_20
+    return-void
+
+    :cond_21
+    invoke-super {p0, p1, p2}, Landroid/telephony/TelephonyManager;->listen(Landroid/telephony/PhoneStateListener;I)V
+
+    goto :goto_20
+.end method
diff -Npru stock_framework/smali/android/server/BluetoothA2dpService.smali pdroid_framework/smali/android/server/BluetoothA2dpService.smali
--- stock_framework/smali/android/server/BluetoothA2dpService.smali	2012-07-02 22:51:56.944006125 -0700
+++ pdroid_framework/smali/android/server/BluetoothA2dpService.smali	2012-07-02 22:52:43.226095115 -0700
@@ -1601,7 +1601,7 @@
 
     move-result-object v5
 
-    const-string v6, "mPlayingA2dpDevice: "
+    const-string/jumbo v6, "mPlayingA2dpDevice: "
 
     invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
@@ -1625,7 +1625,7 @@
 
     move-result-object v5
 
-    if-nez v5, :cond_6b
+    if-nez v5, :cond_6c
 
     invoke-direct {p0, v1}, Landroid/server/BluetoothA2dpService;->addAudioSink(Landroid/bluetooth/BluetoothDevice;)V
 
@@ -1635,12 +1635,12 @@
 
     goto :goto_b
 
-    :cond_6b
-    if-ne v4, v7, :cond_79
+    :cond_6c
+    if-ne v4, v7, :cond_7a
 
     iget-object v5, p0, Landroid/server/BluetoothA2dpService;->mPlayingA2dpDevice:Landroid/bluetooth/BluetoothDevice;
 
-    if-nez v5, :cond_79
+    if-nez v5, :cond_7a
 
     iput-object v1, p0, Landroid/server/BluetoothA2dpService;->mPlayingA2dpDevice:Landroid/bluetooth/BluetoothDevice;
 
@@ -1650,14 +1650,14 @@
 
     goto :goto_b
 
-    :cond_79
+    :cond_7a
     const/4 v5, 0x2
 
-    if-ne v4, v5, :cond_8b
+    if-ne v4, v5, :cond_8c
 
     iget-object v5, p0, Landroid/server/BluetoothA2dpService;->mPlayingA2dpDevice:Landroid/bluetooth/BluetoothDevice;
 
-    if-eqz v5, :cond_8b
+    if-eqz v5, :cond_8c
 
     const/4 v5, 0x0
 
@@ -1671,7 +1671,7 @@
 
     goto :goto_b
 
-    :cond_8b
+    :cond_8c
     const/4 v5, 0x0
 
     iput-object v5, p0, Landroid/server/BluetoothA2dpService;->mPlayingA2dpDevice:Landroid/bluetooth/BluetoothDevice;
@@ -1689,8 +1689,8 @@
     move-result v3
 
     invoke-direct {p0, v1, v3, v4}, Landroid/server/BluetoothA2dpService;->handleSinkStateChange(Landroid/bluetooth/BluetoothDevice;II)V
-    :try_end_9d
-    .catchall {:try_start_24 .. :try_end_9d} :catchall_21
+    :try_end_9e
+    .catchall {:try_start_24 .. :try_end_9e} :catchall_21
 
     goto/16 :goto_b
 .end method
diff -Npru stock_framework/smali/android/server/BluetoothService.smali pdroid_framework/smali/android/server/BluetoothService.smali
--- stock_framework/smali/android/server/BluetoothService.smali	2012-07-02 22:51:57.043029851 -0700
+++ pdroid_framework/smali/android/server/BluetoothService.smali	2012-07-02 22:52:43.370129625 -0700
@@ -2367,9 +2367,9 @@
 
     invoke-direct {v4, v7}, Ljava/io/BufferedInputStream;-><init>(Ljava/io/InputStream;)V
     :try_end_19
-    .catchall {:try_start_d .. :try_end_19} :catchall_83
-    .catch Ljava/io/FileNotFoundException; {:try_start_d .. :try_end_19} :catch_63
-    .catch Ljava/io/IOException; {:try_start_d .. :try_end_19} :catch_73
+    .catchall {:try_start_d .. :try_end_19} :catchall_7e
+    .catch Ljava/io/FileNotFoundException; {:try_start_d .. :try_end_19} :catch_60
+    .catch Ljava/io/IOException; {:try_start_d .. :try_end_19} :catch_70
 
     const/16 v7, 0x11
 
@@ -2396,9 +2396,9 @@
 
     sget-object v5, Landroid/server/BluetoothService;->mDockAddress:Ljava/lang/String;
     :try_end_33
-    .catchall {:try_start_1b .. :try_end_33} :catchall_8c
-    .catch Ljava/io/FileNotFoundException; {:try_start_1b .. :try_end_33} :catch_92
-    .catch Ljava/io/IOException; {:try_start_1b .. :try_end_33} :catch_8f
+    .catchall {:try_start_1b .. :try_end_33} :catchall_89
+    .catch Ljava/io/FileNotFoundException; {:try_start_1b .. :try_end_33} :catch_8f
+    .catch Ljava/io/IOException; {:try_start_1b .. :try_end_33} :catch_8c
 
     if-eqz v4, :cond_a
 
@@ -2439,18 +2439,20 @@
 
     invoke-static {v7, v8}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
     :try_end_53
-    .catchall {:try_start_3b .. :try_end_53} :catchall_8c
-    .catch Ljava/io/FileNotFoundException; {:try_start_3b .. :try_end_53} :catch_92
-    .catch Ljava/io/IOException; {:try_start_3b .. :try_end_53} :catch_8f
+    .catchall {:try_start_3b .. :try_end_53} :catchall_89
+    .catch Ljava/io/FileNotFoundException; {:try_start_3b .. :try_end_53} :catch_8f
+    .catch Ljava/io/IOException; {:try_start_3b .. :try_end_53} :catch_8c
 
-    if-eqz v4, :cond_95
+    if-eqz v4, :cond_58
 
     :try_start_55
     invoke-virtual {v4}, Ljava/io/BufferedInputStream;->close()V
     :try_end_58
     .catchall {:try_start_55 .. :try_end_58} :catchall_5d
-    .catch Ljava/io/IOException; {:try_start_55 .. :try_end_58} :catch_60
+    .catch Ljava/io/IOException; {:try_start_55 .. :try_end_58} :catch_87
 
+    :cond_58
+    :goto_58
     move-object v3, v4
 
     :cond_59
@@ -2472,117 +2474,105 @@
     throw v5
 
     :catch_60
-    move-exception v7
-
-    move-object v3, v4
-
-    goto :goto_59
-
-    :catch_63
     move-exception v2
 
-    :goto_64
-    :try_start_64
+    :goto_61
+    :try_start_61
     const-string v7, "BluetoothService"
 
     const-string v8, "FileNotFoundException while trying to read dock address"
 
     invoke-static {v7, v8}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
-    :try_end_6b
-    .catchall {:try_start_64 .. :try_end_6b} :catchall_83
+    :try_end_68
+    .catchall {:try_start_61 .. :try_end_68} :catchall_7e
 
     if-eqz v3, :cond_59
 
-    :try_start_6d
+    :try_start_6a
     invoke-virtual {v3}, Ljava/io/BufferedInputStream;->close()V
-    :try_end_70
-    .catchall {:try_start_6d .. :try_end_70} :catchall_5d
-    .catch Ljava/io/IOException; {:try_start_6d .. :try_end_70} :catch_71
+    :try_end_6d
+    .catchall {:try_start_6a .. :try_end_6d} :catchall_5d
+    .catch Ljava/io/IOException; {:try_start_6a .. :try_end_6d} :catch_6e
 
     goto :goto_59
 
-    :catch_71
+    :catch_6e
     move-exception v7
 
     goto :goto_59
 
-    :catch_73
+    :catch_70
     move-exception v2
 
-    :goto_74
-    :try_start_74
+    :goto_71
+    :try_start_71
     const-string v7, "BluetoothService"
 
     const-string v8, "IOException while trying to read dock address"
 
     invoke-static {v7, v8}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
-    :try_end_7b
-    .catchall {:try_start_74 .. :try_end_7b} :catchall_83
+    :try_end_78
+    .catchall {:try_start_71 .. :try_end_78} :catchall_7e
 
     if-eqz v3, :cond_59
 
-    :try_start_7d
+    :try_start_7a
     invoke-virtual {v3}, Ljava/io/BufferedInputStream;->close()V
-    :try_end_80
-    .catchall {:try_start_7d .. :try_end_80} :catchall_5d
-    .catch Ljava/io/IOException; {:try_start_7d .. :try_end_80} :catch_81
-
-    goto :goto_59
-
-    :catch_81
-    move-exception v7
+    :try_end_7d
+    .catchall {:try_start_7a .. :try_end_7d} :catchall_5d
+    .catch Ljava/io/IOException; {:try_start_7a .. :try_end_7d} :catch_6e
 
     goto :goto_59
 
-    :catchall_83
+    :catchall_7e
     move-exception v5
 
-    :goto_84
-    if-eqz v3, :cond_89
+    :goto_7f
+    if-eqz v3, :cond_84
 
-    :try_start_86
+    :try_start_81
     invoke-virtual {v3}, Ljava/io/BufferedInputStream;->close()V
-    :try_end_89
-    .catchall {:try_start_86 .. :try_end_89} :catchall_5d
-    .catch Ljava/io/IOException; {:try_start_86 .. :try_end_89} :catch_8a
-
-    :cond_89
-    :goto_89
-    :try_start_89
+    :try_end_84
+    .catchall {:try_start_81 .. :try_end_84} :catchall_5d
+    .catch Ljava/io/IOException; {:try_start_81 .. :try_end_84} :catch_85
+
+    :cond_84
+    :goto_84
+    :try_start_84
     throw v5
-    :try_end_8a
-    .catchall {:try_start_89 .. :try_end_8a} :catchall_5d
+    :try_end_85
+    .catchall {:try_start_84 .. :try_end_85} :catchall_5d
 
-    :catch_8a
+    :catch_85
     move-exception v7
 
-    goto :goto_89
+    goto :goto_84
+
+    :catch_87
+    move-exception v7
 
-    :catchall_8c
+    goto :goto_58
+
+    :catchall_89
     move-exception v5
 
     move-object v3, v4
 
-    goto :goto_84
+    goto :goto_7f
 
-    :catch_8f
+    :catch_8c
     move-exception v2
 
     move-object v3, v4
 
-    goto :goto_74
+    goto :goto_71
 
-    :catch_92
+    :catch_8f
     move-exception v2
 
     move-object v3, v4
 
-    goto :goto_64
-
-    :cond_95
-    move-object v3, v4
-
-    goto :goto_59
+    goto :goto_61
 .end method
 
 .method private readIncomingConnectionState()V
@@ -2601,9 +2591,9 @@
 
     invoke-direct {v3, v9}, Ljava/io/FileInputStream;-><init>(Ljava/lang/String;)V
     :try_end_b
-    .catchall {:try_start_4 .. :try_end_b} :catchall_a2
-    .catch Ljava/io/FileNotFoundException; {:try_start_4 .. :try_end_b} :catch_b9
-    .catch Ljava/io/IOException; {:try_start_4 .. :try_end_b} :catch_7f
+    .catchall {:try_start_4 .. :try_end_b} :catchall_9f
+    .catch Ljava/io/FileNotFoundException; {:try_start_4 .. :try_end_b} :catch_b6
+    .catch Ljava/io/IOException; {:try_start_4 .. :try_end_b} :catch_7c
 
     :try_start_b
     new-instance v4, Ljava/io/DataInputStream;
@@ -2678,9 +2668,9 @@
 
     invoke-virtual {v9, v11, v6}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
     :try_end_51
-    .catchall {:try_start_b .. :try_end_51} :catchall_b3
+    .catchall {:try_start_b .. :try_end_51} :catchall_b0
     .catch Ljava/io/FileNotFoundException; {:try_start_b .. :try_end_51} :catch_52
-    .catch Ljava/io/IOException; {:try_start_b .. :try_end_51} :catch_b6
+    .catch Ljava/io/IOException; {:try_start_b .. :try_end_51} :catch_b3
 
     goto :goto_1a
 
@@ -2715,50 +2705,45 @@
 
     invoke-static {v9}, Landroid/server/BluetoothService;->log(Ljava/lang/String;)V
     :try_end_6e
-    .catchall {:try_start_54 .. :try_end_6e} :catchall_a2
+    .catchall {:try_start_54 .. :try_end_6e} :catchall_9f
 
     if-eqz v2, :cond_73
 
     :try_start_70
     invoke-virtual {v2}, Ljava/io/FileInputStream;->close()V
     :try_end_73
-    .catchall {:try_start_70 .. :try_end_73} :catchall_a9
-    .catch Ljava/io/IOException; {:try_start_70 .. :try_end_73} :catch_ac
+    .catchall {:try_start_70 .. :try_end_73} :catchall_a6
+    .catch Ljava/io/IOException; {:try_start_70 .. :try_end_73} :catch_9d
 
     :cond_73
     :goto_73
     :try_start_73
     monitor-exit v10
     :try_end_74
-    .catchall {:try_start_73 .. :try_end_74} :catchall_a9
+    .catchall {:try_start_73 .. :try_end_74} :catchall_a6
 
     return-void
 
     :cond_75
-    if-eqz v3, :cond_bb
+    if-eqz v3, :cond_7a
 
     :try_start_77
     invoke-virtual {v3}, Ljava/io/FileInputStream;->close()V
     :try_end_7a
-    .catchall {:try_start_77 .. :try_end_7a} :catchall_b0
-    .catch Ljava/io/IOException; {:try_start_77 .. :try_end_7a} :catch_7c
+    .catchall {:try_start_77 .. :try_end_7a} :catchall_ad
+    .catch Ljava/io/IOException; {:try_start_77 .. :try_end_7a} :catch_ab
 
+    :cond_7a
+    :goto_7a
     move-object v2, v3
 
     goto :goto_73
 
     :catch_7c
-    move-exception v9
-
-    move-object v2, v3
-
-    goto :goto_73
-
-    :catch_7f
     move-exception v0
 
-    :goto_80
-    :try_start_80
+    :goto_7d
+    :try_start_7d
     new-instance v9, Ljava/lang/StringBuilder;
 
     invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V
@@ -2782,91 +2767,86 @@
     move-result-object v9
 
     invoke-static {v9}, Landroid/server/BluetoothService;->log(Ljava/lang/String;)V
-    :try_end_9a
-    .catchall {:try_start_80 .. :try_end_9a} :catchall_a2
+    :try_end_97
+    .catchall {:try_start_7d .. :try_end_97} :catchall_9f
 
     if-eqz v2, :cond_73
 
-    :try_start_9c
+    :try_start_99
     invoke-virtual {v2}, Ljava/io/FileInputStream;->close()V
-    :try_end_9f
-    .catchall {:try_start_9c .. :try_end_9f} :catchall_a9
-    .catch Ljava/io/IOException; {:try_start_9c .. :try_end_9f} :catch_a0
+    :try_end_9c
+    .catchall {:try_start_99 .. :try_end_9c} :catchall_a6
+    .catch Ljava/io/IOException; {:try_start_99 .. :try_end_9c} :catch_9d
 
     goto :goto_73
 
-    :catch_a0
+    :catch_9d
     move-exception v9
 
     goto :goto_73
 
-    :catchall_a2
+    :catchall_9f
     move-exception v9
 
-    :goto_a3
-    if-eqz v2, :cond_a8
+    :goto_a0
+    if-eqz v2, :cond_a5
 
-    :try_start_a5
+    :try_start_a2
     invoke-virtual {v2}, Ljava/io/FileInputStream;->close()V
-    :try_end_a8
-    .catchall {:try_start_a5 .. :try_end_a8} :catchall_a9
-    .catch Ljava/io/IOException; {:try_start_a5 .. :try_end_a8} :catch_ae
+    :try_end_a5
+    .catchall {:try_start_a2 .. :try_end_a5} :catchall_a6
+    .catch Ljava/io/IOException; {:try_start_a2 .. :try_end_a5} :catch_a9
 
-    :cond_a8
-    :goto_a8
-    :try_start_a8
+    :cond_a5
+    :goto_a5
+    :try_start_a5
     throw v9
 
-    :catchall_a9
+    :catchall_a6
     move-exception v9
 
-    :goto_aa
+    :goto_a7
     monitor-exit v10
-    :try_end_ab
-    .catchall {:try_start_a8 .. :try_end_ab} :catchall_a9
+    :try_end_a8
+    .catchall {:try_start_a5 .. :try_end_a8} :catchall_a6
 
     throw v9
 
-    :catch_ac
-    move-exception v9
+    :catch_a9
+    move-exception v11
 
-    goto :goto_73
+    goto :goto_a5
 
-    :catch_ae
-    move-exception v11
+    :catch_ab
+    move-exception v9
 
-    goto :goto_a8
+    goto :goto_7a
 
-    :catchall_b0
+    :catchall_ad
     move-exception v9
 
     move-object v2, v3
 
-    goto :goto_aa
+    goto :goto_a7
 
-    :catchall_b3
+    :catchall_b0
     move-exception v9
 
     move-object v2, v3
 
-    goto :goto_a3
+    goto :goto_a0
 
-    :catch_b6
+    :catch_b3
     move-exception v0
 
     move-object v2, v3
 
-    goto :goto_80
+    goto :goto_7d
 
-    :catch_b9
+    :catch_b6
     move-exception v0
 
     goto :goto_54
-
-    :cond_bb
-    move-object v2, v3
-
-    goto :goto_73
 .end method
 
 .method private registerForAirplaneMode(Landroid/content/IntentFilter;)V
@@ -3164,26 +3144,28 @@
 
     invoke-direct {v2, v3, v4}, Ljava/io/RandomAccessFile;-><init>(Ljava/lang/String;Ljava/lang/String;)V
     :try_end_b
-    .catchall {:try_start_1 .. :try_end_b} :catchall_60
-    .catch Ljava/io/FileNotFoundException; {:try_start_1 .. :try_end_b} :catch_1a
-    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_b} :catch_3d
+    .catchall {:try_start_1 .. :try_end_b} :catchall_5b
+    .catch Ljava/io/FileNotFoundException; {:try_start_1 .. :try_end_b} :catch_17
+    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_b} :catch_3a
 
     const-wide/16 v3, 0x0
 
     :try_start_d
     invoke-virtual {v2, v3, v4}, Ljava/io/RandomAccessFile;->setLength(J)V
     :try_end_10
-    .catchall {:try_start_d .. :try_end_10} :catchall_69
-    .catch Ljava/io/FileNotFoundException; {:try_start_d .. :try_end_10} :catch_6f
-    .catch Ljava/io/IOException; {:try_start_d .. :try_end_10} :catch_6c
+    .catchall {:try_start_d .. :try_end_10} :catchall_66
+    .catch Ljava/io/FileNotFoundException; {:try_start_d .. :try_end_10} :catch_6c
+    .catch Ljava/io/IOException; {:try_start_d .. :try_end_10} :catch_69
 
-    if-eqz v2, :cond_72
+    if-eqz v2, :cond_15
 
     :try_start_12
     invoke-virtual {v2}, Ljava/io/RandomAccessFile;->close()V
     :try_end_15
-    .catch Ljava/io/IOException; {:try_start_12 .. :try_end_15} :catch_17
+    .catch Ljava/io/IOException; {:try_start_12 .. :try_end_15} :catch_64
 
+    :cond_15
+    :goto_15
     move-object v1, v2
 
     :cond_16
@@ -3191,17 +3173,10 @@
     return-void
 
     :catch_17
-    move-exception v3
-
-    move-object v1, v2
-
-    goto :goto_16
-
-    :catch_1a
     move-exception v0
 
-    :goto_1b
-    :try_start_1b
+    :goto_18
+    :try_start_18
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
@@ -3225,28 +3200,28 @@
     move-result-object v3
 
     invoke-static {v3}, Landroid/server/BluetoothService;->log(Ljava/lang/String;)V
-    :try_end_35
-    .catchall {:try_start_1b .. :try_end_35} :catchall_60
+    :try_end_32
+    .catchall {:try_start_18 .. :try_end_32} :catchall_5b
 
     if-eqz v1, :cond_16
 
-    :try_start_37
+    :try_start_34
     invoke-virtual {v1}, Ljava/io/RandomAccessFile;->close()V
-    :try_end_3a
-    .catch Ljava/io/IOException; {:try_start_37 .. :try_end_3a} :catch_3b
+    :try_end_37
+    .catch Ljava/io/IOException; {:try_start_34 .. :try_end_37} :catch_38
 
     goto :goto_16
 
-    :catch_3b
+    :catch_38
     move-exception v3
 
     goto :goto_16
 
-    :catch_3d
+    :catch_3a
     move-exception v0
 
-    :goto_3e
-    :try_start_3e
+    :goto_3b
+    :try_start_3b
     new-instance v3, Ljava/lang/StringBuilder;
 
     invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
@@ -3270,68 +3245,63 @@
     move-result-object v3
 
     invoke-static {v3}, Landroid/server/BluetoothService;->log(Ljava/lang/String;)V
-    :try_end_58
-    .catchall {:try_start_3e .. :try_end_58} :catchall_60
+    :try_end_55
+    .catchall {:try_start_3b .. :try_end_55} :catchall_5b
 
     if-eqz v1, :cond_16
 
-    :try_start_5a
+    :try_start_57
     invoke-virtual {v1}, Ljava/io/RandomAccessFile;->close()V
-    :try_end_5d
-    .catch Ljava/io/IOException; {:try_start_5a .. :try_end_5d} :catch_5e
-
-    goto :goto_16
-
-    :catch_5e
-    move-exception v3
+    :try_end_5a
+    .catch Ljava/io/IOException; {:try_start_57 .. :try_end_5a} :catch_38
 
     goto :goto_16
 
-    :catchall_60
+    :catchall_5b
     move-exception v3
 
-    :goto_61
-    if-eqz v1, :cond_66
+    :goto_5c
+    if-eqz v1, :cond_61
 
-    :try_start_63
+    :try_start_5e
     invoke-virtual {v1}, Ljava/io/RandomAccessFile;->close()V
-    :try_end_66
-    .catch Ljava/io/IOException; {:try_start_63 .. :try_end_66} :catch_67
+    :try_end_61
+    .catch Ljava/io/IOException; {:try_start_5e .. :try_end_61} :catch_62
 
-    :cond_66
-    :goto_66
+    :cond_61
+    :goto_61
     throw v3
 
-    :catch_67
+    :catch_62
     move-exception v4
 
-    goto :goto_66
+    goto :goto_61
 
-    :catchall_69
+    :catch_64
     move-exception v3
 
-    move-object v1, v2
-
-    goto :goto_61
+    goto :goto_15
 
-    :catch_6c
-    move-exception v0
+    :catchall_66
+    move-exception v3
 
     move-object v1, v2
 
-    goto :goto_3e
+    goto :goto_5c
 
-    :catch_6f
+    :catch_69
     move-exception v0
 
     move-object v1, v2
 
-    goto :goto_1b
+    goto :goto_3b
+
+    :catch_6c
+    move-exception v0
 
-    :cond_72
     move-object v1, v2
 
-    goto :goto_16
+    goto :goto_18
 .end method
 
 .method private updateCountersAndCheckForConnectionStateChange(II)Z
@@ -3784,17 +3754,17 @@
 
     invoke-virtual {v2, v6}, Ljava/io/BufferedWriter;->write(Ljava/lang/String;)V
     :try_end_36
-    .catchall {:try_start_10 .. :try_end_36} :catchall_70
-    .catch Ljava/io/FileNotFoundException; {:try_start_10 .. :try_end_36} :catch_76
-    .catch Ljava/io/IOException; {:try_start_10 .. :try_end_36} :catch_73
+    .catchall {:try_start_10 .. :try_end_36} :catchall_6e
+    .catch Ljava/io/FileNotFoundException; {:try_start_10 .. :try_end_36} :catch_74
+    .catch Ljava/io/IOException; {:try_start_10 .. :try_end_36} :catch_71
 
     if-eqz v2, :cond_3b
 
     :try_start_38
     invoke-virtual {v2}, Ljava/io/BufferedWriter;->close()V
     :try_end_3b
-    .catchall {:try_start_38 .. :try_end_3b} :catchall_79
-    .catch Ljava/io/IOException; {:try_start_38 .. :try_end_3b} :catch_6a
+    .catchall {:try_start_38 .. :try_end_3b} :catchall_77
+    .catch Ljava/io/IOException; {:try_start_38 .. :try_end_3b} :catch_6c
 
     :cond_3b
     :goto_3b
@@ -3824,7 +3794,7 @@
     invoke-virtual {v1}, Ljava/io/BufferedWriter;->close()V
     :try_end_4b
     .catchall {:try_start_48 .. :try_end_4b} :catchall_67
-    .catch Ljava/io/IOException; {:try_start_48 .. :try_end_4b} :catch_6c
+    .catch Ljava/io/IOException; {:try_start_48 .. :try_end_4b} :catch_5e
 
     :cond_4b
     :goto_4b
@@ -3877,7 +3847,7 @@
     invoke-virtual {v1}, Ljava/io/BufferedWriter;->close()V
     :try_end_66
     .catchall {:try_start_63 .. :try_end_66} :catchall_67
-    .catch Ljava/io/IOException; {:try_start_63 .. :try_end_66} :catch_6e
+    .catch Ljava/io/IOException; {:try_start_63 .. :try_end_66} :catch_6a
 
     :cond_66
     :goto_66
@@ -3897,40 +3867,35 @@
     :catch_6a
     move-exception v5
 
-    goto :goto_3b
+    goto :goto_66
 
     :catch_6c
-    move-exception v4
-
-    goto :goto_4b
-
-    :catch_6e
     move-exception v5
 
-    goto :goto_66
+    goto :goto_3b
 
-    :catchall_70
+    :catchall_6e
     move-exception v4
 
     move-object v1, v2
 
     goto :goto_61
 
-    :catch_73
+    :catch_71
     move-exception v0
 
     move-object v1, v2
 
     goto :goto_51
 
-    :catch_76
+    :catch_74
     move-exception v0
 
     move-object v1, v2
 
     goto :goto_3f
 
-    :catchall_79
+    :catchall_77
     move-exception v4
 
     move-object v1, v2
@@ -4854,8 +4819,8 @@
 
     invoke-interface {v4}, Lcom/android/internal/app/IBatteryStats;->noteBluetoothOff()V
     :try_end_47
-    .catchall {:try_start_42 .. :try_end_47} :catchall_51
-    .catch Landroid/os/RemoteException; {:try_start_42 .. :try_end_47} :catch_4c
+    .catchall {:try_start_42 .. :try_end_47} :catchall_4c
+    .catch Landroid/os/RemoteException; {:try_start_42 .. :try_end_47} :catch_51
 
     :try_start_47
     invoke-static {v1, v2}, Landroid/os/Binder;->restoreCallingIdentity(J)V
@@ -4867,22 +4832,22 @@
 
     return-void
 
-    :catch_4c
+    :catchall_4c
     move-exception v4
 
     :try_start_4d
     invoke-static {v1, v2}, Landroid/os/Binder;->restoreCallingIdentity(J)V
 
-    goto :goto_4a
+    throw v4
 
-    :catchall_51
+    :catch_51
     move-exception v4
 
     invoke-static {v1, v2}, Landroid/os/Binder;->restoreCallingIdentity(J)V
+    :try_end_55
+    .catchall {:try_start_4d .. :try_end_55} :catchall_24
 
-    throw v4
-    :try_end_56
-    .catchall {:try_start_4d .. :try_end_56} :catchall_24
+    goto :goto_4a
 .end method
 
 .method clearApplicationStateChangeTracker()V
@@ -9234,12 +9199,12 @@
 
     invoke-interface {v3}, Lcom/android/internal/app/IBatteryStats;->noteBluetoothOn()V
     :try_end_c
-    .catchall {:try_start_7 .. :try_end_c} :catchall_1c
+    .catchall {:try_start_7 .. :try_end_c} :catchall_19
     .catch Landroid/os/RemoteException; {:try_start_7 .. :try_end_c} :catch_10
 
+    :goto_c
     invoke-static {v1, v2}, Landroid/os/Binder;->restoreCallingIdentity(J)V
 
-    :goto_f
     return-void
 
     :catch_10
@@ -9252,13 +9217,11 @@
 
     invoke-static {v3, v4, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_18
-    .catchall {:try_start_11 .. :try_end_18} :catchall_1c
-
-    invoke-static {v1, v2}, Landroid/os/Binder;->restoreCallingIdentity(J)V
+    .catchall {:try_start_11 .. :try_end_18} :catchall_19
 
-    goto :goto_f
+    goto :goto_c
 
-    :catchall_1c
+    :catchall_19
     move-exception v3
 
     invoke-static {v1, v2}, Landroid/os/Binder;->restoreCallingIdentity(J)V
@@ -11409,7 +11372,7 @@
 
     invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V
     :try_end_11
-    .catchall {:try_start_3 .. :try_end_11} :catchall_bf
+    .catchall {:try_start_3 .. :try_end_11} :catchall_bc
 
     :try_start_11
     new-instance v4, Ljava/io/BufferedWriter;
@@ -11424,9 +11387,9 @@
 
     invoke-direct {v4, v7}, Ljava/io/BufferedWriter;-><init>(Ljava/io/Writer;)V
     :try_end_1e
-    .catchall {:try_start_11 .. :try_end_1e} :catchall_b8
-    .catch Ljava/io/FileNotFoundException; {:try_start_11 .. :try_end_1e} :catch_cc
-    .catch Ljava/io/IOException; {:try_start_11 .. :try_end_1e} :catch_95
+    .catchall {:try_start_11 .. :try_end_1e} :catchall_b5
+    .catch Ljava/io/FileNotFoundException; {:try_start_11 .. :try_end_1e} :catch_c9
+    .catch Ljava/io/IOException; {:try_start_11 .. :try_end_1e} :catch_92
 
     :try_start_1e
     iget-object v7, p0, Landroid/server/BluetoothService;->mIncomingConnections:Ljava/util/HashMap;
@@ -11490,9 +11453,9 @@
 
     invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
     :try_end_60
-    .catchall {:try_start_1e .. :try_end_60} :catchall_c6
+    .catchall {:try_start_1e .. :try_end_60} :catchall_c3
     .catch Ljava/io/FileNotFoundException; {:try_start_1e .. :try_end_60} :catch_61
-    .catch Ljava/io/IOException; {:try_start_1e .. :try_end_60} :catch_c9
+    .catch Ljava/io/IOException; {:try_start_1e .. :try_end_60} :catch_c6
 
     goto :goto_28
 
@@ -11527,22 +11490,22 @@
 
     invoke-static {v7}, Landroid/server/BluetoothService;->log(Ljava/lang/String;)V
     :try_end_7d
-    .catchall {:try_start_63 .. :try_end_7d} :catchall_b8
+    .catchall {:try_start_63 .. :try_end_7d} :catchall_b5
 
     if-eqz v3, :cond_82
 
     :try_start_7f
     invoke-virtual {v3}, Ljava/io/BufferedWriter;->close()V
     :try_end_82
-    .catchall {:try_start_7f .. :try_end_82} :catchall_bf
-    .catch Ljava/io/IOException; {:try_start_7f .. :try_end_82} :catch_c2
+    .catchall {:try_start_7f .. :try_end_82} :catchall_bc
+    .catch Ljava/io/IOException; {:try_start_7f .. :try_end_82} :catch_b3
 
     :cond_82
     :goto_82
     :try_start_82
     monitor-exit v8
     :try_end_83
-    .catchall {:try_start_82 .. :try_end_83} :catchall_bf
+    .catchall {:try_start_82 .. :try_end_83} :catchall_bc
 
     return-void
 
@@ -11554,34 +11517,29 @@
 
     invoke-virtual {v4, v7}, Ljava/io/BufferedWriter;->write(Ljava/lang/String;)V
     :try_end_8b
-    .catchall {:try_start_84 .. :try_end_8b} :catchall_c6
+    .catchall {:try_start_84 .. :try_end_8b} :catchall_c3
     .catch Ljava/io/FileNotFoundException; {:try_start_84 .. :try_end_8b} :catch_61
-    .catch Ljava/io/IOException; {:try_start_84 .. :try_end_8b} :catch_c9
+    .catch Ljava/io/IOException; {:try_start_84 .. :try_end_8b} :catch_c6
 
-    if-eqz v4, :cond_ce
+    if-eqz v4, :cond_90
 
     :try_start_8d
     invoke-virtual {v4}, Ljava/io/BufferedWriter;->close()V
     :try_end_90
-    .catchall {:try_start_8d .. :try_end_90} :catchall_bf
-    .catch Ljava/io/IOException; {:try_start_8d .. :try_end_90} :catch_92
+    .catchall {:try_start_8d .. :try_end_90} :catchall_bc
+    .catch Ljava/io/IOException; {:try_start_8d .. :try_end_90} :catch_c1
 
+    :cond_90
+    :goto_90
     move-object v3, v4
 
     goto :goto_82
 
     :catch_92
-    move-exception v7
-
-    move-object v3, v4
-
-    goto :goto_82
-
-    :catch_95
     move-exception v1
 
-    :goto_96
-    :try_start_96
+    :goto_93
+    :try_start_93
     new-instance v7, Ljava/lang/StringBuilder;
 
     invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V
@@ -11605,81 +11563,76 @@
     move-result-object v7
 
     invoke-static {v7}, Landroid/server/BluetoothService;->log(Ljava/lang/String;)V
-    :try_end_b0
-    .catchall {:try_start_96 .. :try_end_b0} :catchall_b8
+    :try_end_ad
+    .catchall {:try_start_93 .. :try_end_ad} :catchall_b5
 
     if-eqz v3, :cond_82
 
-    :try_start_b2
+    :try_start_af
     invoke-virtual {v3}, Ljava/io/BufferedWriter;->close()V
-    :try_end_b5
-    .catchall {:try_start_b2 .. :try_end_b5} :catchall_bf
-    .catch Ljava/io/IOException; {:try_start_b2 .. :try_end_b5} :catch_b6
+    :try_end_b2
+    .catchall {:try_start_af .. :try_end_b2} :catchall_bc
+    .catch Ljava/io/IOException; {:try_start_af .. :try_end_b2} :catch_b3
 
     goto :goto_82
 
-    :catch_b6
+    :catch_b3
     move-exception v7
 
     goto :goto_82
 
-    :catchall_b8
+    :catchall_b5
     move-exception v7
 
-    :goto_b9
-    if-eqz v3, :cond_be
+    :goto_b6
+    if-eqz v3, :cond_bb
 
-    :try_start_bb
+    :try_start_b8
     invoke-virtual {v3}, Ljava/io/BufferedWriter;->close()V
-    :try_end_be
-    .catchall {:try_start_bb .. :try_end_be} :catchall_bf
-    .catch Ljava/io/IOException; {:try_start_bb .. :try_end_be} :catch_c4
+    :try_end_bb
+    .catchall {:try_start_b8 .. :try_end_bb} :catchall_bc
+    .catch Ljava/io/IOException; {:try_start_b8 .. :try_end_bb} :catch_bf
 
-    :cond_be
-    :goto_be
-    :try_start_be
+    :cond_bb
+    :goto_bb
+    :try_start_bb
     throw v7
 
-    :catchall_bf
+    :catchall_bc
     move-exception v7
 
     monitor-exit v8
-    :try_end_c1
-    .catchall {:try_start_be .. :try_end_c1} :catchall_bf
+    :try_end_be
+    .catchall {:try_start_bb .. :try_end_be} :catchall_bc
 
     throw v7
 
-    :catch_c2
-    move-exception v7
+    :catch_bf
+    move-exception v9
 
-    goto :goto_82
+    goto :goto_bb
 
-    :catch_c4
-    move-exception v9
+    :catch_c1
+    move-exception v7
 
-    goto :goto_be
+    goto :goto_90
 
-    :catchall_c6
+    :catchall_c3
     move-exception v7
 
     move-object v3, v4
 
-    goto :goto_b9
+    goto :goto_b6
 
-    :catch_c9
+    :catch_c6
     move-exception v1
 
     move-object v3, v4
 
-    goto :goto_96
+    goto :goto_93
 
-    :catch_cc
+    :catch_c9
     move-exception v1
 
     goto :goto_63
-
-    :cond_ce
-    move-object v3, v4
-
-    goto :goto_82
 .end method
diff -Npru stock_framework/smali/android/service/textservice/SpellCheckerService$InternalISpellCheckerSession.smali pdroid_framework/smali/android/service/textservice/SpellCheckerService$InternalISpellCheckerSession.smali
--- stock_framework/smali/android/service/textservice/SpellCheckerService$InternalISpellCheckerSession.smali	2012-07-02 22:51:57.064034883 -0700
+++ pdroid_framework/smali/android/service/textservice/SpellCheckerService$InternalISpellCheckerSession.smali	2012-07-02 22:52:43.390134418 -0700
@@ -161,25 +161,23 @@
 
     invoke-interface {v1, v2}, Lcom/android/internal/textservice/ISpellCheckerSessionListener;->onGetSuggestions([Landroid/view/textservice/SuggestionsInfo;)V
     :try_end_18
-    .catchall {:try_start_a .. :try_end_18} :catchall_21
-    .catch Landroid/os/RemoteException; {:try_start_a .. :try_end_18} :catch_1c
+    .catchall {:try_start_a .. :try_end_18} :catchall_1c
+    .catch Landroid/os/RemoteException; {:try_start_a .. :try_end_18} :catch_21
 
+    :goto_18
     invoke-static {v0}, Landroid/os/Process;->setThreadPriority(I)V
 
-    :goto_1b
     return-void
 
-    :catch_1c
+    :catchall_1c
     move-exception v1
 
     invoke-static {v0}, Landroid/os/Process;->setThreadPriority(I)V
 
-    goto :goto_1b
+    throw v1
 
-    :catchall_21
+    :catch_21
     move-exception v1
 
-    invoke-static {v0}, Landroid/os/Process;->setThreadPriority(I)V
-
-    throw v1
+    goto :goto_18
 .end method
diff -Npru stock_framework/smali/android/service/wallpaper/WallpaperService$Engine.smali pdroid_framework/smali/android/service/wallpaper/WallpaperService$Engine.smali
--- stock_framework/smali/android/service/wallpaper/WallpaperService$Engine.smali	2012-07-02 22:51:57.097042792 -0700
+++ pdroid_framework/smali/android/service/wallpaper/WallpaperService$Engine.smali	2012-07-02 22:52:43.415140409 -0700
@@ -936,7 +936,7 @@
     :try_start_111
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
-    const-string v0, "mPendingXOffset="
+    const-string/jumbo v0, "mPendingXOffset="
 
     invoke-virtual {p3, v0}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
@@ -954,7 +954,7 @@
 
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
-    const-string v0, "mPendingXOffsetStep="
+    const-string/jumbo v0, "mPendingXOffsetStep="
 
     invoke-virtual {p3, v0}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
@@ -990,11 +990,11 @@
 
     iget-object v0, p0, Landroid/service/wallpaper/WallpaperService$Engine;->mPendingMove:Landroid/view/MotionEvent;
 
-    if-eqz v0, :cond_167
+    if-eqz v0, :cond_16a
 
     invoke-virtual {p3, p1}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
-    const-string v0, "mPendingMove="
+    const-string/jumbo v0, "mPendingMove="
 
     invoke-virtual {p3, v0}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V
 
@@ -1002,17 +1002,17 @@
 
     invoke-virtual {p3, v0}, Ljava/io/PrintWriter;->println(Ljava/lang/Object;)V
 
-    :cond_167
+    :cond_16a
     monitor-exit v1
 
     return-void
 
-    :catchall_169
+    :catchall_16c
     move-exception v0
 
     monitor-exit v1
-    :try_end_16b
-    .catchall {:try_start_111 .. :try_end_16b} :catchall_169
+    :try_end_16e
+    .catchall {:try_start_111 .. :try_end_16e} :catchall_16c
 
     throw v0
 .end method
diff -Npru stock_framework/smali/android/telephony/PhoneStateListener$1.smali pdroid_framework/smali/android/telephony/PhoneStateListener$1.smali
--- stock_framework/smali/android/telephony/PhoneStateListener$1.smali	2012-07-02 22:51:57.283087368 -0700
+++ pdroid_framework/smali/android/telephony/PhoneStateListener$1.smali	2012-07-02 22:52:43.576178993 -0700
@@ -64,47 +64,317 @@
 .end method
 
 .method public onCallStateChanged(ILjava/lang/String;)V
-    .registers 6
+    .registers 19
 
-    iget-object v0, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+    move-object/from16 v0, p0
 
-    iget-object v0, v0, Landroid/telephony/PhoneStateListener;->mHandler:Landroid/os/Handler;
+    iget-object v3, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
 
-    const/16 v1, 0x20
+    #getter for: Landroid/telephony/PhoneStateListener;->context:Landroid/content/Context;
+    invoke-static {v3}, Landroid/telephony/PhoneStateListener;->access$000(Landroid/telephony/PhoneStateListener;)Landroid/content/Context;
 
-    const/4 v2, 0x0
+    move-result-object v3
 
-    invoke-static {v0, v1, p1, v2, p2}, Landroid/os/Message;->obtain(Landroid/os/Handler;IIILjava/lang/Object;)Landroid/os/Message;
+    if-eqz v3, :cond_99
 
-    move-result-object v0
+    if-eqz p2, :cond_99
 
-    invoke-virtual {v0}, Landroid/os/Message;->sendToTarget()V
+    invoke-virtual/range {p2 .. p2}, Ljava/lang/String;->isEmpty()Z
+
+    move-result v3
+
+    if-nez v3, :cond_99
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->context:Landroid/content/Context;
+    invoke-static {v3}, Landroid/telephony/PhoneStateListener;->access$000(Landroid/telephony/PhoneStateListener;)Landroid/content/Context;
+
+    move-result-object v3
+
+    const-string/jumbo v4, "privacy"
+
+    invoke-virtual {v3, v4}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;
+
+    move-result-object v2
+
+    check-cast v2, Landroid/privacy/PrivacySettingsManager;
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->packageName:Ljava/lang/String;
+    invoke-static {v3}, Landroid/telephony/PhoneStateListener;->access$100(Landroid/telephony/PhoneStateListener;)Ljava/lang/String;
+
+    move-result-object v3
+
+    move-object/from16 v0, p0
+
+    iget-object v4, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->uid:I
+    invoke-static {v4}, Landroid/telephony/PhoneStateListener;->access$200(Landroid/telephony/PhoneStateListener;)I
+
+    move-result v4
+
+    invoke-virtual {v2, v3, v4}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v8
+
+    if-eqz v8, :cond_6a
+
+    invoke-virtual {v8}, Landroid/privacy/PrivacySettings;->getIncomingCallsSetting()B
+
+    move-result v3
+
+    if-eqz v3, :cond_6a
+
+    const-string v7, ""
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    iget-object v3, v3, Landroid/telephony/PhoneStateListener;->mHandler:Landroid/os/Handler;
+
+    const/16 v4, 0x20
+
+    const/4 v5, 0x0
 
+    move/from16 v0, p1
+
+    invoke-static {v3, v4, v0, v5, v7}, Landroid/os/Message;->obtain(Landroid/os/Handler;IIILjava/lang/Object;)Landroid/os/Message;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Landroid/os/Message;->sendToTarget()V
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->packageName:Ljava/lang/String;
+    invoke-static {v3}, Landroid/telephony/PhoneStateListener;->access$100(Landroid/telephony/PhoneStateListener;)Ljava/lang/String;
+
+    move-result-object v3
+
+    move-object/from16 v0, p0
+
+    iget-object v4, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->uid:I
+    invoke-static {v4}, Landroid/telephony/PhoneStateListener;->access$200(Landroid/telephony/PhoneStateListener;)I
+
+    move-result v4
+
+    const/4 v5, 0x1
+
+    const-string v6, "incomingCall"
+
+    invoke-virtual/range {v2 .. v8}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :goto_69
     return-void
+
+    :cond_6a
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    iget-object v3, v3, Landroid/telephony/PhoneStateListener;->mHandler:Landroid/os/Handler;
+
+    const/16 v4, 0x20
+
+    const/4 v5, 0x0
+
+    move/from16 v0, p1
+
+    move-object/from16 v1, p2
+
+    invoke-static {v3, v4, v0, v5, v1}, Landroid/os/Message;->obtain(Landroid/os/Handler;IIILjava/lang/Object;)Landroid/os/Message;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Landroid/os/Message;->sendToTarget()V
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->packageName:Ljava/lang/String;
+    invoke-static {v3}, Landroid/telephony/PhoneStateListener;->access$100(Landroid/telephony/PhoneStateListener;)Ljava/lang/String;
+
+    move-result-object v10
+
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->uid:I
+    invoke-static {v3}, Landroid/telephony/PhoneStateListener;->access$200(Landroid/telephony/PhoneStateListener;)I
+
+    move-result v11
+
+    const/4 v12, 0x0
+
+    const-string v13, "incomingCall"
+
+    move-object v9, v2
+
+    move-object/from16 v14, p2
+
+    move-object v15, v8
+
+    invoke-virtual/range {v9 .. v15}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_69
+
+    :cond_99
+    move-object/from16 v0, p0
+
+    iget-object v3, v0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    iget-object v3, v3, Landroid/telephony/PhoneStateListener;->mHandler:Landroid/os/Handler;
+
+    const/16 v4, 0x20
+
+    const/4 v5, 0x0
+
+    move/from16 v0, p1
+
+    move-object/from16 v1, p2
+
+    invoke-static {v3, v4, v0, v5, v1}, Landroid/os/Message;->obtain(Landroid/os/Handler;IIILjava/lang/Object;)Landroid/os/Message;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Landroid/os/Message;->sendToTarget()V
+
+    goto :goto_69
 .end method
 
 .method public onCellLocationChanged(Landroid/os/Bundle;)V
-    .registers 6
+    .registers 10
+
+    const/4 v5, 0x0
 
     const/4 v3, 0x0
 
     invoke-static {p1}, Landroid/telephony/CellLocation;->newFromBundle(Landroid/os/Bundle;)Landroid/telephony/CellLocation;
 
+    move-result-object v7
+
+    iget-object v1, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->context:Landroid/content/Context;
+    invoke-static {v1}, Landroid/telephony/PhoneStateListener;->access$000(Landroid/telephony/PhoneStateListener;)Landroid/content/Context;
+
+    move-result-object v1
+
+    if-eqz v1, :cond_4a
+
+    iget-object v1, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->context:Landroid/content/Context;
+    invoke-static {v1}, Landroid/telephony/PhoneStateListener;->access$000(Landroid/telephony/PhoneStateListener;)Landroid/content/Context;
+
+    move-result-object v1
+
+    const-string/jumbo v2, "privacy"
+
+    invoke-virtual {v1, v2}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;
+
     move-result-object v0
 
+    check-cast v0, Landroid/privacy/PrivacySettingsManager;
+
+    iget-object v1, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->packageName:Ljava/lang/String;
+    invoke-static {v1}, Landroid/telephony/PhoneStateListener;->access$100(Landroid/telephony/PhoneStateListener;)Ljava/lang/String;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->uid:I
+    invoke-static {v2}, Landroid/telephony/PhoneStateListener;->access$200(Landroid/telephony/PhoneStateListener;)I
+
+    move-result v2
+
+    invoke-virtual {v0, v1, v2}, Landroid/privacy/PrivacySettingsManager;->getSettings(Ljava/lang/String;I)Landroid/privacy/PrivacySettings;
+
+    move-result-object v6
+
+    if-eqz v6, :cond_4b
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v1
+
+    if-eqz v1, :cond_4b
+
+    iget-object v1, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->packageName:Ljava/lang/String;
+    invoke-static {v1}, Landroid/telephony/PhoneStateListener;->access$100(Landroid/telephony/PhoneStateListener;)Ljava/lang/String;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->uid:I
+    invoke-static {v2}, Landroid/telephony/PhoneStateListener;->access$200(Landroid/telephony/PhoneStateListener;)I
+
+    move-result v2
+
+    invoke-virtual {v6}, Landroid/privacy/PrivacySettings;->getLocationNetworkSetting()B
+
+    move-result v3
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    :cond_4a
+    :goto_4a
+    return-void
+
+    :cond_4b
     iget-object v1, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
 
     iget-object v1, v1, Landroid/telephony/PhoneStateListener;->mHandler:Landroid/os/Handler;
 
     const/16 v2, 0x10
 
-    invoke-static {v1, v2, v3, v3, v0}, Landroid/os/Message;->obtain(Landroid/os/Handler;IIILjava/lang/Object;)Landroid/os/Message;
+    invoke-static {v1, v2, v3, v3, v7}, Landroid/os/Message;->obtain(Landroid/os/Handler;IIILjava/lang/Object;)Landroid/os/Message;
 
     move-result-object v1
 
     invoke-virtual {v1}, Landroid/os/Message;->sendToTarget()V
 
-    return-void
+    iget-object v1, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->packageName:Ljava/lang/String;
+    invoke-static {v1}, Landroid/telephony/PhoneStateListener;->access$100(Landroid/telephony/PhoneStateListener;)Ljava/lang/String;
+
+    move-result-object v1
+
+    iget-object v2, p0, Landroid/telephony/PhoneStateListener$1;->this$0:Landroid/telephony/PhoneStateListener;
+
+    #getter for: Landroid/telephony/PhoneStateListener;->uid:I
+    invoke-static {v2}, Landroid/telephony/PhoneStateListener;->access$200(Landroid/telephony/PhoneStateListener;)I
+
+    move-result v2
+
+    const-string v4, "locationNetwork"
+
+    invoke-virtual/range {v0 .. v6}, Landroid/privacy/PrivacySettingsManager;->notification(Ljava/lang/String;IBLjava/lang/String;Ljava/lang/String;Landroid/privacy/PrivacySettings;)V
+
+    goto :goto_4a
 .end method
 
 .method public onDataActivity(I)V
diff -Npru stock_framework/smali/android/telephony/PhoneStateListener.smali pdroid_framework/smali/android/telephony/PhoneStateListener.smali
--- stock_framework/smali/android/telephony/PhoneStateListener.smali	2012-07-02 22:51:54.888513631 -0700
+++ pdroid_framework/smali/android/telephony/PhoneStateListener.smali	2012-07-02 22:52:40.324399890 -0700
@@ -29,12 +29,20 @@
 
 .field public static final LISTEN_SIGNAL_STRENGTHS:I = 0x100
 
+.field private static final TAG:Ljava/lang/String; = "PhoneStateListener"
+
 
 # instance fields
 .field callback:Lcom/android/internal/telephony/IPhoneStateListener;
 
+.field private context:Landroid/content/Context;
+
 .field mHandler:Landroid/os/Handler;
 
+.field private packageName:Ljava/lang/String;
+
+.field private uid:I
+
 
 # direct methods
 .method public constructor <init>()V
@@ -57,6 +65,30 @@
     return-void
 .end method
 
+.method static synthetic access$000(Landroid/telephony/PhoneStateListener;)Landroid/content/Context;
+    .registers 2
+
+    iget-object v0, p0, Landroid/telephony/PhoneStateListener;->context:Landroid/content/Context;
+
+    return-object v0
+.end method
+
+.method static synthetic access$100(Landroid/telephony/PhoneStateListener;)Ljava/lang/String;
+    .registers 2
+
+    iget-object v0, p0, Landroid/telephony/PhoneStateListener;->packageName:Ljava/lang/String;
+
+    return-object v0
+.end method
+
+.method static synthetic access$200(Landroid/telephony/PhoneStateListener;)I
+    .registers 2
+
+    iget v0, p0, Landroid/telephony/PhoneStateListener;->uid:I
+
+    return v0
+.end method
+
 
 # virtual methods
 .method public onCallForwardingIndicatorChanged(Z)V
@@ -126,3 +158,27 @@
 
     return-void
 .end method
+
+.method public setContext(Landroid/content/Context;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/telephony/PhoneStateListener;->context:Landroid/content/Context;
+
+    return-void
+.end method
+
+.method public setPackageName(Ljava/lang/String;)V
+    .registers 2
+
+    iput-object p1, p0, Landroid/telephony/PhoneStateListener;->packageName:Ljava/lang/String;
+
+    return-void
+.end method
+
+.method public setUid(I)V
+    .registers 2
+
+    iput p1, p0, Landroid/telephony/PhoneStateListener;->uid:I
+
+    return-void
+.end method
diff -Npru stock_framework/smali/android/view/accessibility/AccessibilityManager.smali pdroid_framework/smali/android/view/accessibility/AccessibilityManager.smali
--- stock_framework/smali/android/view/accessibility/AccessibilityManager.smali	2012-07-02 22:51:58.079278133 -0700
+++ pdroid_framework/smali/android/view/accessibility/AccessibilityManager.smali	2012-07-02 22:52:44.523405940 -0700
@@ -637,15 +637,15 @@
 
     invoke-static {v1, v2}, Landroid/os/Binder;->restoreCallingIdentity(J)V
     :try_end_21
-    .catchall {:try_start_d .. :try_end_21} :catchall_4c
+    .catchall {:try_start_d .. :try_end_21} :catchall_49
     .catch Landroid/os/RemoteException; {:try_start_d .. :try_end_21} :catch_27
 
     if-eqz v0, :cond_26
 
+    :goto_23
     invoke-virtual {p1}, Landroid/view/accessibility/AccessibilityEvent;->recycle()V
 
     :cond_26
-    :goto_26
     return-void
 
     :catch_27
@@ -680,21 +680,19 @@
 
     invoke-static {v4, v5, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_46
-    .catchall {:try_start_28 .. :try_end_46} :catchall_4c
+    .catchall {:try_start_28 .. :try_end_46} :catchall_49
 
     if-eqz v0, :cond_26
 
-    invoke-virtual {p1}, Landroid/view/accessibility/AccessibilityEvent;->recycle()V
-
-    goto :goto_26
+    goto :goto_23
 
-    :catchall_4c
+    :catchall_49
     move-exception v4
 
-    if-eqz v0, :cond_52
+    if-eqz v0, :cond_4f
 
     invoke-virtual {p1}, Landroid/view/accessibility/AccessibilityEvent;->recycle()V
 
-    :cond_52
+    :cond_4f
     throw v4
 .end method
diff -Npru stock_framework/smali/android/view/SurfaceView.smali pdroid_framework/smali/android/view/SurfaceView.smali
--- stock_framework/smali/android/view/SurfaceView.smali	2012-07-02 22:51:55.930763353 -0700
+++ pdroid_framework/smali/android/view/SurfaceView.smali	2012-07-02 22:52:41.873771108 -0700
@@ -1342,7 +1342,7 @@
 
     invoke-interface {v0, v3}, Landroid/view/SurfaceHolder$Callback;->surfaceDestroyed(Landroid/view/SurfaceHolder;)V
     :try_end_29b
-    .catchall {:try_start_262 .. :try_end_29b} :catchall_3c6
+    .catchall {:try_start_262 .. :try_end_29b} :catchall_3a7
 
     add-int/lit8 v22, v22, 0x1
 
@@ -1486,7 +1486,7 @@
 
     invoke-virtual {v3, v4}, Landroid/view/Surface;->transferFrom(Landroid/view/Surface;)V
 
-    if-eqz v34, :cond_3a7
+    if-eqz v34, :cond_3c6
 
     move-object/from16 v0, p0
 
@@ -1608,7 +1608,7 @@
     goto :goto_35e
 
     :cond_37a
-    if-eqz p2, :cond_3a7
+    if-eqz p2, :cond_3c6
 
     if-nez v19, :cond_382
 
@@ -1632,7 +1632,7 @@
 
     move/from16 v1, v23
 
-    if-ge v0, v1, :cond_3a7
+    if-ge v0, v1, :cond_3c6
 
     aget-object v18, v17, v22
 
@@ -1652,81 +1652,81 @@
 
     invoke-interface {v0, v3}, Landroid/view/SurfaceHolder$Callback2;->surfaceRedrawNeeded(Landroid/view/SurfaceHolder;)V
     :try_end_3a4
-    .catchall {:try_start_301 .. :try_end_3a4} :catchall_3c6
+    .catchall {:try_start_301 .. :try_end_3a4} :catchall_3a7
 
     :cond_3a4
     add-int/lit8 v22, v22, 0x1
 
     goto :goto_38b
 
-    :cond_3a7
-    const/4 v3, 0x0
+    :catchall_3a7
+    move-exception v3
 
-    :try_start_3a8
+    const/4 v4, 0x0
+
+    :try_start_3a9
     move-object/from16 v0, p0
 
-    iput-boolean v3, v0, Landroid/view/SurfaceView;->mIsCreating:Z
+    iput-boolean v4, v0, Landroid/view/SurfaceView;->mIsCreating:Z
 
-    if-eqz p2, :cond_3b9
+    if-eqz p2, :cond_3ba
 
     move-object/from16 v0, p0
 
-    iget-object v3, v0, Landroid/view/SurfaceView;->mSession:Landroid/view/IWindowSession;
+    iget-object v4, v0, Landroid/view/SurfaceView;->mSession:Landroid/view/IWindowSession;
 
     move-object/from16 v0, p0
 
-    iget-object v4, v0, Landroid/view/SurfaceView;->mWindow:Landroid/view/SurfaceView$MyWindow;
+    iget-object v5, v0, Landroid/view/SurfaceView;->mWindow:Landroid/view/SurfaceView$MyWindow;
 
-    invoke-interface {v3, v4}, Landroid/view/IWindowSession;->finishDrawing(Landroid/view/IWindow;)V
+    invoke-interface {v4, v5}, Landroid/view/IWindowSession;->finishDrawing(Landroid/view/IWindow;)V
 
-    :cond_3b9
+    :cond_3ba
     move-object/from16 v0, p0
 
-    iget-object v3, v0, Landroid/view/SurfaceView;->mSession:Landroid/view/IWindowSession;
+    iget-object v4, v0, Landroid/view/SurfaceView;->mSession:Landroid/view/IWindowSession;
 
     move-object/from16 v0, p0
 
-    iget-object v4, v0, Landroid/view/SurfaceView;->mWindow:Landroid/view/SurfaceView$MyWindow;
-
-    invoke-interface {v3, v4}, Landroid/view/IWindowSession;->performDeferredDestroy(Landroid/view/IWindow;)V
+    iget-object v5, v0, Landroid/view/SurfaceView;->mWindow:Landroid/view/SurfaceView$MyWindow;
 
-    goto/16 :goto_6
+    invoke-interface {v4, v5}, Landroid/view/IWindowSession;->performDeferredDestroy(Landroid/view/IWindow;)V
 
-    :catchall_3c6
-    move-exception v3
+    throw v3
 
-    const/4 v4, 0x0
+    :cond_3c6
+    const/4 v3, 0x0
 
     move-object/from16 v0, p0
 
-    iput-boolean v4, v0, Landroid/view/SurfaceView;->mIsCreating:Z
+    iput-boolean v3, v0, Landroid/view/SurfaceView;->mIsCreating:Z
 
-    if-eqz p2, :cond_3d9
+    if-eqz p2, :cond_3d8
 
     move-object/from16 v0, p0
 
-    iget-object v4, v0, Landroid/view/SurfaceView;->mSession:Landroid/view/IWindowSession;
+    iget-object v3, v0, Landroid/view/SurfaceView;->mSession:Landroid/view/IWindowSession;
 
     move-object/from16 v0, p0
 
-    iget-object v5, v0, Landroid/view/SurfaceView;->mWindow:Landroid/view/SurfaceView$MyWindow;
+    iget-object v4, v0, Landroid/view/SurfaceView;->mWindow:Landroid/view/SurfaceView$MyWindow;
 
-    invoke-interface {v4, v5}, Landroid/view/IWindowSession;->finishDrawing(Landroid/view/IWindow;)V
+    invoke-interface {v3, v4}, Landroid/view/IWindowSession;->finishDrawing(Landroid/view/IWindow;)V
 
-    :cond_3d9
+    :cond_3d8
     move-object/from16 v0, p0
 
-    iget-object v4, v0, Landroid/view/SurfaceView;->mSession:Landroid/view/IWindowSession;
+    iget-object v3, v0, Landroid/view/SurfaceView;->mSession:Landroid/view/IWindowSession;
 
     move-object/from16 v0, p0
 
-    iget-object v5, v0, Landroid/view/SurfaceView;->mWindow:Landroid/view/SurfaceView$MyWindow;
+    iget-object v4, v0, Landroid/view/SurfaceView;->mWindow:Landroid/view/SurfaceView$MyWindow;
 
-    invoke-interface {v4, v5}, Landroid/view/IWindowSession;->performDeferredDestroy(Landroid/view/IWindow;)V
+    invoke-interface {v3, v4}, Landroid/view/IWindowSession;->performDeferredDestroy(Landroid/view/IWindow;)V
+    :try_end_3e3
+    .catch Landroid/os/RemoteException; {:try_start_3a9 .. :try_end_3e3} :catch_2f6
 
-    throw v3
-    :try_end_3e5
-    .catch Landroid/os/RemoteException; {:try_start_3a8 .. :try_end_3e5} :catch_2f6
+    goto/16 :goto_6
 .end method
 
 
diff -Npru stock_framework/smali/android/view/ViewRootImpl$AccessibilityInteractionController.smali pdroid_framework/smali/android/view/ViewRootImpl$AccessibilityInteractionController.smali
--- stock_framework/smali/android/view/ViewRootImpl$AccessibilityInteractionController.smali	2012-07-02 22:51:57.955248415 -0700
+++ pdroid_framework/smali/android/view/ViewRootImpl$AccessibilityInteractionController.smali	2012-07-02 22:52:44.389373827 -0700
@@ -364,7 +364,7 @@
     :try_start_13
     invoke-interface {v1, v2, v3}, Landroid/view/accessibility/IAccessibilityInteractionConnectionCallback;->setFindAccessibilityNodeInfoResult(Landroid/view/accessibility/AccessibilityNodeInfo;I)V
     :try_end_16
-    .catch Landroid/os/RemoteException; {:try_start_13 .. :try_end_16} :catch_1c
+    .catch Landroid/os/RemoteException; {:try_start_13 .. :try_end_16} :catch_1e
 
     :goto_16
     return-void
@@ -375,20 +375,20 @@
     :try_start_18
     invoke-interface {v1, v2, v3}, Landroid/view/accessibility/IAccessibilityInteractionConnectionCallback;->setFindAccessibilityNodeInfoResult(Landroid/view/accessibility/AccessibilityNodeInfo;I)V
     :try_end_1b
-    .catch Landroid/os/RemoteException; {:try_start_18 .. :try_end_1b} :catch_1e
+    .catch Landroid/os/RemoteException; {:try_start_18 .. :try_end_1b} :catch_1c
 
     :goto_1b
     throw v5
 
     :catch_1c
-    move-exception v5
+    move-exception v6
 
-    goto :goto_16
+    goto :goto_1b
 
     :catch_1e
-    move-exception v6
+    move-exception v5
 
-    goto :goto_1b
+    goto :goto_16
 .end method
 
 .method public findAccessibilityNodeInfoByViewIdClientThread(IILandroid/view/accessibility/IAccessibilityInteractionConnectionCallback;IJ)V
@@ -491,7 +491,7 @@
     :try_start_1d
     invoke-interface {v0, v1, v2}, Landroid/view/accessibility/IAccessibilityInteractionConnectionCallback;->setFindAccessibilityNodeInfoResult(Landroid/view/accessibility/AccessibilityNodeInfo;I)V
     :try_end_20
-    .catch Landroid/os/RemoteException; {:try_start_1d .. :try_end_20} :catch_26
+    .catch Landroid/os/RemoteException; {:try_start_1d .. :try_end_20} :catch_28
 
     :goto_20
     return-void
@@ -502,20 +502,20 @@
     :try_start_22
     invoke-interface {v0, v1, v2}, Landroid/view/accessibility/IAccessibilityInteractionConnectionCallback;->setFindAccessibilityNodeInfoResult(Landroid/view/accessibility/AccessibilityNodeInfo;I)V
     :try_end_25
-    .catch Landroid/os/RemoteException; {:try_start_22 .. :try_end_25} :catch_28
+    .catch Landroid/os/RemoteException; {:try_start_22 .. :try_end_25} :catch_26
 
     :goto_25
     throw v6
 
     :catch_26
-    move-exception v6
+    move-exception v7
 
-    goto :goto_20
+    goto :goto_25
 
     :catch_28
-    move-exception v7
+    move-exception v6
 
-    goto :goto_25
+    goto :goto_20
 .end method
 
 .method public findAccessibilityNodeInfosByViewTextClientThread(Ljava/lang/String;IILandroid/view/accessibility/IAccessibilityInteractionConnectionCallback;IJ)V
@@ -639,7 +639,7 @@
 
     invoke-virtual {v8}, Landroid/view/View;->getVisibility()I
     :try_end_2c
-    .catchall {:try_start_16 .. :try_end_2c} :catchall_70
+    .catchall {:try_start_16 .. :try_end_2c} :catchall_6a
 
     move-result v11
 
@@ -649,7 +649,7 @@
     :try_start_2f
     invoke-interface {v2, v6, v7}, Landroid/view/accessibility/IAccessibilityInteractionConnectionCallback;->setFindAccessibilityNodeInfosResult(Ljava/util/List;I)V
     :try_end_32
-    .catch Landroid/os/RemoteException; {:try_start_2f .. :try_end_32} :catch_75
+    .catch Landroid/os/RemoteException; {:try_start_2f .. :try_end_32} :catch_46
 
     :goto_32
     return-void
@@ -669,7 +669,7 @@
 
     invoke-virtual {v4}, Ljava/util/ArrayList;->isEmpty()Z
     :try_end_3f
-    .catchall {:try_start_33 .. :try_end_3f} :catchall_70
+    .catchall {:try_start_33 .. :try_end_3f} :catchall_6a
 
     move-result v11
 
@@ -700,7 +700,7 @@
     const/4 v5, 0x0
 
     :goto_52
-    if-ge v5, v10, :cond_6a
+    if-ge v5, v10, :cond_71
 
     invoke-virtual {v4, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;
 
@@ -720,46 +720,36 @@
 
     invoke-interface {v6, v11}, Ljava/util/List;->add(Ljava/lang/Object;)Z
     :try_end_67
-    .catchall {:try_start_48 .. :try_end_67} :catchall_70
+    .catchall {:try_start_48 .. :try_end_67} :catchall_6a
 
     :cond_67
     add-int/lit8 v5, v5, 0x1
 
     goto :goto_52
 
-    :cond_6a
-    :try_start_6a
-    invoke-interface {v2, v6, v7}, Landroid/view/accessibility/IAccessibilityInteractionConnectionCallback;->setFindAccessibilityNodeInfosResult(Ljava/util/List;I)V
-    :try_end_6d
-    .catch Landroid/os/RemoteException; {:try_start_6a .. :try_end_6d} :catch_6e
+    :catchall_6a
+    move-exception v11
 
-    goto :goto_32
+    :try_start_6b
+    invoke-interface {v2, v6, v7}, Landroid/view/accessibility/IAccessibilityInteractionConnectionCallback;->setFindAccessibilityNodeInfosResult(Ljava/util/List;I)V
+    :try_end_6e
+    .catch Landroid/os/RemoteException; {:try_start_6b .. :try_end_6e} :catch_6f
 
-    :catch_6e
-    move-exception v11
+    :goto_6e
+    throw v11
 
-    goto :goto_32
+    :catch_6f
+    move-exception v12
 
-    :catchall_70
-    move-exception v11
+    goto :goto_6e
 
+    :cond_71
     :try_start_71
     invoke-interface {v2, v6, v7}, Landroid/view/accessibility/IAccessibilityInteractionConnectionCallback;->setFindAccessibilityNodeInfosResult(Ljava/util/List;I)V
     :try_end_74
-    .catch Landroid/os/RemoteException; {:try_start_71 .. :try_end_74} :catch_77
-
-    :goto_74
-    throw v11
-
-    :catch_75
-    move-exception v11
+    .catch Landroid/os/RemoteException; {:try_start_71 .. :try_end_74} :catch_46
 
     goto :goto_32
-
-    :catch_77
-    move-exception v12
-
-    goto :goto_74
 .end method
 
 .method public performAccessibilityActionClientThread(IIILandroid/view/accessibility/IAccessibilityInteractionConnectionCallback;IJ)V
@@ -864,7 +854,7 @@
     :try_start_17
     invoke-interface {v3, v5, v4}, Landroid/view/accessibility/IAccessibilityInteractionConnectionCallback;->setPerformAccessibilityActionResult(ZI)V
     :try_end_1a
-    .catch Landroid/os/RemoteException; {:try_start_17 .. :try_end_1a} :catch_34
+    .catch Landroid/os/RemoteException; {:try_start_17 .. :try_end_1a} :catch_36
 
     :goto_1a
     return-void
@@ -906,20 +896,20 @@
     :try_start_30
     invoke-interface {v3, v5, v4}, Landroid/view/accessibility/IAccessibilityInteractionConnectionCallback;->setPerformAccessibilityActionResult(ZI)V
     :try_end_33
-    .catch Landroid/os/RemoteException; {:try_start_30 .. :try_end_33} :catch_36
+    .catch Landroid/os/RemoteException; {:try_start_30 .. :try_end_33} :catch_34
 
     :goto_33
     throw v6
 
     :catch_34
-    move-exception v6
+    move-exception v7
 
-    goto :goto_1a
+    goto :goto_33
 
     :catch_36
-    move-exception v7
+    move-exception v6
 
-    goto :goto_33
+    goto :goto_1a
 
     :pswitch_data_38
     .packed-switch 0x1
diff -Npru stock_framework/smali/android/view/ViewRootImpl$W.smali pdroid_framework/smali/android/view/ViewRootImpl$W.smali
--- stock_framework/smali/android/view/ViewRootImpl$W.smali	2012-07-02 22:51:57.959249376 -0700
+++ pdroid_framework/smali/android/view/ViewRootImpl$W.smali	2012-07-02 22:52:44.410378861 -0700
@@ -301,21 +301,21 @@
 
     invoke-direct {v1, p3}, Landroid/os/ParcelFileDescriptor$AutoCloseOutputStream;-><init>(Landroid/os/ParcelFileDescriptor;)V
     :try_end_47
-    .catchall {:try_start_42 .. :try_end_47} :catchall_64
-    .catch Ljava/io/IOException; {:try_start_42 .. :try_end_47} :catch_55
+    .catchall {:try_start_42 .. :try_end_47} :catchall_5f
+    .catch Ljava/io/IOException; {:try_start_42 .. :try_end_47} :catch_50
 
     :try_start_47
     invoke-static {v3, p1, p2, v1}, Landroid/view/ViewDebug;->dispatchCommand(Landroid/view/View;Ljava/lang/String;Ljava/lang/String;Ljava/io/OutputStream;)V
     :try_end_4a
-    .catchall {:try_start_47 .. :try_end_4a} :catchall_70
-    .catch Ljava/io/IOException; {:try_start_47 .. :try_end_4a} :catch_73
+    .catchall {:try_start_47 .. :try_end_4a} :catchall_6d
+    .catch Ljava/io/IOException; {:try_start_47 .. :try_end_4a} :catch_70
 
     if-eqz v1, :cond_4f
 
     :try_start_4c
     invoke-virtual {v1}, Ljava/io/OutputStream;->close()V
     :try_end_4f
-    .catch Ljava/io/IOException; {:try_start_4c .. :try_end_4f} :catch_50
+    .catch Ljava/io/IOException; {:try_start_4c .. :try_end_4f} :catch_6b
 
     :cond_4f
     :goto_4f
@@ -324,70 +324,69 @@
     :catch_50
     move-exception v2
 
+    :goto_51
+    :try_start_51
     invoke-virtual {v2}, Ljava/io/IOException;->printStackTrace()V
-
-    goto :goto_4f
-
-    :catch_55
-    move-exception v2
-
-    :goto_56
-    :try_start_56
-    invoke-virtual {v2}, Ljava/io/IOException;->printStackTrace()V
-    :try_end_59
-    .catchall {:try_start_56 .. :try_end_59} :catchall_64
+    :try_end_54
+    .catchall {:try_start_51 .. :try_end_54} :catchall_5f
 
     if-eqz v0, :cond_4f
 
-    :try_start_5b
+    :try_start_56
     invoke-virtual {v0}, Ljava/io/OutputStream;->close()V
-    :try_end_5e
-    .catch Ljava/io/IOException; {:try_start_5b .. :try_end_5e} :catch_5f
+    :try_end_59
+    .catch Ljava/io/IOException; {:try_start_56 .. :try_end_59} :catch_5a
 
     goto :goto_4f
 
-    :catch_5f
+    :catch_5a
     move-exception v2
 
+    :goto_5b
     invoke-virtual {v2}, Ljava/io/IOException;->printStackTrace()V
 
     goto :goto_4f
 
-    :catchall_64
+    :catchall_5f
     move-exception v5
 
-    :goto_65
-    if-eqz v0, :cond_6a
+    :goto_60
+    if-eqz v0, :cond_65
 
-    :try_start_67
+    :try_start_62
     invoke-virtual {v0}, Ljava/io/OutputStream;->close()V
-    :try_end_6a
-    .catch Ljava/io/IOException; {:try_start_67 .. :try_end_6a} :catch_6b
+    :try_end_65
+    .catch Ljava/io/IOException; {:try_start_62 .. :try_end_65} :catch_66
 
-    :cond_6a
-    :goto_6a
+    :cond_65
+    :goto_65
     throw v5
 
-    :catch_6b
+    :catch_66
     move-exception v2
 
     invoke-virtual {v2}, Ljava/io/IOException;->printStackTrace()V
 
-    goto :goto_6a
+    goto :goto_65
 
-    :catchall_70
+    :catch_6b
+    move-exception v2
+
+    goto :goto_5b
+
+    :catchall_6d
     move-exception v5
 
     move-object v0, v1
 
-    goto :goto_65
+    goto :goto_60
 
-    :catch_73
+    :catch_70
     move-exception v2
 
     move-object v0, v1
 
-    goto :goto_56
+    goto :goto_51
 .end method
 
 .method public resized(IILandroid/graphics/Rect;Landroid/graphics/Rect;ZLandroid/content/res/Configuration;)V
diff -Npru stock_framework/smali/android/webkit/HTML5VideoViewProxy$PosterDownloader.smali pdroid_framework/smali/android/webkit/HTML5VideoViewProxy$PosterDownloader.smali
--- stock_framework/smali/android/webkit/HTML5VideoViewProxy$PosterDownloader.smali	2012-07-02 22:51:58.409357219 -0700
+++ pdroid_framework/smali/android/webkit/HTML5VideoViewProxy$PosterDownloader.smali	2012-07-02 22:52:44.812475199 -0700
@@ -123,28 +123,26 @@
 
     invoke-virtual {v0}, Ljava/io/ByteArrayOutputStream;->close()V
     :try_end_a
-    .catchall {:try_start_5 .. :try_end_a} :catchall_11
-    .catch Ljava/io/IOException; {:try_start_5 .. :try_end_a} :catch_d
+    .catchall {:try_start_5 .. :try_end_a} :catchall_d
+    .catch Ljava/io/IOException; {:try_start_5 .. :try_end_a} :catch_11
 
+    :goto_a
     iput-object v1, p0, Landroid/webkit/HTML5VideoViewProxy$PosterDownloader;->mPosterBytes:Ljava/io/ByteArrayOutputStream;
 
     :cond_c
-    :goto_c
     return-void
 
-    :catch_d
+    :catchall_d
     move-exception v0
 
     iput-object v1, p0, Landroid/webkit/HTML5VideoViewProxy$PosterDownloader;->mPosterBytes:Ljava/io/ByteArrayOutputStream;
 
-    goto :goto_c
+    throw v0
 
-    :catchall_11
+    :catch_11
     move-exception v0
 
-    iput-object v1, p0, Landroid/webkit/HTML5VideoViewProxy$PosterDownloader;->mPosterBytes:Ljava/io/ByteArrayOutputStream;
-
-    throw v0
+    goto :goto_a
 .end method
 
 .method private releaseQueue()V
diff -Npru stock_framework/smali/android/webkit/WebIconDatabase$EventHandler.smali pdroid_framework/smali/android/webkit/WebIconDatabase$EventHandler.smali
--- stock_framework/smali/android/webkit/WebIconDatabase$EventHandler.smali	2012-07-02 22:51:58.483374954 -0700
+++ pdroid_framework/smali/android/webkit/WebIconDatabase$EventHandler.smali	2012-07-02 22:52:44.920501083 -0700
@@ -189,7 +189,7 @@
 
     invoke-interface {v6}, Landroid/database/Cursor;->moveToNext()Z
     :try_end_40
-    .catchall {:try_start_1e .. :try_end_40} :catchall_57
+    .catchall {:try_start_1e .. :try_end_40} :catchall_54
     .catch Ljava/lang/IllegalStateException; {:try_start_1e .. :try_end_40} :catch_49
 
     move-result v1
@@ -199,10 +199,10 @@
     :cond_43
     if-eqz v6, :cond_48
 
+    :goto_45
     invoke-interface {v6}, Landroid/database/Cursor;->close()V
 
     :cond_48
-    :goto_48
     return-void
 
     :catch_49
@@ -215,22 +215,20 @@
 
     invoke-static {v1, v2, v7}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_51
-    .catchall {:try_start_4a .. :try_end_51} :catchall_57
+    .catchall {:try_start_4a .. :try_end_51} :catchall_54
 
     if-eqz v6, :cond_48
 
-    invoke-interface {v6}, Landroid/database/Cursor;->close()V
-
-    goto :goto_48
+    goto :goto_45
 
-    :catchall_57
+    :catchall_54
     move-exception v1
 
-    if-eqz v6, :cond_5d
+    if-eqz v6, :cond_5a
 
     invoke-interface {v6}, Landroid/database/Cursor;->close()V
 
-    :cond_5d
+    :cond_5a
     throw v1
 .end method
 
diff -Npru stock_framework/smali/android/webkit/WebView$6.smali pdroid_framework/smali/android/webkit/WebView$6.smali
--- stock_framework/smali/android/webkit/WebView$6.smali	2012-07-02 22:51:58.518383342 -0700
+++ pdroid_framework/smali/android/webkit/WebView$6.smali	2012-07-02 22:52:44.974514022 -0700
@@ -58,8 +58,8 @@
 
     invoke-direct {v1, v2}, Ljava/io/FileOutputStream;-><init>(Ljava/io/File;)V
     :try_end_8
-    .catchall {:try_start_1 .. :try_end_8} :catchall_2c
-    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_8} :catch_20
+    .catchall {:try_start_1 .. :try_end_8} :catchall_20
+    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_8} :catch_2c
 
     :try_start_8
     iget-object v2, p0, Landroid/webkit/WebView$6;->val$p:Landroid/graphics/Picture;
@@ -80,7 +80,7 @@
     :try_start_16
     invoke-virtual {v1}, Ljava/io/FileOutputStream;->close()V
     :try_end_19
-    .catch Ljava/lang/Exception; {:try_start_16 .. :try_end_19} :catch_38
+    .catch Ljava/lang/Exception; {:try_start_16 .. :try_end_19} :catch_3c
 
     :cond_19
     :goto_19
@@ -93,7 +93,7 @@
     :goto_1f
     return-void
 
-    :catch_20
+    :catchall_20
     move-exception v2
 
     :goto_21
@@ -106,13 +106,13 @@
 
     :cond_26
     :goto_26
-    iget-object v2, p0, Landroid/webkit/WebView$6;->val$temp:Ljava/io/File;
+    iget-object v3, p0, Landroid/webkit/WebView$6;->val$temp:Ljava/io/File;
 
-    invoke-virtual {v2}, Ljava/io/File;->delete()Z
+    invoke-virtual {v3}, Ljava/io/File;->delete()Z
 
-    goto :goto_1f
+    throw v2
 
-    :catchall_2c
+    :catch_2c
     move-exception v2
 
     :goto_2d
@@ -121,42 +121,42 @@
     :try_start_2f
     invoke-virtual {v0}, Ljava/io/FileOutputStream;->close()V
     :try_end_32
-    .catch Ljava/lang/Exception; {:try_start_2f .. :try_end_32} :catch_3c
+    .catch Ljava/lang/Exception; {:try_start_2f .. :try_end_32} :catch_38
 
     :cond_32
     :goto_32
-    iget-object v3, p0, Landroid/webkit/WebView$6;->val$temp:Ljava/io/File;
+    iget-object v2, p0, Landroid/webkit/WebView$6;->val$temp:Ljava/io/File;
 
-    invoke-virtual {v3}, Ljava/io/File;->delete()Z
+    invoke-virtual {v2}, Ljava/io/File;->delete()Z
 
-    throw v2
+    goto :goto_1f
 
     :catch_38
     move-exception v2
 
-    goto :goto_19
+    goto :goto_32
 
     :catch_3a
-    move-exception v2
+    move-exception v3
 
     goto :goto_26
 
     :catch_3c
-    move-exception v3
+    move-exception v2
 
-    goto :goto_32
+    goto :goto_19
 
     :catchall_3e
     move-exception v2
 
     move-object v0, v1
 
-    goto :goto_2d
+    goto :goto_21
 
     :catch_41
     move-exception v2
 
     move-object v0, v1
 
-    goto :goto_21
+    goto :goto_2d
 .end method
diff -Npru stock_framework/smali/android/webkit/WebView$7.smali pdroid_framework/smali/android/webkit/WebView$7.smali
--- stock_framework/smali/android/webkit/WebView$7.smali	2012-07-02 22:51:58.525385019 -0700
+++ pdroid_framework/smali/android/webkit/WebView$7.smali	2012-07-02 22:52:44.974514022 -0700
@@ -72,7 +72,7 @@
 
     invoke-virtual {v1}, Ljava/io/FileInputStream;->close()V
     :try_end_19
-    .catch Ljava/lang/Exception; {:try_start_14 .. :try_end_19} :catch_23
+    .catch Ljava/lang/Exception; {:try_start_14 .. :try_end_19} :catch_21
 
     :goto_19
     return-void
@@ -85,18 +85,18 @@
 
     invoke-virtual {v2}, Ljava/io/FileInputStream;->close()V
     :try_end_20
-    .catch Ljava/lang/Exception; {:try_start_1b .. :try_end_20} :catch_21
+    .catch Ljava/lang/Exception; {:try_start_1b .. :try_end_20} :catch_23
 
     :goto_20
     throw v1
 
     :catch_21
-    move-exception v2
+    move-exception v1
 
-    goto :goto_20
+    goto :goto_19
 
     :catch_23
-    move-exception v1
+    move-exception v2
 
-    goto :goto_19
+    goto :goto_20
 .end method
diff -Npru stock_framework/smali/android/widget/ActivityChooserModel$HistoryLoader.smali pdroid_framework/smali/android/widget/ActivityChooserModel$HistoryLoader.smali
--- stock_framework/smali/android/widget/ActivityChooserModel$HistoryLoader.smali	2012-07-02 22:51:58.763442057 -0700
+++ pdroid_framework/smali/android/widget/ActivityChooserModel$HistoryLoader.smali	2012-07-02 22:52:45.363607246 -0700
@@ -140,7 +140,7 @@
 
     throw v21
     :try_end_51
-    .catchall {:try_start_19 .. :try_end_51} :catchall_15b
+    .catchall {:try_start_19 .. :try_end_51} :catchall_158
     .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_19 .. :try_end_51} :catch_51
     .catch Ljava/io/IOException; {:try_start_19 .. :try_end_51} :catch_ed
 
@@ -189,7 +189,7 @@
 
     invoke-static {v0, v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_7c
-    .catchall {:try_start_52 .. :try_end_7c} :catchall_15b
+    .catchall {:try_start_52 .. :try_end_7c} :catchall_158
 
     if-eqz v4, :cond_3c
 
@@ -238,7 +238,7 @@
 
     monitor-enter v22
     :try_end_a0
-    .catchall {:try_start_84 .. :try_end_a0} :catchall_15b
+    .catchall {:try_start_84 .. :try_end_a0} :catchall_158
     .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_84 .. :try_end_a0} :catch_51
     .catch Ljava/io/IOException; {:try_start_84 .. :try_end_a0} :catch_ed
 
@@ -267,7 +267,7 @@
     add-int/lit8 v9, v8, -0x1
 
     :goto_b7
-    if-ltz v9, :cond_162
+    if-ltz v9, :cond_15f
 
     invoke-interface {v7, v9}, Ljava/util/List;->get(I)Ljava/lang/Object;
 
@@ -279,7 +279,7 @@
 
     invoke-interface {v0, v6}, Ljava/util/Set;->add(Ljava/lang/Object;)Z
     :try_end_c4
-    .catchall {:try_start_a0 .. :try_end_c4} :catchall_1b3
+    .catchall {:try_start_a0 .. :try_end_c4} :catchall_1aa
 
     add-int/lit8 v9, v9, -0x1
 
@@ -315,7 +315,7 @@
 
     move-result v21
 
-    if-nez v21, :cond_120
+    if-nez v21, :cond_11d
 
     new-instance v21, Lorg/xmlpull/v1/XmlPullParserException;
 
@@ -325,7 +325,7 @@
 
     throw v21
     :try_end_ed
-    .catchall {:try_start_d7 .. :try_end_ed} :catchall_15b
+    .catchall {:try_start_d7 .. :try_end_ed} :catchall_158
     .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_d7 .. :try_end_ed} :catch_51
     .catch Ljava/io/IOException; {:try_start_d7 .. :try_end_ed} :catch_ed
 
@@ -372,26 +372,21 @@
 
     invoke-static {v0, v1, v10}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_116
-    .catchall {:try_start_ee .. :try_end_116} :catchall_15b
+    .catchall {:try_start_ee .. :try_end_116} :catchall_158
 
     if-eqz v4, :cond_3c
 
     :try_start_118
     invoke-virtual {v4}, Ljava/io/FileInputStream;->close()V
     :try_end_11b
-    .catch Ljava/io/IOException; {:try_start_118 .. :try_end_11b} :catch_11d
+    .catch Ljava/io/IOException; {:try_start_118 .. :try_end_11b} :catch_82
 
     goto/16 :goto_3c
 
-    :catch_11d
-    move-exception v21
-
-    goto/16 :goto_3c
-
-    :cond_120
+    :cond_11d
     const/16 v21, 0x0
 
-    :try_start_122
+    :try_start_11f
     const-string v22, "activity"
 
     move-object/from16 v0, v21
@@ -443,29 +438,29 @@
     invoke-direct {v13, v3, v0, v1, v2}, Landroid/widget/ActivityChooserModel$HistoricalRecord;-><init>(Ljava/lang/String;JF)V
 
     invoke-interface {v14, v13}, Ljava/util/List;->add(Ljava/lang/Object;)Z
-    :try_end_159
-    .catchall {:try_start_122 .. :try_end_159} :catchall_15b
-    .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_122 .. :try_end_159} :catch_51
-    .catch Ljava/io/IOException; {:try_start_122 .. :try_end_159} :catch_ed
+    :try_end_156
+    .catchall {:try_start_11f .. :try_end_156} :catchall_158
+    .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_11f .. :try_end_156} :catch_51
+    .catch Ljava/io/IOException; {:try_start_11f .. :try_end_156} :catch_ed
 
     goto/16 :goto_89
 
-    :catchall_15b
+    :catchall_158
     move-exception v21
 
-    if-eqz v4, :cond_161
+    if-eqz v4, :cond_15e
 
-    :try_start_15e
+    :try_start_15b
     invoke-virtual {v4}, Ljava/io/FileInputStream;->close()V
-    :try_end_161
-    .catch Ljava/io/IOException; {:try_start_15e .. :try_end_161} :catch_1b6
+    :try_end_15e
+    .catch Ljava/io/IOException; {:try_start_15b .. :try_end_15e} :catch_1ad
 
-    :cond_161
-    :goto_161
+    :cond_15e
+    :goto_15e
     throw v21
 
-    :cond_162
-    :try_start_162
+    :cond_15f
+    :try_start_15f
     invoke-interface {v7}, Ljava/util/List;->size()I
 
     move-result v21
@@ -478,28 +473,23 @@
 
     move/from16 v1, v23
 
-    if-ne v0, v1, :cond_17b
+    if-ne v0, v1, :cond_175
 
     monitor-exit v22
-    :try_end_171
-    .catchall {:try_start_162 .. :try_end_171} :catchall_1b3
+    :try_end_16e
+    .catchall {:try_start_15f .. :try_end_16e} :catchall_1aa
 
     if-eqz v4, :cond_3c
 
-    :try_start_173
+    :try_start_170
     invoke-virtual {v4}, Ljava/io/FileInputStream;->close()V
-    :try_end_176
-    .catch Ljava/io/IOException; {:try_start_173 .. :try_end_176} :catch_178
-
-    goto/16 :goto_3c
-
-    :catch_178
-    move-exception v21
+    :try_end_173
+    .catch Ljava/io/IOException; {:try_start_170 .. :try_end_173} :catch_82
 
     goto/16 :goto_3c
 
-    :cond_17b
-    :try_start_17b
+    :cond_175
+    :try_start_175
     invoke-interface {v7}, Ljava/util/List;->clear()V
 
     move-object/from16 v0, v18
@@ -543,40 +533,35 @@
     invoke-virtual {v0, v1}, Landroid/os/Handler;->post(Ljava/lang/Runnable;)Z
 
     monitor-exit v22
-    :try_end_1a9
-    .catchall {:try_start_17b .. :try_end_1a9} :catchall_1b3
+    :try_end_1a3
+    .catchall {:try_start_175 .. :try_end_1a3} :catchall_1aa
 
     if-eqz v4, :cond_3c
 
-    :try_start_1ab
+    :try_start_1a5
     invoke-virtual {v4}, Ljava/io/FileInputStream;->close()V
-    :try_end_1ae
-    .catch Ljava/io/IOException; {:try_start_1ab .. :try_end_1ae} :catch_1b0
+    :try_end_1a8
+    .catch Ljava/io/IOException; {:try_start_1a5 .. :try_end_1a8} :catch_82
 
     goto/16 :goto_3c
 
-    :catch_1b0
+    :catchall_1aa
     move-exception v21
 
-    goto/16 :goto_3c
-
-    :catchall_1b3
-    move-exception v21
-
-    :try_start_1b4
+    :try_start_1ab
     monitor-exit v22
-    :try_end_1b5
-    .catchall {:try_start_1b4 .. :try_end_1b5} :catchall_1b3
+    :try_end_1ac
+    .catchall {:try_start_1ab .. :try_end_1ac} :catchall_1aa
 
-    :try_start_1b5
+    :try_start_1ac
     throw v21
-    :try_end_1b6
-    .catchall {:try_start_1b5 .. :try_end_1b6} :catchall_15b
-    .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_1b5 .. :try_end_1b6} :catch_51
-    .catch Ljava/io/IOException; {:try_start_1b5 .. :try_end_1b6} :catch_ed
+    :try_end_1ad
+    .catchall {:try_start_1ac .. :try_end_1ad} :catchall_158
+    .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_1ac .. :try_end_1ad} :catch_51
+    .catch Ljava/io/IOException; {:try_start_1ac .. :try_end_1ad} :catch_ed
 
-    :catch_1b6
+    :catch_1ad
     move-exception v22
 
-    goto :goto_161
+    goto :goto_15e
 .end method
diff -Npru stock_framework/smali/android/widget/ActivityChooserModel$HistoryPersister.smali pdroid_framework/smali/android/widget/ActivityChooserModel$HistoryPersister.smali
--- stock_framework/smali/android/widget/ActivityChooserModel$HistoryPersister.smali	2012-07-02 22:51:58.763442057 -0700
+++ pdroid_framework/smali/android/widget/ActivityChooserModel$HistoryPersister.smali	2012-07-02 22:52:45.363607246 -0700
@@ -75,7 +75,7 @@
     :try_start_14
     monitor-exit v12
     :try_end_15
-    .catchall {:try_start_14 .. :try_end_15} :catchall_13d
+    .catchall {:try_start_14 .. :try_end_15} :catchall_136
 
     :try_start_15
     iget-object v11, p0, Landroid/widget/ActivityChooserModel$HistoryPersister;->this$0:Landroid/widget/ActivityChooserModel;
@@ -190,10 +190,10 @@
 
     invoke-interface {v10, v11, v12}, Lorg/xmlpull/v1/XmlSerializer;->endTag(Ljava/lang/String;Ljava/lang/String;)Lorg/xmlpull/v1/XmlSerializer;
     :try_end_7e
-    .catchall {:try_start_2b .. :try_end_7e} :catchall_134
+    .catchall {:try_start_2b .. :try_end_7e} :catchall_12d
     .catch Ljava/lang/IllegalArgumentException; {:try_start_2b .. :try_end_7e} :catch_b7
-    .catch Ljava/lang/IllegalStateException; {:try_start_2b .. :try_end_7e} :catch_e0
-    .catch Ljava/io/IOException; {:try_start_2b .. :try_end_7e} :catch_109
+    .catch Ljava/lang/IllegalStateException; {:try_start_2b .. :try_end_7e} :catch_de
+    .catch Ljava/io/IOException; {:try_start_2b .. :try_end_7e} :catch_105
 
     add-int/lit8 v2, v2, 0x1
 
@@ -258,10 +258,10 @@
 
     invoke-interface {v10}, Lorg/xmlpull/v1/XmlSerializer;->endDocument()V
     :try_end_af
-    .catchall {:try_start_a7 .. :try_end_af} :catchall_134
+    .catchall {:try_start_a7 .. :try_end_af} :catchall_12d
     .catch Ljava/lang/IllegalArgumentException; {:try_start_a7 .. :try_end_af} :catch_b7
-    .catch Ljava/lang/IllegalStateException; {:try_start_a7 .. :try_end_af} :catch_e0
-    .catch Ljava/io/IOException; {:try_start_a7 .. :try_end_af} :catch_109
+    .catch Ljava/lang/IllegalStateException; {:try_start_a7 .. :try_end_af} :catch_de
+    .catch Ljava/io/IOException; {:try_start_a7 .. :try_end_af} :catch_105
 
     if-eqz v1, :cond_a5
 
@@ -312,26 +312,21 @@
 
     invoke-static {v11, v12, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_d8
-    .catchall {:try_start_b8 .. :try_end_d8} :catchall_134
+    .catchall {:try_start_b8 .. :try_end_d8} :catchall_12d
 
     if-eqz v1, :cond_a5
 
     :try_start_da
     invoke-virtual {v1}, Ljava/io/FileOutputStream;->close()V
     :try_end_dd
-    .catch Ljava/io/IOException; {:try_start_da .. :try_end_dd} :catch_de
+    .catch Ljava/io/IOException; {:try_start_da .. :try_end_dd} :catch_b5
 
     goto :goto_a5
 
     :catch_de
-    move-exception v11
-
-    goto :goto_a5
-
-    :catch_e0
     move-exception v5
 
-    :try_start_e1
+    :try_start_df
     invoke-static {}, Landroid/widget/ActivityChooserModel;->access$1200()Ljava/lang/String;
 
     move-result-object v11
@@ -362,27 +357,22 @@
     move-result-object v12
 
     invoke-static {v11, v12, v5}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_101
-    .catchall {:try_start_e1 .. :try_end_101} :catchall_134
+    :try_end_ff
+    .catchall {:try_start_df .. :try_end_ff} :catchall_12d
 
     if-eqz v1, :cond_a5
 
-    :try_start_103
+    :try_start_101
     invoke-virtual {v1}, Ljava/io/FileOutputStream;->close()V
-    :try_end_106
-    .catch Ljava/io/IOException; {:try_start_103 .. :try_end_106} :catch_107
-
-    goto :goto_a5
-
-    :catch_107
-    move-exception v11
+    :try_end_104
+    .catch Ljava/io/IOException; {:try_start_101 .. :try_end_104} :catch_b5
 
     goto :goto_a5
 
-    :catch_109
+    :catch_105
     move-exception v4
 
-    :try_start_10a
+    :try_start_106
     invoke-static {}, Landroid/widget/ActivityChooserModel;->access$1200()Ljava/lang/String;
 
     move-result-object v11
@@ -413,43 +403,38 @@
     move-result-object v12
 
     invoke-static {v11, v12, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_12a
-    .catchall {:try_start_10a .. :try_end_12a} :catchall_134
+    :try_end_126
+    .catchall {:try_start_106 .. :try_end_126} :catchall_12d
 
     if-eqz v1, :cond_a5
 
-    :try_start_12c
+    :try_start_128
     invoke-virtual {v1}, Ljava/io/FileOutputStream;->close()V
-    :try_end_12f
-    .catch Ljava/io/IOException; {:try_start_12c .. :try_end_12f} :catch_131
-
-    goto/16 :goto_a5
-
-    :catch_131
-    move-exception v11
+    :try_end_12b
+    .catch Ljava/io/IOException; {:try_start_128 .. :try_end_12b} :catch_b5
 
     goto/16 :goto_a5
 
-    :catchall_134
+    :catchall_12d
     move-exception v11
 
-    if-eqz v1, :cond_13a
+    if-eqz v1, :cond_133
 
-    :try_start_137
+    :try_start_130
     invoke-virtual {v1}, Ljava/io/FileOutputStream;->close()V
-    :try_end_13a
-    .catch Ljava/io/IOException; {:try_start_137 .. :try_end_13a} :catch_13b
+    :try_end_133
+    .catch Ljava/io/IOException; {:try_start_130 .. :try_end_133} :catch_134
 
-    :cond_13a
-    :goto_13a
+    :cond_133
+    :goto_133
     throw v11
 
-    :catch_13b
+    :catch_134
     move-exception v12
 
-    goto :goto_13a
+    goto :goto_133
 
-    :catchall_13d
+    :catchall_136
     move-exception v11
 
     move-object v8, v9
diff -Npru stock_framework/smali/android/widget/Filter$RequestHandler.smali pdroid_framework/smali/android/widget/Filter$RequestHandler.smali
--- stock_framework/smali/android/widget/Filter$RequestHandler.smali	2012-07-02 22:51:58.954487832 -0700
+++ pdroid_framework/smali/android/widget/Filter$RequestHandler.smali	2012-07-02 22:52:45.609666201 -0700
@@ -36,7 +36,7 @@
 
     iget v4, p1, Landroid/os/Message;->what:I
 
-    sparse-switch v4, :sswitch_data_a8
+    sparse-switch v4, :sswitch_data_a4
 
     :goto_5
     return-void
@@ -57,7 +57,7 @@
 
     iput-object v5, v0, Landroid/widget/Filter$RequestArguments;->results:Landroid/widget/Filter$FilterResults;
     :try_end_14
-    .catchall {:try_start_a .. :try_end_14} :catchall_6e
+    .catchall {:try_start_a .. :try_end_14} :catchall_6b
     .catch Ljava/lang/Exception; {:try_start_a .. :try_end_14} :catch_4f
 
     iget-object v5, p0, Landroid/widget/Filter$RequestHandler;->this$0:Landroid/widget/Filter;
@@ -73,9 +73,9 @@
 
     iput-object v0, v3, Landroid/os/Message;->obj:Ljava/lang/Object;
 
+    :goto_20
     invoke-virtual {v3}, Landroid/os/Message;->sendToTarget()V
 
-    :goto_23
     iget-object v5, p0, Landroid/widget/Filter$RequestHandler;->this$0:Landroid/widget/Filter;
 
     #getter for: Landroid/widget/Filter;->mLock:Ljava/lang/Object;
@@ -149,7 +149,7 @@
 
     invoke-static {v5, v6, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
     :try_end_5e
-    .catchall {:try_start_50 .. :try_end_5e} :catchall_6e
+    .catchall {:try_start_50 .. :try_end_5e} :catchall_6b
 
     iget-object v5, p0, Landroid/widget/Filter$RequestHandler;->this$0:Landroid/widget/Filter;
 
@@ -164,11 +164,9 @@
 
     iput-object v0, v3, Landroid/os/Message;->obj:Ljava/lang/Object;
 
-    invoke-virtual {v3}, Landroid/os/Message;->sendToTarget()V
-
-    goto :goto_23
+    goto :goto_20
 
-    :catchall_6e
+    :catchall_6b
     move-exception v5
 
     iget-object v6, p0, Landroid/widget/Filter$RequestHandler;->this$0:Landroid/widget/Filter;
@@ -188,7 +186,7 @@
 
     throw v5
 
-    :sswitch_7f
+    :sswitch_7c
     iget-object v5, p0, Landroid/widget/Filter$RequestHandler;->this$0:Landroid/widget/Filter;
 
     #getter for: Landroid/widget/Filter;->mLock:Ljava/lang/Object;
@@ -198,7 +196,7 @@
 
     monitor-enter v6
 
-    :try_start_86
+    :try_start_83
     iget-object v5, p0, Landroid/widget/Filter$RequestHandler;->this$0:Landroid/widget/Filter;
 
     #getter for: Landroid/widget/Filter;->mThreadHandler:Landroid/os/Handler;
@@ -206,7 +204,7 @@
 
     move-result-object v5
 
-    if-eqz v5, :cond_a1
+    if-eqz v5, :cond_9e
 
     iget-object v5, p0, Landroid/widget/Filter$RequestHandler;->this$0:Landroid/widget/Filter;
 
@@ -228,25 +226,23 @@
     #setter for: Landroid/widget/Filter;->mThreadHandler:Landroid/os/Handler;
     invoke-static {v5, v7}, Landroid/widget/Filter;->access$402(Landroid/widget/Filter;Landroid/os/Handler;)Landroid/os/Handler;
 
-    :cond_a1
+    :cond_9e
     monitor-exit v6
 
     goto/16 :goto_5
 
-    :catchall_a4
+    :catchall_a1
     move-exception v5
 
     monitor-exit v6
-    :try_end_a6
-    .catchall {:try_start_86 .. :try_end_a6} :catchall_a4
+    :try_end_a3
+    .catchall {:try_start_83 .. :try_end_a3} :catchall_a1
 
     throw v5
 
-    nop
-
-    :sswitch_data_a8
+    :sswitch_data_a4
     .sparse-switch
         -0x2f2f0ff3 -> :sswitch_6
-        -0x21524111 -> :sswitch_7f
+        -0x21524111 -> :sswitch_7c
     .end sparse-switch
 .end method
diff -Npru stock_framework/smali/android/widget/GridView.smali pdroid_framework/smali/android/widget/GridView.smali
--- stock_framework/smali/android/widget/GridView.smali	2012-07-02 22:51:59.008500773 -0700
+++ pdroid_framework/smali/android/widget/GridView.smali	2012-07-02 22:52:45.674681779 -0700
@@ -4243,10 +4243,11 @@
 
     invoke-virtual/range {p0 .. p0}, Landroid/widget/GridView;->invokeOnItemScrollListener()V
     :try_end_22
-    .catchall {:try_start_e .. :try_end_22} :catchall_1c6
+    .catchall {:try_start_e .. :try_end_22} :catchall_1b5
 
     if-nez v3, :cond_2c
 
+    :goto_24
     const/16 v19, 0x0
 
     move/from16 v0, v19
@@ -4256,7 +4257,6 @@
     iput-boolean v0, v1, Landroid/widget/GridView;->mBlockLayoutRequests:Z
 
     :cond_2c
-    :goto_2c
     return-void
 
     :cond_2d
@@ -4317,7 +4317,7 @@
 
     move/from16 v19, v0
 
-    packed-switch v19, :pswitch_data_304
+    packed-switch v19, :pswitch_data_2f2
 
     move-object/from16 v0, p0
 
@@ -4372,28 +4372,17 @@
 
     move/from16 v19, v0
 
-    if-nez v19, :cond_d9
+    if-nez v19, :cond_d1
 
     invoke-virtual/range {p0 .. p0}, Landroid/widget/GridView;->resetList()V
 
     invoke-virtual/range {p0 .. p0}, Landroid/widget/GridView;->invokeOnItemScrollListener()V
-    :try_end_9e
-    .catchall {:try_start_2d .. :try_end_9e} :catchall_1c6
 
     if-nez v3, :cond_2c
 
-    const/16 v19, 0x0
-
-    move/from16 v0, v19
-
-    move-object/from16 v1, p0
-
-    iput-boolean v0, v1, Landroid/widget/GridView;->mBlockLayoutRequests:Z
+    goto :goto_24
 
-    goto :goto_2c
-
-    :pswitch_a9
-    :try_start_a9
+    :pswitch_a1
     move-object/from16 v0, p0
 
     iget v0, v0, Landroid/widget/GridView;->mNextSelectedPosition:I
@@ -4420,7 +4409,7 @@
 
     goto :goto_87
 
-    :pswitch_c2
+    :pswitch_ba
     move-object/from16 v0, p0
 
     iget v0, v0, Landroid/widget/GridView;->mNextSelectedPosition:I
@@ -4445,7 +4434,7 @@
 
     goto :goto_87
 
-    :cond_d9
+    :cond_d1
     move-object/from16 v0, p0
 
     iget v0, v0, Landroid/widget/GridView;->mNextSelectedPosition:I
@@ -4468,12 +4457,12 @@
 
     move-object/from16 v17, v0
 
-    if-eqz v8, :cond_109
+    if-eqz v8, :cond_101
 
     const/4 v11, 0x0
 
-    :goto_f3
-    if-ge v11, v5, :cond_10e
+    :goto_eb
+    if-ge v11, v5, :cond_106
 
     move-object/from16 v0, p0
 
@@ -4493,14 +4482,14 @@
 
     add-int/lit8 v11, v11, 0x1
 
-    goto :goto_f3
+    goto :goto_eb
 
-    :cond_109
+    :cond_101
     move-object/from16 v0, v17
 
     invoke-virtual {v0, v5, v10}, Landroid/widget/AbsListView$RecycleBin;->fillActiveViews(II)V
 
-    :cond_10e
+    :cond_106
     invoke-virtual/range {p0 .. p0}, Landroid/widget/GridView;->detachAllViewsFromParent()V
 
     move-object/from16 v0, p0
@@ -4509,9 +4498,9 @@
 
     move/from16 v19, v0
 
-    packed-switch v19, :pswitch_data_314
+    packed-switch v19, :pswitch_data_302
 
-    if-nez v5, :cond_24d
+    if-nez v5, :cond_23c
 
     move-object/from16 v0, p0
 
@@ -4519,7 +4508,7 @@
 
     move/from16 v19, v0
 
-    if-nez v19, :cond_223
+    if-nez v19, :cond_212
 
     move-object/from16 v0, p0
 
@@ -4527,18 +4516,18 @@
 
     move-object/from16 v19, v0
 
-    if-eqz v19, :cond_132
+    if-eqz v19, :cond_12a
 
     invoke-virtual/range {p0 .. p0}, Landroid/widget/GridView;->isInTouchMode()Z
 
     move-result v19
 
-    if-eqz v19, :cond_21f
+    if-eqz v19, :cond_20e
 
-    :cond_132
+    :cond_12a
     const/16 v19, -0x1
 
-    :goto_134
+    :goto_12c
     move-object/from16 v0, p0
 
     move/from16 v1, v19
@@ -4551,10 +4540,10 @@
 
     move-result-object v18
 
-    :goto_141
+    :goto_139
     invoke-virtual/range {v17 .. v17}, Landroid/widget/AbsListView$RecycleBin;->scrapActiveViews()V
 
-    if-eqz v18, :cond_2b3
+    if-eqz v18, :cond_2a2
 
     const/16 v19, -0x1
 
@@ -4576,8 +4565,8 @@
 
     iput v0, v1, Landroid/widget/GridView;->mSelectedTop:I
 
-    :cond_15b
-    :goto_15b
+    :cond_153
+    :goto_153
     const/16 v19, 0x0
 
     move/from16 v0, v19
@@ -4622,31 +4611,20 @@
 
     move/from16 v19, v0
 
-    if-lez v19, :cond_18e
+    if-lez v19, :cond_186
 
     invoke-virtual/range {p0 .. p0}, Landroid/widget/GridView;->checkSelectionChanged()V
 
-    :cond_18e
+    :cond_186
     invoke-virtual/range {p0 .. p0}, Landroid/widget/GridView;->invokeOnItemScrollListener()V
-    :try_end_191
-    .catchall {:try_start_a9 .. :try_end_191} :catchall_1c6
 
     if-nez v3, :cond_2c
 
-    const/16 v19, 0x0
+    goto/16 :goto_24
 
-    move/from16 v0, v19
+    :pswitch_18d
+    if-eqz v14, :cond_19c
 
-    move-object/from16 v1, p0
-
-    iput-boolean v0, v1, Landroid/widget/GridView;->mBlockLayoutRequests:Z
-
-    goto/16 :goto_2c
-
-    :pswitch_19d
-    if-eqz v14, :cond_1ac
-
-    :try_start_19f
     invoke-virtual {v14}, Landroid/view/View;->getTop()I
 
     move-result v19
@@ -4659,18 +4637,18 @@
 
     move-result-object v18
 
-    goto :goto_141
+    goto :goto_139
 
-    :cond_1ac
+    :cond_19c
     move-object/from16 v0, p0
 
     invoke-direct {v0, v7, v6}, Landroid/widget/GridView;->fillSelection(II)Landroid/view/View;
 
     move-result-object v18
 
-    goto :goto_141
+    goto :goto_139
 
-    :pswitch_1b3
+    :pswitch_1a3
     const/16 v19, 0x0
 
     move/from16 v0, v19
@@ -4686,15 +4664,15 @@
     move-result-object v18
 
     invoke-direct/range {p0 .. p0}, Landroid/widget/GridView;->adjustViewsUpOrDown()V
-    :try_end_1c4
-    .catchall {:try_start_19f .. :try_end_1c4} :catchall_1c6
+    :try_end_1b4
+    .catchall {:try_start_2d .. :try_end_1b4} :catchall_1b5
 
-    goto/16 :goto_141
+    goto :goto_139
 
-    :catchall_1c6
+    :catchall_1b5
     move-exception v19
 
-    if-nez v3, :cond_1d1
+    if-nez v3, :cond_1c0
 
     const/16 v20, 0x0
 
@@ -4704,11 +4682,11 @@
 
     iput-boolean v0, v1, Landroid/widget/GridView;->mBlockLayoutRequests:Z
 
-    :cond_1d1
+    :cond_1c0
     throw v19
 
-    :pswitch_1d2
-    :try_start_1d2
+    :pswitch_1c1
+    :try_start_1c1
     move-object/from16 v0, p0
 
     iget v0, v0, Landroid/widget/GridView;->mItemCount:I
@@ -4727,9 +4705,9 @@
 
     invoke-direct/range {p0 .. p0}, Landroid/widget/GridView;->adjustViewsUpOrDown()V
 
-    goto/16 :goto_141
+    goto/16 :goto_139
 
-    :pswitch_1e7
+    :pswitch_1d6
     move-object/from16 v0, p0
 
     iget v0, v0, Landroid/widget/GridView;->mSelectedPosition:I
@@ -4752,9 +4730,9 @@
 
     move-result-object v18
 
-    goto/16 :goto_141
+    goto/16 :goto_139
 
-    :pswitch_1ff
+    :pswitch_1ee
     move-object/from16 v0, p0
 
     iget v0, v0, Landroid/widget/GridView;->mSyncPosition:I
@@ -4777,23 +4755,23 @@
 
     move-result-object v18
 
-    goto/16 :goto_141
+    goto/16 :goto_139
 
-    :pswitch_217
+    :pswitch_206
     move-object/from16 v0, p0
 
     invoke-direct {v0, v9, v7, v6}, Landroid/widget/GridView;->moveSelection(III)Landroid/view/View;
 
     move-result-object v18
 
-    goto/16 :goto_141
+    goto/16 :goto_139
 
-    :cond_21f
+    :cond_20e
     const/16 v19, 0x0
 
-    goto/16 :goto_134
+    goto/16 :goto_12c
 
-    :cond_223
+    :cond_212
     move-object/from16 v0, p0
 
     iget v0, v0, Landroid/widget/GridView;->mItemCount:I
@@ -4808,18 +4786,18 @@
 
     move-object/from16 v19, v0
 
-    if-eqz v19, :cond_239
+    if-eqz v19, :cond_228
 
     invoke-virtual/range {p0 .. p0}, Landroid/widget/GridView;->isInTouchMode()Z
 
     move-result v19
 
-    if-eqz v19, :cond_24a
+    if-eqz v19, :cond_239
 
-    :cond_239
+    :cond_228
     const/16 v19, -0x1
 
-    :goto_23b
+    :goto_22a
     move-object/from16 v0, p0
 
     move/from16 v1, v19
@@ -4832,21 +4810,21 @@
 
     move-result-object v18
 
-    goto/16 :goto_141
+    goto/16 :goto_139
 
-    :cond_24a
+    :cond_239
     move/from16 v19, v13
 
-    goto :goto_23b
+    goto :goto_22a
 
-    :cond_24d
+    :cond_23c
     move-object/from16 v0, p0
 
     iget v0, v0, Landroid/widget/GridView;->mSelectedPosition:I
 
     move/from16 v19, v0
 
-    if-ltz v19, :cond_27e
+    if-ltz v19, :cond_26d
 
     move-object/from16 v0, p0
 
@@ -4864,7 +4842,7 @@
 
     move/from16 v1, v20
 
-    if-ge v0, v1, :cond_27e
+    if-ge v0, v1, :cond_26d
 
     move-object/from16 v0, p0
 
@@ -4872,9 +4850,9 @@
 
     move/from16 v19, v0
 
-    if-nez v16, :cond_279
+    if-nez v16, :cond_268
 
-    :goto_26f
+    :goto_25e
     move-object/from16 v0, p0
 
     move/from16 v1, v19
@@ -4883,16 +4861,16 @@
 
     move-result-object v18
 
-    goto/16 :goto_141
+    goto/16 :goto_139
 
-    :cond_279
+    :cond_268
     invoke-virtual/range {v16 .. v16}, Landroid/view/View;->getTop()I
 
     move-result v7
 
-    goto :goto_26f
+    goto :goto_25e
 
-    :cond_27e
+    :cond_26d
     move-object/from16 v0, p0
 
     iget v0, v0, Landroid/widget/GridView;->mFirstPosition:I
@@ -4909,7 +4887,7 @@
 
     move/from16 v1, v20
 
-    if-ge v0, v1, :cond_2a7
+    if-ge v0, v1, :cond_296
 
     move-object/from16 v0, p0
 
@@ -4917,9 +4895,9 @@
 
     move/from16 v19, v0
 
-    if-nez v15, :cond_2a2
+    if-nez v15, :cond_291
 
-    :goto_298
+    :goto_287
     move-object/from16 v0, p0
 
     move/from16 v1, v19
@@ -4928,16 +4906,16 @@
 
     move-result-object v18
 
-    goto/16 :goto_141
+    goto/16 :goto_139
 
-    :cond_2a2
+    :cond_291
     invoke-virtual {v15}, Landroid/view/View;->getTop()I
 
     move-result v7
 
-    goto :goto_298
+    goto :goto_287
 
-    :cond_2a7
+    :cond_296
     const/16 v19, 0x0
 
     move-object/from16 v0, p0
@@ -4948,16 +4926,16 @@
 
     move-result-object v18
 
-    goto/16 :goto_141
+    goto/16 :goto_139
 
-    :cond_2b3
+    :cond_2a2
     move-object/from16 v0, p0
 
     iget v0, v0, Landroid/widget/GridView;->mTouchMode:I
 
     move/from16 v19, v0
 
-    if-lez v19, :cond_2f0
+    if-lez v19, :cond_2df
 
     move-object/from16 v0, p0
 
@@ -4971,7 +4949,7 @@
 
     move/from16 v1, v20
 
-    if-ge v0, v1, :cond_2f0
+    if-ge v0, v1, :cond_2df
 
     move-object/from16 v0, p0
 
@@ -4995,7 +4973,7 @@
 
     move-result-object v4
 
-    if-eqz v4, :cond_15b
+    if-eqz v4, :cond_153
 
     move-object/from16 v0, p0
 
@@ -5009,9 +4987,9 @@
 
     invoke-virtual {v0, v1, v4}, Landroid/widget/GridView;->positionSelector(ILandroid/view/View;)V
 
-    goto/16 :goto_15b
+    goto/16 :goto_153
 
-    :cond_2f0
+    :cond_2df
     const/16 v19, 0x0
 
     move/from16 v0, v19
@@ -5027,31 +5005,29 @@
     move-object/from16 v19, v0
 
     invoke-virtual/range {v19 .. v19}, Landroid/graphics/Rect;->setEmpty()V
-    :try_end_301
-    .catchall {:try_start_1d2 .. :try_end_301} :catchall_1c6
-
-    goto/16 :goto_15b
+    :try_end_2f0
+    .catchall {:try_start_1c1 .. :try_end_2f0} :catchall_1b5
 
-    nop
+    goto/16 :goto_153
 
-    :pswitch_data_304
+    :pswitch_data_2f2
     .packed-switch 0x1
         :pswitch_87
-        :pswitch_a9
+        :pswitch_a1
         :pswitch_87
         :pswitch_87
         :pswitch_87
-        :pswitch_c2
+        :pswitch_ba
     .end packed-switch
 
-    :pswitch_data_314
+    :pswitch_data_302
     .packed-switch 0x1
-        :pswitch_1b3
-        :pswitch_19d
-        :pswitch_1d2
-        :pswitch_1e7
-        :pswitch_1ff
-        :pswitch_217
+        :pswitch_1a3
+        :pswitch_18d
+        :pswitch_1c1
+        :pswitch_1d6
+        :pswitch_1ee
+        :pswitch_206
     .end packed-switch
 .end method
 
diff -Npru stock_framework/smali/android/widget/ListView.smali pdroid_framework/smali/android/widget/ListView.smali
--- stock_framework/smali/android/widget/ListView.smali	2012-07-02 22:51:58.932482559 -0700
+++ pdroid_framework/smali/android/widget/ListView.smali	2012-07-02 22:52:45.574657812 -0700
@@ -6868,10 +6868,11 @@
 
     invoke-virtual/range {p0 .. p0}, Landroid/widget/ListView;->invokeOnItemScrollListener()V
     :try_end_1d
-    .catchall {:try_start_b .. :try_end_1d} :catchall_125
+    .catchall {:try_start_b .. :try_end_1d} :catchall_120
 
     if-nez v8, :cond_24
 
+    :goto_1f
     const/4 v2, 0x0
 
     move-object/from16 v0, p0
@@ -6879,7 +6880,6 @@
     iput-boolean v2, v0, Landroid/widget/ListView;->mBlockLayoutRequests:Z
 
     :cond_24
-    :goto_24
     return-void
 
     :cond_25
@@ -6936,7 +6936,7 @@
 
     iget v2, v0, Landroid/widget/ListView;->mLayoutMode:I
 
-    packed-switch v2, :pswitch_data_36e
+    packed-switch v2, :pswitch_data_364
 
     move-object/from16 v0, p0
 
@@ -7016,26 +7016,17 @@
 
     iget v2, v0, Landroid/widget/ListView;->mItemCount:I
 
-    if-nez v2, :cond_cc
+    if-nez v2, :cond_c7
 
     invoke-virtual/range {p0 .. p0}, Landroid/widget/ListView;->resetList()V
 
     invoke-virtual/range {p0 .. p0}, Landroid/widget/ListView;->invokeOnItemScrollListener()V
-    :try_end_a8
-    .catchall {:try_start_25 .. :try_end_a8} :catchall_125
 
     if-nez v8, :cond_24
 
-    const/4 v2, 0x0
-
-    move-object/from16 v0, p0
-
-    iput-boolean v2, v0, Landroid/widget/ListView;->mBlockLayoutRequests:Z
-
-    goto/16 :goto_24
+    goto/16 :goto_1f
 
-    :pswitch_b1
-    :try_start_b1
+    :pswitch_ac
     move-object/from16 v0, p0
 
     iget v2, v0, Landroid/widget/ListView;->mNextSelectedPosition:I
@@ -7064,7 +7055,7 @@
 
     goto :goto_93
 
-    :cond_cc
+    :cond_c7
     move-object/from16 v0, p0
 
     iget v2, v0, Landroid/widget/ListView;->mItemCount:I
@@ -7081,7 +7072,7 @@
 
     move/from16 v0, v24
 
-    if-eq v2, v0, :cond_131
+    if-eq v2, v0, :cond_12c
 
     new-instance v2, Ljava/lang/IllegalStateException;
 
@@ -7152,13 +7143,13 @@
     invoke-direct {v2, v0}, Ljava/lang/IllegalStateException;-><init>(Ljava/lang/String;)V
 
     throw v2
-    :try_end_125
-    .catchall {:try_start_b1 .. :try_end_125} :catchall_125
+    :try_end_120
+    .catchall {:try_start_25 .. :try_end_120} :catchall_120
 
-    :catchall_125
+    :catchall_120
     move-exception v2
 
-    if-nez v8, :cond_130
+    if-nez v8, :cond_12b
 
     const/16 v24, 0x0
 
@@ -7168,11 +7159,11 @@
 
     iput-boolean v0, v1, Landroid/widget/ListView;->mBlockLayoutRequests:Z
 
-    :cond_130
+    :cond_12b
     throw v2
 
-    :cond_131
-    :try_start_131
+    :cond_12c
+    :try_start_12c
     move-object/from16 v0, p0
 
     iget v2, v0, Landroid/widget/ListView;->mNextSelectedPosition:I
@@ -7193,14 +7184,14 @@
 
     const/4 v13, 0x0
 
-    if-eqz v11, :cond_161
+    if-eqz v11, :cond_15c
 
     const/16 v18, 0x0
 
-    :goto_149
+    :goto_144
     move/from16 v0, v18
 
-    if-ge v0, v10, :cond_166
+    if-ge v0, v10, :cond_161
 
     move-object/from16 v0, p0
 
@@ -7220,21 +7211,21 @@
 
     add-int/lit8 v18, v18, 0x1
 
-    goto :goto_149
+    goto :goto_144
 
-    :cond_161
+    :cond_15c
     move-object/from16 v0, v22
 
     invoke-virtual {v0, v10, v12}, Landroid/widget/AbsListView$RecycleBin;->fillActiveViews(II)V
 
-    :cond_166
+    :cond_161
     invoke-virtual/range {p0 .. p0}, Landroid/widget/ListView;->getFocusedChild()Landroid/view/View;
 
     move-result-object v17
 
-    if-eqz v17, :cond_186
+    if-eqz v17, :cond_181
 
-    if-eqz v11, :cond_178
+    if-eqz v11, :cond_173
 
     move-object/from16 v0, p0
 
@@ -7244,38 +7235,38 @@
 
     move-result v2
 
-    if-eqz v2, :cond_183
+    if-eqz v2, :cond_17e
 
-    :cond_178
+    :cond_173
     move-object/from16 v13, v17
 
     invoke-virtual/range {p0 .. p0}, Landroid/widget/ListView;->findFocus()Landroid/view/View;
 
     move-result-object v14
 
-    if-eqz v14, :cond_183
+    if-eqz v14, :cond_17e
 
     invoke-virtual {v14}, Landroid/view/View;->onStartTemporaryDetach()V
 
-    :cond_183
+    :cond_17e
     invoke-virtual/range {p0 .. p0}, Landroid/widget/ListView;->requestFocus()Z
 
-    :cond_186
+    :cond_181
     invoke-virtual/range {p0 .. p0}, Landroid/widget/ListView;->detachAllViewsFromParent()V
 
     move-object/from16 v0, p0
 
     iget v2, v0, Landroid/widget/ListView;->mLayoutMode:I
 
-    packed-switch v2, :pswitch_data_37c
+    packed-switch v2, :pswitch_data_372
 
-    if-nez v10, :cond_2ba
+    if-nez v10, :cond_2b0
 
     move-object/from16 v0, p0
 
     iget-boolean v2, v0, Landroid/widget/ListView;->mStackFromBottom:Z
 
-    if-nez v2, :cond_295
+    if-nez v2, :cond_28b
 
     const/4 v2, 0x0
 
@@ -7301,61 +7292,61 @@
 
     move-result-object v23
 
-    :goto_1b0
+    :goto_1ab
     invoke-virtual/range {v22 .. v22}, Landroid/widget/AbsListView$RecycleBin;->scrapActiveViews()V
 
-    if-eqz v23, :cond_327
+    if-eqz v23, :cond_31d
 
     move-object/from16 v0, p0
 
     iget-boolean v2, v0, Landroid/widget/ListView;->mItemsCanFocus:Z
 
-    if-eqz v2, :cond_31d
+    if-eqz v2, :cond_313
 
     invoke-virtual/range {p0 .. p0}, Landroid/widget/ListView;->hasFocus()Z
 
     move-result v2
 
-    if-eqz v2, :cond_31d
+    if-eqz v2, :cond_313
 
     invoke-virtual/range {v23 .. v23}, Landroid/view/View;->hasFocus()Z
 
     move-result v2
 
-    if-nez v2, :cond_31d
+    if-nez v2, :cond_313
 
     move-object/from16 v0, v23
 
-    if-ne v0, v13, :cond_1d1
+    if-ne v0, v13, :cond_1cc
 
     invoke-virtual {v14}, Landroid/view/View;->requestFocus()Z
 
     move-result v2
 
-    if-nez v2, :cond_1d7
+    if-nez v2, :cond_1d2
 
-    :cond_1d1
+    :cond_1cc
     invoke-virtual/range {v23 .. v23}, Landroid/view/View;->requestFocus()Z
 
     move-result v2
 
-    if-eqz v2, :cond_30b
+    if-eqz v2, :cond_301
 
-    :cond_1d7
+    :cond_1d2
     const/4 v15, 0x1
 
-    :goto_1d8
-    if-nez v15, :cond_30e
+    :goto_1d3
+    if-nez v15, :cond_304
 
     invoke-virtual/range {p0 .. p0}, Landroid/widget/ListView;->getFocusedChild()Landroid/view/View;
 
     move-result-object v16
 
-    if-eqz v16, :cond_1e3
+    if-eqz v16, :cond_1de
 
     invoke-virtual/range {v16 .. v16}, Landroid/view/View;->clearFocus()V
 
-    :cond_1e3
+    :cond_1de
     const/4 v2, -0x1
 
     move-object/from16 v0, p0
@@ -7364,7 +7355,7 @@
 
     invoke-virtual {v0, v2, v1}, Landroid/widget/ListView;->positionSelector(ILandroid/view/View;)V
 
-    :goto_1eb
+    :goto_1e6
     invoke-virtual/range {v23 .. v23}, Landroid/view/View;->getTop()I
 
     move-result v2
@@ -7373,19 +7364,19 @@
 
     iput v2, v0, Landroid/widget/ListView;->mSelectedTop:I
 
-    :cond_1f3
-    :goto_1f3
-    if-eqz v14, :cond_1fe
+    :cond_1ee
+    :goto_1ee
+    if-eqz v14, :cond_1f9
 
     invoke-virtual {v14}, Landroid/view/View;->getWindowToken()Landroid/os/IBinder;
 
     move-result-object v2
 
-    if-eqz v2, :cond_1fe
+    if-eqz v2, :cond_1f9
 
     invoke-virtual {v14}, Landroid/view/View;->onFinishTemporaryDetach()V
 
-    :cond_1fe
+    :cond_1f9
     const/4 v2, 0x0
 
     move-object/from16 v0, p0
@@ -7418,29 +7409,20 @@
 
     iget v2, v0, Landroid/widget/ListView;->mItemCount:I
 
-    if-lez v2, :cond_222
+    if-lez v2, :cond_21d
 
     invoke-virtual/range {p0 .. p0}, Landroid/widget/ListView;->checkSelectionChanged()V
 
-    :cond_222
+    :cond_21d
     invoke-virtual/range {p0 .. p0}, Landroid/widget/ListView;->invokeOnItemScrollListener()V
-    :try_end_225
-    .catchall {:try_start_131 .. :try_end_225} :catchall_125
 
     if-nez v8, :cond_24
 
-    const/4 v2, 0x0
-
-    move-object/from16 v0, p0
-
-    iput-boolean v2, v0, Landroid/widget/ListView;->mBlockLayoutRequests:Z
-
-    goto/16 :goto_24
+    goto/16 :goto_1f
 
-    :pswitch_22e
-    if-eqz v4, :cond_23c
+    :pswitch_224
+    if-eqz v4, :cond_232
 
-    :try_start_230
     invoke-virtual {v4}, Landroid/view/View;->getTop()I
 
     move-result v2
@@ -7451,18 +7433,18 @@
 
     move-result-object v23
 
-    goto/16 :goto_1b0
+    goto/16 :goto_1ab
 
-    :cond_23c
+    :cond_232
     move-object/from16 v0, p0
 
     invoke-direct {v0, v6, v7}, Landroid/widget/ListView;->fillFromMiddle(II)Landroid/view/View;
 
     move-result-object v23
 
-    goto/16 :goto_1b0
+    goto/16 :goto_1ab
 
-    :pswitch_244
+    :pswitch_23a
     move-object/from16 v0, p0
 
     iget v2, v0, Landroid/widget/ListView;->mSyncPosition:I
@@ -7481,9 +7463,9 @@
 
     move-result-object v23
 
-    goto/16 :goto_1b0
+    goto/16 :goto_1ab
 
-    :pswitch_258
+    :pswitch_24e
     move-object/from16 v0, p0
 
     iget v2, v0, Landroid/widget/ListView;->mItemCount:I
@@ -7498,9 +7480,9 @@
 
     invoke-direct/range {p0 .. p0}, Landroid/widget/ListView;->adjustViewsUpOrDown()V
 
-    goto/16 :goto_1b0
+    goto/16 :goto_1ab
 
-    :pswitch_269
+    :pswitch_25f
     const/4 v2, 0x0
 
     move-object/from16 v0, p0
@@ -7515,9 +7497,9 @@
 
     invoke-direct/range {p0 .. p0}, Landroid/widget/ListView;->adjustViewsUpOrDown()V
 
-    goto/16 :goto_1b0
+    goto/16 :goto_1ab
 
-    :pswitch_279
+    :pswitch_26f
     invoke-virtual/range {p0 .. p0}, Landroid/widget/ListView;->reconcileSelectedPosition()I
 
     move-result v2
@@ -7536,18 +7518,18 @@
 
     move-result-object v23
 
-    goto/16 :goto_1b0
+    goto/16 :goto_1ab
 
-    :pswitch_28d
+    :pswitch_283
     move-object/from16 v2, p0
 
     invoke-direct/range {v2 .. v7}, Landroid/widget/ListView;->moveSelection(Landroid/view/View;Landroid/view/View;III)Landroid/view/View;
 
     move-result-object v23
 
-    goto/16 :goto_1b0
+    goto/16 :goto_1ab
 
-    :cond_295
+    :cond_28b
     move-object/from16 v0, p0
 
     iget v2, v0, Landroid/widget/ListView;->mItemCount:I
@@ -7582,14 +7564,14 @@
 
     move-result-object v23
 
-    goto/16 :goto_1b0
+    goto/16 :goto_1ab
 
-    :cond_2ba
+    :cond_2b0
     move-object/from16 v0, p0
 
     iget v2, v0, Landroid/widget/ListView;->mSelectedPosition:I
 
-    if-ltz v2, :cond_2e1
+    if-ltz v2, :cond_2d7
 
     move-object/from16 v0, p0
 
@@ -7603,31 +7585,31 @@
 
     move/from16 v0, v24
 
-    if-ge v2, v0, :cond_2e1
+    if-ge v2, v0, :cond_2d7
 
     move-object/from16 v0, p0
 
     iget v2, v0, Landroid/widget/ListView;->mSelectedPosition:I
 
-    if-nez v3, :cond_2dc
+    if-nez v3, :cond_2d2
 
-    :goto_2d4
+    :goto_2ca
     move-object/from16 v0, p0
 
     invoke-direct {v0, v2, v6}, Landroid/widget/ListView;->fillSpecific(II)Landroid/view/View;
 
     move-result-object v23
 
-    goto/16 :goto_1b0
+    goto/16 :goto_1ab
 
-    :cond_2dc
+    :cond_2d2
     invoke-virtual {v3}, Landroid/view/View;->getTop()I
 
     move-result v6
 
-    goto :goto_2d4
+    goto :goto_2ca
 
-    :cond_2e1
+    :cond_2d7
     move-object/from16 v0, p0
 
     iget v2, v0, Landroid/widget/ListView;->mFirstPosition:I
@@ -7640,31 +7622,31 @@
 
     move/from16 v0, v24
 
-    if-ge v2, v0, :cond_302
+    if-ge v2, v0, :cond_2f8
 
     move-object/from16 v0, p0
 
     iget v2, v0, Landroid/widget/ListView;->mFirstPosition:I
 
-    if-nez v20, :cond_2fd
+    if-nez v20, :cond_2f3
 
-    :goto_2f5
+    :goto_2eb
     move-object/from16 v0, p0
 
     invoke-direct {v0, v2, v6}, Landroid/widget/ListView;->fillSpecific(II)Landroid/view/View;
 
     move-result-object v23
 
-    goto/16 :goto_1b0
+    goto/16 :goto_1ab
 
-    :cond_2fd
+    :cond_2f3
     invoke-virtual/range {v20 .. v20}, Landroid/view/View;->getTop()I
 
     move-result v6
 
-    goto :goto_2f5
+    goto :goto_2eb
 
-    :cond_302
+    :cond_2f8
     const/4 v2, 0x0
 
     move-object/from16 v0, p0
@@ -7673,14 +7655,14 @@
 
     move-result-object v23
 
-    goto/16 :goto_1b0
+    goto/16 :goto_1ab
 
-    :cond_30b
+    :cond_301
     const/4 v15, 0x0
 
-    goto/16 :goto_1d8
+    goto/16 :goto_1d3
 
-    :cond_30e
+    :cond_304
     const/4 v2, 0x0
 
     move-object/from16 v0, v23
@@ -7693,9 +7675,9 @@
 
     invoke-virtual {v2}, Landroid/graphics/Rect;->setEmpty()V
 
-    goto/16 :goto_1eb
+    goto/16 :goto_1e6
 
-    :cond_31d
+    :cond_313
     const/4 v2, -0x1
 
     move-object/from16 v0, p0
@@ -7704,14 +7686,14 @@
 
     invoke-virtual {v0, v2, v1}, Landroid/widget/ListView;->positionSelector(ILandroid/view/View;)V
 
-    goto/16 :goto_1eb
+    goto/16 :goto_1e6
 
-    :cond_327
+    :cond_31d
     move-object/from16 v0, p0
 
     iget v2, v0, Landroid/widget/ListView;->mTouchMode:I
 
-    if-lez v2, :cond_361
+    if-lez v2, :cond_357
 
     move-object/from16 v0, p0
 
@@ -7721,7 +7703,7 @@
 
     move/from16 v0, v24
 
-    if-ge v2, v0, :cond_361
+    if-ge v2, v0, :cond_357
 
     move-object/from16 v0, p0
 
@@ -7741,7 +7723,7 @@
 
     move-result-object v9
 
-    if-eqz v9, :cond_354
+    if-eqz v9, :cond_34a
 
     move-object/from16 v0, p0
 
@@ -7751,21 +7733,21 @@
 
     invoke-virtual {v0, v2, v9}, Landroid/widget/ListView;->positionSelector(ILandroid/view/View;)V
 
-    :cond_354
-    :goto_354
+    :cond_34a
+    :goto_34a
     invoke-virtual/range {p0 .. p0}, Landroid/widget/ListView;->hasFocus()Z
 
     move-result v2
 
-    if-eqz v2, :cond_1f3
+    if-eqz v2, :cond_1ee
 
-    if-eqz v14, :cond_1f3
+    if-eqz v14, :cond_1ee
 
     invoke-virtual {v14}, Landroid/view/View;->requestFocus()Z
 
-    goto/16 :goto_1f3
+    goto/16 :goto_1ee
 
-    :cond_361
+    :cond_357
     const/4 v2, 0x0
 
     move-object/from16 v0, p0
@@ -7777,28 +7759,28 @@
     iget-object v2, v0, Landroid/widget/ListView;->mSelectorRect:Landroid/graphics/Rect;
 
     invoke-virtual {v2}, Landroid/graphics/Rect;->setEmpty()V
-    :try_end_36d
-    .catchall {:try_start_230 .. :try_end_36d} :catchall_125
+    :try_end_363
+    .catchall {:try_start_12c .. :try_end_363} :catchall_120
 
-    goto :goto_354
+    goto :goto_34a
 
-    :pswitch_data_36e
+    :pswitch_data_364
     .packed-switch 0x1
         :pswitch_93
-        :pswitch_b1
+        :pswitch_ac
         :pswitch_93
         :pswitch_93
         :pswitch_93
     .end packed-switch
 
-    :pswitch_data_37c
+    :pswitch_data_372
     .packed-switch 0x1
-        :pswitch_269
-        :pswitch_22e
-        :pswitch_258
-        :pswitch_279
-        :pswitch_244
-        :pswitch_28d
+        :pswitch_25f
+        :pswitch_224
+        :pswitch_24e
+        :pswitch_26f
+        :pswitch_23a
+        :pswitch_283
     .end packed-switch
 .end method
 
diff -Npru stock_framework/smali/android/widget/TextView.smali pdroid_framework/smali/android/widget/TextView.smali
--- stock_framework/smali/android/widget/TextView.smali	2012-07-02 22:51:54.674462343 -0700
+++ pdroid_framework/smali/android/widget/TextView.smali	2012-07-02 22:52:40.082341893 -0700
@@ -5274,18 +5274,18 @@
     return v2
 
     :cond_b
-    sparse-switch p1, :sswitch_data_ec
+    sparse-switch p1, :sswitch_data_e8
 
     :cond_e
     iget-object v2, p0, Landroid/widget/TextView;->mInput:Landroid/text/method/KeyListener;
 
-    if-eqz v2, :cond_bb
+    if-eqz v2, :cond_b7
 
     invoke-virtual {p0}, Landroid/widget/TextView;->resetErrorChangedFlag()V
 
     const/4 v0, 0x1
 
-    if-eqz p3, :cond_97
+    if-eqz p3, :cond_9d
 
     :try_start_18
     invoke-virtual {p0}, Landroid/widget/TextView;->beginBatchEdit()V
@@ -5302,12 +5302,12 @@
 
     invoke-virtual {p0}, Landroid/widget/TextView;->hideErrorIfUnchanged()V
     :try_end_28
-    .catchall {:try_start_18 .. :try_end_28} :catchall_b6
-    .catch Ljava/lang/AbstractMethodError; {:try_start_18 .. :try_end_28} :catch_b1
+    .catchall {:try_start_18 .. :try_end_28} :catchall_94
+    .catch Ljava/lang/AbstractMethodError; {:try_start_18 .. :try_end_28} :catch_99
 
     const/4 v0, 0x0
 
-    if-eqz v1, :cond_94
+    if-eqz v1, :cond_9a
 
     invoke-virtual {p0}, Landroid/widget/TextView;->endBatchEdit()V
 
@@ -5433,12 +5433,21 @@
 
     goto/16 :goto_a
 
-    :cond_94
+    :catchall_94
+    move-exception v2
+
     invoke-virtual {p0}, Landroid/widget/TextView;->endBatchEdit()V
 
-    :cond_97
-    :goto_97
-    if-eqz v0, :cond_bb
+    throw v2
+
+    :catch_99
+    move-exception v2
+
+    :cond_9a
+    invoke-virtual {p0}, Landroid/widget/TextView;->endBatchEdit()V
+
+    :cond_9d
+    if-eqz v0, :cond_b7
 
     invoke-virtual {p0}, Landroid/widget/TextView;->beginBatchEdit()V
 
@@ -5456,40 +5465,26 @@
 
     invoke-virtual {p0}, Landroid/widget/TextView;->hideErrorIfUnchanged()V
 
-    if-eqz v1, :cond_bb
+    if-eqz v1, :cond_b7
 
     move v2, v5
 
     goto/16 :goto_a
 
-    :catch_b1
-    move-exception v2
-
-    invoke-virtual {p0}, Landroid/widget/TextView;->endBatchEdit()V
-
-    goto :goto_97
-
-    :catchall_b6
-    move-exception v2
-
-    invoke-virtual {p0}, Landroid/widget/TextView;->endBatchEdit()V
-
-    throw v2
-
-    :cond_bb
+    :cond_b7
     iget-object v2, p0, Landroid/widget/TextView;->mMovement:Landroid/text/method/MovementMethod;
 
-    if-eqz v2, :cond_e8
+    if-eqz v2, :cond_e4
 
     iget-object v2, p0, Landroid/widget/TextView;->mLayout:Landroid/text/Layout;
 
-    if-eqz v2, :cond_e8
+    if-eqz v2, :cond_e4
 
     const/4 v0, 0x1
 
-    if-eqz p3, :cond_d7
+    if-eqz p3, :cond_d3
 
-    :try_start_c6
+    :try_start_c2
     iget-object v5, p0, Landroid/widget/TextView;->mMovement:Landroid/text/method/MovementMethod;
 
     iget-object v2, p0, Landroid/widget/TextView;->mText:Ljava/lang/CharSequence;
@@ -5497,24 +5492,24 @@
     check-cast v2, Landroid/text/Spannable;
 
     invoke-interface {v5, p0, v2, p3}, Landroid/text/method/MovementMethod;->onKeyOther(Landroid/widget/TextView;Landroid/text/Spannable;Landroid/view/KeyEvent;)Z
-    :try_end_cf
-    .catch Ljava/lang/AbstractMethodError; {:try_start_c6 .. :try_end_cf} :catch_d6
+    :try_end_cb
+    .catch Ljava/lang/AbstractMethodError; {:try_start_c2 .. :try_end_cb} :catch_d2
 
     move-result v1
 
     const/4 v0, 0x0
 
-    if-eqz v1, :cond_d7
+    if-eqz v1, :cond_d3
 
     move v2, v4
 
     goto/16 :goto_a
 
-    :catch_d6
+    :catch_d2
     move-exception v2
 
-    :cond_d7
-    if-eqz v0, :cond_e8
+    :cond_d3
+    if-eqz v0, :cond_e4
 
     iget-object v4, p0, Landroid/widget/TextView;->mMovement:Landroid/text/method/MovementMethod;
 
@@ -5526,20 +5521,20 @@
 
     move-result v2
 
-    if-eqz v2, :cond_e8
+    if-eqz v2, :cond_e4
 
     const/4 v2, 0x2
 
     goto/16 :goto_a
 
-    :cond_e8
+    :cond_e4
     move v2, v3
 
     goto/16 :goto_a
 
     nop
 
-    :sswitch_data_ec
+    :sswitch_data_e8
     .sparse-switch
         0x4 -> :sswitch_8a
         0x17 -> :sswitch_68
diff -Npru stock_framework/smali/com/android/internal/os/BatteryStatsImpl.smali pdroid_framework/smali/com/android/internal/os/BatteryStatsImpl.smali
--- stock_framework/smali/com/android/internal/os/BatteryStatsImpl.smali	2012-07-02 22:51:59.602643130 -0700
+++ pdroid_framework/smali/com/android/internal/os/BatteryStatsImpl.smali	2012-07-02 22:52:46.535888117 -0700
@@ -4343,13 +4343,14 @@
 
     invoke-virtual {v3}, Lcom/android/internal/util/JournaledFile;->commit()V
     :try_end_30
-    .catchall {:try_start_10 .. :try_end_30} :catchall_52
+    .catchall {:try_start_10 .. :try_end_30} :catchall_4f
     .catch Ljava/io/IOException; {:try_start_10 .. :try_end_30} :catch_3c
 
     invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
 
     iget-object v3, p0, Lcom/android/internal/os/BatteryStatsImpl;->mWriteLock:Ljava/util/concurrent/locks/ReentrantLock;
 
+    :goto_35
     invoke-virtual {v3}, Ljava/util/concurrent/locks/ReentrantLock;->unlock()V
 
     goto :goto_9
@@ -4378,17 +4379,15 @@
 
     invoke-virtual {v3}, Lcom/android/internal/util/JournaledFile;->rollback()V
     :try_end_49
-    .catchall {:try_start_3d .. :try_end_49} :catchall_52
+    .catchall {:try_start_3d .. :try_end_49} :catchall_4f
 
     invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
 
     iget-object v3, p0, Lcom/android/internal/os/BatteryStatsImpl;->mWriteLock:Ljava/util/concurrent/locks/ReentrantLock;
 
-    invoke-virtual {v3}, Ljava/util/concurrent/locks/ReentrantLock;->unlock()V
-
-    goto :goto_9
+    goto :goto_35
 
-    :catchall_52
+    :catchall_4f
     move-exception v3
 
     invoke-virtual {v1}, Landroid/os/Parcel;->recycle()V
diff -Npru stock_framework/smali/com/android/internal/telephony/BaseCommands.smali pdroid_framework/smali/com/android/internal/telephony/BaseCommands.smali
--- stock_framework/smali/com/android/internal/telephony/BaseCommands.smali	2012-07-02 22:51:59.700666615 -0700
+++ pdroid_framework/smali/com/android/internal/telephony/BaseCommands.smali	2012-07-02 22:52:46.671920709 -0700
@@ -555,8 +555,8 @@
 
     invoke-direct {v6, v7}, Ljava/io/FileInputStream;-><init>(Ljava/lang/String;)V
     :try_end_a
-    .catchall {:try_start_3 .. :try_end_a} :catchall_5e
-    .catch Ljava/io/IOException; {:try_start_3 .. :try_end_a} :catch_3d
+    .catchall {:try_start_3 .. :try_end_a} :catchall_5b
+    .catch Ljava/io/IOException; {:try_start_3 .. :try_end_a} :catch_3a
 
     const/16 v7, 0x800
 
@@ -575,19 +575,21 @@
 
     invoke-direct {v2, v0, v7, v3}, Ljava/lang/String;-><init>([BII)V
     :try_end_1a
-    .catchall {:try_start_c .. :try_end_1a} :catchall_67
-    .catch Ljava/io/IOException; {:try_start_c .. :try_end_1a} :catch_6a
+    .catchall {:try_start_c .. :try_end_1a} :catchall_66
+    .catch Ljava/io/IOException; {:try_start_c .. :try_end_1a} :catch_69
 
     move-object v1, v2
 
     :cond_1b
-    if-eqz v6, :cond_6d
+    if-eqz v6, :cond_20
 
     :try_start_1d
     invoke-virtual {v6}, Ljava/io/FileInputStream;->close()V
     :try_end_20
-    .catch Ljava/io/IOException; {:try_start_1d .. :try_end_20} :catch_3a
+    .catch Ljava/io/IOException; {:try_start_1d .. :try_end_20} :catch_64
 
+    :cond_20
+    :goto_20
     move-object v5, v6
 
     :cond_21
@@ -617,17 +619,10 @@
     return-object v1
 
     :catch_3a
-    move-exception v7
-
-    move-object v5, v6
-
-    goto :goto_21
-
-    :catch_3d
     move-exception v4
 
-    :goto_3e
-    :try_start_3e
+    :goto_3b
+    :try_start_3b
     const-string v7, "RILB"
 
     new-instance v8, Ljava/lang/StringBuilder;
@@ -649,61 +644,61 @@
     move-result-object v8
 
     invoke-static {v7, v8}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
-    :try_end_56
-    .catchall {:try_start_3e .. :try_end_56} :catchall_5e
+    :try_end_53
+    .catchall {:try_start_3b .. :try_end_53} :catchall_5b
 
     if-eqz v5, :cond_21
 
-    :try_start_58
+    :try_start_55
     invoke-virtual {v5}, Ljava/io/FileInputStream;->close()V
-    :try_end_5b
-    .catch Ljava/io/IOException; {:try_start_58 .. :try_end_5b} :catch_5c
+    :try_end_58
+    .catch Ljava/io/IOException; {:try_start_55 .. :try_end_58} :catch_59
 
     goto :goto_21
 
-    :catch_5c
+    :catch_59
     move-exception v7
 
     goto :goto_21
 
-    :catchall_5e
+    :catchall_5b
     move-exception v7
 
-    :goto_5f
-    if-eqz v5, :cond_64
+    :goto_5c
+    if-eqz v5, :cond_61
 
-    :try_start_61
+    :try_start_5e
     invoke-virtual {v5}, Ljava/io/FileInputStream;->close()V
-    :try_end_64
-    .catch Ljava/io/IOException; {:try_start_61 .. :try_end_64} :catch_65
+    :try_end_61
+    .catch Ljava/io/IOException; {:try_start_5e .. :try_end_61} :catch_62
 
-    :cond_64
-    :goto_64
+    :cond_61
+    :goto_61
     throw v7
 
-    :catch_65
+    :catch_62
     move-exception v8
 
-    goto :goto_64
+    goto :goto_61
 
-    :catchall_67
+    :catch_64
     move-exception v7
 
-    move-object v5, v6
-
-    goto :goto_5f
+    goto :goto_20
 
-    :catch_6a
-    move-exception v4
+    :catchall_66
+    move-exception v7
 
     move-object v5, v6
 
-    goto :goto_3e
+    goto :goto_5c
+
+    :catch_69
+    move-exception v4
 
-    :cond_6d
     move-object v5, v6
 
-    goto :goto_21
+    goto :goto_3b
 .end method
 
 
diff -Npru stock_framework/smali/com/android/internal/telephony/cdma/EriManager.smali pdroid_framework/smali/com/android/internal/telephony/cdma/EriManager.smali
--- stock_framework/smali/com/android/internal/telephony/cdma/EriManager.smali	2012-07-02 22:52:00.461848995 -0700
+++ pdroid_framework/smali/com/android/internal/telephony/cdma/EriManager.smali	2012-07-02 22:52:47.711169705 -0700
@@ -666,8 +666,8 @@
 
     invoke-static {v2, v0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
     :try_end_34
-    .catch Ljava/io/FileNotFoundException; {:try_start_21 .. :try_end_34} :catch_20c
-    .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_21 .. :try_end_34} :catch_207
+    .catch Ljava/io/FileNotFoundException; {:try_start_21 .. :try_end_34} :catch_209
+    .catch Lorg/xmlpull/v1/XmlPullParserException; {:try_start_21 .. :try_end_34} :catch_204
 
     move-object/from16 v15, v16
 
@@ -872,7 +872,7 @@
     :try_start_f8
     invoke-virtual {v15}, Ljava/io/FileInputStream;->close()V
     :try_end_fb
-    .catch Ljava/io/IOException; {:try_start_f8 .. :try_end_fb} :catch_202
+    .catch Ljava/io/IOException; {:try_start_f8 .. :try_end_fb} :catch_15c
 
     :cond_fb
     :goto_fb
@@ -1058,7 +1058,7 @@
     :try_start_190
     invoke-virtual {v15}, Ljava/io/FileInputStream;->close()V
     :try_end_193
-    .catch Ljava/io/IOException; {:try_start_190 .. :try_end_193} :catch_205
+    .catch Ljava/io/IOException; {:try_start_190 .. :try_end_193} :catch_202
 
     :cond_193
     :goto_193
@@ -1184,23 +1184,18 @@
     goto/16 :goto_96
 
     :catch_202
-    move-exception v2
-
-    goto/16 :goto_fb
-
-    :catch_205
     move-exception v18
 
     goto :goto_193
 
-    :catch_207
+    :catch_204
     move-exception v9
 
     move-object/from16 v15, v16
 
     goto/16 :goto_10a
 
-    :catch_20c
+    :catch_209
     move-exception v9
 
     move-object/from16 v15, v16
diff -Npru stock_framework/smali/com/android/internal/telephony/IccRecords.smali pdroid_framework/smali/com/android/internal/telephony/IccRecords.smali
--- stock_framework/smali/com/android/internal/telephony/IccRecords.smali	2012-07-02 22:51:59.927721017 -0700
+++ pdroid_framework/smali/com/android/internal/telephony/IccRecords.smali	2012-07-02 22:52:47.043009619 -0700
@@ -260,7 +260,7 @@
 
     iget v3, p1, Landroid/os/Message;->what:I
 
-    packed-switch v3, :pswitch_data_70
+    packed-switch v3, :pswitch_data_6c
 
     invoke-super {p0, p1}, Landroid/os/Handler;->handleMessage(Landroid/os/Message;)V
 
@@ -327,7 +327,7 @@
 
     invoke-virtual {p0, v3}, Lcom/android/internal/telephony/IccRecords;->loge(Ljava/lang/String;)V
     :try_end_47
-    .catchall {:try_start_9 .. :try_end_47} :catchall_6a
+    .catchall {:try_start_9 .. :try_end_47} :catchall_67
     .catch Ljava/lang/RuntimeException; {:try_start_9 .. :try_end_47} :catch_4f
 
     :goto_47
@@ -339,7 +339,7 @@
     :try_start_4b
     invoke-interface {v2, v0}, Lcom/android/internal/telephony/IccRecords$IccRecordLoaded;->onRecordLoaded(Landroid/os/AsyncResult;)V
     :try_end_4e
-    .catchall {:try_start_4b .. :try_end_4e} :catchall_6a
+    .catchall {:try_start_4b .. :try_end_4e} :catchall_67
     .catch Ljava/lang/RuntimeException; {:try_start_4b .. :try_end_4e} :catch_4f
 
     goto :goto_47
@@ -368,22 +368,18 @@
 
     invoke-virtual {p0, v3}, Lcom/android/internal/telephony/IccRecords;->loge(Ljava/lang/String;)V
     :try_end_66
-    .catchall {:try_start_50 .. :try_end_66} :catchall_6a
+    .catchall {:try_start_50 .. :try_end_66} :catchall_67
 
-    invoke-virtual {p0}, Lcom/android/internal/telephony/IccRecords;->onRecordLoaded()V
-
-    goto :goto_8
+    goto :goto_47
 
-    :catchall_6a
+    :catchall_67
     move-exception v3
 
     invoke-virtual {p0}, Lcom/android/internal/telephony/IccRecords;->onRecordLoaded()V
 
     throw v3
 
-    nop
-
-    :pswitch_data_70
+    :pswitch_data_6c
     .packed-switch 0x64
         :pswitch_9
     .end packed-switch
diff -Npru stock_framework/smali/com/android/internal/telephony/SMSDispatcher.smali pdroid_framework/smali/com/android/internal/telephony/SMSDispatcher.smali
--- stock_framework/smali/com/android/internal/telephony/SMSDispatcher.smali	2012-07-02 22:52:00.094761041 -0700
+++ pdroid_framework/smali/com/android/internal/telephony/SMSDispatcher.smali	2012-07-02 22:52:47.231054673 -0700
@@ -1777,14 +1777,15 @@
 
     invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
     :try_end_9b
-    .catchall {:try_start_5 .. :try_end_9b} :catchall_1a2
-    .catch Landroid/database/SQLException; {:try_start_5 .. :try_end_9b} :catch_192
+    .catchall {:try_start_5 .. :try_end_9b} :catchall_19c
+    .catch Landroid/database/SQLException; {:try_start_5 .. :try_end_9b} :catch_18f
 
     :cond_9b
     const/4 v3, 0x1
 
     if-eqz v9, :cond_a1
 
+    :goto_9e
     invoke-interface {v9}, Landroid/database/Cursor;->close()V
 
     :cond_a1
@@ -1829,7 +1830,7 @@
 
     add-int/lit8 v3, p5, -0x1
 
-    if-eq v10, v3, :cond_130
+    if-eq v10, v3, :cond_12d
 
     new-instance v23, Landroid/content/ContentValues;
 
@@ -1919,20 +1920,14 @@
     move-object/from16 v0, v23
 
     invoke-virtual {v3, v4, v0}, Landroid/content/ContentResolver;->insert(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/net/Uri;
-    :try_end_128
-    .catchall {:try_start_a2 .. :try_end_128} :catchall_1a2
-    .catch Landroid/database/SQLException; {:try_start_a2 .. :try_end_128} :catch_192
 
     const/4 v3, 0x1
 
     if-eqz v9, :cond_a1
 
-    invoke-interface {v9}, Landroid/database/Cursor;->close()V
-
-    goto/16 :goto_a1
+    goto/16 :goto_9e
 
-    :cond_130
-    :try_start_130
+    :cond_12d
     move/from16 v0, p5
 
     new-array v0, v0, [[B
@@ -1941,8 +1936,8 @@
 
     const/4 v15, 0x0
 
-    :goto_137
-    if-ge v15, v10, :cond_161
+    :goto_134
+    if-ge v15, v10, :cond_15e
 
     invoke-interface {v9}, Landroid/database/Cursor;->moveToNext()Z
 
@@ -1952,11 +1947,11 @@
 
     move-result v11
 
-    if-nez p9, :cond_145
+    if-nez p9, :cond_142
 
     add-int/lit8 v11, v11, -0x1
 
-    :cond_145
+    :cond_142
     const/4 v3, 0x0
 
     invoke-interface {v9, v3}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
@@ -1969,7 +1964,7 @@
 
     aput-object v3, v20, v11
 
-    if-nez v11, :cond_15e
+    if-nez v11, :cond_15b
 
     const/4 v3, 0x2
 
@@ -1977,7 +1972,7 @@
 
     move-result v3
 
-    if-nez v3, :cond_15e
+    if-nez v3, :cond_15b
 
     const/4 v3, 0x2
 
@@ -1985,17 +1980,17 @@
 
     move-result p8
 
-    :cond_15e
+    :cond_15b
     add-int/lit8 v15, v15, 0x1
 
-    goto :goto_137
+    goto :goto_134
 
-    :cond_161
-    if-eqz p9, :cond_18d
+    :cond_15e
+    if-eqz p9, :cond_18a
 
     aput-object p1, v20, p4
 
-    :goto_165
+    :goto_162
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/SMSDispatcher;->mResolver:Landroid/content/ContentResolver;
@@ -2003,16 +1998,16 @@
     sget-object v4, Lcom/android/internal/telephony/SMSDispatcher;->mRawUri:Landroid/net/Uri;
 
     invoke-virtual {v3, v4, v6, v7}, Landroid/content/ContentResolver;->delete(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I
-    :try_end_16e
-    .catchall {:try_start_130 .. :try_end_16e} :catchall_1a2
-    .catch Landroid/database/SQLException; {:try_start_130 .. :try_end_16e} :catch_192
+    :try_end_16b
+    .catchall {:try_start_a2 .. :try_end_16b} :catchall_19c
+    .catch Landroid/database/SQLException; {:try_start_a2 .. :try_end_16b} :catch_18f
 
-    if-eqz v9, :cond_173
+    if-eqz v9, :cond_170
 
     invoke-interface {v9}, Landroid/database/Cursor;->close()V
 
-    :cond_173
-    if-eqz p9, :cond_1d1
+    :cond_170
+    if-eqz p9, :cond_1cb
 
     new-instance v19, Ljava/io/ByteArrayOutputStream;
 
@@ -2020,10 +2015,10 @@
 
     const/4 v15, 0x0
 
-    :goto_17b
+    :goto_178
     move/from16 v0, p5
 
-    if-ge v15, v0, :cond_1a9
+    if-ge v15, v0, :cond_1a3
 
     aget-object v3, v20, v15
 
@@ -2039,50 +2034,48 @@
 
     add-int/lit8 v15, v15, 0x1
 
-    goto :goto_17b
+    goto :goto_178
 
-    :cond_18d
+    :cond_18a
     add-int/lit8 v3, p4, -0x1
 
-    :try_start_18f
+    :try_start_18c
     aput-object p1, v20, v3
-    :try_end_191
-    .catchall {:try_start_18f .. :try_end_191} :catchall_1a2
-    .catch Landroid/database/SQLException; {:try_start_18f .. :try_end_191} :catch_192
+    :try_end_18e
+    .catchall {:try_start_18c .. :try_end_18e} :catchall_19c
+    .catch Landroid/database/SQLException; {:try_start_18c .. :try_end_18e} :catch_18f
 
-    goto :goto_165
+    goto :goto_162
 
-    :catch_192
+    :catch_18f
     move-exception v14
 
-    :try_start_193
+    :try_start_190
     const-string v3, "SMS"
 
     const-string v4, "Can\'t access multipart SMS database"
 
     invoke-static {v3, v4, v14}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
-    :try_end_19a
-    .catchall {:try_start_193 .. :try_end_19a} :catchall_1a2
+    :try_end_197
+    .catchall {:try_start_190 .. :try_end_197} :catchall_19c
 
     const/4 v3, 0x2
 
     if-eqz v9, :cond_a1
 
-    invoke-interface {v9}, Landroid/database/Cursor;->close()V
-
-    goto/16 :goto_a1
+    goto/16 :goto_9e
 
-    :catchall_1a2
+    :catchall_19c
     move-exception v3
 
-    if-eqz v9, :cond_1a8
+    if-eqz v9, :cond_1a2
 
     invoke-interface {v9}, Landroid/database/Cursor;->close()V
 
-    :cond_1a8
+    :cond_1a2
     throw v3
 
-    :cond_1a9
+    :cond_1a3
     invoke-virtual/range {v19 .. v19}, Ljava/io/ByteArrayOutputStream;->toByteArray()[B
 
     move-result-object v13
@@ -2091,7 +2084,7 @@
 
     move/from16 v0, p8
 
-    if-ne v0, v3, :cond_1bd
+    if-ne v0, v3, :cond_1b7
 
     move-object/from16 v0, p0
 
@@ -2103,7 +2096,7 @@
 
     goto/16 :goto_a1
 
-    :cond_1bd
+    :cond_1b7
     const/4 v3, 0x1
 
     new-array v0, v3, [[B
@@ -2126,18 +2119,18 @@
 
     goto/16 :goto_a1
 
-    :cond_1d1
+    :cond_1cb
     const/4 v3, -0x1
 
     move/from16 v0, p8
 
-    if-eq v0, v3, :cond_218
+    if-eq v0, v3, :cond_212
 
     const/16 v3, 0xb84
 
     move/from16 v0, p8
 
-    if-ne v0, v3, :cond_20c
+    if-ne v0, v3, :cond_206
 
     new-instance v19, Ljava/io/ByteArrayOutputStream;
 
@@ -2145,10 +2138,10 @@
 
     const/4 v15, 0x0
 
-    :goto_1e2
+    :goto_1dc
     move/from16 v0, p5
 
-    if-ge v15, v0, :cond_1fe
+    if-ge v15, v0, :cond_1f8
 
     aget-object v3, v20, v15
 
@@ -2174,9 +2167,9 @@
 
     add-int/lit8 v15, v15, 0x1
 
-    goto :goto_1e2
+    goto :goto_1dc
 
-    :cond_1fe
+    :cond_1f8
     move-object/from16 v0, p0
 
     iget-object v3, v0, Lcom/android/internal/telephony/SMSDispatcher;->mWapPush:Lcom/android/internal/telephony/WapPushOverSms;
@@ -2191,7 +2184,7 @@
 
     goto/16 :goto_a1
 
-    :cond_20c
+    :cond_206
     move-object/from16 v0, p0
 
     move-object/from16 v1, v20
@@ -2200,19 +2193,19 @@
 
     invoke-virtual {v0, v1, v2}, Lcom/android/internal/telephony/SMSDispatcher;->dispatchPortAddressedPdus([[BI)V
 
-    :goto_215
+    :goto_20f
     const/4 v3, -0x1
 
     goto/16 :goto_a1
 
-    :cond_218
+    :cond_212
     move-object/from16 v0, p0
 
     move-object/from16 v1, v20
 
     invoke-virtual {v0, v1}, Lcom/android/internal/telephony/SMSDispatcher;->dispatchPdus([[B)V
 
-    goto :goto_215
+    goto :goto_20f
 .end method
 
 .method protected abstract sendData(Ljava/lang/String;Ljava/lang/String;I[BLandroid/app/PendingIntent;Landroid/app/PendingIntent;)V
